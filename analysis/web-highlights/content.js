/*! For license information please see content.js.LICENSE.txt */
!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var i=t();for(var r in i)("object"==typeof exports?exports:e)[r]=i[r]}}(self,()=>(()=>{var e,t,i,r,o={155:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},186:function(e,t,i){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=r(i(4627)),n=i(3029),a=function(){function e(){}return e.sanitize=function(e,t){var i=function(){};t&&"function"==typeof t.urlSanitizer&&(i=t.urlSanitizer);var r=i(e);return"string"==typeof r?r:n.encodeLink(o.sanitize(e))},e}();t.OpLinkSanitizer=a},275:function(e,t,i){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=i(4171),n=i(1913),a=i(887),s=i(8840),l=i(886),c=i(3029),d=r(i(1439)),u=i(5289),h=i(1915),p="<br/>",g=function(){function e(e,t){var i;this.rawDeltaOps=[],this.callbacks={},this.options=d.assign({paragraphTag:"p",encodeHtml:!0,classPrefix:"ql",inlineStyles:!1,multiLineBlockquote:!0,multiLineHeader:!0,multiLineCodeblock:!0,multiLineParagraph:!0,multiLineCustomBlock:!0,allowBackgroundClasses:!1,linkTarget:"_blank"},t,{orderedListTag:"ol",bulletListTag:"ul",listItemTag:"li"}),i=this.options.inlineStyles?"object"==typeof this.options.inlineStyles?this.options.inlineStyles:{}:void 0,this.converterOptions={encodeHtml:this.options.encodeHtml,classPrefix:this.options.classPrefix,inlineStyles:i,listItemTag:this.options.listItemTag,paragraphTag:this.options.paragraphTag,linkRel:this.options.linkRel,linkTarget:this.options.linkTarget,allowBackgroundClasses:this.options.allowBackgroundClasses,customTag:this.options.customTag,customTagAttributes:this.options.customTagAttributes,customCssClasses:this.options.customCssClasses,customCssStyles:this.options.customCssStyles},this.rawDeltaOps=e}return e.prototype._getListTag=function(e){return e.isOrderedList()?this.options.orderedListTag+"":e.isBulletList()||e.isCheckedList()||e.isUncheckedList()?this.options.bulletListTag+"":""},e.prototype.getGroupedOps=function(){var e=o.InsertOpsConverter.convert(this.rawDeltaOps,this.options),t=a.Grouper.pairOpsWithTheirBlock(e),i=a.Grouper.groupConsecutiveSameStyleBlocks(t,{blockquotes:!!this.options.multiLineBlockquote,header:!!this.options.multiLineHeader,codeBlocks:!!this.options.multiLineCodeblock,customBlocks:!!this.options.multiLineCustomBlock}),r=a.Grouper.reduceConsecutiveSameStyleBlocksToOne(i);return r=(new h.TableGrouper).group(r),(new l.ListNester).nest(r)},e.prototype.convert=function(){var e=this;return this.getGroupedOps().map(function(t){if(t instanceof s.ListGroup)return e._renderWithCallbacks(u.GroupType.List,t,function(){return e._renderList(t)});if(t instanceof s.TableGroup)return e._renderWithCallbacks(u.GroupType.Table,t,function(){return e._renderTable(t)});if(t instanceof s.BlockGroup){var i=t;return e._renderWithCallbacks(u.GroupType.Block,t,function(){return e._renderBlock(i.op,i.ops)})}return t instanceof s.BlotBlock?e._renderCustom(t.op,null):t instanceof s.VideoItem?e._renderWithCallbacks(u.GroupType.Video,t,function(){var i=t;return new n.OpToHtmlConverter(i.op,e.converterOptions).getHtml()}):e._renderWithCallbacks(u.GroupType.InlineGroup,t,function(){return e._renderInlines(t.ops,!0)})}).join("")},e.prototype._renderWithCallbacks=function(e,t,i){var r="",o=this.callbacks.beforeRender_cb;(r="function"==typeof o?o.apply(null,[e,t]):"")||(r=i());var n=this.callbacks.afterRender_cb;return"function"==typeof n?n.apply(null,[e,r]):r},e.prototype._renderList=function(e){var t=this,i=e.items[0];return c.makeStartTag(this._getListTag(i.item.op))+e.items.map(function(e){return t._renderListItem(e)}).join("")+c.makeEndTag(this._getListTag(i.item.op))},e.prototype._renderListItem=function(e){e.item.op.attributes.indent=0;var t=new n.OpToHtmlConverter(e.item.op,this.converterOptions).getHtmlParts(),i=this._renderInlines(e.item.ops,!1);return t.openingTag+i+(e.innerList?this._renderList(e.innerList):"")+t.closingTag},e.prototype._renderTable=function(e){var t=this;return c.makeStartTag("table")+c.makeStartTag("tbody")+e.rows.map(function(e){return t._renderTableRow(e)}).join("")+c.makeEndTag("tbody")+c.makeEndTag("table")},e.prototype._renderTableRow=function(e){var t=this;return c.makeStartTag("tr")+e.cells.map(function(e){return t._renderTableCell(e)}).join("")+c.makeEndTag("tr")},e.prototype._renderTableCell=function(e){var t=new n.OpToHtmlConverter(e.item.op,this.converterOptions).getHtmlParts(),i=this._renderInlines(e.item.ops,!1);return c.makeStartTag("td",{key:"data-row",value:e.item.op.attributes.table})+t.openingTag+i+t.closingTag+c.makeEndTag("td")},e.prototype._renderBlock=function(e,t){var i=this,r=new n.OpToHtmlConverter(e,this.converterOptions).getHtmlParts();if(e.isCodeBlock())return r.openingTag+c.encodeHtml(t.map(function(t){return t.isCustomEmbed()?i._renderCustom(t,e):t.insert.value}).join(""))+r.closingTag;var o=t.map(function(t){return i._renderInline(t,e)}).join("");return r.openingTag+(o||p)+r.closingTag},e.prototype._renderInlines=function(e,t){var i=this;void 0===t&&(t=!0);var r=e.length-1,o=e.map(function(e,t){return t>0&&t===r&&e.isJustNewline()?"":i._renderInline(e,null)}).join("");if(!t)return o;var n=c.makeStartTag(this.options.paragraphTag),a=c.makeEndTag(this.options.paragraphTag);return o===p||this.options.multiLineParagraph?n+o+a:n+o.split(p).map(function(e){return""===e?p:e}).join(a+n)+a},e.prototype._renderInline=function(e,t){return e.isCustomEmbed()?this._renderCustom(e,t):new n.OpToHtmlConverter(e,this.converterOptions).getHtml().replace(/\n/g,p)},e.prototype._renderCustom=function(e,t){var i=this.callbacks.renderCustomOp_cb;return"function"==typeof i?i.apply(null,[e,t]):""},e.prototype.beforeRender=function(e){"function"==typeof e&&(this.callbacks.beforeRender_cb=e)},e.prototype.afterRender=function(e){"function"==typeof e&&(this.callbacks.afterRender_cb=e)},e.prototype.renderCustomWith=function(e){this.callbacks.renderCustomOp_cb=e},e}();t.QuillDeltaToHtmlConverter=g},402:(e,t,i)=>{var r=i(703);r&&r.__esModule&&(r=r.default),e.exports="string"==typeof r?r:r.toString()},547:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},581:(e,t,i)=>{var r=i(9261);e.exports=function(e,t){return e&&e.length&&t&&t.length?r(e,t):e}},703:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>s});var r=i(6758),o=i.n(r),n=i(935),a=i.n(n)()(o());a.push([e.id,":host{font-family:var(--wh-font-family)}.badge{background-color:var(--wh-subtle-gray);color:#fff;font-size:10px;border-radius:9999px;display:inline-flex;text-align:center;align-items:center;padding:0 5px;box-sizing:border-box;justify-content:center;height:14px}hr.divider{margin:10px auto;border:.5px solid var(--wh-border-base);width:100%}:host{position:fixed;z-index:99999;right:0;top:0;visibility:visible !important}.notification-wrapper{align-items:center;border-radius:5px;background-color:var(--wh-primary-color);margin:10px;-webkit-transform:translateX(calc(100% + 10px));transform:translateX(calc(100% + 10px));display:flex}.notification-wrapper.pdf-local-file-info{margin:0;background-color:var(--secondary-color-transparent)}.notification-wrapper .close-btn{cursor:pointer;background:none;border:none;color:var(--wh-text);display:flex;align-items:center;margin-right:5px}.notification-wrapper .close-btn:hover{transform:scale(1.1)}.notification-wrapper .close-btn .close-icon{color:var(--secondary-color)}.slide-left{-webkit-animation:slide-left .5s cubic-bezier(0.25, 0.46, 0.45, 0.94) both;animation:slide-left .5s cubic-bezier(0.25, 0.46, 0.45, 0.94) both}.slide-right{-webkit-animation:slide-right .3s cubic-bezier(0.25, 0.46, 0.45, 0.94) both;animation:slide-right .3s cubic-bezier(0.25, 0.46, 0.45, 0.94) both}@-webkit-keyframes slide-left{0%{-webkit-transform:translateX(calc(100% + 10px));transform:translateX(calc(100% + 10px))}100%{-webkit-transform:translateX(0);transform:translateX(0)}}@keyframes slide-left{0%{-webkit-transform:translateX(calc(100% + 10px));transform:translateX(calc(100% + 10px))}100%{-webkit-transform:translateX(0);transform:translateX(0)}}@-webkit-keyframes slide-right{0%{-webkit-transform:translateX(0);transform:translateX(0)}100%{-webkit-transform:translateX(calc(100% + 10px));transform:translateX(calc(100% + 10px))}}@keyframes slide-right{0%{-webkit-transform:translateX(0);transform:translateX(0)}100%{-webkit-transform:translateX(calc(100% + 10px));transform:translateX(calc(100% + 10px))}}",""]);const s=a},796:(e,t,i)=>{var r=i(7403),o=i(3316)(r);e.exports=o},886:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(8840),o=i(8735),n=function(){function e(){}return e.prototype.nest=function(e){var t=this,i=this.convertListBlocksToListGroups(e),n=this.groupConsecutiveListGroups(i),a=o.flatten(n.map(function(e){return Array.isArray(e)?t.nestListSection(e):e}));return o.groupConsecutiveElementsWhile(a,function(e,t){return e instanceof r.ListGroup&&t instanceof r.ListGroup&&e.items[0].item.op.isSameListAs(t.items[0].item.op)}).map(function(e){if(!Array.isArray(e))return e;var t=e.map(function(e){return e.items});return new r.ListGroup(o.flatten(t))})},e.prototype.convertListBlocksToListGroups=function(e){return o.groupConsecutiveElementsWhile(e,function(e,t){return e instanceof r.BlockGroup&&t instanceof r.BlockGroup&&e.op.isList()&&t.op.isList()&&e.op.isSameListAs(t.op)&&e.op.hasSameIndentationAs(t.op)}).map(function(e){return Array.isArray(e)?new r.ListGroup(e.map(function(e){return new r.ListItem(e)})):e instanceof r.BlockGroup&&e.op.isList()?new r.ListGroup([new r.ListItem(e)]):e})},e.prototype.groupConsecutiveListGroups=function(e){return o.groupConsecutiveElementsWhile(e,function(e,t){return e instanceof r.ListGroup&&t instanceof r.ListGroup})},e.prototype.nestListSection=function(e){var t=this,i=this.groupByIndent(e);return Object.keys(i).map(Number).sort().reverse().forEach(function(r){i[r].forEach(function(i){var r=e.indexOf(i);t.placeUnderParent(i,e.slice(0,r))&&e.splice(r,1)})}),e},e.prototype.groupByIndent=function(e){return e.reduce(function(e,t){var i=t.items[0].item.op.attributes.indent;return i&&(e[i]=e[i]||[],e[i].push(t)),e},{})},e.prototype.placeUnderParent=function(e,t){for(var i=t.length-1;i>=0;i--){var r=t[i];if(e.items[0].item.op.hasHigherIndentThan(r.items[0].item.op)){var o=r.items[r.items.length-1];return o.innerList?o.innerList.items=o.innerList.items.concat(e.items):o.innerList=e,!0}}return!1},e}();t.ListNester=n},887:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(4204),o=i(8735),n=i(8840),a=function(){function e(){}return e.pairOpsWithTheirBlock=function(e){for(var t,i=[],r=function(e){return!(e.isJustNewline()||e.isCustomEmbedBlock()||e.isVideo()||e.isContainerBlock())},a=function(e){return e.isInline()},s=e.length-1;s>=0;s--){var l=e[s];l.isVideo()?i.push(new n.VideoItem(l)):l.isCustomEmbedBlock()?i.push(new n.BlotBlock(l)):l.isContainerBlock()?(t=o.sliceFromReverseWhile(e,s-1,r),i.push(new n.BlockGroup(l,t.elements)),s=t.sliceStartsAt>-1?t.sliceStartsAt:s):(t=o.sliceFromReverseWhile(e,s-1,a),i.push(new n.InlineGroup(t.elements.concat(l))),s=t.sliceStartsAt>-1?t.sliceStartsAt:s)}return i.reverse(),i},e.groupConsecutiveSameStyleBlocks=function(t,i){return void 0===i&&(i={header:!0,codeBlocks:!0,blockquotes:!0,customBlocks:!0}),o.groupConsecutiveElementsWhile(t,function(t,r){return t instanceof n.BlockGroup&&r instanceof n.BlockGroup&&(i.codeBlocks&&e.areBothCodeblocksWithSameLang(t,r)||i.blockquotes&&e.areBothBlockquotesWithSameAdi(t,r)||i.header&&e.areBothSameHeadersWithSameAdi(t,r)||i.customBlocks&&e.areBothCustomBlockWithSameAttr(t,r))})},e.reduceConsecutiveSameStyleBlocksToOne=function(e){var t=r.DeltaInsertOp.createNewLineOp();return e.map(function(e){if(!Array.isArray(e))return e instanceof n.BlockGroup&&!e.ops.length&&e.ops.push(t),e;var i=e.length-1;return e[0].ops=o.flatten(e.map(function(e,r){return e.ops.length?e.ops.concat(r<i?[t]:[]):[t]})),e[0]})},e.areBothCodeblocksWithSameLang=function(e,t){return e.op.isCodeBlock()&&t.op.isCodeBlock()&&e.op.hasSameLangAs(t.op)},e.areBothSameHeadersWithSameAdi=function(e,t){return e.op.isSameHeaderAs(t.op)&&e.op.hasSameAdiAs(t.op)},e.areBothBlockquotesWithSameAdi=function(e,t){return e.op.isBlockquote()&&t.op.isBlockquote()&&e.op.hasSameAdiAs(t.op)},e.areBothCustomBlockWithSameAttr=function(e,t){return e.op.isCustomTextBlock()&&t.op.isCustomTextBlock()&&e.op.hasSameAttr(t.op)},e}();t.Grouper=a},927:(e,t,i)=>{const r=i(1580),o=i(3142),n=i(7426),a=i(5528),s=i(8227);function l(e,t){for(var i in e)if(Object.keys(t.block).includes(i))return!0;return!1}e.exports=function(e,t=a){return n(function(e,t){var i,n,a,c,d,u=new s;function h(){a=n=new s(["","\n"]),u.append(n),c={}}h();for(var p=0;p<e.length;p++){var g=e[p];if(r(g.insert))for(var f in g.insert)t.embed[f]&&(_(g.attributes),t.embed[f].call(a,g.insert[f],g.attributes));else{var m=g.insert.split("\n");if(l(g.attributes,t)){for(var b=1;b<m.length;b++)for(var y in g.attributes)if(t.block[y]){var v=t.block[y];"object"==typeof v&&(i&&i.type!==y&&(i=null),!i&&v.group&&(i={el:v.group(),type:y,value:g.attributes[f],distance:0},u.append(i.el)),i&&(i.el.append(n),i.distance=0),v=v.line),v.call(n,g.attributes,i),h();break}d=!0}else{for(var w=0;w<m.length;w++)(w>0||d)&&i&&++i.distance>=2&&(i=null),_(g.attributes,e[p+1]&&e[p+1].attributes),a.append(m[w]),w<m.length-1&&h();d=!1}}}return u;function _(e,i){var r=[],n=[];e=e||{};for(var l=a,d={};l._format;){if(d[l._format]=!0,!e[l._format]){for(var u in d)delete c[u];a=l.parent()}l=l.parent()}for(var h in e)if(t.inline[h]){if(c[h]&&c[h]===e[h])continue;i&&e[h]===i[h]?r.push(h):n.push(h),c[h]=e[h]}function p(i){var r=t.inline[i].call(null,e[i]);o(r)&&(r=new s(r)),r._format=i,a.append(r),a=r}r.forEach(p),n.forEach(p)}}(e,t).render())+"\n"}},935:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var i="",r=void 0!==t[5];return t[4]&&(i+="@supports (".concat(t[4],") {")),t[2]&&(i+="@media ".concat(t[2]," {")),r&&(i+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),i+=e(t),r&&(i+="}"),t[2]&&(i+="}"),t[4]&&(i+="}"),i}).join("")},t.i=function(e,i,r,o,n){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var c=0;c<e.length;c++){var d=[].concat(e[c]);r&&a[d[0]]||(void 0!==n&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=n),i&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=i):d[2]=i),o&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=o):d[4]="".concat(o)),t.push(d))}},t}},1073:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildRequestError=t.APIResponseError=t.UnknownHTTPResponseError=t.isHTTPResponseError=t.RequestTimeoutError=t.isNotionClientError=t.ClientErrorCode=t.APIErrorCode=void 0;const r=i(6745);var o,n;!function(e){e.Unauthorized="unauthorized",e.RestrictedResource="restricted_resource",e.ObjectNotFound="object_not_found",e.RateLimited="rate_limited",e.InvalidJSON="invalid_json",e.InvalidRequestURL="invalid_request_url",e.InvalidRequest="invalid_request",e.ValidationError="validation_error",e.ConflictError="conflict_error",e.InternalServerError="internal_server_error",e.ServiceUnavailable="service_unavailable"}(o=t.APIErrorCode||(t.APIErrorCode={})),function(e){e.RequestTimeout="notionhq_client_request_timeout",e.ResponseError="notionhq_client_response_error"}(n=t.ClientErrorCode||(t.ClientErrorCode={}));class a extends Error{}function s(e){return(0,r.isObject)(e)&&e instanceof a}function l(e,t){return s(e)&&e.code in t}t.isNotionClientError=s;class c extends a{constructor(e="Request to Notion API has timed out"){super(e),this.code=n.RequestTimeout,this.name="RequestTimeoutError"}static isRequestTimeoutError(e){return l(e,{[n.RequestTimeout]:!0})}static rejectAfterTimeout(e,t){return new Promise((i,r)=>{const o=setTimeout(()=>{r(new c)},t);e.then(i).catch(r).then(()=>clearTimeout(o))})}}t.RequestTimeoutError=c;class d extends a{constructor(e){super(e.message),this.name="HTTPResponseError";const{code:t,status:i,headers:r,rawBodyText:o}=e;this.code=t,this.status=i,this.headers=r,this.body=o}}const u={[n.ResponseError]:!0,[o.Unauthorized]:!0,[o.RestrictedResource]:!0,[o.ObjectNotFound]:!0,[o.RateLimited]:!0,[o.InvalidJSON]:!0,[o.InvalidRequestURL]:!0,[o.InvalidRequest]:!0,[o.ValidationError]:!0,[o.ConflictError]:!0,[o.InternalServerError]:!0,[o.ServiceUnavailable]:!0};t.isHTTPResponseError=function(e){return!!l(e,u)};class h extends d{constructor(e){var t;super({...e,code:n.ResponseError,message:null!==(t=e.message)&&void 0!==t?t:`Request to Notion API failed with status: ${e.status}`}),this.name="UnknownHTTPResponseError"}static isUnknownHTTPResponseError(e){return l(e,{[n.ResponseError]:!0})}}t.UnknownHTTPResponseError=h;const p={[o.Unauthorized]:!0,[o.RestrictedResource]:!0,[o.ObjectNotFound]:!0,[o.RateLimited]:!0,[o.InvalidJSON]:!0,[o.InvalidRequestURL]:!0,[o.InvalidRequest]:!0,[o.ValidationError]:!0,[o.ConflictError]:!0,[o.InternalServerError]:!0,[o.ServiceUnavailable]:!0};class g extends d{constructor(){super(...arguments),this.name="APIResponseError"}static isAPIResponseError(e){return l(e,p)}}t.APIResponseError=g,t.buildRequestError=function(e,t){const i=function(e){if("string"!=typeof e)return;let t;try{t=JSON.parse(e)}catch(e){return}var i;return(0,r.isObject)(t)&&"string"==typeof t.message&&("string"==typeof(i=t.code)&&i in p)?{...t,code:t.code,message:t.message}:void 0}(t);return void 0!==i?new g({code:i.code,message:i.message,headers:e.headers,status:e.status,rawBodyText:t}):new h({message:void 0,headers:e.headers,status:e.status,rawBodyText:t})}},1187:(e,t,i)=>{var r=i(7379),o=i(547);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},1219:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>s});var r=i(6758),o=i.n(r),n=i(935),a=i.n(n)()(o());a.push([e.id,":host{color:#fff;max-width:240px;padding:10px}",""]);const s=a},1365:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>s});var r=i(6758),o=i.n(r),n=i(935),a=i.n(n)()(o());a.push([e.id,":host{font-family:var(--wh-font-family)}.badge{background-color:var(--wh-subtle-gray);color:#fff;font-size:10px;border-radius:9999px;display:inline-flex;text-align:center;align-items:center;padding:0 5px;box-sizing:border-box;justify-content:center;height:14px}hr.divider{margin:10px auto;border:.5px solid var(--wh-border-base);width:100%}:host{width:100vw;height:100vh;font-family:var(--font-family);display:flex;overflow:auto}.pdf-info-container{padding:60px 80px 40px 80px;background-color:var(--wh-bg-base);border:3px solid var(--wh-primary-color);margin:auto;display:flex;flex-wrap:wrap;justify-content:center;align-items:center;color:#fff;width:80vw;border-radius:10px}.pdf-info-container .headline{font-size:26px;text-align:center}.pdf-info-container .sub-headline{margin-top:10px}.pdf-info-container .sub-headline a{color:var(--wh-primary-color)}.pdf-info-container .explanation-container{display:flex;flex-wrap:wrap;margin-top:40px;background-color:var(--secondary-light);border-radius:5px;padding:20px}.pdf-info-container .explanation-container .explanation{display:flex;justify-content:space-around}.pdf-info-container .explanation-container .explanation .left{width:30%}.pdf-info-container .explanation-container .explanation .left .manage-extension{width:100%;margin-bottom:40px}.pdf-info-container .explanation-container .explanation .right{width:60%;display:flex;justify-content:center}.pdf-info-container .explanation-container .explanation .right .allow-local-files{width:600px;max-width:100%}.pdf-info-container .explanation-container .explanation-text{width:100%;font-size:18px;line-height:22px}",""]);const s=a},1366:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(5289),o=i(2229),n=i(8735),a=i(186),s=function(){function e(){}return e.sanitize=function(t,i){var s={};if(!t||"object"!=typeof t)return s;var l=["bold","italic","underline","strike","code","blockquote","code-block","renderAsBlock"],c=["background","color"],d=t.font,u=t.size,h=t.link,p=t.script,g=t.list,f=t.header,m=t.align,b=t.direction,y=t.indent,v=t.mentions,w=t.mention,_=t.width,T=t.target,A=t.rel,E=t["code-block"],k=l.concat(c,["font","size","link","script","list","header","align","direction","indent","mentions","mention","width","target","rel","code-block"]);if(l.forEach(function(e){var i=t[e];i&&(s[e]=!!i)}),c.forEach(function(i){var r=t[i];r&&(e.IsValidHexColor(r+"")||e.IsValidColorLiteral(r+"")||e.IsValidRGBColor(r+""))&&(s[i]=r)}),d&&e.IsValidFontName(d+"")&&(s.font=d),u&&e.IsValidSize(u+"")&&(s.size=u),_&&e.IsValidWidth(_+"")&&(s.width=_),h&&(s.link=a.OpLinkSanitizer.sanitize(h+"",i)),T&&e.isValidTarget(T)&&(s.target=T),A&&e.IsValidRel(A)&&(s.rel=A),E&&(e.IsValidLang(E)?s["code-block"]=E:s["code-block"]=!!E),p!==r.ScriptType.Sub&&r.ScriptType.Super!==p||(s.script=p),g!==r.ListType.Bullet&&g!==r.ListType.Ordered&&g!==r.ListType.Checked&&g!==r.ListType.Unchecked||(s.list=g),Number(f)&&(s.header=Math.min(Number(f),6)),n.find([r.AlignType.Center,r.AlignType.Right,r.AlignType.Justify,r.AlignType.Left],function(e){return e===m})&&(s.align=m),b===r.DirectionType.Rtl&&(s.direction=b),y&&Number(y)&&(s.indent=Math.min(Number(y),30)),v&&w){var S=o.MentionSanitizer.sanitize(w,i);Object.keys(S).length>0&&(s.mentions=!!v,s.mention=w)}return Object.keys(t).reduce(function(e,i){return-1===k.indexOf(i)&&(e[i]=t[i]),e},s)},e.IsValidHexColor=function(e){return!!e.match(/^#([0-9A-F]{6}|[0-9A-F]{3})$/i)},e.IsValidColorLiteral=function(e){return!!e.match(/^[a-z]{1,50}$/i)},e.IsValidRGBColor=function(e){return!!e.match(/^rgb\(((0|25[0-5]|2[0-4]\d|1\d\d|0?\d?\d),\s*){2}(0|25[0-5]|2[0-4]\d|1\d\d|0?\d?\d)\)$/i)},e.IsValidFontName=function(e){return!!e.match(/^[a-z\s0-9\- ]{1,30}$/i)},e.IsValidSize=function(e){return!!e.match(/^[a-z0-9\-]{1,20}$/i)},e.IsValidWidth=function(e){return!!e.match(/^[0-9]*(px|em|%)?$/)},e.isValidTarget=function(e){return!!e.match(/^[_a-zA-Z0-9\-]{1,50}$/)},e.IsValidRel=function(e){return!!e.match(/^[a-zA-Z\s\-]{1,250}$/i)},e.IsValidLang=function(e){return"boolean"==typeof e||!!e.match(/^[a-zA-Z\s\-\\\/\+]{1,50}$/i)},e}();t.OpAttributeSanitizer=s},1439:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assign=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),o=0;o<t.length;o++){var n=t[o];if(null!=n)for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r}},1580:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},1913:function(e,t,i){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=i(3029),n=i(5289),a=r(i(1439)),s=r(i(8735)),l=i(1366),c={serif:"font-family: Georgia, Times New Roman, serif",monospace:"font-family: Monaco, Courier New, monospace"};t.DEFAULT_INLINE_STYLES={font:function(e){return c[e]||"font-family:"+e},size:{small:"font-size: 0.75em",large:"font-size: 1.5em",huge:"font-size: 2.5em"},indent:function(e,t){var i=3*parseInt(e,10);return"padding-"+("rtl"===t.attributes.direction?"right":"left")+":"+i+"em"},direction:function(e,t){return"rtl"===e?"direction:rtl"+(t.attributes.align?"":"; text-align:inherit"):void 0}};var d=function(){function e(e,t){this.op=e,this.options=a.assign({},{classPrefix:"ql",inlineStyles:void 0,encodeHtml:!0,listItemTag:"li",paragraphTag:"p"},t)}return e.prototype.prefixClass=function(e){return this.options.classPrefix?this.options.classPrefix+"-"+e:e+""},e.prototype.getHtml=function(){var e=this.getHtmlParts();return e.openingTag+e.content+e.closingTag},e.prototype.getHtmlParts=function(){var e=this;if(this.op.isJustNewline()&&!this.op.isContainerBlock())return{openingTag:"",closingTag:"",content:n.NewLine};var t=this.getTags(),i=this.getTagAttributes();!t.length&&i.length&&t.push("span");for(var r=[],a=[],s=function(t){return"img"===t&&!!e.op.attributes.link},l=0,c=t;l<c.length;l++){var d=c[l];s(d)&&r.push(o.makeStartTag("a",this.getLinkAttrs())),r.push(o.makeStartTag(d,i)),a.push("img"===d?"":o.makeEndTag(d)),s(d)&&a.push(o.makeEndTag("a")),i=[]}return a.reverse(),{openingTag:r.join(""),content:this.getContent(),closingTag:a.join("")}},e.prototype.getContent=function(){if(this.op.isContainerBlock())return"";if(this.op.isMentions())return this.op.insert.value;var e=this.op.isFormula()||this.op.isText()?this.op.insert.value:"";return this.options.encodeHtml&&o.encodeHtml(e)||e},e.prototype.getCssClasses=function(){var e=this.op.attributes;if(this.options.inlineStyles)return[];var t=["indent","align","direction","font","size"];return this.options.allowBackgroundClasses&&t.push("background"),(this.getCustomCssClasses()||[]).concat(t.filter(function(t){return!!e[t]}).filter(function(t){return"background"!==t||l.OpAttributeSanitizer.IsValidColorLiteral(e[t])}).map(function(t){return t+"-"+e[t]}).concat(this.op.isFormula()?"formula":[]).concat(this.op.isVideo()?"video":[]).concat(this.op.isImage()?"image":[]).map(this.prefixClass.bind(this)))},e.prototype.getCssStyles=function(){var e=this,i=this.op.attributes,r=[["color"]];return!this.options.inlineStyles&&this.options.allowBackgroundClasses||r.push(["background","background-color"]),this.options.inlineStyles&&(r=r.concat([["indent"],["align","text-align"],["direction"],["font","font-family"],["size"]])),(this.getCustomCssStyles()||[]).concat(r.filter(function(e){return!!i[e[0]]}).map(function(r){var o=r[0],n=i[o],a=e.options.inlineStyles&&e.options.inlineStyles[o]||t.DEFAULT_INLINE_STYLES[o];return"object"==typeof a?a[n]:"function"==typeof a?a(n,e.op):s.preferSecond(r)+":"+n})).filter(function(e){return void 0!==e})},e.prototype.getTagAttributes=function(){if(this.op.attributes.code&&!this.op.isLink())return[];var e=this.makeAttr.bind(this),t=this.getCustomTagAttributes(),i=t?Object.keys(this.getCustomTagAttributes()).map(function(i){return e(i,t[i])}):[],r=this.getCssClasses(),o=r.length?i.concat([e("class",r.join(" "))]):i;if(this.op.isImage())return this.op.attributes.width&&(o=o.concat(e("width",this.op.attributes.width))),o.concat(e("src",this.op.insert.value));if(this.op.isACheckList())return o.concat(e("data-checked",this.op.isCheckedList()?"true":"false"));if(this.op.isFormula())return o;if(this.op.isVideo())return o.concat(e("frameborder","0"),e("allowfullscreen","true"),e("src",this.op.insert.value));if(this.op.isMentions()){var n=this.op.attributes.mention;return n.class&&(o=o.concat(e("class",n.class))),o=n["end-point"]&&n.slug?o.concat(e("href",n["end-point"]+"/"+n.slug)):o.concat(e("href","about:blank")),n.target&&(o=o.concat(e("target",n.target))),o}var a=this.getCssStyles();return a.length&&o.push(e("style",a.join(";"))),this.op.isCodeBlock()&&"string"==typeof this.op.attributes["code-block"]?o.concat(e("data-language",this.op.attributes["code-block"])):(this.op.isContainerBlock()||this.op.isLink()&&(o=o.concat(this.getLinkAttrs())),o)},e.prototype.makeAttr=function(e,t){return{key:e,value:t}},e.prototype.getLinkAttrs=function(){var e=l.OpAttributeSanitizer.isValidTarget(this.options.linkTarget||"")?this.options.linkTarget:void 0,t=l.OpAttributeSanitizer.IsValidRel(this.options.linkRel||"")?this.options.linkRel:void 0,i=this.op.attributes.target||e,r=this.op.attributes.rel||t;return[].concat(this.makeAttr("href",this.op.attributes.link)).concat(i?this.makeAttr("target",i):[]).concat(r?this.makeAttr("rel",r):[])},e.prototype.getCustomTag=function(e){if(this.options.customTag&&"function"==typeof this.options.customTag)return this.options.customTag.apply(null,[e,this.op])},e.prototype.getCustomTagAttributes=function(){if(this.options.customTagAttributes&&"function"==typeof this.options.customTagAttributes)return this.options.customTagAttributes.apply(null,[this.op])},e.prototype.getCustomCssClasses=function(){if(this.options.customCssClasses&&"function"==typeof this.options.customCssClasses){var e=this.options.customCssClasses.apply(null,[this.op]);if(e)return Array.isArray(e)?e:[e]}},e.prototype.getCustomCssStyles=function(){if(this.options.customCssStyles&&"function"==typeof this.options.customCssStyles){var e=this.options.customCssStyles.apply(null,[this.op]);if(e)return Array.isArray(e)?e:[e]}},e.prototype.getTags=function(){var e=this,t=this.op.attributes;if(!this.op.isText())return[this.op.isVideo()?"iframe":this.op.isImage()?"img":"span"];for(var i=this.options.paragraphTag||"p",r=0,o=[["blockquote"],["code-block","pre"],["list",this.options.listItemTag],["header"],["align",i],["direction",i],["indent",i]];r<o.length;r++){var a,l=o[r],c=l[0];if(t[c])return(a=this.getCustomTag(c))?[a]:"header"===c?["h"+t[c]]:[s.preferSecond(l)]}if(this.op.isCustomTextBlock())return(a=this.getCustomTag("renderAsBlock"))?[a]:[i];var d=Object.keys(t).reduce(function(t,i){var r=e.getCustomTag(i);return r&&(t[i]=r),t},{}),u=[["link","a"],["mentions","a"],["script"],["bold","strong"],["italic","em"],["strike","s"],["underline","u"],["code"]];return u.filter(function(e){return!!t[e[0]]}).concat(Object.keys(d).filter(function(e){return!u.some(function(t){return t[0]==e})}).map(function(e){return[e,d[e]]})).map(function(e){return d[e[0]]?d[e[0]]:"script"===e[0]?t[e[0]]===n.ScriptType.Sub?"sub":"sup":s.preferSecond(e)})},e}();t.OpToHtmlConverter=d},1915:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(8840),o=i(8735),n=function(){function e(){}return e.prototype.group=function(e){return this.convertTableBlocksToTableGroups(e)},e.prototype.convertTableBlocksToTableGroups=function(e){var t=this;return o.groupConsecutiveElementsWhile(e,function(e,t){return e instanceof r.BlockGroup&&t instanceof r.BlockGroup&&e.op.isTable()&&t.op.isTable()}).map(function(e){return Array.isArray(e)?new r.TableGroup(t.convertTableBlocksToTableRows(e)):e instanceof r.BlockGroup&&e.op.isTable()?new r.TableGroup([new r.TableRow([new r.TableCell(e)])]):e})},e.prototype.convertTableBlocksToTableRows=function(e){return o.groupConsecutiveElementsWhile(e,function(e,t){return e instanceof r.BlockGroup&&t instanceof r.BlockGroup&&e.op.isTable()&&t.op.isTable()&&e.op.isSameTableRowAs(t.op)}).map(function(e){return new r.TableRow(Array.isArray(e)?e.map(function(e){return new r.TableCell(e)}):[new r.TableCell(e)])})},e}();t.TableGrouper=n},1950:(e,t,i)=>{var r=i(8942)["__core-js_shared__"];e.exports=r},2013:e=>{var t="\\ud800-\\udfff",i="["+t+"]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\\ud83c[\\udffb-\\udfff]",n="[^"+t+"]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+r+"|"+o+")?",c="[\\ufe0e\\ufe0f]?",d=c+l+"(?:\\u200d(?:"+[n,a,s].join("|")+")"+c+l+")*",u="(?:"+[n+r+"?",r,a,s,i].join("|")+")",h=RegExp(o+"(?="+o+")|"+u+d,"g");e.exports=function(e){return e.match(h)||[]}},2053:e=>{e.exports=function(e){return e}},2229:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(186),o=function(){function e(){}return e.sanitize=function(t,i){var o={};return t&&"object"==typeof t?(t.class&&e.IsValidClass(t.class)&&(o.class=t.class),t.id&&e.IsValidId(t.id)&&(o.id=t.id),e.IsValidTarget(t.target+"")&&(o.target=t.target),t.avatar&&(o.avatar=r.OpLinkSanitizer.sanitize(t.avatar+"",i)),t["end-point"]&&(o["end-point"]=r.OpLinkSanitizer.sanitize(t["end-point"]+"",i)),t.slug&&(o.slug=t.slug+""),o):o},e.IsValidClass=function(e){return!!e.match(/^[a-zA-Z0-9_\-]{1,500}$/i)},e.IsValidId=function(e){return!!e.match(/^[a-zA-Z0-9_\-\:\.]{1,500}$/i)},e.IsValidTarget=function(e){return["_self","_blank","_parent","_top"].indexOf(e)>-1},e}();t.MentionSanitizer=o},2237:(e,t,i)=>{var r=i(2837),o=i(3417),n=i(2013);e.exports=function(e){return o(e)?n(e):r(e)}},2255:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oauthIntrospect=t.oauthRevoke=t.oauthToken=t.listComments=t.createComment=t.search=t.createDatabase=t.listDatabases=t.queryDatabase=t.updateDatabase=t.getDatabase=t.appendBlockChildren=t.listBlockChildren=t.deleteBlock=t.updateBlock=t.getBlock=t.getPageProperty=t.updatePage=t.getPage=t.createPage=t.listUsers=t.getUser=t.getSelf=void 0,t.getSelf={method:"get",pathParams:[],queryParams:[],bodyParams:[],path:()=>"users/me"},t.getUser={method:"get",pathParams:["user_id"],queryParams:[],bodyParams:[],path:e=>`users/${e.user_id}`},t.listUsers={method:"get",pathParams:[],queryParams:["start_cursor","page_size"],bodyParams:[],path:()=>"users"},t.createPage={method:"post",pathParams:[],queryParams:[],bodyParams:["parent","properties","icon","cover","content","children"],path:()=>"pages"},t.getPage={method:"get",pathParams:["page_id"],queryParams:["filter_properties"],bodyParams:[],path:e=>`pages/${e.page_id}`},t.updatePage={method:"patch",pathParams:["page_id"],queryParams:[],bodyParams:["properties","icon","cover","archived","in_trash"],path:e=>`pages/${e.page_id}`},t.getPageProperty={method:"get",pathParams:["page_id","property_id"],queryParams:["start_cursor","page_size"],bodyParams:[],path:e=>`pages/${e.page_id}/properties/${e.property_id}`},t.getBlock={method:"get",pathParams:["block_id"],queryParams:[],bodyParams:[],path:e=>`blocks/${e.block_id}`},t.updateBlock={method:"patch",pathParams:["block_id"],queryParams:[],bodyParams:["embed","type","archived","in_trash","bookmark","image","video","pdf","file","audio","code","equation","divider","breadcrumb","table_of_contents","link_to_page","table_row","heading_1","heading_2","heading_3","paragraph","bulleted_list_item","numbered_list_item","quote","to_do","toggle","template","callout","synced_block","table"],path:e=>`blocks/${e.block_id}`},t.deleteBlock={method:"delete",pathParams:["block_id"],queryParams:[],bodyParams:[],path:e=>`blocks/${e.block_id}`},t.listBlockChildren={method:"get",pathParams:["block_id"],queryParams:["start_cursor","page_size"],bodyParams:[],path:e=>`blocks/${e.block_id}/children`},t.appendBlockChildren={method:"patch",pathParams:["block_id"],queryParams:[],bodyParams:["children","after"],path:e=>`blocks/${e.block_id}/children`},t.getDatabase={method:"get",pathParams:["database_id"],queryParams:[],bodyParams:[],path:e=>`databases/${e.database_id}`},t.updateDatabase={method:"patch",pathParams:["database_id"],queryParams:[],bodyParams:["title","description","icon","cover","properties","is_inline","archived","in_trash"],path:e=>`databases/${e.database_id}`},t.queryDatabase={method:"post",pathParams:["database_id"],queryParams:["filter_properties"],bodyParams:["sorts","filter","start_cursor","page_size","archived","in_trash"],path:e=>`databases/${e.database_id}/query`},t.listDatabases={method:"get",pathParams:[],queryParams:["start_cursor","page_size"],bodyParams:[],path:()=>"databases"},t.createDatabase={method:"post",pathParams:[],queryParams:[],bodyParams:["parent","properties","icon","cover","title","description","is_inline"],path:()=>"databases"},t.search={method:"post",pathParams:[],queryParams:[],bodyParams:["sort","query","start_cursor","page_size","filter"],path:()=>"search"},t.createComment={method:"post",pathParams:[],queryParams:[],bodyParams:["parent","rich_text","discussion_id"],path:()=>"comments"},t.listComments={method:"get",pathParams:[],queryParams:["block_id","start_cursor","page_size"],bodyParams:[],path:()=>"comments"},t.oauthToken={method:"post",pathParams:[],queryParams:[],bodyParams:["grant_type","code","redirect_uri","external_account"],path:()=>"oauth/token"},t.oauthRevoke={method:"post",pathParams:[],queryParams:[],bodyParams:["token"],path:()=>"oauth/revoke"},t.oauthIntrospect={method:"post",pathParams:[],queryParams:[],bodyParams:["token"],path:()=>"oauth/introspect"}},2291:(e,t,i)=>{var r=i(5650),o=i(5111),n=i(3142),a=i(1187),s=r?r.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(n(t))return o(t,e)+"";if(a(t))return l?l.call(t):"";var i=t+"";return"0"==i&&1/t==-1/0?"-0":i}},2450:(e,t,i)=>{var r=i(1219);r&&r.__esModule&&(r=r.default),e.exports="string"==typeof r?r:r.toString()},2478:(e,t,i)=>{var r=i(7250),o=i(9454),n=i(7706);e.exports=function(e,t,i){return t==t?n(e,t,i):r(e,o,i)}},2532:(e,t,i)=>{var r=i(4715),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},2619:e=>{e.exports=function(e){return function(){return e}}},2837:e=>{e.exports=function(e){return e.split("")}},2944:(e,t,i)=>{var r=i(1365);r&&r.__esModule&&(r=r.default),e.exports="string"==typeof r?r:r.toString()},2945:e=>{var t=/\s/;e.exports=function(e){for(var i=e.length;i--&&t.test(e.charAt(i)););return i}},3029:(e,t)=>{"use strict";var i;function r(e){return o(i.Html).reduce(a,e)}function o(e){var t=[["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#x27;"],["\\/","&#x2F;"],["\\(","&#40;"],["\\)","&#41;"]];return e===i.Html?t.filter(function(e){var t=e[0];return e[1],-1===t.indexOf("(")&&-1===t.indexOf(")")}):t.filter(function(e){var t=e[0];return e[1],-1===t.indexOf("/")})}function n(e,t){return e.replace(new RegExp(t[0],"g"),t[1])}function a(e,t){return e.replace(new RegExp(t[1],"g"),t[0].replace("\\",""))}Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Html=0]="Html",e[e.Url=1]="Url"}(i||(i={})),t.makeStartTag=function(e,t){if(void 0===t&&(t=void 0),!e)return"";var i="";t&&(i=[].concat(t).map(function(e){return e.key+(e.value?'="'+e.value+'"':"")}).join(" "));var r=">";return"img"!==e&&"br"!==e||(r="/>"),i?"<"+e+" "+i+r:"<"+e+r},t.makeEndTag=function(e){return void 0===e&&(e=""),e&&"</"+e+">"||""},t.decodeHtml=r,t.encodeHtml=function(e,t){return void 0===t&&(t=!0),t&&(e=r(e)),o(i.Html).reduce(n,e)},t.encodeLink=function(e){var t=o(i.Url),r=t.reduce(a,e);return t.reduce(n,r)}},3142:e=>{var t=Array.isArray;e.exports=t},3316:e=>{var t=Date.now;e.exports=function(e){var i=0,r=0;return function(){var o=t(),n=16-(o-r);if(r=o,n>0){if(++i>=800)return arguments[0]}else i=0;return e.apply(void 0,arguments)}}},3317:(e,t)=>{"use strict";function i(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,r)}return i}function r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){o(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function n(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}t.bookmarksToJSON=void 0,String.prototype.remove=function(e){return Array.isArray(e)?e.reduce(function(e,t){return e.replace(t,"")},this):"string"==typeof e?this.replace(e,""):this};var s=function(e){return Object.keys(e).forEach(function(t){return void 0===e[t]?delete e[t]:{}}),e},l=function(e){return!!e.match(/<A.*>.*<\/A>/)},c=function(e){var t;return null===(t=e.match(/<(H3|A).*>(.*)<\/(H3|A)>/))||void 0===t?void 0:t[2]},d=function(e){var t;return null===(t=e.match(/HREF="([^"]*)"/))||void 0===t?void 0:t[1]},u=function(e,t){var i=e.match(new RegExp("".concat(t,'="([\\d]+)"')));return i?parseInt(i[1]):void 0},h=function(e,t){return e.match(new RegExp("^\\s{".concat(4*t,"}<DT>(.*)[\r\n]"),"gm"))},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(h(e,t)){var i=function(e,t){return h(e,t).filter(l)}(e,t),r=function(e,t){var i=h(e,t);return null==i?void 0:i.map(function(t,r){var o=r===i.length-1;return e.substring(e.indexOf(t),o?void 0:e.indexOf(i[r+1]))})}(e.remove(i),t);return[].concat(n(i||[]),n(r||[]))}},g=function(e){var t,i,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e.match(/<H3.*>.*<\/H3>/)?f(e,o):l(e)?s({type:"link",addDate:u(t=e,"ADD_DATE"),title:c(t),icon:(i=t,null===(r=i.match(/ICON="(.+)"/))||void 0===r?void 0:r[1]),url:d(t)}):void 0},f=function(e,t){var i,o,n=p(e,t+1);return s(r(r({},s({type:"folder",addDate:u(o=e,"ADD_DATE"),lastModified:u(o,"LAST_MODIFIED"),title:c(o)})),{},{children:null==n||null===(i=n.map(function(e){return g(e,t+1)}))||void 0===i?void 0:i.filter(Boolean)}))};t.bookmarksToJSON=function(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.stringify,o=void 0===r||r,a=i.formatJSON,s=void 0!==a&&a,l=i.spaces,c=void 0===l?2:l,d=null===(t=p(e))||void 0===t?void 0:t.map(function(e){return g(e)});return o?JSON.stringify.apply(JSON,[d].concat(n(s?[null,c]:[]))):d}},3417:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},3449:function(e,t,i){"use strict";var r,o,n,a,s,l,c,d,u,h=this&&this.__classPrivateFieldSet||function(e,t,i,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,i):o?o.value=i:t.set(e,i),i},p=this&&this.__classPrivateFieldGet||function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0});const g=i(6465),f=i(1073),m=i(6745),b=i(2255),y=i(8203),v=i(7422);class w{constructor(e){var t,i,p,f,_,T;r.set(this,void 0),o.set(this,void 0),n.set(this,void 0),a.set(this,void 0),s.set(this,void 0),l.set(this,void 0),c.set(this,void 0),d.set(this,void 0),u.set(this,void 0),this.blocks={retrieve:e=>this.request({path:b.getBlock.path(e),method:b.getBlock.method,query:(0,m.pick)(e,b.getBlock.queryParams),body:(0,m.pick)(e,b.getBlock.bodyParams),auth:null==e?void 0:e.auth}),update:e=>this.request({path:b.updateBlock.path(e),method:b.updateBlock.method,query:(0,m.pick)(e,b.updateBlock.queryParams),body:(0,m.pick)(e,b.updateBlock.bodyParams),auth:null==e?void 0:e.auth}),delete:e=>this.request({path:b.deleteBlock.path(e),method:b.deleteBlock.method,query:(0,m.pick)(e,b.deleteBlock.queryParams),body:(0,m.pick)(e,b.deleteBlock.bodyParams),auth:null==e?void 0:e.auth}),children:{append:e=>this.request({path:b.appendBlockChildren.path(e),method:b.appendBlockChildren.method,query:(0,m.pick)(e,b.appendBlockChildren.queryParams),body:(0,m.pick)(e,b.appendBlockChildren.bodyParams),auth:null==e?void 0:e.auth}),list:e=>this.request({path:b.listBlockChildren.path(e),method:b.listBlockChildren.method,query:(0,m.pick)(e,b.listBlockChildren.queryParams),body:(0,m.pick)(e,b.listBlockChildren.bodyParams),auth:null==e?void 0:e.auth})}},this.databases={list:e=>this.request({path:b.listDatabases.path(),method:b.listDatabases.method,query:(0,m.pick)(e,b.listDatabases.queryParams),body:(0,m.pick)(e,b.listDatabases.bodyParams),auth:null==e?void 0:e.auth}),retrieve:e=>this.request({path:b.getDatabase.path(e),method:b.getDatabase.method,query:(0,m.pick)(e,b.getDatabase.queryParams),body:(0,m.pick)(e,b.getDatabase.bodyParams),auth:null==e?void 0:e.auth}),query:e=>this.request({path:b.queryDatabase.path(e),method:b.queryDatabase.method,query:(0,m.pick)(e,b.queryDatabase.queryParams),body:(0,m.pick)(e,b.queryDatabase.bodyParams),auth:null==e?void 0:e.auth}),create:e=>this.request({path:b.createDatabase.path(),method:b.createDatabase.method,query:(0,m.pick)(e,b.createDatabase.queryParams),body:(0,m.pick)(e,b.createDatabase.bodyParams),auth:null==e?void 0:e.auth}),update:e=>this.request({path:b.updateDatabase.path(e),method:b.updateDatabase.method,query:(0,m.pick)(e,b.updateDatabase.queryParams),body:(0,m.pick)(e,b.updateDatabase.bodyParams),auth:null==e?void 0:e.auth})},this.pages={create:e=>this.request({path:b.createPage.path(),method:b.createPage.method,query:(0,m.pick)(e,b.createPage.queryParams),body:(0,m.pick)(e,b.createPage.bodyParams),auth:null==e?void 0:e.auth}),retrieve:e=>this.request({path:b.getPage.path(e),method:b.getPage.method,query:(0,m.pick)(e,b.getPage.queryParams),body:(0,m.pick)(e,b.getPage.bodyParams),auth:null==e?void 0:e.auth}),update:e=>this.request({path:b.updatePage.path(e),method:b.updatePage.method,query:(0,m.pick)(e,b.updatePage.queryParams),body:(0,m.pick)(e,b.updatePage.bodyParams),auth:null==e?void 0:e.auth}),properties:{retrieve:e=>this.request({path:b.getPageProperty.path(e),method:b.getPageProperty.method,query:(0,m.pick)(e,b.getPageProperty.queryParams),body:(0,m.pick)(e,b.getPageProperty.bodyParams),auth:null==e?void 0:e.auth})}},this.users={retrieve:e=>this.request({path:b.getUser.path(e),method:b.getUser.method,query:(0,m.pick)(e,b.getUser.queryParams),body:(0,m.pick)(e,b.getUser.bodyParams),auth:null==e?void 0:e.auth}),list:e=>this.request({path:b.listUsers.path(),method:b.listUsers.method,query:(0,m.pick)(e,b.listUsers.queryParams),body:(0,m.pick)(e,b.listUsers.bodyParams),auth:null==e?void 0:e.auth}),me:e=>this.request({path:b.getSelf.path(),method:b.getSelf.method,query:(0,m.pick)(e,b.getSelf.queryParams),body:(0,m.pick)(e,b.getSelf.bodyParams),auth:null==e?void 0:e.auth})},this.comments={create:e=>this.request({path:b.createComment.path(),method:b.createComment.method,query:(0,m.pick)(e,b.createComment.queryParams),body:(0,m.pick)(e,b.createComment.bodyParams),auth:null==e?void 0:e.auth}),list:e=>this.request({path:b.listComments.path(),method:b.listComments.method,query:(0,m.pick)(e,b.listComments.queryParams),body:(0,m.pick)(e,b.listComments.bodyParams),auth:null==e?void 0:e.auth})},this.search=e=>this.request({path:b.search.path(),method:b.search.method,query:(0,m.pick)(e,b.search.queryParams),body:(0,m.pick)(e,b.search.bodyParams),auth:null==e?void 0:e.auth}),this.oauth={token:e=>this.request({path:b.oauthToken.path(),method:b.oauthToken.method,query:(0,m.pick)(e,b.oauthToken.queryParams),body:(0,m.pick)(e,b.oauthToken.bodyParams),auth:{client_id:e.client_id,client_secret:e.client_secret}}),introspect:e=>this.request({path:b.oauthIntrospect.path(),method:b.oauthIntrospect.method,query:(0,m.pick)(e,b.oauthIntrospect.queryParams),body:(0,m.pick)(e,b.oauthIntrospect.bodyParams),auth:{client_id:e.client_id,client_secret:e.client_secret}}),revoke:e=>this.request({path:b.oauthRevoke.path(),method:b.oauthRevoke.method,query:(0,m.pick)(e,b.oauthRevoke.queryParams),body:(0,m.pick)(e,b.oauthRevoke.bodyParams),auth:{client_id:e.client_id,client_secret:e.client_secret}})},h(this,r,null==e?void 0:e.auth,"f"),h(this,o,null!==(t=null==e?void 0:e.logLevel)&&void 0!==t?t:g.LogLevel.WARN,"f"),h(this,n,null!==(i=null==e?void 0:e.logger)&&void 0!==i?i:(0,g.makeConsoleLogger)(v.name),"f"),h(this,a,`${null!==(p=null==e?void 0:e.baseUrl)&&void 0!==p?p:"https://api.notion.com"}/v1/`,"f"),h(this,s,null!==(f=null==e?void 0:e.timeoutMs)&&void 0!==f?f:6e4,"f"),h(this,l,null!==(_=null==e?void 0:e.notionVersion)&&void 0!==_?_:w.defaultNotionVersion,"f"),h(this,c,null!==(T=null==e?void 0:e.fetch)&&void 0!==T?T:y.default,"f"),h(this,d,null==e?void 0:e.agent,"f"),h(this,u,`notionhq-client/${v.version}`,"f")}async request({path:e,method:t,query:i,body:r,auth:o}){this.log(g.LogLevel.INFO,"request start",{method:t,path:e});const n=r&&0!==Object.entries(r).length?JSON.stringify(r):void 0,h=new URL(`${p(this,a,"f")}${e}`);if(i)for(const[e,t]of Object.entries(i))void 0!==t&&(Array.isArray(t)?t.forEach(t=>h.searchParams.append(e,decodeURIComponent(t))):h.searchParams.append(e,String(t)));let m;if("object"==typeof o){const e=`${o.client_id}:${o.client_secret}`;m={authorization:`Basic ${Buffer.from(e).toString("base64")}`}}else m=this.authAsHeaders(o);const b={...m,"Notion-Version":p(this,l,"f"),"user-agent":p(this,u,"f")};void 0!==n&&(b["content-type"]="application/json");try{const i=await f.RequestTimeoutError.rejectAfterTimeout(p(this,c,"f").call(this,h.toString(),{method:t.toUpperCase(),headers:b,body:n,agent:p(this,d,"f")}),p(this,s,"f")),r=await i.text();if(!i.ok)throw(0,f.buildRequestError)(i,r);const o=JSON.parse(r);return this.log(g.LogLevel.INFO,"request success",{method:t,path:e}),o}catch(e){if(!(0,f.isNotionClientError)(e))throw e;throw this.log(g.LogLevel.WARN,"request fail",{code:e.code,message:e.message}),(0,f.isHTTPResponseError)(e)&&this.log(g.LogLevel.DEBUG,"failed response body",{body:e.body}),e}}log(e,t,i){(0,g.logLevelSeverity)(e)>=(0,g.logLevelSeverity)(p(this,o,"f"))&&p(this,n,"f").call(this,e,t,i)}authAsHeaders(e){const t={},i=null!=e?e:p(this,r,"f");return void 0!==i&&(t.authorization=`Bearer ${i}`),t}}t.default=w,r=new WeakMap,o=new WeakMap,n=new WeakMap,a=new WeakMap,s=new WeakMap,l=new WeakMap,c=new WeakMap,d=new WeakMap,u=new WeakMap,w.defaultNotionVersion="2022-06-28"},3501:e=>{e.exports=function(e,t,i){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(i=i>o?o:i)<0&&(i+=o),o=t>i?0:i-t>>>0,t>>>=0;for(var n=Array(o);++r<o;)n[r]=e[r+t];return n}},3603:(e,t,i)=>{var r=i(6254);r&&r.__esModule&&(r=r.default),e.exports="string"==typeof r?r:r.toString()},3655:(e,t,i)=>{var r=i(7379),o=i(1580);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},3945:(e,t,i)=>{var r=i(2053),o=i(5234),n=i(796);e.exports=function(e,t){return n(o(e,t,r),e+"")}},4066:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},4171:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(4204),o=i(5289),n=i(8475),a=i(1366),s=i(6168),l=i(186),c=function(){function e(){}return e.convert=function(t,i){if(!Array.isArray(t))return[];for(var o,n,l=[],c=0,d=[].concat.apply([],t.map(s.InsertOpDenormalizer.denormalize));c<d.length;c++){var u=d[c];u.insert&&(o=e.convertInsertVal(u.insert,i))&&(n=a.OpAttributeSanitizer.sanitize(u.attributes,i),l.push(new r.DeltaInsertOp(o,n)))}return l},e.convertInsertVal=function(e,t){if("string"==typeof e)return new n.InsertDataQuill(o.DataType.Text,e);if(!e||"object"!=typeof e)return null;var i=Object.keys(e);return i.length?o.DataType.Image in e?new n.InsertDataQuill(o.DataType.Image,l.OpLinkSanitizer.sanitize(e[o.DataType.Image]+"",t)):o.DataType.Video in e?new n.InsertDataQuill(o.DataType.Video,l.OpLinkSanitizer.sanitize(e[o.DataType.Video]+"",t)):o.DataType.Formula in e?new n.InsertDataQuill(o.DataType.Formula,e[o.DataType.Formula]):new n.InsertDataCustom(i[0],e[i[0]]):null},e}();t.InsertOpsConverter=c},4204:function(e,t,i){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(5289),n=i(8475),a=r(i(8677)),s=function(){function e(e,t){"string"==typeof e&&(e=new n.InsertDataQuill(o.DataType.Text,e+"")),this.insert=e,this.attributes=t||{}}return e.createNewLineOp=function(){return new e(o.NewLine)},e.prototype.isContainerBlock=function(){return this.isBlockquote()||this.isList()||this.isTable()||this.isCodeBlock()||this.isHeader()||this.isBlockAttribute()||this.isCustomTextBlock()},e.prototype.isBlockAttribute=function(){var e=this.attributes;return!!(e.align||e.direction||e.indent)},e.prototype.isBlockquote=function(){return!!this.attributes.blockquote},e.prototype.isHeader=function(){return!!this.attributes.header},e.prototype.isTable=function(){return!!this.attributes.table},e.prototype.isSameHeaderAs=function(e){return e.attributes.header===this.attributes.header&&this.isHeader()},e.prototype.hasSameAdiAs=function(e){return this.attributes.align===e.attributes.align&&this.attributes.direction===e.attributes.direction&&this.attributes.indent===e.attributes.indent},e.prototype.hasSameIndentationAs=function(e){return this.attributes.indent===e.attributes.indent},e.prototype.hasSameAttr=function(e){return a.default(this.attributes,e.attributes)},e.prototype.hasHigherIndentThan=function(e){return(Number(this.attributes.indent)||0)>(Number(e.attributes.indent)||0)},e.prototype.isInline=function(){return!(this.isContainerBlock()||this.isVideo()||this.isCustomEmbedBlock())},e.prototype.isCodeBlock=function(){return!!this.attributes["code-block"]},e.prototype.hasSameLangAs=function(e){return this.attributes["code-block"]===e.attributes["code-block"]},e.prototype.isJustNewline=function(){return this.insert.value===o.NewLine},e.prototype.isList=function(){return this.isOrderedList()||this.isBulletList()||this.isCheckedList()||this.isUncheckedList()},e.prototype.isOrderedList=function(){return this.attributes.list===o.ListType.Ordered},e.prototype.isBulletList=function(){return this.attributes.list===o.ListType.Bullet},e.prototype.isCheckedList=function(){return this.attributes.list===o.ListType.Checked},e.prototype.isUncheckedList=function(){return this.attributes.list===o.ListType.Unchecked},e.prototype.isACheckList=function(){return this.attributes.list==o.ListType.Unchecked||this.attributes.list===o.ListType.Checked},e.prototype.isSameListAs=function(e){return!!e.attributes.list&&(this.attributes.list===e.attributes.list||e.isACheckList()&&this.isACheckList())},e.prototype.isSameTableRowAs=function(e){return!!e.isTable()&&this.isTable()&&this.attributes.table===e.attributes.table},e.prototype.isText=function(){return this.insert.type===o.DataType.Text},e.prototype.isImage=function(){return this.insert.type===o.DataType.Image},e.prototype.isFormula=function(){return this.insert.type===o.DataType.Formula},e.prototype.isVideo=function(){return this.insert.type===o.DataType.Video},e.prototype.isLink=function(){return this.isText()&&!!this.attributes.link},e.prototype.isCustomEmbed=function(){return this.insert instanceof n.InsertDataCustom},e.prototype.isCustomEmbedBlock=function(){return this.isCustomEmbed()&&!!this.attributes.renderAsBlock},e.prototype.isCustomTextBlock=function(){return this.isText()&&!!this.attributes.renderAsBlock},e.prototype.isMentions=function(){return this.isText()&&!!this.attributes.mentions},e}();t.DeltaInsertOp=s},4354:e=>{e.exports=function(e,t){var i=-1,r=e.length;for(t||(t=Array(r));++i<r;)t[i]=e[i];return t}},4627:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sanitize=function(e){var t=e;return t=t.replace(/^\s*/gm,""),/^((https?|s?ftp|file|blob|mailto|tel):|#|\/|data:image\/)/.test(t)?t:"unsafe:"+t}},4715:(e,t,i)=>{var r=i(9624),o=i(155);e.exports=function(e,t){var i=o(e,t);return r(i)?i:void 0}},4759:(e,t,i)=>{var r,o=i(1950),n=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!n&&n in e}},4772:(e,t,i)=>{e.exports=i(3317)},4872:(e,t,i)=>{e.exports={deltaToMarkdown:i(927)}},4967:(e,t,i)=>{var r="object"==typeof i.g&&i.g&&i.g.Object===Object&&i.g;e.exports=r},5111:e=>{e.exports=function(e,t){for(var i=-1,r=null==e?0:e.length,o=Array(r);++i<r;)o[i]=t(e[i],i,e);return o}},5234:(e,t,i)=>{var r=i(6912),o=Math.max;e.exports=function(e,t,i){return t=o(void 0===t?e.length-1:t,0),function(){for(var n=arguments,a=-1,s=o(n.length-t,0),l=Array(s);++a<s;)l[a]=n[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=n[a];return c[t]=i(l),r(e,this,c)}}},5243:(e,t,i)=>{var r=i(2291);e.exports=function(e){return null==e?"":r(e)}},5250:e=>{e.exports={encodeLink:e=>encodeURI(e).replace(/\(/i,"%28").replace(/\)/i,"%29").replace(/(\?|&)response-content-disposition=attachment.*$/,"")}},5289:(e,t)=>{"use strict";var i,r,o,n,a,s;Object.defineProperty(t,"__esModule",{value:!0}),t.NewLine="\n",function(e){e.Ordered="ordered",e.Bullet="bullet",e.Checked="checked",e.Unchecked="unchecked"}(i||(i={})),t.ListType=i,function(e){e.Sub="sub",e.Super="super"}(r||(r={})),t.ScriptType=r,function(e){e.Rtl="rtl"}(o||(o={})),t.DirectionType=o,function(e){e.Left="left",e.Center="center",e.Right="right",e.Justify="justify"}(n||(n={})),t.AlignType=n,function(e){e.Image="image",e.Video="video",e.Formula="formula",e.Text="text"}(a||(a={})),t.DataType=a,function(e){e.Block="block",e.InlineGroup="inline-group",e.List="list",e.Video="video",e.Table="table"}(s||(s={})),t.GroupType=s},5395:(e,t,i)=>{"use strict";var r=i(275);t.Ss=r.QuillDeltaToHtmlConverter,i(1913).OpToHtmlConverter;var o=i(8840);o.InlineGroup,o.VideoItem,o.BlockGroup,o.ListGroup,o.ListItem,o.BlotBlock,i(4204).DeltaInsertOp;var n=i(8475);n.InsertDataQuill,n.InsertDataCustom;var a=i(5289);a.NewLine,a.ListType,a.ScriptType,a.DirectionType,a.AlignType,a.DataType,a.GroupType},5431:()=>{"use strict";try{if(window.trustedTypes&&window.trustedTypes.createPolicy){const e=window.trustedTypes.createPolicy;window.trustedTypes.createPolicy=function(t,i){return"lit-html"===t?{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e}:e.apply(this,arguments)}}}catch(e){}},5528:(e,t,i)=>{const r=i(8227),{encodeLink:o}=i(5250);e.exports={embed:{image:function(e){this.append("![]("+o(e)+")")},thematic_break:function(){this.open="\n---\n"+this.open}},inline:{italic:function(){return["_","_"]},bold:function(){return["**","**"]},link:function(e){return["[","]("+e+")"]}},block:{header:function({header:e}){this.open="#".repeat(e)+" "+this.open},blockquote:function(){this.open="> "+this.open},list:{group:function(){return new r(["","\n"])},line:function(e,t){if("bullet"===e.list)this.open="- "+this.open;else if("checked"===e.list)this.open="- [x] "+this.open;else if("unchecked"===e.list)this.open="- [ ] "+this.open;else if("ordered"===e.list){t.count=t.count||0;var i=++t.count;this.open=i+". "+this.open}}}}}},5650:(e,t,i)=>{var r=i(8942).Symbol;e.exports=r},5996:()=>{"use strict";var e;(null===(e=navigator.userAgent.toLowerCase())||void 0===e?void 0:e.includes("firefox"))&&("__CE_installPolyfill"in window&&"function"==typeof window.__CE_installPolyfill&&!("polyfills_installed"in window)&&window.__CE_installPolyfill(),Object.defineProperty(globalThis,"ShadyCSS",{get:()=>!1,configurable:!0}))},6168:function(e,t,i){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=i(5289),n=r(i(8537)),a=r(i(1439)),s=function(){function e(){}return e.denormalize=function(e){if(!e||"object"!=typeof e)return[];if("object"==typeof e.insert||e.insert===o.NewLine)return[e];var t=n.tokenizeWithNewLines(e.insert+"");if(1===t.length)return[e];var i=a.assign({},e,{insert:o.NewLine});return t.map(function(t){return t===o.NewLine?i:a.assign({},e,{insert:t})})},e}();t.InsertOpDenormalizer=s},6254:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>s});var r=i(6758),o=i.n(r),n=i(935),a=i.n(n)()(o());a.push([e.id,":host{font-family:var(--wh-font-family)}.badge{background-color:var(--wh-subtle-gray);color:#fff;font-size:10px;border-radius:9999px;display:inline-flex;text-align:center;align-items:center;padding:0 5px;box-sizing:border-box;justify-content:center;height:14px}hr.divider{margin:10px auto;border:.5px solid var(--wh-border-base);width:100%}:host{position:fixed;right:40px;top:30px;display:block}button{padding:10px;border-radius:50%;display:block;background:rgba(0,0,0,0);border:none;box-shadow:5px 7px 6px -4px rgba(0,0,0,.1);z-index:99999999;margin:8px 0}button:hover{background:rgba(209,209,209,.532)}button.mark-icon webhighlights-icon::part(icon){fill:var(--wh-primary-color)}",""]);const s=a},6465:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logLevelSeverity=t.makeConsoleLogger=t.LogLevel=void 0;const r=i(6745);var o;!function(e){e.DEBUG="debug",e.INFO="info",e.WARN="warn",e.ERROR="error"}(o=t.LogLevel||(t.LogLevel={})),t.makeConsoleLogger=function(e){return(t,i,r)=>{console[t](`${e} ${t}:`,i,r)}},t.logLevelSeverity=function(e){switch(e){case o.DEBUG:return 20;case o.INFO:return 40;case o.WARN:return 60;case o.ERROR:return 80;default:return(0,r.assertNever)(e)}}},6745:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isObject=t.pick=t.assertNever=void 0,t.assertNever=function(e){throw new Error(`Unexpected value should never occur: ${e}`)},t.pick=function(e,t){const i=t.map(t=>[t,null==e?void 0:e[t]]);return Object.fromEntries(i)},t.isObject=function(e){return"object"==typeof e&&null!==e}},6758:e=>{"use strict";e.exports=function(e){return e[1]}},6912:e=>{e.exports=function(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}},7211:(e,t,i)=>{var r=i(8504);r&&r.__esModule&&(r=r.default),e.exports="string"==typeof r?r:r.toString()},7250:e=>{e.exports=function(e,t,i,r){for(var o=e.length,n=i+(r?1:-1);r?n--:++n<o;)if(t(e[n],n,e))return n;return-1}},7292:(e,t,i)=>{var r=i(3945)(i(581));e.exports=r},7379:(e,t,i)=>{var r=i(5650),o=i(8870),n=i(9005),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):n(e)}},7403:(e,t,i)=>{var r=i(2619),o=i(2532),n=i(2053),a=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:n;e.exports=a},7422:e=>{"use strict";e.exports=JSON.parse('{"name":"@notionhq/client","version":"2.3.0","description":"A simple and easy to use client for the Notion API","engines":{"node":">=12"},"homepage":"https://developers.notion.com/docs/getting-started","bugs":{"url":"https://github.com/makenotion/notion-sdk-js/issues"},"repository":{"type":"git","url":"https://github.com/makenotion/notion-sdk-js/"},"keywords":["notion","notionapi","rest","notion-api"],"main":"./build/src","types":"./build/src/index.d.ts","scripts":{"prepare":"npm run build","prepublishOnly":"npm run checkLoggedIn && npm run lint && npm run test","build":"tsc","prettier":"prettier --write .","lint":"prettier --check . && eslint . --ext .ts && cspell \'**/*\' ","test":"jest ./test","check-links":"git ls-files | grep md$ | xargs -n 1 markdown-link-check","prebuild":"npm run clean","clean":"rm -rf ./build","checkLoggedIn":"./scripts/verifyLoggedIn.sh"},"author":"","license":"MIT","files":["build/package.json","build/src/**"],"dependencies":{"@types/node-fetch":"^2.5.10","node-fetch":"^2.6.1"},"devDependencies":{"@types/jest":"^28.1.4","@typescript-eslint/eslint-plugin":"^5.39.0","@typescript-eslint/parser":"^5.39.0","cspell":"^5.4.1","eslint":"^7.24.0","jest":"^28.1.2","markdown-link-check":"^3.8.7","prettier":"^2.8.8","ts-jest":"^28.0.5","typescript":"^4.8.4"}}')},7426:(e,t,i)=>{var r=i(2291),o=i(8931),n=i(8774),a=i(2237),s=i(5243),l=i(2945);e.exports=function(e,t,i){if((e=s(e))&&(i||void 0===t))return e.slice(0,l(e)+1);if(!e||!(t=r(t)))return e;var c=a(e),d=n(c,a(t))+1;return o(c,0,d).join("")}},7551:()=>{"use strict";var e=window.Document.prototype.createElement,t=window.Document.prototype.createElementNS,i=window.Document.prototype.importNode,r=window.Document.prototype.prepend,o=window.Document.prototype.append,n=window.DocumentFragment.prototype.prepend,a=window.DocumentFragment.prototype.append,s=window.Node.prototype.cloneNode,l=window.Node.prototype.appendChild,c=window.Node.prototype.insertBefore,d=window.Node.prototype.removeChild,u=window.Node.prototype.replaceChild,h=Object.getOwnPropertyDescriptor(window.Node.prototype,"textContent"),p=window.Element.prototype.attachShadow,g=Object.getOwnPropertyDescriptor(window.Element.prototype,"innerHTML"),f=window.Element.prototype.getAttribute,m=window.Element.prototype.setAttribute,b=window.Element.prototype.removeAttribute,y=window.Element.prototype.getAttributeNS,v=window.Element.prototype.setAttributeNS,w=window.Element.prototype.removeAttributeNS,_=window.Element.prototype.insertAdjacentElement,T=window.Element.prototype.insertAdjacentHTML,A=window.Element.prototype.prepend,E=window.Element.prototype.append,k=window.Element.prototype.before,S=window.Element.prototype.after,x=window.Element.prototype.replaceWith,C=window.Element.prototype.remove,I=window.HTMLElement,N=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML"),D=window.HTMLElement.prototype.insertAdjacentElement,O=window.HTMLElement.prototype.insertAdjacentHTML,L=new Set;function P(e){var t=L.has(e);return e=/^[a-z][.0-9_a-z]*-[-.0-9_a-z]*$/.test(e),!t&&e}"annotation-xml color-profile font-face font-face-src font-face-uri font-face-format font-face-name missing-glyph".split(" ").forEach(function(e){return L.add(e)});var R=document.contains?document.contains.bind(document):document.documentElement.contains.bind(document.documentElement);function M(e){var t=e.isConnected;if(void 0!==t)return t;if(R(e))return!0;for(;e&&!(e.__CE_isImportDocument||e instanceof Document);)e=e.parentNode||(window.ShadowRoot&&e instanceof ShadowRoot?e.host:void 0);return!(!e||!(e.__CE_isImportDocument||e instanceof Document))}function B(e){var t=e.children;if(t)return Array.prototype.slice.call(t);for(t=[],e=e.firstChild;e;e=e.nextSibling)e.nodeType===Node.ELEMENT_NODE&&t.push(e);return t}function U(e,t){for(;t&&t!==e&&!t.nextSibling;)t=t.parentNode;return t&&t!==e?t.nextSibling:null}function $(e,t,i){for(var r=e;r;){if(r.nodeType===Node.ELEMENT_NODE){var o=r;t(o);var n=o.localName;if("link"===n&&"import"===o.getAttribute("rel")){if(r=o.import,void 0===i&&(i=new Set),r instanceof Node&&!i.has(r))for(i.add(r),r=r.firstChild;r;r=r.nextSibling)$(r,t,i);r=U(e,o);continue}if("template"===n){r=U(e,o);continue}if(o=o.__CE_shadowRoot)for(o=o.firstChild;o;o=o.nextSibling)$(o,t,i)}r=r.firstChild?r.firstChild:U(e,r)}}function G(){var e=!(null==ae||!ae.noDocumentConstructionObserver),t=!(null==ae||!ae.shadyDomFastWalk);this.m=[],this.g=[],this.j=!1,this.shadyDomFastWalk=t,this.I=!e}function F(e,t,i,r){var o=window.ShadyDOM;if(e.shadyDomFastWalk&&o&&o.inUse){if(t.nodeType===Node.ELEMENT_NODE&&i(t),t.querySelectorAll)for(e=o.nativeMethods.querySelectorAll.call(t,"*"),t=0;t<e.length;t++)i(e[t])}else $(t,i,r)}function H(e,t){e.j&&F(e,t,function(t){return z(e,t)})}function z(e,t){if(e.j&&!t.__CE_patched){t.__CE_patched=!0;for(var i=0;i<e.m.length;i++)e.m[i](t);for(i=0;i<e.g.length;i++)e.g[i](t)}}function j(e,t){var i=[];for(F(e,t,function(e){return i.push(e)}),t=0;t<i.length;t++){var r=i[t];1===r.__CE_state?e.connectedCallback(r):q(e,r)}}function V(e,t){var i=[];for(F(e,t,function(e){return i.push(e)}),t=0;t<i.length;t++){var r=i[t];1===r.__CE_state&&e.disconnectedCallback(r)}}function W(e,t,i){var r=(i=void 0===i?{}:i).J,o=i.upgrade||function(t){return q(e,t)},n=[];for(F(e,t,function(t){if(e.j&&z(e,t),"link"===t.localName&&"import"===t.getAttribute("rel")){var i=t.import;i instanceof Node&&(i.__CE_isImportDocument=!0,i.__CE_registry=document.__CE_registry),i&&"complete"===i.readyState?i.__CE_documentLoadHandled=!0:t.addEventListener("load",function(){var i=t.import;if(!i.__CE_documentLoadHandled){i.__CE_documentLoadHandled=!0;var n=new Set;r&&(r.forEach(function(e){return n.add(e)}),n.delete(i)),W(e,i,{J:n,upgrade:o})}})}else n.push(t)},r),t=0;t<n.length;t++)o(n[t])}function q(e,t){try{var i=t.ownerDocument,r=i.__CE_registry,o=r&&(i.defaultView||i.__CE_isImportDocument)?re(r,t.localName):void 0;if(o&&void 0===t.__CE_state){o.constructionStack.push(t);try{try{if(new o.constructorFunction!==t)throw Error("The custom element constructor did not produce the element being upgraded.")}finally{o.constructionStack.pop()}}catch(e){throw t.__CE_state=2,e}if(t.__CE_state=1,t.__CE_definition=o,o.attributeChangedCallback&&t.hasAttributes()){var n=o.observedAttributes;for(o=0;o<n.length;o++){var a=n[o],s=t.getAttribute(a);null!==s&&e.attributeChangedCallback(t,a,null,s,null)}}M(t)&&e.connectedCallback(t)}}catch(e){K(e)}}function Y(i,r,o,n){var a=r.__CE_registry;if(a&&(null===n||"http://www.w3.org/1999/xhtml"===n)&&(a=re(a,o)))try{var s=new a.constructorFunction;if(void 0===s.__CE_state||void 0===s.__CE_definition)throw Error("Failed to construct '"+o+"': The returned value was not constructed with the HTMLElement constructor.");if("http://www.w3.org/1999/xhtml"!==s.namespaceURI)throw Error("Failed to construct '"+o+"': The constructed element's namespace must be the HTML namespace.");if(s.hasAttributes())throw Error("Failed to construct '"+o+"': The constructed element must not have any attributes.");if(null!==s.firstChild)throw Error("Failed to construct '"+o+"': The constructed element must not have any children.");if(null!==s.parentNode)throw Error("Failed to construct '"+o+"': The constructed element must not have a parent node.");if(s.ownerDocument!==r)throw Error("Failed to construct '"+o+"': The constructed element's owner document is incorrect.");if(s.localName!==o)throw Error("Failed to construct '"+o+"': The constructed element's local name is incorrect.");return s}catch(a){return K(a),r=null===n?e.call(r,o):t.call(r,n,o),Object.setPrototypeOf(r,HTMLUnknownElement.prototype),r.__CE_state=2,r.__CE_definition=void 0,z(i,r),r}return z(i,r=null===n?e.call(r,o):t.call(r,n,o)),r}function K(e){var t="",i="",r=0,o=0;e instanceof Error?(t=e.message,i=e.sourceURL||e.fileName||"",r=e.line||e.lineNumber||0,o=e.column||e.columnNumber||0):t="Uncaught "+String(e);var n=void 0;void 0===ErrorEvent.prototype.initErrorEvent?n=new ErrorEvent("error",{cancelable:!0,message:t,filename:i,lineno:r,colno:o,error:e}):((n=document.createEvent("ErrorEvent")).initErrorEvent("error",!1,!0,t,i,r),n.preventDefault=function(){Object.defineProperty(this,"defaultPrevented",{configurable:!0,get:function(){return!0}})}),void 0===n.error&&Object.defineProperty(n,"error",{configurable:!0,enumerable:!0,get:function(){return e}}),window.dispatchEvent(n),n.defaultPrevented||console.error(e)}function X(){var e=this;this.g=void 0,this.F=new Promise(function(t){e.l=t})}function J(e){var t=document;this.l=void 0,this.h=e,this.g=t,W(this.h,this.g),"loading"===this.g.readyState&&(this.l=new MutationObserver(this.G.bind(this)),this.l.observe(this.g,{childList:!0,subtree:!0}))}function Z(e){e.l&&e.l.disconnect()}function Q(e){this.s=new Map,this.u=new Map,this.C=new Map,this.A=!1,this.B=new Map,this.o=function(e){return e()},this.i=!1,this.v=[],this.h=e,this.D=e.I?new J(e):void 0}function ee(e,t){if(!P(t))throw new SyntaxError("The element name '"+t+"' is not valid.");if(re(e,t))throw Error("A custom element with name '"+t+"' has already been defined.");if(e.A)throw Error("A custom element is already being defined.")}function te(e,t,i){var r;e.A=!0;try{var o=i.prototype;if(!(o instanceof Object)&&"object"!=typeof o)throw new TypeError("The custom element constructor's prototype is not an object.");var n=function(e){var t=o[e];if(void 0!==t&&!(t instanceof Function))throw Error("The '"+e+"' callback must be a function.");return t},a=n("connectedCallback"),s=n("disconnectedCallback"),l=n("adoptedCallback"),c=(r=n("attributeChangedCallback"))&&i.observedAttributes||[]}catch(e){throw e}finally{e.A=!1}return i={localName:t,constructorFunction:i,connectedCallback:a,disconnectedCallback:s,adoptedCallback:l,attributeChangedCallback:r,observedAttributes:c,constructionStack:[]},e.u.set(t,i),e.C.set(i.constructorFunction,i),i}function ie(e){if(!1!==e.i){e.i=!1;for(var t=[],i=e.v,r=new Map,o=0;o<i.length;o++)r.set(i[o],[]);for(W(e.h,document,{upgrade:function(i){if(void 0===i.__CE_state){var o=i.localName,n=r.get(o);n?n.push(i):e.u.has(o)&&t.push(i)}}}),o=0;o<t.length;o++)q(e.h,t[o]);for(o=0;o<i.length;o++){for(var n=i[o],a=r.get(n),s=0;s<a.length;s++)q(e.h,a[s]);(n=e.B.get(n))&&n.resolve(void 0)}i.length=0}}function re(e,t){var i=e.u.get(t);if(i)return i;if(i=e.s.get(t)){e.s.delete(t);try{return te(e,t,i())}catch(e){K(e)}}}function oe(e,t,i){function r(t){return function(i){for(var r=[],o=0;o<arguments.length;++o)r[o]=arguments[o];o=[];for(var n=[],a=0;a<r.length;a++){var s=r[a];if(s instanceof Element&&M(s)&&n.push(s),s instanceof DocumentFragment)for(s=s.firstChild;s;s=s.nextSibling)o.push(s);else o.push(s)}for(t.apply(this,r),r=0;r<n.length;r++)V(e,n[r]);if(M(this))for(r=0;r<o.length;r++)(n=o[r])instanceof Element&&j(e,n)}}void 0!==i.prepend&&(t.prepend=r(i.prepend)),void 0!==i.append&&(t.append=r(i.append))}G.prototype.connectedCallback=function(e){var t=e.__CE_definition;if(t.connectedCallback)try{t.connectedCallback.call(e)}catch(e){K(e)}},G.prototype.disconnectedCallback=function(e){var t=e.__CE_definition;if(t.disconnectedCallback)try{t.disconnectedCallback.call(e)}catch(e){K(e)}},G.prototype.attributeChangedCallback=function(e,t,i,r,o){var n=e.__CE_definition;if(n.attributeChangedCallback&&-1<n.observedAttributes.indexOf(t))try{n.attributeChangedCallback.call(e,t,i,r,o)}catch(e){K(e)}},X.prototype.resolve=function(e){if(this.g)throw Error("Already resolved.");this.g=e,this.l(e)},J.prototype.G=function(e){var t=this.g.readyState;for("interactive"!==t&&"complete"!==t||Z(this),t=0;t<e.length;t++)for(var i=e[t].addedNodes,r=0;r<i.length;r++)W(this.h,i[r])},Q.prototype.H=function(e,t){var i=this;if(!(t instanceof Function))throw new TypeError("Custom element constructor getters must be functions.");ee(this,e),this.s.set(e,t),this.v.push(e),this.i||(this.i=!0,this.o(function(){return ie(i)}))},Q.prototype.define=function(e,t){var i;if(!(null===(i=document.querySelector(e))||void 0===i?void 0:i.shadowRoot)){var r=this;if(!(t instanceof Function))throw new TypeError("Custom element constructors must be functions.");ee(this,e),te(this,e,t),this.v.push(e),this.i||(this.i=!0,this.o(function(){return ie(r)}))}},Q.prototype.upgrade=function(e){W(this.h,e)},Q.prototype.get=function(e){if(e=re(this,e))return e.constructorFunction},Q.prototype.whenDefined=function(e){if(!P(e))return Promise.reject(new SyntaxError("'"+e+"' is not a valid custom element name."));var t=this.B.get(e);if(t)return t.F;t=new X,this.B.set(e,t);var i=this.u.has(e)||this.s.has(e);return e=-1===this.v.indexOf(e),i&&e&&t.resolve(void 0),t.F},Q.prototype.polyfillWrapFlushCallback=function(e){this.D&&Z(this.D);var t=this.o;this.o=function(i){return e(function(){return t(i)})}},Q.prototype.define=Q.prototype.define,Q.prototype.upgrade=Q.prototype.upgrade,Q.prototype.get=Q.prototype.get,Q.prototype.whenDefined=Q.prototype.whenDefined,Q.prototype.polyfillDefineLazy=Q.prototype.H,Q.prototype.polyfillWrapFlushCallback=Q.prototype.polyfillWrapFlushCallback;var ne={},ae=window.customElements;function se(){window.polyfills_installed=!0;var L=new G;!function(t){function i(){var i=this.constructor,r=document.__CE_registry.C.get(i);if(!r)throw Error("Failed to construct a custom element: The constructor was not registered with `customElements`.");var o=r.constructionStack;if(0===o.length)return o=e.call(document,r.localName),Object.setPrototypeOf(o,i.prototype),o.__CE_state=1,o.__CE_definition=r,z(t,o),o;var n=o.length-1,a=o[n];if(a===ne)throw Error("Failed to construct '"+r.localName+"': This element was already constructed.");return o[n]=ne,Object.setPrototypeOf(a,i.prototype),z(t,a),a}i.prototype=I.prototype,Object.defineProperty(HTMLElement.prototype,"constructor",{writable:!0,configurable:!0,enumerable:!1,value:i}),window.HTMLElement=i}(L),function(e){Document.prototype.createElement=function(t){return Y(e,this,t,null)},Document.prototype.importNode=function(t,r){return t=i.call(this,t,!!r),this.__CE_registry?W(e,t):H(e,t),t},Document.prototype.createElementNS=function(t,i){return Y(e,this,i,t)},oe(e,Document.prototype,{prepend:r,append:o})}(L),oe(L,DocumentFragment.prototype,{prepend:n,append:a}),function(e){function t(t,i){Object.defineProperty(t,"textContent",{enumerable:i.enumerable,configurable:!0,get:i.get,set:function(t){if(this.nodeType===Node.TEXT_NODE)i.set.call(this,t);else{var r=void 0;if(this.firstChild){var o=this.childNodes,n=o.length;if(0<n&&M(this)){r=Array(n);for(var a=0;a<n;a++)r[a]=o[a]}}if(i.set.call(this,t),r)for(t=0;t<r.length;t++)V(e,r[t])}}})}Node.prototype.insertBefore=function(t,i){if(t instanceof DocumentFragment){var r=B(t);if(t=c.call(this,t,i),M(this))for(i=0;i<r.length;i++)j(e,r[i]);return t}return r=t instanceof Element&&M(t),i=c.call(this,t,i),r&&V(e,t),M(this)&&j(e,t),i},Node.prototype.appendChild=function(t){if(t instanceof DocumentFragment){var i=B(t);if(t=l.call(this,t),M(this))for(var r=0;r<i.length;r++)j(e,i[r]);return t}return i=t instanceof Element&&M(t),r=l.call(this,t),i&&V(e,t),M(this)&&j(e,t),r},Node.prototype.cloneNode=function(t){return t=s.call(this,!!t),this.ownerDocument.__CE_registry?W(e,t):H(e,t),t},Node.prototype.removeChild=function(t){var i=t instanceof Element&&M(t),r=d.call(this,t);return i&&V(e,t),r},Node.prototype.replaceChild=function(t,i){if(t instanceof DocumentFragment){var r=B(t);if(t=u.call(this,t,i),M(this))for(V(e,i),i=0;i<r.length;i++)j(e,r[i]);return t}r=t instanceof Element&&M(t);var o=u.call(this,t,i),n=M(this);return n&&V(e,i),r&&V(e,t),n&&j(e,t),o},h&&h.get?t(Node.prototype,h):function(e,t){e.j=!0,e.m.push(t)}(e,function(e){t(e,{enumerable:!0,configurable:!0,get:function(){for(var e=[],t=this.firstChild;t;t=t.nextSibling)t.nodeType!==Node.COMMENT_NODE&&e.push(t.textContent);return e.join("")},set:function(e){for(;this.firstChild;)d.call(this,this.firstChild);null!=e&&""!==e&&l.call(this,document.createTextNode(e))}})})}(L),function(e){function i(t,i){Object.defineProperty(t,"innerHTML",{enumerable:i.enumerable,configurable:!0,get:i.get,set:function(t){var r=this,o=void 0;if(M(this)&&(o=[],F(e,this,function(e){e!==r&&o.push(e)})),i.set.call(this,t),o)for(var n=0;n<o.length;n++){var a=o[n];1===a.__CE_state&&e.disconnectedCallback(a)}return this.ownerDocument.__CE_registry?W(e,this):H(e,this),t}})}function r(t,i){t.insertAdjacentElement=function(t,r){var o=M(r);return t=i.call(this,t,r),o&&V(e,r),M(t)&&j(e,r),t}}function o(t,i){function r(t,i){for(var r=[];t!==i;t=t.nextSibling)r.push(t);for(i=0;i<r.length;i++)W(e,r[i])}t.insertAdjacentHTML=function(e,t){if("beforebegin"===(e=e.toLowerCase())){var o=this.previousSibling;i.call(this,e,t),r(o||this.parentNode.firstChild,this)}else if("afterbegin"===e)o=this.firstChild,i.call(this,e,t),r(this.firstChild,o);else if("beforeend"===e)o=this.lastChild,i.call(this,e,t),r(o||this.firstChild,null);else{if("afterend"!==e)throw new SyntaxError("The value provided ("+String(e)+") is not one of 'beforebegin', 'afterbegin', 'beforeend', or 'afterend'.");o=this.nextSibling,i.call(this,e,t),r(this.nextSibling,o)}}}p&&(Element.prototype.attachShadow=function(t){if(t=p.call(this,t),e.j&&!t.__CE_patched){t.__CE_patched=!0;for(var i=0;i<e.m.length;i++)e.m[i](t)}return this.__CE_shadowRoot=t}),g&&g.get?i(Element.prototype,g):N&&N.get?i(HTMLElement.prototype,N):function(e,t){e.j=!0,e.g.push(t)}(e,function(e){i(e,{enumerable:!0,configurable:!0,get:function(){return s.call(this,!0).innerHTML},set:function(e){var i="template"===this.localName,r=i?this.content:this,o=t.call(document,this.namespaceURI,this.localName);for(o.innerHTML=e;0<r.childNodes.length;)d.call(r,r.childNodes[0]);for(e=i?o.content:o;0<e.childNodes.length;)l.call(r,e.childNodes[0])}})}),Element.prototype.setAttribute=function(t,i){if(1!==this.__CE_state)return m.call(this,t,i);var r=f.call(this,t);m.call(this,t,i),i=f.call(this,t),e.attributeChangedCallback(this,t,r,i,null)},Element.prototype.setAttributeNS=function(t,i,r){if(1!==this.__CE_state)return v.call(this,t,i,r);var o=y.call(this,t,i);v.call(this,t,i,r),r=y.call(this,t,i),e.attributeChangedCallback(this,i,o,r,t)},Element.prototype.removeAttribute=function(t){if(1!==this.__CE_state)return b.call(this,t);var i=f.call(this,t);b.call(this,t),null!==i&&e.attributeChangedCallback(this,t,i,null,null)},Element.prototype.removeAttributeNS=function(t,i){if(1!==this.__CE_state)return w.call(this,t,i);var r=y.call(this,t,i);w.call(this,t,i);var o=y.call(this,t,i);r!==o&&e.attributeChangedCallback(this,i,r,o,t)},D?r(HTMLElement.prototype,D):_&&r(Element.prototype,_),O?o(HTMLElement.prototype,O):T&&o(Element.prototype,T),oe(e,Element.prototype,{prepend:A,append:E}),function(e){function t(t){return function(i){for(var r=[],o=0;o<arguments.length;++o)r[o]=arguments[o];o=[];for(var n=[],a=0;a<r.length;a++){var s=r[a];if(s instanceof Element&&M(s)&&n.push(s),s instanceof DocumentFragment)for(s=s.firstChild;s;s=s.nextSibling)o.push(s);else o.push(s)}for(t.apply(this,r),r=0;r<n.length;r++)V(e,n[r]);if(M(this))for(r=0;r<o.length;r++)(n=o[r])instanceof Element&&j(e,n)}}var i=Element.prototype;void 0!==k&&(i.before=t(k)),void 0!==S&&(i.after=t(S)),void 0!==x&&(i.replaceWith=function(t){for(var i=[],r=0;r<arguments.length;++r)i[r]=arguments[r];r=[];for(var o=[],n=0;n<i.length;n++){var a=i[n];if(a instanceof Element&&M(a)&&o.push(a),a instanceof DocumentFragment)for(a=a.firstChild;a;a=a.nextSibling)r.push(a);else r.push(a)}for(n=M(this),x.apply(this,i),i=0;i<o.length;i++)V(e,o[i]);if(n)for(V(e,this),i=0;i<r.length;i++)(o=r[i])instanceof Element&&j(e,o)}),void 0!==C&&(i.remove=function(){var t=M(this);C.call(this),t&&V(e,this)})}(e)}(L),window.CustomElementRegistry=Q,L=new Q(L),document.__CE_registry=L,Object.defineProperty(window,"customElements",{configurable:!0,enumerable:!0,value:L})}ae&&!ae.forcePolyfill&&"function"==typeof ae.define&&"function"==typeof ae.get||se(),window.__CE_installPolyfill=se},7706:e=>{e.exports=function(e,t,i){for(var r=i-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}},8138:(e,t,i)=>{var r=i(7379),o=i(3142),n=i(547);e.exports=function(e){return"string"==typeof e||!o(e)&&n(e)&&"[object String]"==r(e)}},8203:(e,t,i)=>{"use strict";var r=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==i.g)return i.g;throw new Error("unable to locate global object")}();e.exports=t=r.fetch,r.fetch&&(t.default=r.fetch.bind(r)),t.Headers=r.Headers,t.Request=r.Request,t.Response=r.Response},8227:(e,t,i)=>{const r=i(3142),o=i(8138),n=i(7292);var a=0;class s{constructor(e){this.id=++a,r(e)?(this.open=e[0],this.close=e[1]):o(e)&&(this.text=e),this.children=[]}append(e){e instanceof s||(e=new s(e)),e._parent&&n(e._parent.children,e),e._parent=this,this.children=this.children.concat(e)}render(){var e="";this.open&&(e+=this.open),this.text&&(e+=this.text);for(var t=0;t<this.children.length;t++)e+=this.children[t].render();return this.close&&(e+=this.close),e}parent(){return this._parent}}e.exports=s},8250:e=>{e.exports=function(e,t,i,r){for(var o=i-1,n=e.length;++o<n;)if(r(e[o],t))return o;return-1}},8288:(e,t,i)=>{"use strict";t.Kj=void 0;var r=i(3449);Object.defineProperty(t,"Kj",{enumerable:!0,get:function(){return r.default}});i(6465),i(1073),i(9885)},8475:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.InsertDataQuill=function(e,t){this.type=e,this.value=t};t.InsertDataCustom=function(e,t){this.type=e,this.value=t}},8504:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>s});var r=i(6758),o=i.n(r),n=i(935),a=i.n(n)()(o());a.push([e.id,":host{font-family:var(--wh-font-family)}.badge{background-color:var(--wh-subtle-gray);color:#fff;font-size:10px;border-radius:9999px;display:inline-flex;text-align:center;align-items:center;padding:0 5px;box-sizing:border-box;justify-content:center;height:14px}hr.divider{margin:10px auto;border:.5px solid var(--wh-border-base);width:100%}:host{display:flex;align-items:center;--font-color: rgba(117, 117, 117, 1);width:100%;justify-content:flex-end}.import-btn,.loading-indicator{display:flex;align-items:center;column-gap:4px;box-shadow:rgba(0,0,0,.1) 5px 7px 6px -4px;padding:2px 8px;margin:4px;border:none;border-radius:4px;color:#fff;font-weight:500;font-size:14px;cursor:pointer;background:var(--wh-primary-color)}.import-btn:hover,.loading-indicator:hover{background:var(--wh-primary-color-hover)}.loading-indicator{cursor:default}.loading-indicator:hover{background:var(--wh-primary-color)}.refresh-btn{background:none;cursor:pointer;display:flex;align-items:center;justify-content:center;padding:2px;border-radius:4px;font-size:14px;border:none;line-height:20px}.refresh-btn:hover:not(:focus){background:rgba(234,234,234,.469)}.refresh-btn:focus{transform:rotate(360deg);transition:transform 1s linear}.import-icon{width:18px;height:18px;fill:#fff}",""]);const s=a},8537:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tokenizeWithNewLines=function(e){var t="\n";if(e===t)return[e];var i=e.split(t);if(1===i.length)return i;var r=i.length-1;return i.reduce(function(e,i,o){return o!==r?""!==i?e=e.concat(i,t):e.push(t):""!==i&&e.push(i),e},[])}},8677:(e,t,i)=>{e=i.nmd(e);var r="__lodash_hash_undefined__",o=9007199254740991,n="[object Arguments]",a="[object Array]",s="[object Boolean]",l="[object Date]",c="[object Error]",d="[object Function]",u="[object Map]",h="[object Number]",p="[object Object]",g="[object Promise]",f="[object RegExp]",m="[object Set]",b="[object String]",y="[object WeakMap]",v="[object ArrayBuffer]",w="[object DataView]",_=/^\[object .+?Constructor\]$/,T=/^(?:0|[1-9]\d*)$/,A={};A["[object Float32Array]"]=A["[object Float64Array]"]=A["[object Int8Array]"]=A["[object Int16Array]"]=A["[object Int32Array]"]=A["[object Uint8Array]"]=A["[object Uint8ClampedArray]"]=A["[object Uint16Array]"]=A["[object Uint32Array]"]=!0,A[n]=A[a]=A[v]=A[s]=A[w]=A[l]=A[c]=A[d]=A[u]=A[h]=A[p]=A[f]=A[m]=A[b]=A[y]=!1;var E="object"==typeof i.g&&i.g&&i.g.Object===Object&&i.g,k="object"==typeof self&&self&&self.Object===Object&&self,S=E||k||Function("return this")(),x=t&&!t.nodeType&&t,C=x&&e&&!e.nodeType&&e,I=C&&C.exports===x,N=I&&E.process,D=function(){try{return N&&N.binding&&N.binding("util")}catch(e){}}(),O=D&&D.isTypedArray;function L(e,t){for(var i=-1,r=null==e?0:e.length;++i<r;)if(t(e[i],i,e))return!0;return!1}function P(e){var t=-1,i=Array(e.size);return e.forEach(function(e,r){i[++t]=[r,e]}),i}function R(e){var t=-1,i=Array(e.size);return e.forEach(function(e){i[++t]=e}),i}var M,B,U,$=Array.prototype,G=Function.prototype,F=Object.prototype,H=S["__core-js_shared__"],z=G.toString,j=F.hasOwnProperty,V=(M=/[^.]+$/.exec(H&&H.keys&&H.keys.IE_PROTO||""))?"Symbol(src)_1."+M:"",W=F.toString,q=RegExp("^"+z.call(j).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Y=I?S.Buffer:void 0,K=S.Symbol,X=S.Uint8Array,J=F.propertyIsEnumerable,Z=$.splice,Q=K?K.toStringTag:void 0,ee=Object.getOwnPropertySymbols,te=Y?Y.isBuffer:void 0,ie=(B=Object.keys,U=Object,function(e){return B(U(e))}),re=Ce(S,"DataView"),oe=Ce(S,"Map"),ne=Ce(S,"Promise"),ae=Ce(S,"Set"),se=Ce(S,"WeakMap"),le=Ce(Object,"create"),ce=Oe(re),de=Oe(oe),ue=Oe(ne),he=Oe(ae),pe=Oe(se),ge=K?K.prototype:void 0,fe=ge?ge.valueOf:void 0;function me(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var r=e[t];this.set(r[0],r[1])}}function be(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var r=e[t];this.set(r[0],r[1])}}function ye(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var r=e[t];this.set(r[0],r[1])}}function ve(e){var t=-1,i=null==e?0:e.length;for(this.__data__=new ye;++t<i;)this.add(e[t])}function we(e){var t=this.__data__=new be(e);this.size=t.size}function _e(e,t){for(var i=e.length;i--;)if(Le(e[i][0],t))return i;return-1}function Te(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Q&&Q in Object(e)?function(e){var t=j.call(e,Q),i=e[Q];try{e[Q]=void 0;var r=!0}catch(e){}var o=W.call(e);return r&&(t?e[Q]=i:delete e[Q]),o}(e):function(e){return W.call(e)}(e)}function Ae(e){return Ge(e)&&Te(e)==n}function Ee(e,t,i,r,o){return e===t||(null==e||null==t||!Ge(e)&&!Ge(t)?e!=e&&t!=t:function(e,t,i,r,o,d){var g=Re(e),y=Re(t),_=g?a:Ne(e),T=y?a:Ne(t),A=(_=_==n?p:_)==p,E=(T=T==n?p:T)==p,k=_==T;if(k&&Me(e)){if(!Me(t))return!1;g=!0,A=!1}if(k&&!A)return d||(d=new we),g||Fe(e)?ke(e,t,i,r,o,d):function(e,t,i,r,o,n,a){switch(i){case w:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case v:return!(e.byteLength!=t.byteLength||!n(new X(e),new X(t)));case s:case l:case h:return Le(+e,+t);case c:return e.name==t.name&&e.message==t.message;case f:case b:return e==t+"";case u:var d=P;case m:var p=1&r;if(d||(d=R),e.size!=t.size&&!p)return!1;var g=a.get(e);if(g)return g==t;r|=2,a.set(e,t);var y=ke(d(e),d(t),r,o,n,a);return a.delete(e),y;case"[object Symbol]":if(fe)return fe.call(e)==fe.call(t)}return!1}(e,t,_,i,r,o,d);if(!(1&i)){var S=A&&j.call(e,"__wrapped__"),x=E&&j.call(t,"__wrapped__");if(S||x){var C=S?e.value():e,I=x?t.value():t;return d||(d=new we),o(C,I,i,r,d)}}return!!k&&(d||(d=new we),function(e,t,i,r,o,n){var a=1&i,s=Se(e),l=s.length;if(l!=Se(t).length&&!a)return!1;for(var c=l;c--;){var d=s[c];if(!(a?d in t:j.call(t,d)))return!1}var u=n.get(e);if(u&&n.get(t))return u==t;var h=!0;n.set(e,t),n.set(t,e);for(var p=a;++c<l;){var g=e[d=s[c]],f=t[d];if(r)var m=a?r(f,g,d,t,e,n):r(g,f,d,e,t,n);if(!(void 0===m?g===f||o(g,f,i,r,n):m)){h=!1;break}p||(p="constructor"==d)}if(h&&!p){var b=e.constructor,y=t.constructor;b==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof y&&y instanceof y||(h=!1)}return n.delete(e),n.delete(t),h}(e,t,i,r,o,d))}(e,t,i,r,Ee,o))}function ke(e,t,i,r,o,n){var a=1&i,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var c=n.get(e);if(c&&n.get(t))return c==t;var d=-1,u=!0,h=2&i?new ve:void 0;for(n.set(e,t),n.set(t,e);++d<s;){var p=e[d],g=t[d];if(r)var f=a?r(g,p,d,t,e,n):r(p,g,d,e,t,n);if(void 0!==f){if(f)continue;u=!1;break}if(h){if(!L(t,function(e,t){if(a=t,!h.has(a)&&(p===e||o(p,e,i,r,n)))return h.push(t);var a})){u=!1;break}}else if(p!==g&&!o(p,g,i,r,n)){u=!1;break}}return n.delete(e),n.delete(t),u}function Se(e){return function(e,t,i){var r=t(e);return Re(e)?r:function(e,t){for(var i=-1,r=t.length,o=e.length;++i<r;)e[o+i]=t[i];return e}(r,i(e))}(e,He,Ie)}function xe(e,t){var i,r,o=e.__data__;return("string"==(r=typeof(i=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==i:null===i)?o["string"==typeof t?"string":"hash"]:o.map}function Ce(e,t){var i=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!$e(e)||function(e){return!!V&&V in e}(e))&&(Be(e)?q:_).test(Oe(e))}(i)?i:void 0}me.prototype.clear=function(){this.__data__=le?le(null):{},this.size=0},me.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},me.prototype.get=function(e){var t=this.__data__;if(le){var i=t[e];return i===r?void 0:i}return j.call(t,e)?t[e]:void 0},me.prototype.has=function(e){var t=this.__data__;return le?void 0!==t[e]:j.call(t,e)},me.prototype.set=function(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=le&&void 0===t?r:t,this},be.prototype.clear=function(){this.__data__=[],this.size=0},be.prototype.delete=function(e){var t=this.__data__,i=_e(t,e);return!(i<0||(i==t.length-1?t.pop():Z.call(t,i,1),--this.size,0))},be.prototype.get=function(e){var t=this.__data__,i=_e(t,e);return i<0?void 0:t[i][1]},be.prototype.has=function(e){return _e(this.__data__,e)>-1},be.prototype.set=function(e,t){var i=this.__data__,r=_e(i,e);return r<0?(++this.size,i.push([e,t])):i[r][1]=t,this},ye.prototype.clear=function(){this.size=0,this.__data__={hash:new me,map:new(oe||be),string:new me}},ye.prototype.delete=function(e){var t=xe(this,e).delete(e);return this.size-=t?1:0,t},ye.prototype.get=function(e){return xe(this,e).get(e)},ye.prototype.has=function(e){return xe(this,e).has(e)},ye.prototype.set=function(e,t){var i=xe(this,e),r=i.size;return i.set(e,t),this.size+=i.size==r?0:1,this},ve.prototype.add=ve.prototype.push=function(e){return this.__data__.set(e,r),this},ve.prototype.has=function(e){return this.__data__.has(e)},we.prototype.clear=function(){this.__data__=new be,this.size=0},we.prototype.delete=function(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i},we.prototype.get=function(e){return this.__data__.get(e)},we.prototype.has=function(e){return this.__data__.has(e)},we.prototype.set=function(e,t){var i=this.__data__;if(i instanceof be){var r=i.__data__;if(!oe||r.length<199)return r.push([e,t]),this.size=++i.size,this;i=this.__data__=new ye(r)}return i.set(e,t),this.size=i.size,this};var Ie=ee?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var i=-1,r=null==e?0:e.length,o=0,n=[];++i<r;){var a=e[i];t(a)&&(n[o++]=a)}return n}(ee(e),function(t){return J.call(e,t)}))}:function(){return[]},Ne=Te;function De(e,t){return!!(t=null==t?o:t)&&("number"==typeof e||T.test(e))&&e>-1&&e%1==0&&e<t}function Oe(e){if(null!=e){try{return z.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Le(e,t){return e===t||e!=e&&t!=t}(re&&Ne(new re(new ArrayBuffer(1)))!=w||oe&&Ne(new oe)!=u||ne&&Ne(ne.resolve())!=g||ae&&Ne(new ae)!=m||se&&Ne(new se)!=y)&&(Ne=function(e){var t=Te(e),i=t==p?e.constructor:void 0,r=i?Oe(i):"";if(r)switch(r){case ce:return w;case de:return u;case ue:return g;case he:return m;case pe:return y}return t});var Pe=Ae(function(){return arguments}())?Ae:function(e){return Ge(e)&&j.call(e,"callee")&&!J.call(e,"callee")},Re=Array.isArray,Me=te||function(){return!1};function Be(e){if(!$e(e))return!1;var t=Te(e);return t==d||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ue(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}function $e(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ge(e){return null!=e&&"object"==typeof e}var Fe=O?function(e){return function(t){return e(t)}}(O):function(e){return Ge(e)&&Ue(e.length)&&!!A[Te(e)]};function He(e){return null!=(t=e)&&Ue(t.length)&&!Be(t)?function(e,t){var i=Re(e),r=!i&&Pe(e),o=!i&&!r&&Me(e),n=!i&&!r&&!o&&Fe(e),a=i||r||o||n,s=a?function(e,t){for(var i=-1,r=Array(e);++i<e;)r[i]=t(i);return r}(e.length,String):[],l=s.length;for(var c in e)!t&&!j.call(e,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||n&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||De(c,l))||s.push(c);return s}(e):function(e){if(i=(t=e)&&t.constructor,t!==("function"==typeof i&&i.prototype||F))return ie(e);var t,i,r=[];for(var o in Object(e))j.call(e,o)&&"constructor"!=o&&r.push(o);return r}(e);var t}e.exports=function(e,t){return Ee(e,t)}},8735:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preferSecond=function(e){return 0===e.length?null:e.length>=2?e[1]:e[0]},t.flatten=function e(t){return t.reduce(function(t,i){return t.concat(Array.isArray(i)?e(i):i)},[])},t.find=function(e,t){if(Array.prototype.find)return Array.prototype.find.call(e,t);for(var i=0;i<e.length;i++)if(t(e[i]))return e[i]},t.groupConsecutiveElementsWhile=function(e,t){for(var i,r=[],o=0;o<e.length;o++)i=e[o],o>0&&t(i,e[o-1])?r[r.length-1].push(i):r.push([i]);return r.map(function(e){return 1===e.length?e[0]:e})},t.sliceFromReverseWhile=function(e,t,i){for(var r={elements:[],sliceStartsAt:-1},o=t;o>=0&&i(e[o]);o--)r.sliceStartsAt=o,r.elements.unshift(e[o]);return r},t.intersperse=function(e,t){return e.reduce(function(i,r,o){return i.push(r),o<e.length-1&&i.push(t),i},[])}},8774:(e,t,i)=>{var r=i(2478);e.exports=function(e,t){for(var i=e.length;i--&&r(t,e[i],0)>-1;);return i}},8840:function(e,t){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});t.InlineGroup=function(e){this.ops=e};var o=function(e){this.op=e},n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(o);t.VideoItem=n;var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(o);t.BlotBlock=a;t.BlockGroup=function(e,t){this.op=e,this.ops=t};t.ListGroup=function(e){this.items=e};t.ListItem=function(e,t){void 0===t&&(t=null),this.item=e,this.innerList=t};t.TableGroup=function(e){this.rows=e};t.TableRow=function(e){this.cells=e};t.TableCell=function(e){this.item=e}},8870:(e,t,i)=>{var r=i(5650),o=Object.prototype,n=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=n.call(e,s),i=e[s];try{e[s]=void 0;var r=!0}catch(e){}var o=a.call(e);return r&&(t?e[s]=i:delete e[s]),o}},8931:(e,t,i)=>{var r=i(3501);e.exports=function(e,t,i){var o=e.length;return i=void 0===i?o:i,!t&&i>=o?e:r(e,t,i)}},8942:(e,t,i)=>{var r=i(4967),o="object"==typeof self&&self&&self.Object===Object&&self,n=r||o||Function("return this")();e.exports=n},9005:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},9261:(e,t,i)=>{var r=i(5111),o=i(2478),n=i(8250),a=i(9460),s=i(4354),l=Array.prototype.splice;e.exports=function(e,t,i,c){var d=c?n:o,u=-1,h=t.length,p=e;for(e===t&&(t=s(t)),i&&(p=r(e,a(i)));++u<h;)for(var g=0,f=t[u],m=i?i(f):f;(g=d(p,m,g,c))>-1;)p!==e&&l.call(p,g,1),l.call(e,g,1);return e}},9454:e=>{e.exports=function(e){return e!=e}},9460:e=>{e.exports=function(e){return function(t){return e(t)}}},9624:(e,t,i)=>{var r=i(3655),o=i(4759),n=i(1580),a=i(4066),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,d=l.toString,u=c.hasOwnProperty,h=RegExp("^"+d.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!n(e)||o(e))&&(r(e)?h:s).test(a(e))}},9773:e=>{window,e.exports=function(e){var t={};function i(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=e,i.c=t,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(r,o,function(t){return e[t]}.bind(null,o));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=7)}([function(e,t,i){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.eventEmitter=t.INTERNAL_ERROR_EVENT=t.UNKNOWN_IDX=t.ROOT_IDX=t.getStylesheet=t.getDefaultOptions=t.CAMEL_DATASET_SPLIT_TYPE=t.CAMEL_DATASET_IDENTIFIER_EXTRA=t.CAMEL_DATASET_IDENTIFIER=t.DATASET_SPLIT_TYPE=t.DATASET_IDENTIFIER_EXTRA=t.DATASET_IDENTIFIER=t.STYLESHEET_ID=t.LOCAL_STORE_KEY=t.ID_DIVISION=void 0;var a=n(i(10)),s=n(i(2));t.ID_DIVISION=";",t.LOCAL_STORE_KEY="highlight-mengshou",t.STYLESHEET_ID="highlight-mengshou-style",t.DATASET_IDENTIFIER="highlight-id",t.DATASET_IDENTIFIER_EXTRA="highlight-id-extra",t.DATASET_SPLIT_TYPE="highlight-split-type",t.CAMEL_DATASET_IDENTIFIER=a.default(t.DATASET_IDENTIFIER),t.CAMEL_DATASET_IDENTIFIER_EXTRA=a.default(t.DATASET_IDENTIFIER_EXTRA),t.CAMEL_DATASET_SPLIT_TYPE=a.default(t.DATASET_SPLIT_TYPE),t.getDefaultOptions=function(){return{$root:document||document.documentElement,exceptSelectors:null,wrapTag:"span",verbose:!1,style:{className:"highlight-mengshou-wrap"}}},t.getStylesheet=function(){return"\n    ."+t.getDefaultOptions().style.className+" {\n        background: #ff9;\n        cursor: pointer;\n    }\n    ."+t.getDefaultOptions().style.className+".active {\n        background: #ffb;\n    }\n"},t.ROOT_IDX=-2,t.UNKNOWN_IDX=-1,t.INTERNAL_ERROR_EVENT="error";var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(s.default);t.eventEmitter=new l},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserInputEvent=t.SelectedNodeType=t.CreateFrom=t.EventType=t.ERROR=t.SplitType=void 0,function(e){e.none="none",e.head="head",e.tail="tail",e.both="both"}(t.SplitType||(t.SplitType={})),function(e){e.DOM_TYPE_ERROR="[DOM] Receive wrong node type.",e.DOM_SELECTION_EMPTY="[DOM] The selection contains no dom node, may be you except them.",e.RANGE_INVALID="[RANGE] Got invalid dom range, can't convert to a valid highlight range.",e.RANGE_NODE_INVALID="[RANGE] Start or end node isn't a text node, it may occur an error.",e.DB_ID_DUPLICATE_ERROR="[STORE] Unique id conflict.",e.CACHE_SET_ERROR="[CACHE] Cache.data can't be set manually, please use .save().",e.SOURCE_TYPE_ERROR="[SOURCE] Object isn't a highlight source instance.",e.HIGHLIGHT_RANGE_FROZEN="[HIGHLIGHT_RANGE] A highlight range must be frozen before render.",e.HIGHLIGHT_SOURCE_RECREATE="[HIGHLIGHT_SOURCE] Recreate highlights from sources error.",e.HIGHLIGHT_SOURCE_NONE_RENDER="[HIGHLIGHT_SOURCE] This highlight source isn't rendered. May be the exception skips it or the dom structure has changed."}(t.ERROR||(t.ERROR={})),function(e){e.CREATE="selection:create",e.REMOVE="selection:remove",e.MODIFY="selection:modify",e.HOVER="selection:hover",e.HOVER_OUT="selection:hover-out",e.CLICK="selection:click"}(t.EventType||(t.EventType={})),function(e){e.STORE="from-store",e.INPUT="from-input"}(t.CreateFrom||(t.CreateFrom={})),function(e){e.text="text",e.span="span"}(t.SelectedNodeType||(t.SelectedNodeType={})),function(e){e.touchend="touchend",e.mouseup="mouseup",e.touchstart="touchstart",e.click="click",e.mouseover="mouseover"}(t.UserInputEvent||(t.UserInputEvent={}))},function(e,t,i){"use strict";var r=this&&this.__read||function(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var r,o,n=i.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=n.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(i=n.return)&&i.call(n)}finally{if(o)throw o.error}}return a},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.handlersMap=Object.create(null)}return e.prototype.on=function(e,t){return this.handlersMap[e]||(this.handlersMap[e]=[]),this.handlersMap[e].push(t),this},e.prototype.off=function(e,t){return this.handlersMap[e]&&this.handlersMap[e].splice(this.handlersMap[e].indexOf(t)>>>0,1),this},e.prototype.emit=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];return this.handlersMap[e]&&this.handlersMap[e].slice().forEach(function(e){e.apply(void 0,o(t))}),this},e}();t.default=n},function(e,t,i){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(i(5)),n=i(9),a=function(){function e(e,t,i,r,o){this.startMeta=e,this.endMeta=t,this.text=i,this.id=r,this.__isHighlightSource={},o&&(this.extra=o)}return e.prototype.deSerialize=function(e,t){var i=n.queryElementNode(this,e),r=i.start,a=i.end,s=n.getTextChildByOffset(r,this.startMeta.textOffset),l=n.getTextChildByOffset(a,this.endMeta.textOffset);if(!t.Serialize.Restore.isEmpty()){var c=t.Serialize.Restore.call(this,s,l)||[];s=c[0]||s,l=c[1]||l}return new o.default(s,l,this.text,this.id,!0)},e}();t.default=a},function(e,t,i){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,i=t&&e[t],r=0;if(i)return i.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var r,o,n=i.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=n.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(i=n.return)&&i.call(n)}finally{if(o)throw o.error}}return a},n=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0}),t.hasClass=t.removeAllClass=t.removeClass=t.addClass=t.addEventListener=t.removeEventListener=t.forEach=t.getHighlightById=t.getHighlightsByRoot=t.getExtraHighlightId=t.getHighlightId=t.isHighlightWrapNode=void 0;var a=i(0);t.isHighlightWrapNode=function(e){return!!e.dataset&&!!e.dataset[a.CAMEL_DATASET_IDENTIFIER]};var s=function(e,i){for(var r=!1,o=null;e;){if(t.isHighlightWrapNode(e)&&(o=e),e===i){r=!0;break}e=e.parentNode}return r?o:null};t.getHighlightId=function(e,t){return(e=s(e,t))?e.dataset[a.CAMEL_DATASET_IDENTIFIER]:""},t.getExtraHighlightId=function(e,t){return(e=s(e,t))?e.dataset[a.CAMEL_DATASET_IDENTIFIER_EXTRA].split(a.ID_DIVISION).filter(function(e){return e}):[]},t.getHighlightsByRoot=function(e,t){var i,o;Array.isArray(e)||(e=[e]);var n=[];try{for(var s=r(e),l=s.next();!l.done;l=s.next()){var c=l.value.querySelectorAll(t+"[data-"+a.DATASET_IDENTIFIER+"]");n.push.apply(n,c)}}catch(e){i={error:e}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}return n},t.getHighlightById=function(e,t,i){var o,n,s=[],l=new RegExp("("+t+"\\"+a.ID_DIVISION+"|\\"+a.ID_DIVISION+"?"+t+"$)"),c=e.querySelectorAll(i+"[data-"+a.DATASET_IDENTIFIER+"]");try{for(var d=r(c),u=d.next();!u.done;u=d.next()){var h=u.value;if(h.dataset[a.CAMEL_DATASET_IDENTIFIER]!==t){var p=h.dataset[a.CAMEL_DATASET_IDENTIFIER_EXTRA];l.test(p)&&s.push(h)}else s.push(h)}}catch(e){o={error:e}}finally{try{u&&!u.done&&(n=d.return)&&n.call(d)}finally{if(o)throw o.error}}return s},t.forEach=function(e,t){for(var i=0;i<e.length;i++)t(e[i],i,e)},t.removeEventListener=function(e,t,i){e.removeEventListener(t,i)},t.addEventListener=function(e,i,r){return e.addEventListener(i,r),function(){t.removeEventListener(e,i,r)}},t.addClass=function(e,t){var i;Array.isArray(t)||(t=[t]),(i=e.classList).add.apply(i,n(t))},t.removeClass=function(e,t){e.classList.remove(t)},t.removeAllClass=function(e){e.className=""},t.hasClass=function(e,t){return e.classList.contains(t)}},function(e,t,i){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(i(3)),n=i(1),a=i(11),s=r(i(6)),l=i(12),c=i(0),d=function(){function e(e,t,i,r,o){void 0===o&&(o=!1),3===e.$node.nodeType&&3===t.$node.nodeType||c.eventEmitter.emit(c.INTERNAL_ERROR_EVENT,{type:n.ERROR.RANGE_NODE_INVALID}),this.start=l.formatDomNode(e),this.end=l.formatDomNode(t),this.text=i,this.frozen=o,this.id=r}return e.fromSelection=function(t){var i=a.getDomRange();if(!i)return null;var r={$node:i.startContainer,offset:i.startOffset},o={$node:i.endContainer,offset:i.endOffset},n=i.toString(),l=t.call(r,o,n);return new e(r,o,n,l=null!=l?l:s.default())},e.prototype.serialize=function(e,t){var i,r=l.getDomMeta(this.start.$node,this.start.offset,e),n=l.getDomMeta(this.end.$node,this.end.offset,e);return t.Serialize.RecordInfo.isEmpty()||(i=t.Serialize.RecordInfo.call(this.start,this.end,e)),this.frozen=!0,new o.default(r,n,this.text,this.id,i)},e.removeDomRange=a.removeSelection,e}();t.default=d},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){return t?(t^16*Math.random()>>t/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e)}},function(e,t,i){e.exports=i(8)},function(e,t,i){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(i(2)),l=a(i(5)),c=a(i(3)),d=a(i(6)),u=a(i(13)),h=a(i(14)),p=a(i(16)),g=a(i(17)),f=i(0),m=i(1),b=i(4),y=function(e){function t(t){var i=e.call(this)||this;i.event=h.default(),i.run=function(){return b.addEventListener(i.options.$root,i.event.PointerEnd,i._handleSelection)},i.stop=function(){b.removeEventListener(i.options.$root,i.event.PointerEnd,i._handleSelection)},i.addClass=function(e,t){i.getDoms(t).forEach(function(t){b.addClass(t,e)})},i.removeClass=function(e,t){i.getDoms(t).forEach(function(t){b.removeClass(t,e)})},i.getIdByDom=function(e){return b.getHighlightId(e,i.options.$root)},i.getExtraIdByDom=function(e){return b.getExtraHighlightId(e,i.options.$root)},i.getDoms=function(e){return e?b.getHighlightById(i.options.$root,e,i.options.wrapTag):b.getHighlightsByRoot(i.options.$root,i.options.wrapTag)},i.dispose=function(){var e=i.options.$root;b.removeEventListener(e,i.event.PointerOver,i._handleHighlightHover),b.removeEventListener(e,i.event.PointerEnd,i._handleSelection),b.removeEventListener(e,i.event.PointerTap,i._handleHighlightClick),i.removeAll()},i.setOption=function(e){i.options=n(n({},i.options),e),i.painter=new g.default({$root:i.options.$root,wrapTag:i.options.wrapTag,className:i.options.style.className,exceptSelectors:i.options.exceptSelectors},i.hooks)},i.fromRange=function(e){var t={$node:e.startContainer,offset:e.startOffset},r={$node:e.endContainer,offset:e.endOffset},o=e.toString(),n=i.hooks.Render.UUID.call(t,r,o);n=null!=n?n:d.default();var a=new l.default(t,r,o,n);return a?i._highlightFromHRange(a):(f.eventEmitter.emit(f.INTERNAL_ERROR_EVENT,{type:m.ERROR.RANGE_INVALID}),null)},i.fromStore=function(e,t,r,o,n){var a=new c.default(e,t,r,o,n);try{return i._highlightFromHSource(a),a}catch(e){return f.eventEmitter.emit(f.INTERNAL_ERROR_EVENT,{type:m.ERROR.HIGHLIGHT_SOURCE_RECREATE,error:e,detail:a}),null}},i._getHooks=function(){return{Render:{UUID:new u.default("Render.UUID"),SelectedNodes:new u.default("Render.SelectedNodes"),WrapNode:new u.default("Render.WrapNode")},Serialize:{Restore:new u.default("Serialize.Restore"),RecordInfo:new u.default("Serialize.RecordInfo")},Remove:{UpdateNodes:new u.default("Remove.UpdateNodes")}}},i._highlightFromHRange=function(e){var t=e.serialize(i.options.$root,i.hooks);return 0===i.painter.highlightRange(e).length?(f.eventEmitter.emit(f.INTERNAL_ERROR_EVENT,{type:m.ERROR.DOM_SELECTION_EMPTY}),null):(i.cache.save(t),i.emit(m.EventType.CREATE,{sources:[t],type:m.CreateFrom.INPUT},i),t)},i._handleSelection=function(){var e=l.default.fromSelection(i.hooks.Render.UUID);e&&(i._highlightFromHRange(e),l.default.removeDomRange())},i._handleHighlightHover=function(e){var t=e.target;if(!b.isHighlightWrapNode(t))return i._hoverId&&i.emit(m.EventType.HOVER_OUT,{id:i._hoverId},i,e),void(i._hoverId=null);var r=b.getHighlightId(t,i.options.$root);i._hoverId!==r&&(i._hoverId&&i.emit(m.EventType.HOVER_OUT,{id:i._hoverId},i,e),i._hoverId=r,i.emit(m.EventType.HOVER,{id:i._hoverId},i,e))},i._handleError=function(e){i.options.verbose&&console.warn(e)},i._handleHighlightClick=function(e){var t=e.target;if(b.isHighlightWrapNode(t)){var r=b.getHighlightId(t,i.options.$root);i.emit(m.EventType.CLICK,{id:r},i,e)}},i.options=f.getDefaultOptions(),i.hooks=i._getHooks(),i.setOption(t),i.cache=new p.default;var r=i.options.$root;return b.addEventListener(r,i.event.PointerOver,i._handleHighlightHover),b.addEventListener(r,i.event.PointerTap,i._handleHighlightClick),f.eventEmitter.on(f.INTERNAL_ERROR_EVENT,i._handleError),i}return o(t,e),t.prototype.remove=function(e){if(e){var t=this.painter.removeHighlight(e);this.cache.remove(e),t&&this.emit(m.EventType.REMOVE,{ids:[e]},this)}},t.prototype.removeAll=function(){this.painter.removeAllHighlight();var e=this.cache.removeAll();this.emit(m.EventType.REMOVE,{ids:e},this)},t.prototype._highlightFromHSource=function(e){void 0===e&&(e=[]);var t=this.painter.highlightSource(e);this.emit(m.EventType.CREATE,{sources:t,type:m.CreateFrom.STORE},this),this.cache.save(e)},t.event=m.EventType,t.isHighlightWrapNode=b.isHighlightWrapNode,t.isHighlightSource=function(e){return!!e.__isHighlightSource},t}(s.default);t.default=y},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.queryElementNode=t.getTextChildByOffset=void 0;var r=i(0);t.getTextChildByOffset=function(e,t){for(var i=[e],r=null,o=0,n=0;r=i.pop();){for(var a=r.childNodes,s=a.length-1;s>=0;s--)i.push(a[s]);if(3===r.nodeType&&(n=t-o,(o+=r.textContent.length)>=t))break}return r||(r=e),{$node:r,offset:n}},t.queryElementNode=function(e,t){return{start:e.startMeta.parentIndex===r.ROOT_IDX?t:t.getElementsByTagName(e.startMeta.parentTagName)[e.startMeta.parentIndex],end:e.endMeta.parentIndex===r.ROOT_IDX?t:t.getElementsByTagName(e.endMeta.parentTagName)[e.endMeta.parentIndex]}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.split("-").reduce(function(e,t,i){return e+(0===i?t:t[0].toUpperCase()+t.slice(1))},"")}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeSelection=t.getDomRange=void 0,t.getDomRange=function(){var e=window.getSelection();return e.isCollapsed?(console.debug("no text selected"),null):e.getRangeAt(0)},t.removeSelection=function(){window.getSelection().removeAllRanges()}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatDomNode=t.getDomMeta=void 0;var r=i(0);t.getDomMeta=function(e,t,i){var o=function(e){if(e instanceof HTMLElement&&(!e.dataset||!e.dataset[r.CAMEL_DATASET_IDENTIFIER]))return e;for(var t=e.parentNode;null==t?void 0:t.dataset[r.CAMEL_DATASET_IDENTIFIER];)t=t.parentNode;return t}(e),n=o===i?r.ROOT_IDX:function(e,t){for(var i=e.tagName,o=t.getElementsByTagName(i),n=0;n<o.length;n++)if(e===o[n])return n;return r.UNKNOWN_IDX}(o,i),a=function(e,t){for(var i=[e],r=null,o=0;r=i.pop();){for(var n=r.childNodes,a=n.length-1;a>=0;a--)i.push(n[a]);if(3===r.nodeType&&r!==t)o+=r.textContent.length;else if(3===r.nodeType)break}return o}(o,e);return{parentTagName:o.tagName,parentIndex:n,textOffset:a+t}},t.formatDomNode=function(e){return 3===e.$node.nodeType||4===e.$node.nodeType||8===e.$node.nodeType?e:{$node:e.$node.childNodes[e.offset],offset:0}}},function(e,t,i){"use strict";var r=this&&this.__read||function(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var r,o,n=i.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=n.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(i=n.return)&&i.call(n)}finally{if(o)throw o.error}}return a},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.name="",this.ops=[],this.name=e}return e.prototype.tap=function(e){var t=this;return-1===this.ops.indexOf(e)&&this.ops.push(e),function(){t.remove(e)}},e.prototype.remove=function(e){var t=this.ops.indexOf(e);t<0||this.ops.splice(t,1)},e.prototype.isEmpty=function(){return 0===this.ops.length},e.prototype.call=function(){for(var e,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return this.ops.forEach(function(i){e=i.apply(void 0,o(t))}),e},e}();t.default=n},function(e,t,i){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(1),n=r(i(15));t.default=function(){var e=n.default(window.navigator.userAgent);return{PointerEnd:e?o.UserInputEvent.touchend:o.UserInputEvent.mouseup,PointerTap:e?o.UserInputEvent.touchstart:o.UserInputEvent.click,PointerOver:e?o.UserInputEvent.touchstart:o.UserInputEvent.mouseover}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=/Android|iPhone|BlackBerry|BB10|Opera Mini|Phone|Mobile|Silk|Windows Phone|Mobile(?:.+)Firefox\b/i;t.default=function(e){return r.test(e)}},function(e,t,i){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,i=t&&e[t],r=0;if(i)return i.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(i(2)),l=i(1),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._data=new Map,t}return o(t,e),Object.defineProperty(t.prototype,"data",{get:function(){return this.getAll()},set:function(e){throw l.ERROR.CACHE_SET_ERROR},enumerable:!1,configurable:!0}),t.prototype.save=function(e){var t=this;Array.isArray(e)?e.forEach(function(e){return t._data.set(e.id,e)}):this._data.set(e.id,e)},t.prototype.get=function(e){return this._data.get(e)},t.prototype.remove=function(e){this._data.delete(e)},t.prototype.getAll=function(){var e,t,i=[];try{for(var r=n(this._data),o=r.next();!o.done;o=r.next()){var a=o.value;i.push(a[1])}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return i},t.prototype.removeAll=function(){var e,t,i=[];try{for(var r=n(this._data),o=r.next();!o.done;o=r.next()){var a=o.value;i.push(a[0])}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return this._data=new Map,i},t}(s.default);t.default=c},function(e,t,i){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,i=t&&e[t],r=0;if(i)return i.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var r,o,n=i.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=n.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(i=n.return)&&i.call(n)}finally{if(o)throw o.error}}return a},n=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(i(3)),l=i(18),c=i(4),d=i(1),u=i(20),h=i(0),p=function(){function e(e,t){this.options={$root:e.$root,wrapTag:e.wrapTag,exceptSelectors:e.exceptSelectors,className:e.className},this.hooks=t,u.initDefaultStylesheet()}return e.prototype.highlightRange=function(e){var t=this;if(!e.frozen)throw d.ERROR.HIGHLIGHT_RANGE_FROZEN;var i=this.options,r=i.$root,o=i.className,n=i.exceptSelectors,a=this.hooks,s=l.getSelectedNodes(r,e.start,e.end,n);return a.Render.SelectedNodes.isEmpty()||(s=a.Render.SelectedNodes.call(e.id,s)||[]),s.map(function(i){var r=l.wrapHighlight(i,e,o,t.options.wrapTag);return a.Render.WrapNode.isEmpty()||(r=a.Render.WrapNode.call(e.id,r)),r})},e.prototype.highlightSource=function(e){var t=this,i=Array.isArray(e)?e:[e],r=[];return i.forEach(function(e){if(e instanceof s.default){var i=e.deSerialize(t.options.$root,t.hooks);t.highlightRange(i).length>0?r.push(e):h.eventEmitter.emit(h.INTERNAL_ERROR_EVENT,{type:d.ERROR.HIGHLIGHT_SOURCE_NONE_RENDER,detail:e})}else h.eventEmitter.emit(h.INTERNAL_ERROR_EVENT,{type:d.ERROR.SOURCE_TYPE_ERROR})}),r},e.prototype.removeHighlight=function(e){var t,i,o=new RegExp("("+e+"\\"+h.ID_DIVISION+"|\\"+h.ID_DIVISION+"?"+e+"$)"),a=this.hooks,s=this.options.wrapTag,d=document.querySelectorAll(s+"[data-"+h.DATASET_IDENTIFIER+"]"),u=[],p=[],g=[];try{for(var f=r(d),m=f.next();!m.done;m=f.next()){var b=m.value,y=b.dataset[h.CAMEL_DATASET_IDENTIFIER],v=b.dataset[h.CAMEL_DATASET_IDENTIFIER_EXTRA];y!==e||v?y===e?p.push(b):y!==e&&o.test(v)&&g.push(b):u.push(b)}}catch(e){t={error:e}}finally{try{m&&!m.done&&(i=f.return)&&i.call(f)}finally{if(t)throw t.error}}return u.forEach(function(t){var i=t.parentNode,r=document.createDocumentFragment();c.forEach(t.childNodes,function(e){return r.appendChild(e.cloneNode(!1))});var o=t.previousSibling,n=t.nextSibling;i.replaceChild(r,t),l.normalizeSiblingText(o,!0),l.normalizeSiblingText(n,!1),a.Remove.UpdateNodes.call(e,t,"remove")}),p.forEach(function(t){var i=t.dataset,r=i[h.CAMEL_DATASET_IDENTIFIER_EXTRA].split(h.ID_DIVISION),o=r.shift(),l=document.querySelector(s+"[data-"+h.DATASET_IDENTIFIER+'="'+o+'"]');l&&(c.removeAllClass(t),c.addClass(t,n(l.classList))),i[h.CAMEL_DATASET_IDENTIFIER]=o,i[h.CAMEL_DATASET_IDENTIFIER_EXTRA]=r.join(h.ID_DIVISION),a.Remove.UpdateNodes.call(e,t,"id-update")}),g.forEach(function(t){var i=t.dataset[h.CAMEL_DATASET_IDENTIFIER_EXTRA];t.dataset[h.CAMEL_DATASET_IDENTIFIER_EXTRA]=i.replace(o,""),a.Remove.UpdateNodes.call(e,t,"extra-update")}),u.length+p.length+g.length!==0},e.prototype.removeAllHighlight=function(){var e=this.options,t=e.wrapTag,i=e.$root;c.getHighlightsByRoot(i,t).forEach(function(e){var t=e.parentNode,i=document.createDocumentFragment();c.forEach(e.childNodes,function(e){return i.appendChild(e.cloneNode(!1))}),t.replaceChild(i,e)})},e}();t.default=p},function(e,t,i){"use strict";var r=this&&this.__read||function(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var r,o,n=i.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=n.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(i=n.return)&&i.call(n)}finally{if(o)throw o.error}}return a},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeSiblingText=t.wrapHighlight=t.getSelectedNodes=void 0;var n=i(1),a=i(4),s=i(0),l=i(19),c=function(e,t){if(!e)return!1;if(/^\./.test(t)){var i=t.replace(/^\./,"");return e&&a.hasClass(e,i)}if(/^#/.test(t)){var r=t.replace(/^#/,"");return e&&e.id===r}var o=t.toUpperCase();return e&&e.tagName===o};t.getSelectedNodes=function(e,t,i,r){var o=t.$node,a=i.$node,s=t.offset,l=i.offset;if(o===a&&o instanceof Text)return function(e,t,i,r){for(var o=e,a=function(e){return null==r?void 0:r.some(function(t){return c(e,t)})};o;){if(1===o.nodeType&&a(o))return[];o=o.parentNode}e.splitText(t);var s=e.nextSibling;return s.splitText(i-t),[{$node:s,type:n.SelectedNodeType.text,splitType:n.SplitType.both}]}(o,s,l,r);for(var d=[e],u=[],h=function(e){return null==r?void 0:r.some(function(t){return c(e,t)})},p=!1,g=null;g=d.pop();)if(1!==g.nodeType||!h(g)){for(var f=g.childNodes,m=f.length-1;m>=0;m--)d.push(f[m]);if(g===o){if(3===g.nodeType){g.splitText(s);var b=g.nextSibling;u.push({$node:b,type:n.SelectedNodeType.text,splitType:n.SplitType.head})}p=!0}else{if(g===a){3===g.nodeType&&((b=g).splitText(l),u.push({$node:b,type:n.SelectedNodeType.text,splitType:n.SplitType.tail}));break}p&&3===g.nodeType&&u.push({$node:g,type:n.SelectedNodeType.text,splitType:n.SplitType.none})}}return u};var d=function(e,t){var i=Array.isArray(t)?t:[t];return(i=0===i.length?[s.getDefaultOptions().style.className]:i).forEach(function(t){a.addClass(e,t)}),e},u=function(e){return!e||!e.textContent};t.wrapHighlight=function(e,t,i,r){var c=e.$node.parentNode,h=e.$node.previousSibling,p=e.$node.nextSibling;return a.isHighlightWrapNode(c)?!a.isHighlightWrapNode(c)||u(h)&&u(p)?function(e,t,i){var r=e.$node.parentNode,o=r;a.removeAllClass(o),d(o,i);var n=r.dataset,l=n[s.CAMEL_DATASET_IDENTIFIER];return n[s.CAMEL_DATASET_IDENTIFIER]=t.id,n[s.CAMEL_DATASET_IDENTIFIER_EXTRA]=n[s.CAMEL_DATASET_IDENTIFIER_EXTRA]?l+s.ID_DIVISION+n[s.CAMEL_DATASET_IDENTIFIER_EXTRA]:l,o}(e,t,i):function(e,t,i,r){var a=document.createElement(r),c=e.$node.parentNode,u=e.$node.previousSibling,h=e.$node.nextSibling,p=document.createDocumentFragment(),g=c.dataset[s.CAMEL_DATASET_IDENTIFIER],f=c.dataset[s.CAMEL_DATASET_IDENTIFIER_EXTRA],m=f?g+s.ID_DIVISION+f:g;a.setAttribute("data-"+s.DATASET_IDENTIFIER,t.id),a.setAttribute("data-"+s.DATASET_IDENTIFIER_EXTRA,m),a.appendChild(e.$node.cloneNode(!1));var b,y=!1,v=!1;u&&((w=c.cloneNode(!1)).textContent=u.textContent,p.appendChild(w),y=!0);var w,_=[];return Array.isArray(i)?_.push.apply(_,o(i)):_.push(i),d(a,l.unique(_)),p.appendChild(a),h&&((w=c.cloneNode(!1)).textContent=h.textContent,p.appendChild(w),v=!0),b=y&&v?n.SplitType.both:y?n.SplitType.head:v?n.SplitType.tail:n.SplitType.none,a.setAttribute("data-"+s.DATASET_SPLIT_TYPE,b),c.parentNode.replaceChild(p,c),a}(e,t,i,r):function(e,t,i,r){var o=document.createElement(r);return d(o,i),o.appendChild(e.$node.cloneNode(!1)),e.$node.parentNode.replaceChild(o,e.$node),o.setAttribute("data-"+s.DATASET_IDENTIFIER,t.id),o.setAttribute("data-"+s.DATASET_SPLIT_TYPE,e.splitType),o.setAttribute("data-"+s.DATASET_IDENTIFIER_EXTRA,""),o}(e,t,i,r)},t.normalizeSiblingText=function(e,t){if(void 0===t&&(t=!0),e&&3===e.nodeType){var i=t?e.nextSibling:e.previousSibling;if(3===i.nodeType){var r=i.nodeValue;e.nodeValue=t?e.nodeValue+r:r+e.nodeValue,i.parentNode.removeChild(i)}}}},function(e,t,i){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,i=t&&e[t],r=0;if(i)return i.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.unique=void 0,t.unique=function(e){var t,i,o=[];try{for(var n=r(e),a=n.next();!a.done;a=n.next()){var s=a.value;-1===o.indexOf(s)&&o.push(s)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(i=n.return)&&i.call(n)}finally{if(t)throw t.error}}return o}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initDefaultStylesheet=void 0;var r=i(0);t.initDefaultStylesheet=function(){var e=r.STYLESHEET_ID,t=document.getElementById(e);if(!t){var i=document.createTextNode(r.getStylesheet());(t=document.createElement("style")).id=e,t.appendChild(i),document.head.appendChild(t)}return t}}]).default},9885:(e,t)=>{"use strict";async function*i(e,t){let i=t.start_cursor;do{const r=await e({...t,start_cursor:i});yield*r.results,i=r.next_cursor}while(i)}function r(e){return"page"===e.object&&"url"in e}function o(e){return"database"===e.object&&"title"in e}Object.defineProperty(t,"__esModule",{value:!0}),t.isMentionRichTextItemResponse=t.isEquationRichTextItemResponse=t.isTextRichTextItemResponse=t.isFullComment=t.isFullUser=t.isFullPageOrDatabase=t.isFullDatabase=t.isFullPage=t.isFullBlock=t.collectPaginatedAPI=t.iteratePaginatedAPI=void 0,t.iteratePaginatedAPI=i,t.collectPaginatedAPI=async function(e,t){const r=[];for await(const o of i(e,t))r.push(o);return r},t.isFullBlock=function(e){return"block"===e.object&&"type"in e},t.isFullPage=r,t.isFullDatabase=o,t.isFullPageOrDatabase=function(e){return"database"===e.object?o(e):r(e)},t.isFullUser=function(e){return"type"in e},t.isFullComment=function(e){return"created_by"in e},t.isTextRichTextItemResponse=function(e){return"text"===e.type},t.isEquationRichTextItemResponse=function(e){return"equation"===e.type},t.isMentionRichTextItemResponse=function(e){return"mention"===e.type}}},n={};function a(e){var t=n[e];if(void 0!==t)return t.exports;var i=n[e]={id:e,loaded:!1,exports:{}};return o[e].call(i.exports,i,i.exports,a),i.loaded=!0,i.exports}return a.m=o,a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,a.t=function(i,r){if(1&r&&(i=this(i)),8&r)return i;if("object"==typeof i&&i){if(4&r&&i.__esModule)return i;if(16&r&&"function"==typeof i.then)return i}var o=Object.create(null);a.r(o);var n={};e=e||[null,t({}),t([]),t(t)];for(var s=2&r&&i;("object"==typeof s||"function"==typeof s)&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach(e=>n[e]=()=>i[e]);return n.default=()=>i,a.d(o,n),o},a.d=(e,t)=>{for(var i in t)a.o(t,i)&&!a.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce((t,i)=>(a.f[i](e,t),t),[])),a.u=e=>({218:"@webhighlights/shared-components/dist/dropdown",221:"@webhighlights/shared-components/dist/search",255:"@webhighlights/shared-components/dist/upgrade-needed",356:"@webhighlights/shared-components/dist/sync-indicator",406:"@webhighlights/shared-components/dist/settings",418:"@webhighlights/shared-components/dist/learning-reminder",427:"@webhighlights/shared-components/dist/chrome-settings",586:"@webhighlights/shared-components/dist/media-type-dropdown-item",612:"@webhighlights/shared-components/dist/notifications-btn",634:"@webhighlights/shared-components/dist/notes-editor",806:"@webhighlights/shared-components/dist/mark-blockquotes-teaser",856:"@webhighlights/shared-components/dist/bookmark-details",881:"@webhighlights/shared-components/dist/dialog",904:"@webhighlights/shared-components/dist/modal",961:"@webhighlights/shared-components/dist/color-picker",1242:"@webhighlights/shared-components/dist/documents-list",1294:"@webhighlights/shared-components/dist/terms-of-service",1484:"@webhighlights/shared-components/dist/ai-summary",1813:"@webhighlights/shared-components/dist/premium-benefits",1829:"@webhighlights/shared-components/dist/invoices",2310:"@webhighlights/shared-components/dist/add-content",2413:"@webhighlights/shared-components/dist/upgrade-deal-prompt",2611:"@webhighlights/shared-components/dist/sidebar",2677:"@webhighlights/shared-components/dist/lobby-container-extension",2842:"@webhighlights/shared-components/dist/icon",2875:"@webhighlights/shared-components/dist/auth",2911:"@webhighlights/shared-components/dist/page-content-preview",3015:"@webhighlights/shared-components/dist/shortcut",3203:"@webhighlights/shared-components/dist/grid-toolbar",3219:"@webhighlights/shared-components/dist/loading",3470:"@webhighlights/shared-components/dist/logo-animated",3485:"@webhighlights/shared-components/dist/fallback-img",3616:"@webhighlights/shared-components/dist/logo",3858:"@webhighlights/shared-components/dist/create-bookmark",4034:"@webhighlights/shared-components/dist/link-preview",4054:"@webhighlights/shared-components/dist/testimonials-grid",4144:"@webhighlights/shared-components/dist/datetimepicker",4251:"@webhighlights/shared-components/dist/ai-summary-btn",4341:"@webhighlights/shared-components/dist/lobby-container",4521:"@webhighlights/shared-components/dist/loading-text",4544:"@webhighlights/shared-components/dist/searchbar",4569:"@webhighlights/shared-components/dist/grid",4607:"@webhighlights/shared-components/dist/youtube-loading",4617:"@webhighlights/shared-components/dist/entity-grid",4618:"@webhighlights/shared-components/dist/tooltip",4822:"@webhighlights/shared-components/dist/chrome-rating-prompt",4913:"@webhighlights/shared-components/dist/delete-entity-list",4958:"@webhighlights/shared-components/dist/ai-chat",5026:"@webhighlights/shared-components/dist/avatar",5207:"@webhighlights/shared-components/dist/learning-settings",5210:"@webhighlights/shared-components/dist/share-social",5351:"@webhighlights/shared-components/dist/sign-up-prompt",5369:"@webhighlights/shared-components/dist/recent-colors",5371:"@webhighlights/shared-components/dist/image-viewer",5457:"@webhighlights/shared-components/dist/pdf-hint",5581:"@webhighlights/shared-components/dist/toasts",5615:"@webhighlights/shared-components/dist/cancel-subscription",5832:"@webhighlights/shared-components/dist/image-with-fallback",5999:"@webhighlights/shared-components/dist/dots-menu",6024:"@webhighlights/shared-components/dist/learning-btn",6049:"@webhighlights/shared-components/dist/discount-info",6213:"@webhighlights/shared-components/dist/mark-element",6219:"@webhighlights/shared-components/dist/popup-toolbox",6450:"@webhighlights/shared-components/dist/bookmark-preview",6517:"@webhighlights/shared-components/dist/expiry-info",6524:"@webhighlights/shared-components/dist/notifications-list",6602:"@webhighlights/shared-components/dist/spread-the-word-prompt",6688:"@webhighlights/shared-components/dist/highlighter-mode-selector",6706:"@webhighlights/shared-components/dist/privacy-policy",6723:"@webhighlights/shared-components/dist/mark-media-item",6726:"@webhighlights/shared-components/dist/tags",6735:"@webhighlights/shared-components/dist/share-button",6746:"@webhighlights/shared-components/dist/clipboard-button",7024:"@webhighlights/shared-components/dist/reader",7143:"@webhighlights/shared-components/dist/marker",7483:"@webhighlights/shared-components/dist/favicon",7583:"@webhighlights/shared-components/dist/reminder",7663:"@webhighlights/shared-components/dist/account-info",7820:"@webhighlights/shared-components/dist/learning-dashboard",7964:"@webhighlights/shared-components/dist/reset-password",8232:"@webhighlights/shared-components/dist/skeleton",8239:"@webhighlights/shared-components/dist/tag",8298:"@webhighlights/shared-components/dist/testimonial-item",8397:"@webhighlights/shared-components/dist/payment-method",8496:"@webhighlights/shared-components/dist/imprint",8502:"@webhighlights/shared-components/dist/media-type-dropdown",8593:"@webhighlights/shared-components/dist/change-color-mode",8727:"@webhighlights/shared-components/dist/mark-element-toolbar",8832:"@webhighlights/shared-components/dist/blacklisted-urls",9036:"@webhighlights/shared-components/dist/media-type-menu",9096:"@webhighlights/shared-components/dist/backup-or-sync-prompt",9121:"@webhighlights/shared-components/dist/like-button",9318:"@webhighlights/shared-components/dist/learning-streak-overview",9400:"@webhighlights/shared-components/dist/legal-footer",9440:"@webhighlights/shared-components/dist/popover",9449:"@webhighlights/shared-components/dist/pricing",9533:"@webhighlights/shared-components/dist/bookmark-preview-highlights-notes-info",9558:"@webhighlights/shared-components/dist/toggle-button",9685:"@webhighlights/shared-components/dist/mark-preview"}[e]+".js"),a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i={},r="@webhighlights/extension-components:",a.l=(e,t,o,n)=>{if(i[e])i[e].push(t);else{var s,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==e||u.getAttribute("data-webpack")==r+o){s=u;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",a.nc&&s.setAttribute("nonce",a.nc),s.setAttribute("data-webpack",r+o),s.src=e),i[e]=[t];var h=(t,r)=>{s.onerror=s.onload=null,clearTimeout(p);var o=i[e];if(delete i[e],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach(e=>e(r)),t)return t(r)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),l&&document.head.appendChild(s)}},a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),a.p="",(()=>{var e={4854:0};a.f.j=(t,i)=>{var r=a.o(e,t)?e[t]:void 0;if(0!==r)if(r)i.push(r[2]);else{var o=new Promise((i,o)=>r=e[t]=[i,o]);i.push(r[2]=o);var n=a.p+a.u(t),s=new Error;a.l(n,i=>{if(a.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=i&&("load"===i.type?"missing":i.type),n=i&&i.target&&i.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+n+")",s.name="ChunkLoadError",s.type=o,s.request=n,r[1](s)}},"chunk-"+t,t)}};var t=(t,i)=>{var r,o,[n,s,l]=i,c=0;if(n.some(t=>0!==e[t])){for(r in s)a.o(s,r)&&(a.m[r]=s[r]);l&&l(a)}for(t&&t(i);c<n.length;c++)o=n[c],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0},i=self.webpackChunk_webhighlights_extension_components=self.webpackChunk_webhighlights_extension_components||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})(),(()=>{"use strict";var e={};a.r(e),a.d(e,{CSSResult:()=>P,LitElement:()=>ze,ReactiveElement:()=>Q,_$LE:()=>Ve,_$LH:()=>$e,adoptStyles:()=>B,css:()=>M,defaultConverter:()=>X,getCompatibleStyle:()=>U,html:()=>_e,isServer:()=>We,mathml:()=>Ae,noChange:()=>Ee,notEqual:()=>J,nothing:()=>ke,render:()=>Fe,supportsAdoptingStyleSheets:()=>D,svg:()=>Te,unsafeCSS:()=>R});var t={};a.r(t),a.d(t,{customElement:()=>lt,eventOptions:()=>pt,property:()=>ut,query:()=>ft,queryAll:()=>bt,queryAssignedElements:()=>vt,queryAssignedNodes:()=>wt,queryAsync:()=>yt,standardProperty:()=>dt,state:()=>ht});var i={};a.r(i),a.d(i,{backInDown:()=>ns,backInLeft:()=>as,backInRight:()=>ss,backInUp:()=>ls,backOutDown:()=>cs,backOutLeft:()=>ds,backOutRight:()=>us,backOutUp:()=>hs,bounce:()=>Wa,bounceIn:()=>ps,bounceInDown:()=>gs,bounceInLeft:()=>fs,bounceInRight:()=>ms,bounceInUp:()=>bs,bounceOut:()=>ys,bounceOutDown:()=>vs,bounceOutLeft:()=>ws,bounceOutRight:()=>_s,bounceOutUp:()=>Ts,easings:()=>Ml,fadeIn:()=>As,fadeInBottomLeft:()=>Es,fadeInBottomRight:()=>ks,fadeInDown:()=>Ss,fadeInDownBig:()=>xs,fadeInLeft:()=>Cs,fadeInLeftBig:()=>Is,fadeInRight:()=>Ns,fadeInRightBig:()=>Ds,fadeInTopLeft:()=>Os,fadeInTopRight:()=>Ls,fadeInUp:()=>Ps,fadeInUpBig:()=>Rs,fadeOut:()=>Ms,fadeOutBottomLeft:()=>Bs,fadeOutBottomRight:()=>Us,fadeOutDown:()=>$s,fadeOutDownBig:()=>Gs,fadeOutLeft:()=>Fs,fadeOutLeftBig:()=>Hs,fadeOutRight:()=>zs,fadeOutRightBig:()=>js,fadeOutTopLeft:()=>Vs,fadeOutTopRight:()=>Ws,fadeOutUp:()=>qs,fadeOutUpBig:()=>Ys,flash:()=>qa,flip:()=>Ks,flipInX:()=>Xs,flipInY:()=>Js,flipOutX:()=>Zs,flipOutY:()=>Qs,headShake:()=>Ya,heartBeat:()=>Ka,hinge:()=>Tl,jackInTheBox:()=>Al,jello:()=>Xa,lightSpeedInLeft:()=>el,lightSpeedInRight:()=>tl,lightSpeedOutLeft:()=>il,lightSpeedOutRight:()=>rl,pulse:()=>Ja,rollIn:()=>El,rollOut:()=>kl,rotateIn:()=>ol,rotateInDownLeft:()=>nl,rotateInDownRight:()=>al,rotateInUpLeft:()=>sl,rotateInUpRight:()=>ll,rotateOut:()=>cl,rotateOutDownLeft:()=>dl,rotateOutDownRight:()=>ul,rotateOutUpLeft:()=>hl,rotateOutUpRight:()=>pl,rubberBand:()=>Za,shake:()=>Qa,shakeX:()=>es,shakeY:()=>ts,slideInDown:()=>gl,slideInLeft:()=>fl,slideInRight:()=>ml,slideInUp:()=>bl,slideOutDown:()=>yl,slideOutLeft:()=>vl,slideOutRight:()=>wl,slideOutUp:()=>_l,swing:()=>is,tada:()=>rs,wobble:()=>os,zoomIn:()=>Sl,zoomInDown:()=>xl,zoomInLeft:()=>Cl,zoomInRight:()=>Il,zoomInUp:()=>Nl,zoomOut:()=>Dl,zoomOutDown:()=>Ol,zoomOutLeft:()=>Ll,zoomOutRight:()=>Pl,zoomOutUp:()=>Rl});var r={};a.r(r),a.d(r,{ABORTED_STREAMING_REASON_CODE:()=>wS,ABORTED_STREAMING_REASON_CODES:()=>_S,ACTION_TYPE:()=>Nm,ACTIVE_BOOK_CLASS_INDICATOR:()=>Bv,AI_SUMMARY_TYPE_LABEL_MAP:()=>eS,ALL_ENTITY_TYPES:()=>Tp,ALL_MARK_MEDIA_TYPES:()=>Nd,ALL_WEBSITE_TOOLS:()=>Vf,APP_COMPONENTS:()=>Tv,APP_LOCAL_STORAGE_KEY:()=>VS,APP_TYPE_HEADER_KEY:()=>Pb,APP_TYPE_KEY:()=>Ok,ActionHandler:()=>$k,AiSummarizer:()=>Xk,AppType:()=>Sc,BACKUP_DATA_STRING_PREFIX:()=>XS,BEFORE_THIS_DATE_ALL_USERS_CAN_SYNC:()=>_A,BROWSER_TYPE_HEADER_KEY:()=>Lb,BROWSER_TYPE_KEY:()=>Dk,BookmarkPermission:()=>kd,BrowserType:()=>kc,CAMPAIGN_TEMPLATE_ID:()=>Zy,CHROME_CONTEXT_MENU_ID:()=>gp,CHROME_SYNC_STATE:()=>HE,CONSTANTS:()=>ad,CONTENT_ENTITY_ID_KEY_PATH:()=>nv,CONTENT_TYPE_ICON_MAP:()=>Cw,CONTENT_TYPE_LOGO_MAP:()=>Nw,CONTENT_TYPE_THUMBNAIL_MAP:()=>Iw,CancellationFeedbackState:()=>ax,CancellationFormStep:()=>nx,CancellationOfferChoice:()=>sx,CancellationOfferType:()=>hv,CapacitiesApiErrorCode:()=>dx,ChromeDbService:()=>qc,ChromeJwtService:()=>IA,ChromeMessageService:()=>Fc,ChromeStorageService:()=>Pp,ChromeSyncService:()=>VE,CustomizeSettings:()=>mp,DEFAULT_AI_SUMMARY:()=>Qk,DEFAULT_BLACKLISTED_TESTING_ROUTE:()=>hg,DEFAULT_BLACKLISTED_TESTING_ROUTE_WILDCARD:()=>pg,DEFAULT_BLACK_LIST:()=>gg,DEFAULT_COMPACTION_OPTIONS:()=>Ym,DEFAULT_DATE_LOCALE:()=>Xm,DEFAULT_EXPORT_VIEW_OPTIONS:()=>Vk,DEFAULT_GRID_PREVIEW_SIZE:()=>LS,DEFAULT_GRID_PREVIEW_TYPE:()=>PS,DEFAULT_GRID_SORT_TYPE:()=>Mb,DEFAULT_HIGHLIGHTER_MODE:()=>Ad,DEFAULT_MEDIA_TYPE:()=>Od,DEFAULT_META_DATA_WEB_HIGHLIGHTS:()=>By,DEFAULT_PAGINATION:()=>Kb,DEFAULT_READER_STYLE_OPTIONS:()=>Up,DEFAULT_SERVER_CONFIG:()=>Nb,DEFAULT_SETTINGS_VIEW:()=>zI,DEFAULT_TOAST_DURATION_IN_MS:()=>GT,DEFAULT_WEBHIGHLIGHTS_SETTINGS:()=>Jy,DEV_COMPONENTS:()=>Av,DIALOG_ANIMATION_DURATION:()=>$T,DIALOG_NAME:()=>FT,DISCOUNT_CODE_NAMES:()=>xI,DbActions:()=>_d,DbQueries:()=>a_,EMPTY_COMPONENTS:()=>Ev,ENTITY_GROUP_BY_PARAM_KEY:()=>Of,ENTITY_SORT_DIRECTION_PARAM_KEY:()=>Df,ENTITY_SORT_TYPE_PARAM_KEY:()=>Nf,ENTITY_TYPE_PARAM_KEY:()=>If,EXTENSION_BUILD_DEV_PAGE_URLS:()=>ig,EXTENSION_COMPONENT:()=>kv,EXTENSION_DEV_PAGE_ORIGINS:()=>rg,EXTENSION_SHORTCUT_URL:()=>bf,EXTENSION_TAB_VIEW:()=>qx,EmailNewsletterState:()=>Xy,EntityType:()=>bp,EventType:()=>Db,FALBACK_AVATAR:()=>B_,FALLBACK_COUNTRY_CODE:()=>MC,FALLBACK_COUNTRY_NAME:()=>BC,FALLBACK_LINK_PREVIEW_URL:()=>U_,FILE_IMPORT_LABEL_MAP:()=>_T,FREE_CAPACITY:()=>ix,FREE_TRIAL_IN_MILLIS:()=>gA,FileImportType:()=>wT,GENERATE_TEST_IDS:()=>mv,GLOBAL_STYLES_ID:()=>Yd,GRID_ENTITY_TYPES:()=>BS,GRID_FILTERS_QUERY_PARAM_KEY:()=>Ux,GRID_FILTER_KEYS:()=>Mx,GRID_GROUP_BYS:()=>OS,GRID_SORT_DIRECTIONS:()=>qb,GRID_SORT_TYPES:()=>Yb,GRID_VIEW:()=>jS,GRID_VIEW_IDS:()=>HS,HASHES_NEEDED_TO_IDENTIFY:()=>lg,HIGHLIGHTER_MODE_LABEL:()=>Ed,HighlighterMode:()=>Td,HttpClient:()=>HC,HttpFacade:()=>LC,ICON_NAMES:()=>jd,INDICES:()=>DA,INITIAL_LEARNING_ITEM:()=>Qb,INTEGRATION_ICON_MAP:()=>oT,INTEGRATION_IDS:()=>iT,INTEGRATION_LABEL_MAP:()=>nT,INTEGRATION_TOKEN_KEY_MAP:()=>rT,IS_MOBILE_THRESHOLD:()=>em,IndexDbService:()=>LA,JwtService:()=>ed,KINDLE_ASIN_INPUT_ID:()=>Mv,LEARNING_CARDS_FOR_STREAK:()=>oy,LEARNING_CARDS_PER_REVIEW:()=>ry,LEARNING_STATUS_GROUPS:()=>my,LEARNING_STATUS_GROUPS_MAP:()=>fy,LEARNING_STATUS_ID:()=>py,LEARNING_TRANSITION_DURATION_IN_MS:()=>Ey,LEGAL:()=>qC,LIFETIME_EXPIRY_DATE_IN_MILLIS:()=>mA,LOCALSTORAGEJSONWEBTOKENKEY:()=>Jc,MARK_MEDIA_TYPE:()=>Id,MAXIMUM_EASINESS_FACTOR:()=>ty,MIGRATION_STATE:()=>ev,MINIMUM_EASINESS_FACTOR:()=>ey,NEXT_TOKEN_QUERY_PARAM_KEY:()=>Ib,NOTIFICATION_ELEMENT_SELECTOR:()=>Nk,NOTION_API_ID:()=>K_,NotificationId:()=>Sk,NotionApiErrorCode:()=>q_,ONE_DAY_IN_MILLIS:()=>eb,ONE_DAY_IN_SECONDS:()=>tb,ONE_HOUR_IN_MILLIS:()=>Qm,ONE_MINUTE_IN_MILLIS:()=>Zm,ONE_SECOND_IN_MILLIS:()=>Jm,ONE_YEAR_IN_MILLIS:()=>fA,OUTDATED_CANONICAL_LINK_ATTR_KEY:()=>jy,ObjectStoreName:()=>Ep,ObjectStoreNameDeprecated:()=>Ap,PAGINATION_PAGE_QUERY_PARAM_KEY:()=>Cf,PATHS_NEEDED_TO_IDENTIFY:()=>cg,PDF_HINT_ID:()=>qd,PERFORMANCE_RATING:()=>iy,POPUP_TOOLBOX_ANIMATION_DURATION_MILLIS:()=>Kx,PRICES:()=>NI,PRIVACY_URL:()=>td,PROBLEM_USER_EMAILS:()=>Qy,PayloadTooLargeError:()=>UE,READER_COLOR_MODES:()=>Bp,READER_META_DATA_ATTRIBUTES:()=>au,READER_QUERY_PARAMS:()=>Mp,READ_DATA_FROM_BG_SCRIPT_PORT_NAMES:()=>$c,REDIRECT_PATH_PARAM:()=>kf,REDIRECT_SOCIAL_AUTH_KEY:()=>Sf,REF_QUERY_PARAM:()=>kp,REF_QUERY_PARAM_VALUE_INSTALL:()=>Sp,RESTRICTED_MEDIA_TYPES:()=>Ld,RGBAppearsDark:()=>ku,SEARCH_ENTITY_ICON_MAP:()=>Qw,SEARCH_ENTITY_LABEL_MAP:()=>e_,SEARCH_ENTITY_TYPE:()=>Jw,SEARCH_ENTITY_TYPES:()=>Zw,SEARCH_PARAMS_NEEDED_TO_IDENTIFY:()=>sg,SEARCH_SPECIAL_KEYS:()=>Xw,SETTINGS_VIEWS:()=>$I,SHARED_COMPONENTS:()=>Sv,SHARED_COMPONENTS_INTERNAL:()=>Dv,SHORTCUT_NOT_SET:()=>Mc,SIDEBAR_BODY_CLASSES:()=>eu,SUMMARIZER_LENGTH_OPTIONS:()=>Jk,ServerConfigService:()=>PA,TEST_ID_ATTR:()=>fv,TEST_OVERRIDE_STORAGE_LIMIT_IN_MB_PARAM:()=>Sw,TIMEZONE_HEADER_KEY:()=>Ob,TYPE_LIMIT_SEPARATOR:()=>OI,UNGUARDED_PATHS:()=>xf,USER_PLAN_DISPLAY_NAME:()=>ov,USER_PLAN_DURATION:()=>iv,USER_PLAN_DURATION_LABEL:()=>rv,USER_PLAN_TYPE:()=>tv,USER_PROMPT_NOT_SHOWN_FOR_IN_MILLIS:()=>ib,UserService:()=>PT,VALID_ACTION_TYPES:()=>Dm,WEBHIGHLIGHTS_TAG_NAMES:()=>Kd,WEBSITE_COMPONENTS:()=>Ov,WEBSITE_TOOLS:()=>jf,addBookmark:()=>v_,addCurrentUrlToBlacklist:()=>uf,addMark:()=>w_,addOpacityToHex:()=>Bu,addOrReplaceStyleElement:()=>pd,aiChatForBookmarkNote:()=>TI,aiSummarizerLengthValueMap:()=>aS,aiSummarizerValueLengthMap:()=>sS,appConfigReaderChrome:()=>Oc,appConfigReaderEdge:()=>Pc,appConfigReaderFirefox:()=>Rc,appConfigWebhighlightsChrome:()=>Ic,appConfigWebhighlightsEdge:()=>Nc,appConfigWebhighlightsFirefox:()=>Dc,appConfigWebhighlightsWebApp:()=>Cc,appConfigYoutubeHighlighterChrome:()=>Lc,appTypeDataMap:()=>xc,applyCssVariables:()=>sd,applyGridFilters:()=>Fx,applyRootCssVariables:()=>cd,askForBackupFileDownloadBeforeSignUp:()=>ZS,backgroundIndexDbQueryToString:()=>zc,backupExportResponseIsValid:()=>wb,backupExportResponseMock:()=>dI,backupExportResponseMockMany:()=>gI,bookmarkHtmlStringToBookmarks:()=>NT,bookmarkIsShared:()=>dm,bookmarkNote:()=>wI,bookmarkToMetaData:()=>xd,bookmarksToBookmarkWithCount:()=>Hw,browserCanAiChat:()=>kS,buildSystemMessage:()=>yS,calculateConfidence:()=>ay,calculateFontSizePx:()=>Xd,calculateIndexFromHighlightSource:()=>Bb,calculateNewLearningItem:()=>ny,calculateSidebarWidth:()=>Qd,callOnEnterOrSpace:()=>VC,checkIfEmailIsVerified:()=>k_,checkToShowUserPrompts:()=>WI,chromeBookmarksHtmlContent:()=>bI,chromeHasStorage:()=>Lp,chromeJwtService:()=>NA,chromeMessageService:()=>Hc,chromeStorageService:()=>Rp,chromeStoreReviewResponseItem:()=>hI,chromeStoreReviewResponseItemToObject:()=>xb,chromeStoreReviewResponseToPaginatedResponseObject:()=>Cb,chromeStoreReviewsResponse:()=>pI,clearAppLocalStorage:()=>KS,clearContext:()=>bk,closeDialog:()=>zT,colorAppearsDark:()=>Au,commonCssVariables:()=>fd,compactActions:()=>Km,componentTagNamesToComponentDefinitions:()=>Cv,contextIsAvailable:()=>gk,copyImageToClipBoard:()=>Qf,copyMark:()=>Jf,copyTextToClipBoard:()=>Zf,countries:()=>PC,createCheckoutPassThroughPayload:()=>kb,createCommonActionFields:()=>Gm,createDismissedBackupPromptId:()=>Cp,createElementRegistryElement:()=>Sx,createEntity:()=>xp,createExtensionPdfViewerUrl:()=>Ig,createExtensionReaderUrl:()=>Ng,createHighlightSourceFromSelection:()=>mC,createHttpClient:()=>zC,createImageMark:()=>OC,createMark:()=>kC,createMarkerIfNotExists:()=>vu,createNewBookmark:()=>jw,createNewMark:()=>DC,createNewMarkWithBookmark:()=>TC,createOrUpdateAiChat:()=>T_,createOrUpdatePageContent:()=>__,createOrUpdatePageContentForUrl:()=>kw,createOriginsFromBookmarks:()=>Wy,createPopupToolbox:()=>mu,createReader:()=>_u,createRootCssVariablesStyles:()=>ld,createSidebar:()=>hu,createTagsFromMarksAndBookmarks:()=>gv,createToastElementIfNotExists:()=>MT,createUserPlan:()=>vA,cssVariablesWithMode:()=>bd,currentPageFilter:()=>p_,currentSessionCan:()=>kA,customElementIsRegistered:()=>Ax,dateIsToday:()=>hb,dateToFullHour:()=>db,datesAreSameDay:()=>vb,daysBetweenTwoMilliDates:()=>gb,daysLeftInUserPlan:()=>yA,dbActions:()=>l_,dbQueries:()=>s_,deSerializeQueryParam:()=>Hg,decodeEncodedObjectFromUrl:()=>Qp,decodeGridFilters:()=>Gx,decodeHtmlEntities:()=>Cm,deepEqual:()=>nm,defaultColorsNeon:()=>Uu,defaultColorsPastel:()=>$u,defaultLayout:()=>Hd,defaultSidebarOptions:()=>Ip,defineComponent:()=>Lx,defineLazyElements:()=>Rx,defineWebHighlightsElement:()=>Ex,definedComponentMap:()=>Dx,deleteBookmarkIfNoMarksAndNotStarred:()=>g_,deleteBookmarkWithMarks:()=>f_,deleteEmptyHighlightsFromDom:()=>Jx,deleteMark:()=>m_,deleteMarkFromDom:()=>yC,deletePageContent:()=>A_,deleteQueryParam:()=>Pg,deleteShowLoginModalParam:()=>Kg,devEnvironment:()=>od,diigoBookmarkToMarks:()=>yT,diigoCsvStringToMarksAndBookmarks:()=>ET,diigoExportedCsvFileContent:()=>yI,diigoExportedCsvFileContent2:()=>vI,distinctTagsForBookmarkAndMarks:()=>tm,downloadBackupExportResponseToFile:()=>JS,downloadBackupFile:()=>tx,encodeGridFilters:()=>$x,encodeObjectForUrl:()=>Xp,encodePageContentForUrl:()=>Kp,entityToSearchEntity:()=>t_,estimateTokenCount:()=>uS,executeUserPromptFlowLogic:()=>KI,exportData:()=>Wk,extractBackgroundIndexDbQuery:()=>jc,extractCheckoutPassThroughPayload:()=>Sb,extractMetaData:()=>Vy,extractRangeInfoFromRangyObject:()=>Rb,fallbackAppLocalStorage:()=>WS,fallbackChromeSettings:()=>Dp,fallbackChromeStorage:()=>Op,fallbackYoutubeOptions:()=>Np,fetchAndCreateAiChatContent:()=>x_,fetchAndCreatePageContentContent:()=>C_,fetchSubscriptionInfo:()=>ox,filterLearningMarks:()=>sy,findSelectionInWindow:()=>Jv,firstChildOfBodyIsPdfEmbed:()=>Eg,focusMark:()=>AC,forceDeleteAllHighlightsFromDom:()=>vC,forceDeleteHighlightsFromDom:()=>wC,formatBytesToReadable:()=>Am,formatCurrency:()=>Tx,formatTwoDigitNumber:()=>fb,generateActionClientId:()=>Um,generateActionId:()=>$m,generateAiSummaryForBookmark:()=>nS,generateBrowserAgentFingerprint:()=>lk,generateClientId:()=>uk,generateConstants:()=>nd,generateEntitiesWithOutSomeAttributes:()=>Ab,generateEntityCreateAction:()=>Fm,generateEntityDeleteAction:()=>zm,generateEntityUpdateAction:()=>Hm,generateMockBookmark:()=>yv,generateMockChromeSettings:()=>vv,generateMockMark:()=>bv,generateNewAiChat:()=>cS,generateNewBookmark:()=>Uw,generateNewDataForBackupExportResponse:()=>Eb,generateNewMark:()=>fC,generateObjectIdString:()=>up,generatePlausibleEventClassName:()=>jI,generateShortDeviceId:()=>ck,getActivePlanForUser:()=>bA,getAmountFromPrice:()=>DI,getAmountOfCapacitiesExportsToday:()=>gx,getAmountOfIntegrationExportsToday:()=>cT,getAmountOfNotionExportsToday:()=>eT,getAppLocalStorage:()=>qS,getBaseUrlOverride:()=>Mg,getBlacklistPatternForCurrentUrl:()=>df,getBookmarkFromPageContent:()=>Yw,getBrowserShortName:()=>dk,getBrowserSpecificStoreUrl:()=>zf,getCancellationOfferType:()=>pv,getCanonicalLink:()=>Hy,getCanonicalLinkElement:()=>zy,getCapacitiesToken:()=>cx,getContentTypeForEntityType:()=>_p,getContextKey:()=>sk,getCountryCode:()=>UC,getCountryName:()=>FC,getCurrentASIN:()=>Gv,getCurrentLearningStreak:()=>ky,getCurrentMarker:()=>bu,getCurrentNotificationElementData:()=>Mk,getCurrentPopupToolbox:()=>gu,getCurrentSidebar:()=>uu,getCurrentStyleElement:()=>ud,getDateStringFromTimestamp:()=>yb,getDecodedPageContentFromParams:()=>Zp,getDecodedReaderUrlFromParams:()=>Jp,getDescriptionForBookmark:()=>Bw,getDisplayName:()=>pp,getEntityPayloadForAction:()=>ak,getExistingContext:()=>pk,getFileNameDateTimeStamp:()=>ub,getFileUrlFromPdfViewerUrl:()=>vg,getFilteredAndSortedTags:()=>Zb,getGridSizeByNumber:()=>MS,getHighlightColor:()=>iw,getHighlightSourceForMark:()=>pC,getImportedDataResponse:()=>DT,getInputForBookmarkSummary:()=>iS,getJwtPayload:()=>Qc,getKeyIfMockUser:()=>sI,getLanguage:()=>Rw,getLearningMarksResponseFromMarks:()=>dy,getLearningStatus:()=>Ly,getLearningStatusGroup:()=>by,getLearningStreakInfo:()=>xy,getLerningStatusGroupForConfidence:()=>gy,getLocationOrigin:()=>cf,getLuminance:()=>Eu,getMaxWidthOfSidebar:()=>Jd,getMessagesForAiChat:()=>SS,getMetaDataForReader:()=>lu,getMinWidthOfSidebar:()=>Zd,getMockUser:()=>aI,getNotionAccessToken:()=>G_,getNotionClient:()=>F_,getOrCreateBookmarkOfCurrentPage:()=>EC,getOrCreateNotificationElement:()=>Rk,getOrCreateStyleElement:()=>hd,getPageContent:()=>Aw,getPageContentFromPage:()=>Tw,getPageContentFromTextContent:()=>Ow,getPageContentResult:()=>Ew,getPageContentStorageUsageInfo:()=>Dw,getPayloadFromToken:()=>Zc,getPopupToolbox:()=>rC,getPreferredColorSchema:()=>dd,getQueryParam:()=>Og,getQueryParamFromUrl:()=>Dg,getRGBFromColorFromHex:()=>Su,getReadabilityArticleFromDomElement:()=>_w,getReaderColorModeMap:()=>Vp,getReaderStyleOptions:()=>$p,getRegistryElement:()=>xx,getSidebarAlignment:()=>gm,getSidebarContainer:()=>um,getSidebarWidth:()=>hm,getSizeAvailableForUserPlan:()=>xw,getSubscriptionUrl:()=>rx,getSummarizer:()=>tS,getSystemMessageContentForAiChat:()=>lS,getTimeZone:()=>$C,getTitleForBookmark:()=>Mw,getToastElement:()=>RT,getUnsyncedEntitiesCount:()=>zE,getUrlForCurrentPage:()=>Uf,getUserPlanDetails:()=>CA,getWebHighlightElementsForMarkId:()=>Qv,getYoutubeVideoId:()=>Kf,goToShortcutSettings:()=>yf,gridSizeMap:()=>RS,groupByUrl:()=>Wx,groupEntitiesByDateSection:()=>jx,groupEntitiesByPage:()=>Vx,handleColorHoveringOfHighlight:()=>cw,handleKindleLogic:()=>Hv,handleNotesAndTagsIndicator:()=>dw,handlePaymentRequired:()=>cA,handleSpecialCasesWhenShowingMarker:()=>SC,handleTokenExpired:()=>FE,hashIsNeeded:()=>bg,hideMarker:()=>aC,hidePopupUntilNextVisit:()=>IC,highlightImage:()=>tC,highlightMark:()=>Qx,highlightMarks:()=>Zx,highlightSource:()=>tI,highlightText:()=>iC,highlightsExistOnCurrentPage:()=>bC,htmlTemplate:()=>Kk,htmlToText:()=>xm,iconMapForGridSortTypes:()=>NS,iconMapForPreviewSizes:()=>DS,initContext:()=>hk,initMarker:()=>wu,isAbortedStreamingReasonCode:()=>TS,isAbsoluteDiscount:()=>CI,isAcceptedMediaType:()=>Dd,isAction:()=>ZE,isAiChat:()=>JE,isAiChatEntity:()=>lv,isAiChatUpdateCreateAction:()=>Bm,isAllowedGridEntityType:()=>US,isAllowedGridGroupBy:()=>FS,isAllowedGridSortDirection:()=>GS,isAllowedGridSortType:()=>$S,isBackgroundIndexDbQuery:()=>Wc,isBadRequestError:()=>lA,isBlockQuoteMark:()=>Bd,isBookmark:()=>qE,isBookmarkWithCount:()=>YE,isBusinessError:()=>dA,isCapacitiesApiError:()=>ux,isCapacitiesIntegration:()=>sT,isChromeExtensionEnvironment:()=>fm,isChromeSettings:()=>KE,isChromeUrl:()=>Tg,isChromeUserAgent:()=>vm,isContentEntityType:()=>av,isCreateAction:()=>Om,isDeleteAction:()=>Pm,isDiscoverFeedUrl:()=>nf,isEdgeUserAgent:()=>ym,isElementDefined:()=>Ox,isElementRegistered:()=>Cx,isEnabledLearningMark:()=>Oy,isEnterKeyUp:()=>cm,isEntityWithContent:()=>nk,isExtensionBuildDevPage:()=>Qg,isExtensionDevPage:()=>Zg,isExtensionEnvironment:()=>_m,isExtensionPdfPage:()=>wg,isExtensionReaderUrl:()=>Hf,isExtensionUrl:()=>zg,isFirefoxBrowser:()=>bm,isFirefoxExtensionEnvironment:()=>mm,isFirefoxUserAgent:()=>wm,isForbiddenUrlType:()=>ef,isFreeToolReader:()=>Yf,isHexColor:()=>Ou,isHslAColor:()=>Du,isHslColor:()=>Lu,isImageMark:()=>Ud,isKindleBookmark:()=>Sd,isKindleMark:()=>$d,isKindlePage:()=>$v,isLocalhost:()=>rf,isMark:()=>WE,isMobile:()=>xS,isMobileTouchDevice:()=>IS,isMockUser:()=>lI,isMozillaFirefoxUrl:()=>Ag,isNonEmptyString:()=>lm,isNotNull:()=>Sm,isNotionApiError:()=>Y_,isNotionIntegration:()=>aT,isPageContent:()=>XE,isPageContentEntity:()=>sv,isPageContentUpdateCreateAction:()=>Mm,isPageResponseObject:()=>H_,isPaidPlan:()=>uA,isPayloadTooLargeError:()=>$E,isPaymentRequiredError:()=>aA,isPdfPage:()=>kg,isPdfViewerPage:()=>_g,isPopupHiddenUntilNextVisit:()=>NC,isQualifiedForSpreadTheWordPrompt:()=>qI,isQuotaExceededError:()=>vS,isReadDataFromBgScriptPort:()=>Gc,isReaderPage:()=>sf,isRelativeDiscount:()=>II,isRequest:()=>fp,isRestrictedMediaType:()=>Rd,isRgbAColor:()=>Nu,isRgbColor:()=>Pu,isSpecificCustomElementTarget:()=>Tm,isSpecificWebsiteToolReader:()=>qf,isSummarizerLength:()=>Zk,isSyncableEntity:()=>yp,isTagSearchEntity:()=>r_,isTouchDevice:()=>CS,isUnauthorizedError:()=>sA,isUpdateAction:()=>Lm,isValidAction:()=>Rm,isValidContentEntityType:()=>wp,isValidEntityForUser:()=>GE,isValidGridFilter:()=>Bx,isValidNotionImageUrl:()=>Z_,isValidProduct:()=>UI,isValidSettingsView:()=>GI,isValidSubscription:()=>BI,isWebAppReaderUrl:()=>Ff,isWebAppUrl:()=>af,isWebsiteToolRef:()=>Wf,isWebsiteUrl:()=>lf,isYoutubeUrl:()=>Xf,keyPressHandler:()=>WC,lazyDefine:()=>xv,learningDatesToStreakInfo:()=>Cy,learningFinishedMessage:()=>Dy,learningMarkIsDue:()=>Ty,learningReminderMessage:()=>Ny,learningReminderSubjectMsg:()=>Iy,linkSvg:()=>Wd,listenForBookChange:()=>zv,listenToDefineLazyElements:()=>Px,loadBookmarkForCurrentPage:()=>Ww,loadPaddlePrice:()=>kI,mapActionsToEntities:()=>Wm,mapAiChatToContentEntity:()=>cv,mapCommonCssVariablesToVariableWithMode:()=>md,mapCssVariableWithMode:()=>yd,mapEntitiesToActions:()=>qm,mapEntityToContentEntity:()=>uv,mapMarkToCapacitiesHighlight:()=>mx,mapPageContentsToContentEntity:()=>dv,mapYoutubeTranscriptToContent:()=>qy,mapYoutubeTranscriptToPageContentYoutubeTranscriptMarker:()=>Yy,mapYoutubeTransscriptResponse:()=>Ky,markHasNote:()=>Yv,markToNotionBlockObject:()=>Q_,markdownTemplate:()=>Yk,markerSvg:()=>Vd,marksMockNew:()=>KC,marksMocks:()=>YC,marksToLearningItems:()=>Sy,matchUrlWithoutHashsRegex:()=>fg,migrationMockUserData:()=>AI,milliDateToDateSection:()=>mb,mockInitContext:()=>_v,mockJwtPayloads:()=>cI,mockedWebHighlightsDb:()=>wv,navigateExternal:()=>Xg,navigateToTab:()=>Yx,navigateToUrl:()=>Pf,navigateToWebApp:()=>Rf,navigateToWebAppSignIn:()=>Mf,newMarksMocks:()=>XC,notifications:()=>Bk,notionCreateDatabaseResponseToNotionDatabaseDto:()=>W_,notionPageObjectToNotionPageDto:()=>j_,notionSearchResponseToNotionPageDto:()=>V_,onAddContentFromReader:()=>eg,onBookmarkSelected:()=>Fw,onMarkSelected:()=>lw,openPaddleCheckout:()=>SI,openSettingsDialog:()=>JT,paddleQueryKey:()=>EI,pageContentForBookmarkNote:()=>_I,parseColorToHex:()=>Mu,parseDiigoFileContentToJson:()=>hT,parseLocalizedCurrency:()=>_x,parsePocketFileContentToJson:()=>uT,parsePocketJsonFileContentToJson:()=>pT,parseWeavaFileContentToJson:()=>dT,pluralizeS:()=>sm,pocketCsvStringToMarksAndBookmarks:()=>AT,pocketExportedCsvFileContent:()=>fI,pocketExportedJsonFileContent:()=>mI,pocketJsonEntityToMarks:()=>vT,pocketJsonStringToMarksAndBookmarks:()=>ST,pointOutSpanElementsOfMark:()=>ow,preEnvironment:()=>rd,productHuntLaunchIsWithinMonth:()=>bb,productToWebHighlightsProduct:()=>MI,productionEnvironment:()=>id,pushUrl:()=>qg,queryElementRegistryElement:()=>kx,queryParamIsNeeded:()=>mg,queryParamToOpenLoginModalIsSet:()=>Wg,readKindleBookInfo:()=>Fv,readOpenGraphMetaDataFromPage:()=>Fy,readerColorModeIconMap:()=>Wp,readerContrastModeMap:()=>jp,readerDarkModeMap:()=>Hp,readerLightModeMap:()=>Fp,readerSepiaModeMap:()=>zp,refreshUserSession:()=>SA,registerElement:()=>Ix,registerElements:()=>Nx,registerListenerForWebHighlight:()=>lC,relativePathRequiresAllQueryParams:()=>yg,reminderIsDue:()=>sb,removeCurrentUrlFromBlacklist:()=>hf,removeMarker:()=>yu,removePopupToolbox:()=>fu,removeSidebar:()=>pu,removeUnimportantSearchParamsFromUrl:()=>gf,renderMarkMediaToMarkdown:()=>Gk,renderMarkNotesToMarkdown:()=>Fk,renderMarkTagsToMarkdown:()=>Hk,renderMarkToMarkdown:()=>jk,replaceNewLinesInText:()=>Kv,replaceWhiteSpaces:()=>Xv,replaceWhiteSpacesWith:()=>pf,resendConfirmationEmail:()=>E_,resetDarkenOfHighlightsOfMark:()=>rw,resolveAllAiChatsWithContent:()=>ex,resolveAllPageContentsWithContent:()=>QS,resolveBookmarkDetailsView:()=>zd,resolveBookmarksFromDiigoCsvEntities:()=>mT,resolveBookmarksFromPocketCsvEntities:()=>fT,resolveBookmarksFromPocketJsonEntities:()=>kT,resolveBookmarksFromWeavaEntities:()=>gT,resolveBookmarksWithCount:()=>Kw,resolveCapacitiesPageTitle:()=>px,resolveCapacitiesSpaceIcon:()=>hx,resolveChromeId:()=>xg,resolveConfidence:()=>_y,resolveConfidenceWithSum:()=>wy,resolveCurrentStreak:()=>cy,resolveDomReferenceElementForMark:()=>_C,resolveExportContent:()=>qk,resolveFallbackCommands:()=>Bc,resolveGroupedGridEntities:()=>zx,resolveIdFromUrlParamWithDash:()=>Af,resolveLearningOrigins:()=>yy,resolveLearningTags:()=>Ay,resolveNestedBookmarkLinks:()=>xT,resolveNewLearningItem:()=>My,resolveNotesContentOfMark:()=>mw,resolveNotificationItems:()=>xk,resolveNotionPageIcon:()=>X_,resolveNotionPageTitle:()=>J_,resolvePageObjects:()=>z_,resolvePreviewOptions:()=>zS,resolvePropsForBookmarkDetails:()=>Vw,resolveRangeFromSelection:()=>gC,resolveRelatedDomains:()=>Bf,resolveSearchResult:()=>o_,resolveUniqueEntitiesForImport:()=>LT,resolveUpdatedLearningCategory:()=>vy,resolveUrlForUrlEntity:()=>Ef,resolveWebAppUrlForBookmark:()=>$w,resolveWebHighlightsImportPayloadForBookmark:()=>bx,rgbToHex:()=>xu,richTextHasContent:()=>qv,richTextToMarkdown:()=>zk,scrollToMark:()=>nw,scrollToMarkFallback:()=>aw,secondsToTime:()=>Im,selectTagOnEnterOrSpace:()=>jC,serializeQueryParam:()=>Fg,setAlternateLink:()=>du,setAppLocalStorage:()=>YS,setAttrsOfDomMarkElement:()=>eC,setCanonicalLink:()=>cu,setCapacitiesToken:()=>lx,setColorOfMarkDomElement:()=>gw,setExtensionBadge:()=>S_,setGlobalCssVariables:()=>vd,setGlobalStyles:()=>nu,setMetaDataForReader:()=>su,setNotionAccessToken:()=>$_,setQueryParam:()=>Lg,setReaderStyleOptions:()=>Gp,setReaderStyles:()=>qp,setSearchParamInUrl:()=>$f,setShowLoginModalParam:()=>Yg,setStylesOfMarkDomElement:()=>pw,setTokenForIntegration:()=>lT,settingsViewIconMap:()=>FI,settingsViewLabelMap:()=>HI,setupChromeMocks:()=>vx,shadeColor:()=>Tu,shadeHighlightsOfMark:()=>tw,shortenUrl:()=>Bg,shouldAddNewLine:()=>fw,shouldHighlightTextOfMarkOnPage:()=>Pd,shouldNavigateToPdfViewer:()=>Sg,shouldShowBackupPromptDialog:()=>XT,shouldShowExpiryInfo:()=>hA,shouldShowLearningTeaser:()=>uy,shouldShowMarker:()=>xC,shouldShowMediaDropdown:()=>Md,shouldShowShortcuts:()=>km,showAiChatLimitReachedDialog:()=>nA,showBackupOrSyncPromptDialog:()=>YT,showBookmarkDetailsDialog:()=>ZT,showCapacitiesSettings:()=>qT,showChromeRatingPrompt:()=>QT,showDialog:()=>HT,showDiscardedLearningMarkToast:()=>Ry,showIntegrationSettings:()=>VT,showInvalidBackupFileError:()=>_b,showInvalidFileError:()=>OT,showLearningDashboardDialog:()=>KT,showLearningReminder:()=>hy,showNotionSettings:()=>WT,showPremiumDialog:()=>jT,showPrompt:()=>YI,showSignUpPrompt:()=>tA,showSomethingWentWrong:()=>UT,showSpreadTheWordPrompt:()=>rA,showToast:()=>BT,showTooLargePayloadDialog:()=>iA,showUpgradeDealPrompt:()=>eA,showYoutubeVideoLimitReachedDialog:()=>oA,shuffleArray:()=>Wb,sidebarIsOpen:()=>pm,signUpStrategyLabelMap:()=>xA,sortAsc:()=>zb,sortByDomPosition:()=>Ub,sortEntitiesBy:()=>$b,sortLatestActionsToToEnd:()=>jm,sortLearningMarks:()=>ly,sortMarksOfBookmark:()=>Hb,sortOrigins:()=>Vb,sortSubscriptionTransactionsByDate:()=>Gb,sortTags:()=>jb,sortedLocalHostMocks:()=>rI,sortedPdfHighlightMocks:()=>eI,sortedPdfHighlightMocks2:()=>QC,splitShortcutKeys:()=>Uc,stopPropagation:()=>rm,stopPropagationAndPreventDefault:()=>om,streakInfoToLearningInfoDto:()=>Py,stringToFileName:()=>im,stringifyAiChatMessage:()=>fS,stringifyAiChatMessages:()=>mS,subscriptionMock:()=>oI,subscriptionNameToUserPlanTypeAndDuration:()=>PI,subscriptionToWebHighlightsSubscription:()=>RI,tagSorter:()=>Jb,tagSorterSimple:()=>Xb,tagToSearchEntity:()=>i_,timeSinceTimestamp:()=>rb,timestampToShortDate:()=>ab,timezoneToCountryCode:()=>GC,timezones:()=>RC,titleBookmarkIdParamToId:()=>_f,toDateTimeStringShort:()=>cb,toEntityWithOutSomeAttributes:()=>Tb,toGoogleAvatarUrl:()=>Lf,toHighlightNotesInfoProps:()=>Cd,toSafeDate:()=>pb,toSortableNumber:()=>Fb,toSyncableAiChat:()=>rk,toSyncableBookmark:()=>ek,toSyncableChromeSettings:()=>tk,toSyncableEntity:()=>ok,toSyncableMark:()=>QE,toSyncablePageContent:()=>ik,toUniqueAndValidComponentDefinitions:()=>Iv,toValidUrlParam:()=>wf,toggleBookmark:()=>zw,toggleBookmarkForCurrentPage:()=>qw,toggleDocumentAnimateBodySidebar:()=>tu,toggleDocumentBodyForSidebar:()=>iu,trimWithNewLines:()=>hp,truncateString:()=>Ug,truncateToTokenLimit:()=>hS,tutorialBrowsers:()=>VI,unsortedLocalHostMocks:()=>iI,unsortedPdfHighlightMocks:()=>JC,unsortedPdfHighlightMocks2:()=>ZC,unwrapSettledPromise:()=>Em,updateBookmark:()=>h_,updateChromeSettings:()=>b_,updateColorOfMarkDomElements:()=>hw,updateImageIndicatorColor:()=>uw,updateIntegrations:()=>y_,updateMark:()=>d_,urlFilter:()=>mf,urlIsBlacklisted:()=>tf,urlIsBlacklistedSync:()=>Jg,urlIsBlockedByDefault:()=>vf,urlMatchesPattern:()=>of,urlToOrigin:()=>Gg,urlWithoutSchema:()=>$g,urlsAreConsideredEqual:()=>ff,useContext:()=>fk,useContextWithCatch:()=>mk,userCan:()=>wA,userCanGenerateAiChat:()=>AS,userCanGenerateAiSummary:()=>rS,userCanStillSyncBecauseCreatedBeforeMarch25:()=>TA,userHasExceptionForFeature:()=>AA,userHasReachedFreeAiChatLimit:()=>ES,userHasReachedFreeAiSummaryLimit:()=>oS,userHasReachedFreeCapacitiesLimit:()=>fx,userHasReachedFreeNotionLimit:()=>tT,userHasReachedFreeYoutubeVideoLimit:()=>Lw,userPlanCan:()=>EA,usernameIdParamToId:()=>Tf,users:()=>nI,validateHighlightSourceOfMark:()=>hC,validateInitialPrompts:()=>gS,validateUserMessage:()=>bS,wait:()=>am,waitForPageRendering:()=>ou,weavaCsvStringToMarksAndBookmarks:()=>TT,weavaEntityToMark:()=>bT,weavaExportedCsvFileContent:()=>uI});var o={};a.r(o),a.d(o,{guard:()=>JI}),a(7551),a(5996),a(5431);var n=Object.defineProperty,s=Object.defineProperties,l=Object.getOwnPropertyDescriptor,c=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable,p=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),g=e=>{throw TypeError(e)},f=(e,t,i)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,m=(e,t)=>{for(var i in t||(t={}))u.call(t,i)&&f(e,i,t[i]);if(d)for(var i of d(t))h.call(t,i)&&f(e,i,t[i]);return e},b=(e,t)=>s(e,c(t)),y=(e,t,i,r)=>{for(var o,a=r>1?void 0:r?l(t,i):t,s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r?o(t,i,a):o(a))||a);return r&&a&&n(t,i,a),a},v=(e,t,i)=>t.has(e)||g("Cannot "+i),w=function(e,t){this[0]=e,this[1]=t},_=new WeakMap,T=new WeakMap,A=new WeakMap,E=new WeakSet,k=new WeakMap,S=class{constructor(e,t){this.handleFormData=e=>{const t=this.options.disabled(this.host),i=this.options.name(this.host),r=this.options.value(this.host),o="sl-button"===this.host.tagName.toLowerCase();this.host.isConnected&&!t&&!o&&"string"==typeof i&&i.length>0&&void 0!==r&&(Array.isArray(r)?r.forEach(t=>{e.formData.append(i,t.toString())}):e.formData.append(i,r.toString()))},this.handleFormSubmit=e=>{var t;const i=this.options.disabled(this.host),r=this.options.reportValidity;this.form&&!this.form.noValidate&&(null==(t=_.get(this.form))||t.forEach(e=>{this.setUserInteracted(e,!0)})),!this.form||this.form.noValidate||i||r(this.host)||(e.preventDefault(),e.stopImmediatePropagation())},this.handleFormReset=()=>{this.options.setValue(this.host,this.options.defaultValue(this.host)),this.setUserInteracted(this.host,!1),k.set(this.host,[])},this.handleInteraction=e=>{const t=k.get(this.host);t.includes(e.type)||t.push(e.type),t.length===this.options.assumeInteractionOn.length&&this.setUserInteracted(this.host,!0)},this.checkFormValidity=()=>{if(this.form&&!this.form.noValidate){const e=this.form.querySelectorAll("*");for(const t of e)if("function"==typeof t.checkValidity&&!t.checkValidity())return!1}return!0},this.reportFormValidity=()=>{if(this.form&&!this.form.noValidate){const e=this.form.querySelectorAll("*");for(const t of e)if("function"==typeof t.reportValidity&&!t.reportValidity())return!1}return!0},(this.host=e).addController(this),this.options=m({form:e=>{const t=e.form;if(t){const i=e.getRootNode().querySelector(`#${t}`);if(i)return i}return e.closest("form")},name:e=>e.name,value:e=>e.value,defaultValue:e=>e.defaultValue,disabled:e=>{var t;return null!=(t=e.disabled)&&t},reportValidity:e=>"function"!=typeof e.reportValidity||e.reportValidity(),checkValidity:e=>"function"!=typeof e.checkValidity||e.checkValidity(),setValue:(e,t)=>e.value=t,assumeInteractionOn:["sl-input"]},t)}hostConnected(){const e=this.options.form(this.host);e&&this.attachForm(e),k.set(this.host,[]),this.options.assumeInteractionOn.forEach(e=>{this.host.addEventListener(e,this.handleInteraction)})}hostDisconnected(){this.detachForm(),k.delete(this.host),this.options.assumeInteractionOn.forEach(e=>{this.host.removeEventListener(e,this.handleInteraction)})}hostUpdated(){const e=this.options.form(this.host);e||this.detachForm(),e&&this.form!==e&&(this.detachForm(),this.attachForm(e)),this.host.hasUpdated&&this.setValidity(this.host.validity.valid)}attachForm(e){e?(this.form=e,_.has(this.form)?_.get(this.form).add(this.host):_.set(this.form,new Set([this.host])),this.form.addEventListener("formdata",this.handleFormData),this.form.addEventListener("submit",this.handleFormSubmit),this.form.addEventListener("reset",this.handleFormReset),T.has(this.form)||(T.set(this.form,this.form.reportValidity),this.form.reportValidity=()=>this.reportFormValidity()),A.has(this.form)||(A.set(this.form,this.form.checkValidity),this.form.checkValidity=()=>this.checkFormValidity())):this.form=void 0}detachForm(){if(!this.form)return;const e=_.get(this.form);e&&(e.delete(this.host),e.size<=0&&(this.form.removeEventListener("formdata",this.handleFormData),this.form.removeEventListener("submit",this.handleFormSubmit),this.form.removeEventListener("reset",this.handleFormReset),T.has(this.form)&&(this.form.reportValidity=T.get(this.form),T.delete(this.form)),A.has(this.form)&&(this.form.checkValidity=A.get(this.form),A.delete(this.form)),this.form=void 0))}setUserInteracted(e,t){t?E.add(e):E.delete(e),e.requestUpdate()}doAction(e,t){if(this.form){const i=document.createElement("button");i.type=e,i.style.position="absolute",i.style.width="0",i.style.height="0",i.style.clipPath="inset(50%)",i.style.overflow="hidden",i.style.whiteSpace="nowrap",t&&(i.name=t.name,i.value=t.value,["formaction","formenctype","formmethod","formnovalidate","formtarget"].forEach(e=>{t.hasAttribute(e)&&i.setAttribute(e,t.getAttribute(e))})),this.form.append(i),i.click(),i.remove()}}getForm(){var e;return null!=(e=this.form)?e:null}reset(e){this.doAction("reset",e)}submit(e){this.doAction("submit",e)}setValidity(e){const t=this.host,i=Boolean(E.has(t)),r=Boolean(t.required);t.toggleAttribute("data-required",r),t.toggleAttribute("data-optional",!r),t.toggleAttribute("data-invalid",!e),t.toggleAttribute("data-valid",e),t.toggleAttribute("data-user-invalid",!e&&i),t.toggleAttribute("data-user-valid",e&&i)}updateValidity(){const e=this.host;this.setValidity(e.validity.valid)}emitInvalidEvent(e){const t=new CustomEvent("sl-invalid",{bubbles:!1,composed:!1,cancelable:!0,detail:{}});e||t.preventDefault(),this.host.dispatchEvent(t)||null==e||e.preventDefault()}},x=Object.freeze({badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valid:!0,valueMissing:!1}),C=Object.freeze(b(m({},x),{valid:!1,valueMissing:!0})),I=Object.freeze(b(m({},x),{valid:!1,customError:!0}));const N=globalThis,D=N.ShadowRoot&&(void 0===N.ShadyCSS||N.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,O=Symbol(),L=new WeakMap;class P{constructor(e,t,i){if(this._$cssResult$=!0,i!==O)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o;const t=this.t;if(D&&void 0===e){const i=void 0!==t&&1===t.length;i&&(e=L.get(t)),void 0===e&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),i&&L.set(t,e))}return e}toString(){return this.cssText}}const R=e=>new P("string"==typeof e?e:e+"",void 0,O),M=(e,...t)=>{const i=1===e.length?e[0]:t.reduce((t,i,r)=>t+(e=>{if(!0===e._$cssResult$)return e.cssText;if("number"==typeof e)return e;throw Error("Value passed to 'css' function must be a 'css' function result: "+e+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+e[r+1],e[0]);return new P(i,e,O)},B=(e,t)=>{if(D)e.adoptedStyleSheets=t.map(e=>e instanceof CSSStyleSheet?e:e.styleSheet);else for(const i of t){const t=document.createElement("style"),r=N.litNonce;void 0!==r&&t.setAttribute("nonce",r),t.textContent=i.cssText,e.appendChild(t)}},U=D?e=>e:e=>e instanceof CSSStyleSheet?(e=>{let t="";for(const i of e.cssRules)t+=i.cssText;return R(t)})(e):e,{is:$,defineProperty:G,getOwnPropertyDescriptor:F,getOwnPropertyNames:H,getOwnPropertySymbols:z,getPrototypeOf:j}=Object,V=globalThis,W=V.trustedTypes,q=W?W.emptyScript:"",Y=V.reactiveElementPolyfillSupport,K=(e,t)=>e,X={toAttribute(e,t){switch(t){case Boolean:e=e?q:null;break;case Object:case Array:e=null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){let i=e;switch(t){case Boolean:i=null!==e;break;case Number:i=null===e?null:Number(e);break;case Object:case Array:try{i=JSON.parse(e)}catch(e){i=null}}return i}},J=(e,t)=>!$(e,t),Z={attribute:!0,type:String,converter:X,reflect:!1,useDefault:!1,hasChanged:J};Symbol.metadata??=Symbol("metadata"),V.litPropertyMetadata??=new WeakMap;class Q extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??=[]).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,t=Z){if(t.state&&(t.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((t=Object.create(t)).wrapped=!0),this.elementProperties.set(e,t),!t.noAccessor){const i=Symbol(),r=this.getPropertyDescriptor(e,i,t);void 0!==r&&G(this.prototype,e,r)}}static getPropertyDescriptor(e,t,i){const{get:r,set:o}=F(this.prototype,e)??{get(){return this[t]},set(e){this[t]=e}};return{get:r,set(t){const n=r?.call(this);o?.call(this,t),this.requestUpdate(e,n,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??Z}static _$Ei(){if(this.hasOwnProperty(K("elementProperties")))return;const e=j(this);e.finalize(),void 0!==e.l&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(K("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(K("properties"))){const e=this.properties,t=[...H(e),...z(e)];for(const i of t)this.createProperty(i,e[i])}const e=this[Symbol.metadata];if(null!==e){const t=litPropertyMetadata.get(e);if(void 0!==t)for(const[e,i]of t)this.elementProperties.set(e,i)}this._$Eh=new Map;for(const[e,t]of this.elementProperties){const i=this._$Eu(e,t);void 0!==i&&this._$Eh.set(i,e)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const t=[];if(Array.isArray(e)){const i=new Set(e.flat(1/0).reverse());for(const e of i)t.unshift(U(e))}else void 0!==e&&t.push(U(e));return t}static _$Eu(e,t){const i=t.attribute;return!1===i?void 0:"string"==typeof i?i:"string"==typeof e?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise(e=>this.enableUpdating=e),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach(e=>e(this))}addController(e){(this._$EO??=new Set).add(e),void 0!==this.renderRoot&&this.isConnected&&e.hostConnected?.()}removeController(e){this._$EO?.delete(e)}_$E_(){const e=new Map,t=this.constructor.elementProperties;for(const i of t.keys())this.hasOwnProperty(i)&&(e.set(i,this[i]),delete this[i]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return B(e,this.constructor.elementStyles),e}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach(e=>e.hostConnected?.())}enableUpdating(e){}disconnectedCallback(){this._$EO?.forEach(e=>e.hostDisconnected?.())}attributeChangedCallback(e,t,i){this._$AK(e,i)}_$ET(e,t){const i=this.constructor.elementProperties.get(e),r=this.constructor._$Eu(e,i);if(void 0!==r&&!0===i.reflect){const o=(void 0!==i.converter?.toAttribute?i.converter:X).toAttribute(t,i.type);this._$Em=e,null==o?this.removeAttribute(r):this.setAttribute(r,o),this._$Em=null}}_$AK(e,t){const i=this.constructor,r=i._$Eh.get(e);if(void 0!==r&&this._$Em!==r){const e=i.getPropertyOptions(r),o="function"==typeof e.converter?{fromAttribute:e.converter}:void 0!==e.converter?.fromAttribute?e.converter:X;this._$Em=r;const n=o.fromAttribute(t,e.type);this[r]=n??this._$Ej?.get(r)??n,this._$Em=null}}requestUpdate(e,t,i){if(void 0!==e){const r=this.constructor,o=this[e];if(i??=r.getPropertyOptions(e),!((i.hasChanged??J)(o,t)||i.useDefault&&i.reflect&&o===this._$Ej?.get(e)&&!this.hasAttribute(r._$Eu(e,i))))return;this.C(e,t,i)}!1===this.isUpdatePending&&(this._$ES=this._$EP())}C(e,t,{useDefault:i,reflect:r,wrapped:o},n){i&&!(this._$Ej??=new Map).has(e)&&(this._$Ej.set(e,n??t??this[e]),!0!==o||void 0!==n)||(this._$AL.has(e)||(this.hasUpdated||i||(t=void 0),this._$AL.set(e,t)),!0===r&&this._$Em!==e&&(this._$Eq??=new Set).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(e){Promise.reject(e)}const e=this.scheduleUpdate();return null!=e&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[e,t]of this._$Ep)this[e]=t;this._$Ep=void 0}const e=this.constructor.elementProperties;if(e.size>0)for(const[t,i]of e){const{wrapped:e}=i,r=this[t];!0!==e||this._$AL.has(t)||void 0===r||this.C(t,void 0,i,r)}}let e=!1;const t=this._$AL;try{e=this.shouldUpdate(t),e?(this.willUpdate(t),this._$EO?.forEach(e=>e.hostUpdate?.()),this.update(t)):this._$EM()}catch(t){throw e=!1,this._$EM(),t}e&&this._$AE(t)}willUpdate(e){}_$AE(e){this._$EO?.forEach(e=>e.hostUpdated?.()),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&=this._$Eq.forEach(e=>this._$ET(e,this[e])),this._$EM()}updated(e){}firstUpdated(e){}}Q.elementStyles=[],Q.shadowRootOptions={mode:"open"},Q[K("elementProperties")]=new Map,Q[K("finalized")]=new Map,Y?.({ReactiveElement:Q}),(V.reactiveElementVersions??=[]).push("2.1.1");const ee=globalThis,te=ee.trustedTypes,ie=te?te.createPolicy("lit-html",{createHTML:e=>e}):void 0,re="$lit$",oe=`lit$${Math.random().toFixed(9).slice(2)}$`,ne="?"+oe,ae=`<${ne}>`,se=document,le=()=>se.createComment(""),ce=e=>null===e||"object"!=typeof e&&"function"!=typeof e,de=Array.isArray,ue=e=>de(e)||"function"==typeof e?.[Symbol.iterator],he="[ \t\n\f\r]",pe=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,ge=/-->/g,fe=/>/g,me=RegExp(`>|${he}(?:([^\\s"'>=/]+)(${he}*=${he}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),be=/'/g,ye=/"/g,ve=/^(?:script|style|textarea|title)$/i,we=e=>(t,...i)=>({_$litType$:e,strings:t,values:i}),_e=we(1),Te=we(2),Ae=we(3),Ee=Symbol.for("lit-noChange"),ke=Symbol.for("lit-nothing"),Se=new WeakMap,xe=se.createTreeWalker(se,129);function Ce(e,t){if(!de(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==ie?ie.createHTML(t):t}const Ie=(e,t)=>{const i=e.length-1,r=[];let o,n=2===t?"<svg>":3===t?"<math>":"",a=pe;for(let t=0;t<i;t++){const i=e[t];let s,l,c=-1,d=0;for(;d<i.length&&(a.lastIndex=d,l=a.exec(i),null!==l);)d=a.lastIndex,a===pe?"!--"===l[1]?a=ge:void 0!==l[1]?a=fe:void 0!==l[2]?(ve.test(l[2])&&(o=RegExp("</"+l[2],"g")),a=me):void 0!==l[3]&&(a=me):a===me?">"===l[0]?(a=o??pe,c=-1):void 0===l[1]?c=-2:(c=a.lastIndex-l[2].length,s=l[1],a=void 0===l[3]?me:'"'===l[3]?ye:be):a===ye||a===be?a=me:a===ge||a===fe?a=pe:(a=me,o=void 0);const u=a===me&&e[t+1].startsWith("/>")?" ":"";n+=a===pe?i+ae:c>=0?(r.push(s),i.slice(0,c)+re+i.slice(c)+oe+u):i+oe+(-2===c?t:u)}return[Ce(e,n+(e[i]||"<?>")+(2===t?"</svg>":3===t?"</math>":"")),r]};class Ne{constructor({strings:e,_$litType$:t},i){let r;this.parts=[];let o=0,n=0;const a=e.length-1,s=this.parts,[l,c]=Ie(e,t);if(this.el=Ne.createElement(l,i),xe.currentNode=this.el.content,2===t||3===t){const e=this.el.content.firstChild;e.replaceWith(...e.childNodes)}for(;null!==(r=xe.nextNode())&&s.length<a;){if(1===r.nodeType){if(r.hasAttributes())for(const e of r.getAttributeNames())if(e.endsWith(re)){const t=c[n++],i=r.getAttribute(e).split(oe),a=/([.?@])?(.*)/.exec(t);s.push({type:1,index:o,name:a[2],strings:i,ctor:"."===a[1]?Re:"?"===a[1]?Me:"@"===a[1]?Be:Pe}),r.removeAttribute(e)}else e.startsWith(oe)&&(s.push({type:6,index:o}),r.removeAttribute(e));if(ve.test(r.tagName)){const e=r.textContent.split(oe),t=e.length-1;if(t>0){r.textContent=te?te.emptyScript:"";for(let i=0;i<t;i++)r.append(e[i],le()),xe.nextNode(),s.push({type:2,index:++o});r.append(e[t],le())}}}else if(8===r.nodeType)if(r.data===ne)s.push({type:2,index:o});else{let e=-1;for(;-1!==(e=r.data.indexOf(oe,e+1));)s.push({type:7,index:o}),e+=oe.length-1}o++}}static createElement(e,t){const i=se.createElement("template");return i.innerHTML=e,i}}function De(e,t,i=e,r){if(t===Ee)return t;let o=void 0!==r?i._$Co?.[r]:i._$Cl;const n=ce(t)?void 0:t._$litDirective$;return o?.constructor!==n&&(o?._$AO?.(!1),void 0===n?o=void 0:(o=new n(e),o._$AT(e,i,r)),void 0!==r?(i._$Co??=[])[r]=o:i._$Cl=o),void 0!==o&&(t=De(e,o._$AS(e,t.values),o,r)),t}class Oe{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:t},parts:i}=this._$AD,r=(e?.creationScope??se).importNode(t,!0);xe.currentNode=r;let o=xe.nextNode(),n=0,a=0,s=i[0];for(;void 0!==s;){if(n===s.index){let t;2===s.type?t=new Le(o,o.nextSibling,this,e):1===s.type?t=new s.ctor(o,s.name,s.strings,this,e):6===s.type&&(t=new Ue(o,this,e)),this._$AV.push(t),s=i[++a]}n!==s?.index&&(o=xe.nextNode(),n++)}return xe.currentNode=se,r}p(e){let t=0;for(const i of this._$AV)void 0!==i&&(void 0!==i.strings?(i._$AI(e,i,t),t+=i.strings.length-2):i._$AI(e[t])),t++}}class Le{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(e,t,i,r){this.type=2,this._$AH=ke,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=i,this.options=r,this._$Cv=r?.isConnected??!0}get parentNode(){let e=this._$AA.parentNode;const t=this._$AM;return void 0!==t&&11===e?.nodeType&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){e=De(this,e,t),ce(e)?e===ke||null==e||""===e?(this._$AH!==ke&&this._$AR(),this._$AH=ke):e!==this._$AH&&e!==Ee&&this._(e):void 0!==e._$litType$?this.$(e):void 0!==e.nodeType?this.T(e):ue(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==ke&&ce(this._$AH)?this._$AA.nextSibling.data=e:this.T(se.createTextNode(e)),this._$AH=e}$(e){const{values:t,_$litType$:i}=e,r="number"==typeof i?this._$AC(e):(void 0===i.el&&(i.el=Ne.createElement(Ce(i.h,i.h[0]),this.options)),i);if(this._$AH?._$AD===r)this._$AH.p(t);else{const e=new Oe(r,this),i=e.u(this.options);e.p(t),this.T(i),this._$AH=e}}_$AC(e){let t=Se.get(e.strings);return void 0===t&&Se.set(e.strings,t=new Ne(e)),t}k(e){de(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let i,r=0;for(const o of e)r===t.length?t.push(i=new Le(this.O(le()),this.O(le()),this,this.options)):i=t[r],i._$AI(o),r++;r<t.length&&(this._$AR(i&&i._$AB.nextSibling,r),t.length=r)}_$AR(e=this._$AA.nextSibling,t){for(this._$AP?.(!1,!0,t);e!==this._$AB;){const t=e.nextSibling;e.remove(),e=t}}setConnected(e){void 0===this._$AM&&(this._$Cv=e,this._$AP?.(e))}}class Pe{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,t,i,r,o){this.type=1,this._$AH=ke,this._$AN=void 0,this.element=e,this.name=t,this._$AM=r,this.options=o,i.length>2||""!==i[0]||""!==i[1]?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=ke}_$AI(e,t=this,i,r){const o=this.strings;let n=!1;if(void 0===o)e=De(this,e,t,0),n=!ce(e)||e!==this._$AH&&e!==Ee,n&&(this._$AH=e);else{const r=e;let a,s;for(e=o[0],a=0;a<o.length-1;a++)s=De(this,r[i+a],t,a),s===Ee&&(s=this._$AH[a]),n||=!ce(s)||s!==this._$AH[a],s===ke?e=ke:e!==ke&&(e+=(s??"")+o[a+1]),this._$AH[a]=s}n&&!r&&this.j(e)}j(e){e===ke?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class Re extends Pe{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===ke?void 0:e}}class Me extends Pe{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==ke)}}class Be extends Pe{constructor(e,t,i,r,o){super(e,t,i,r,o),this.type=5}_$AI(e,t=this){if((e=De(this,e,t,0)??ke)===Ee)return;const i=this._$AH,r=e===ke&&i!==ke||e.capture!==i.capture||e.once!==i.once||e.passive!==i.passive,o=e!==ke&&(i===ke||r);r&&this.element.removeEventListener(this.name,this,i),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){"function"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,e):this._$AH.handleEvent(e)}}class Ue{constructor(e,t,i){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(e){De(this,e)}}const $e={M:re,P:oe,A:ne,C:1,L:Ie,R:Oe,D:ue,V:De,I:Le,H:Pe,N:Me,U:Be,B:Re,F:Ue},Ge=ee.litHtmlPolyfillSupport;Ge?.(Ne,Le),(ee.litHtmlVersions??=[]).push("3.3.1");const Fe=(e,t,i)=>{const r=i?.renderBefore??t;let o=r._$litPart$;if(void 0===o){const e=i?.renderBefore??null;r._$litPart$=o=new Le(t.insertBefore(le(),e),e,void 0,i??{})}return o._$AI(e),o},He=globalThis;class ze extends Q{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const e=super.createRenderRoot();return this.renderOptions.renderBefore??=e.firstChild,e}update(e){const t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=Fe(t,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return Ee}}ze._$litElement$=!0,ze.finalized=!0,He.litElementHydrateSupport?.({LitElement:ze});const je=He.litElementPolyfillSupport;je?.({LitElement:ze});const Ve={_$AK:(e,t,i)=>{e._$AK(t,i)},_$AL:e=>e._$AL};(He.litElementVersions??=[]).push("4.2.1");const We=!1;var qe=M`
  :host {
    display: block;
    outline: 0;
    z-index: 0;
  }

  :host(:focus) {
    outline: none;
  }

  slot:not([name])::slotted(sl-icon) {
    margin-inline-end: var(--sl-spacing-x-small);
  }

  .tree-item {
    position: relative;
    display: flex;
    align-items: stretch;
    flex-direction: column;
    color: var(--sl-color-neutral-700);
    cursor: pointer;
    user-select: none;
    -webkit-user-select: none;
  }

  .tree-item__checkbox {
    pointer-events: none;
  }

  .tree-item__expand-button,
  .tree-item__checkbox,
  .tree-item__label {
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-medium);
    font-weight: var(--sl-font-weight-normal);
    line-height: var(--sl-line-height-dense);
    letter-spacing: var(--sl-letter-spacing-normal);
  }

  .tree-item__checkbox::part(base) {
    display: flex;
    align-items: center;
  }

  .tree-item__indentation {
    display: block;
    width: 1em;
    flex-shrink: 0;
  }

  .tree-item__expand-button {
    display: flex;
    align-items: center;
    justify-content: center;
    box-sizing: content-box;
    color: var(--sl-color-neutral-500);
    padding: var(--sl-spacing-x-small);
    width: 1rem;
    height: 1rem;
    flex-shrink: 0;
    cursor: pointer;
  }

  .tree-item__expand-button {
    transition: var(--sl-transition-medium) rotate ease;
  }

  .tree-item--expanded .tree-item__expand-button {
    rotate: 90deg;
  }

  .tree-item--expanded.tree-item--rtl .tree-item__expand-button {
    rotate: -90deg;
  }

  .tree-item--expanded slot[name='expand-icon'],
  .tree-item:not(.tree-item--expanded) slot[name='collapse-icon'] {
    display: none;
  }

  .tree-item:not(.tree-item--has-expand-button) .tree-item__expand-icon-slot {
    display: none;
  }

  .tree-item__expand-button--visible {
    cursor: pointer;
  }

  .tree-item__item {
    display: flex;
    align-items: center;
    border-inline-start: solid 3px transparent;
  }

  .tree-item--disabled .tree-item__item {
    opacity: 0.5;
    outline: none;
    cursor: not-allowed;
  }

  :host(:focus-visible) .tree-item__item {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
    z-index: 2;
  }

  :host(:not([aria-disabled='true'])) .tree-item--selected .tree-item__item {
    background-color: var(--sl-color-neutral-100);
    border-inline-start-color: var(--sl-color-primary-600);
  }

  :host(:not([aria-disabled='true'])) .tree-item__expand-button {
    color: var(--sl-color-neutral-600);
  }

  .tree-item__label {
    display: flex;
    align-items: center;
    transition: var(--sl-transition-fast) color;
  }

  .tree-item__children {
    display: block;
    font-size: calc(1em + var(--indent-size, var(--sl-spacing-medium)));
  }

  /* Indentation lines */
  .tree-item__children {
    position: relative;
  }

  .tree-item__children::before {
    content: '';
    position: absolute;
    top: var(--indent-guide-offset);
    bottom: var(--indent-guide-offset);
    left: calc(1em - (var(--indent-guide-width) / 2) - 1px);
    border-inline-end: var(--indent-guide-width) var(--indent-guide-style) var(--indent-guide-color);
    z-index: 1;
  }

  .tree-item--rtl .tree-item__children::before {
    left: auto;
    right: 1em;
  }

  @media (forced-colors: active) {
    :host(:not([aria-disabled='true'])) .tree-item--selected .tree-item__item {
      outline: dashed 1px SelectedItem;
    }
  }
`,Ye=M`
  :host {
    display: inline-block;
  }

  .checkbox {
    position: relative;
    display: inline-flex;
    align-items: flex-start;
    font-family: var(--sl-input-font-family);
    font-weight: var(--sl-input-font-weight);
    color: var(--sl-input-label-color);
    vertical-align: middle;
    cursor: pointer;
  }

  .checkbox--small {
    --toggle-size: var(--sl-toggle-size-small);
    font-size: var(--sl-input-font-size-small);
  }

  .checkbox--medium {
    --toggle-size: var(--sl-toggle-size-medium);
    font-size: var(--sl-input-font-size-medium);
  }

  .checkbox--large {
    --toggle-size: var(--sl-toggle-size-large);
    font-size: var(--sl-input-font-size-large);
  }

  .checkbox__control {
    flex: 0 0 auto;
    position: relative;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: var(--toggle-size);
    height: var(--toggle-size);
    border: solid var(--sl-input-border-width) var(--sl-input-border-color);
    border-radius: 2px;
    background-color: var(--sl-input-background-color);
    color: var(--sl-color-neutral-0);
    transition:
      var(--sl-transition-fast) border-color,
      var(--sl-transition-fast) background-color,
      var(--sl-transition-fast) color,
      var(--sl-transition-fast) box-shadow;
  }

  .checkbox__input {
    position: absolute;
    opacity: 0;
    padding: 0;
    margin: 0;
    pointer-events: none;
  }

  .checkbox__checked-icon,
  .checkbox__indeterminate-icon {
    display: inline-flex;
    width: var(--toggle-size);
    height: var(--toggle-size);
  }

  /* Hover */
  .checkbox:not(.checkbox--checked):not(.checkbox--disabled) .checkbox__control:hover {
    border-color: var(--sl-input-border-color-hover);
    background-color: var(--sl-input-background-color-hover);
  }

  /* Focus */
  .checkbox:not(.checkbox--checked):not(.checkbox--disabled) .checkbox__input:focus-visible ~ .checkbox__control {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  /* Checked/indeterminate */
  .checkbox--checked .checkbox__control,
  .checkbox--indeterminate .checkbox__control {
    border-color: var(--sl-color-primary-600);
    background-color: var(--sl-color-primary-600);
  }

  /* Checked/indeterminate + hover */
  .checkbox.checkbox--checked:not(.checkbox--disabled) .checkbox__control:hover,
  .checkbox.checkbox--indeterminate:not(.checkbox--disabled) .checkbox__control:hover {
    border-color: var(--sl-color-primary-500);
    background-color: var(--sl-color-primary-500);
  }

  /* Checked/indeterminate + focus */
  .checkbox.checkbox--checked:not(.checkbox--disabled) .checkbox__input:focus-visible ~ .checkbox__control,
  .checkbox.checkbox--indeterminate:not(.checkbox--disabled) .checkbox__input:focus-visible ~ .checkbox__control {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  /* Disabled */
  .checkbox--disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .checkbox__label {
    display: inline-block;
    color: var(--sl-input-label-color);
    line-height: var(--toggle-size);
    margin-inline-start: 0.5em;
    user-select: none;
    -webkit-user-select: none;
  }

  :host([required]) .checkbox__label::after {
    content: var(--sl-input-required-content);
    color: var(--sl-input-required-content-color);
    margin-inline-start: var(--sl-input-required-content-offset);
  }
`,Ke=(e="value")=>(t,i)=>{const r=t.constructor,o=r.prototype.attributeChangedCallback;r.prototype.attributeChangedCallback=function(t,n,a){var s;const l=r.getPropertyOptions(e);if(t===("string"==typeof l.attribute?l.attribute:e)){const t=l.converter||X,r=("function"==typeof t?t:null!=(s=null==t?void 0:t.fromAttribute)?s:X.fromAttribute)(a,l.type);this[e]!==r&&(this[i]=r)}o.call(this,t,n,a)}},Xe=M`
  .form-control .form-control__label {
    display: none;
  }

  .form-control .form-control__help-text {
    display: none;
  }

  /* Label */
  .form-control--has-label .form-control__label {
    display: inline-block;
    color: var(--sl-input-label-color);
    margin-bottom: var(--sl-spacing-3x-small);
  }

  .form-control--has-label.form-control--small .form-control__label {
    font-size: var(--sl-input-label-font-size-small);
  }

  .form-control--has-label.form-control--medium .form-control__label {
    font-size: var(--sl-input-label-font-size-medium);
  }

  .form-control--has-label.form-control--large .form-control__label {
    font-size: var(--sl-input-label-font-size-large);
  }

  :host([required]) .form-control--has-label .form-control__label::after {
    content: var(--sl-input-required-content);
    margin-inline-start: var(--sl-input-required-content-offset);
    color: var(--sl-input-required-content-color);
  }

  /* Help text */
  .form-control--has-help-text .form-control__help-text {
    display: block;
    color: var(--sl-input-help-text-color);
    margin-top: var(--sl-spacing-3x-small);
  }

  .form-control--has-help-text.form-control--small .form-control__help-text {
    font-size: var(--sl-input-help-text-font-size-small);
  }

  .form-control--has-help-text.form-control--medium .form-control__help-text {
    font-size: var(--sl-input-help-text-font-size-medium);
  }

  .form-control--has-help-text.form-control--large .form-control__help-text {
    font-size: var(--sl-input-help-text-font-size-large);
  }

  .form-control--has-help-text.form-control--radio-group .form-control__help-text {
    margin-top: var(--sl-spacing-2x-small);
  }
`,Je=class{constructor(e,...t){this.slotNames=[],this.handleSlotChange=e=>{const t=e.target;(this.slotNames.includes("[default]")&&!t.name||t.name&&this.slotNames.includes(t.name))&&this.host.requestUpdate()},(this.host=e).addController(this),this.slotNames=t}hasDefaultSlot(){return[...this.host.childNodes].some(e=>{if(e.nodeType===e.TEXT_NODE&&""!==e.textContent.trim())return!0;if(e.nodeType===e.ELEMENT_NODE){const t=e;if("sl-visually-hidden"===t.tagName.toLowerCase())return!1;if(!t.hasAttribute("slot"))return!0}return!1})}hasNamedSlot(e){return null!==this.host.querySelector(`:scope > [slot="${e}"]`)}test(e){return"[default]"===e?this.hasDefaultSlot():this.hasNamedSlot(e)}hostConnected(){this.host.shadowRoot.addEventListener("slotchange",this.handleSlotChange)}hostDisconnected(){this.host.shadowRoot.removeEventListener("slotchange",this.handleSlotChange)}},Ze="";function Qe(e){Ze=e}var et={name:"default",resolver:e=>function(e=""){if(!Ze){const e=[...document.getElementsByTagName("script")],t=e.find(e=>e.hasAttribute("data-shoelace"));if(t)Qe(t.getAttribute("data-shoelace"));else{const t=e.find(e=>/shoelace(\.min)?\.js($|\?)/.test(e.src)||/shoelace-autoloader(\.min)?\.js($|\?)/.test(e.src));let i="";t&&(i=t.getAttribute("src")),Qe(i.split("/").slice(0,-1).join("/"))}}return Ze.replace(/\/$/,"")+(e?`/${e.replace(/^\//,"")}`:"")}(`assets/icons/${e}.svg`)},tt={caret:'\n    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n      <polyline points="6 9 12 15 18 9"></polyline>\n    </svg>\n  ',check:'\n    <svg part="checked-icon" class="checkbox__icon" viewBox="0 0 16 16">\n      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">\n        <g stroke="currentColor">\n          <g transform="translate(3.428571, 3.428571)">\n            <path d="M0,5.71428571 L3.42857143,9.14285714"></path>\n            <path d="M9.14285714,0 L3.42857143,9.14285714"></path>\n          </g>\n        </g>\n      </g>\n    </svg>\n  ',"chevron-down":'\n    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-down" viewBox="0 0 16 16">\n      <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>\n    </svg>\n  ',"chevron-left":'\n    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-left" viewBox="0 0 16 16">\n      <path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/>\n    </svg>\n  ',"chevron-right":'\n    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-right" viewBox="0 0 16 16">\n      <path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"/>\n    </svg>\n  ',copy:'\n    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-copy" viewBox="0 0 16 16">\n      <path fill-rule="evenodd" d="M4 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V2Zm2-1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H6ZM2 5a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1v-1h1v1a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h1v1H2Z"/>\n    </svg>\n  ',eye:'\n    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye" viewBox="0 0 16 16">\n      <path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z"/>\n      <path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z"/>\n    </svg>\n  ',"eye-slash":'\n    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye-slash" viewBox="0 0 16 16">\n      <path d="M13.359 11.238C15.06 9.72 16 8 16 8s-3-5.5-8-5.5a7.028 7.028 0 0 0-2.79.588l.77.771A5.944 5.944 0 0 1 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.134 13.134 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755-.165.165-.337.328-.517.486l.708.709z"/>\n      <path d="M11.297 9.176a3.5 3.5 0 0 0-4.474-4.474l.823.823a2.5 2.5 0 0 1 2.829 2.829l.822.822zm-2.943 1.299.822.822a3.5 3.5 0 0 1-4.474-4.474l.823.823a2.5 2.5 0 0 0 2.829 2.829z"/>\n      <path d="M3.35 5.47c-.18.16-.353.322-.518.487A13.134 13.134 0 0 0 1.172 8l.195.288c.335.48.83 1.12 1.465 1.755C4.121 11.332 5.881 12.5 8 12.5c.716 0 1.39-.133 2.02-.36l.77.772A7.029 7.029 0 0 1 8 13.5C3 13.5 0 8 0 8s.939-1.721 2.641-3.238l.708.709zm10.296 8.884-12-12 .708-.708 12 12-.708.708z"/>\n    </svg>\n  ',eyedropper:'\n    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eyedropper" viewBox="0 0 16 16">\n      <path d="M13.354.646a1.207 1.207 0 0 0-1.708 0L8.5 3.793l-.646-.647a.5.5 0 1 0-.708.708L8.293 5l-7.147 7.146A.5.5 0 0 0 1 12.5v1.793l-.854.853a.5.5 0 1 0 .708.707L1.707 15H3.5a.5.5 0 0 0 .354-.146L11 7.707l1.146 1.147a.5.5 0 0 0 .708-.708l-.647-.646 3.147-3.146a1.207 1.207 0 0 0 0-1.708l-2-2zM2 12.707l7-7L10.293 7l-7 7H2v-1.293z"></path>\n    </svg>\n  ',"grip-vertical":'\n    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-grip-vertical" viewBox="0 0 16 16">\n      <path d="M7 2a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM7 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM7 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"></path>\n    </svg>\n  ',indeterminate:'\n    <svg part="indeterminate-icon" class="checkbox__icon" viewBox="0 0 16 16">\n      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">\n        <g stroke="currentColor" stroke-width="2">\n          <g transform="translate(2.285714, 6.857143)">\n            <path d="M10.2857143,1.14285714 L1.14285714,1.14285714"></path>\n          </g>\n        </g>\n      </g>\n    </svg>\n  ',"person-fill":'\n    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-fill" viewBox="0 0 16 16">\n      <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>\n    </svg>\n  ',"play-fill":'\n    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-play-fill" viewBox="0 0 16 16">\n      <path d="m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"></path>\n    </svg>\n  ',"pause-fill":'\n    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pause-fill" viewBox="0 0 16 16">\n      <path d="M5.5 3.5A1.5 1.5 0 0 1 7 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5zm5 0A1.5 1.5 0 0 1 12 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5z"></path>\n    </svg>\n  ',radio:'\n    <svg part="checked-icon" class="radio__icon" viewBox="0 0 16 16">\n      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g fill="currentColor">\n          <circle cx="8" cy="8" r="3.42857143"></circle>\n        </g>\n      </g>\n    </svg>\n  ',"star-fill":'\n    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16">\n      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>\n    </svg>\n  ',"x-lg":'\n    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-lg" viewBox="0 0 16 16">\n      <path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"/>\n    </svg>\n  ',"x-circle-fill":'\n    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-circle-fill" viewBox="0 0 16 16">\n      <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"></path>\n    </svg>\n  '},it=[et,{name:"system",resolver:e=>e in tt?`data:image/svg+xml,${encodeURIComponent(tt[e])}`:""}],rt=[];function ot(e){return it.find(t=>t.name===e)}var nt=M`
  :host {
    display: inline-block;
    width: 1em;
    height: 1em;
    box-sizing: content-box !important;
  }

  svg {
    display: block;
    height: 100%;
    width: 100%;
  }
`;function at(e,t){const i=m({waitUntilFirstUpdate:!1},t);return(t,r)=>{const{update:o}=t,n=Array.isArray(e)?e:[e];t.update=function(e){n.forEach(t=>{const o=t;if(e.has(o)){const t=e.get(o),n=this[o];t!==n&&(i.waitUntilFirstUpdate&&!this.hasUpdated||this[r](t,n))}}),o.call(this,e)}}}var st=M`
  :host {
    box-sizing: border-box;
  }

  :host *,
  :host *::before,
  :host *::after {
    box-sizing: inherit;
  }

  [hidden] {
    display: none !important;
  }
`;const lt=e=>(t,i)=>{void 0!==i?i.addInitializer(()=>{customElements.define(e,t)}):customElements.define(e,t)},ct={attribute:!0,type:String,converter:X,reflect:!1,hasChanged:J},dt=(e=ct,t,i)=>{const{kind:r,metadata:o}=i;let n=globalThis.litPropertyMetadata.get(o);if(void 0===n&&globalThis.litPropertyMetadata.set(o,n=new Map),"setter"===r&&((e=Object.create(e)).wrapped=!0),n.set(i.name,e),"accessor"===r){const{name:r}=i;return{set(i){const o=t.get.call(this);t.set.call(this,i),this.requestUpdate(r,o,e)},init(t){return void 0!==t&&this.C(r,void 0,e,t),t}}}if("setter"===r){const{name:r}=i;return function(i){const o=this[r];t.call(this,i),this.requestUpdate(r,o,e)}}throw Error("Unsupported decorator location: "+r)};function ut(e){return(t,i)=>"object"==typeof i?dt(e,t,i):((e,t,i)=>{const r=t.hasOwnProperty(i);return t.constructor.createProperty(i,e),r?Object.getOwnPropertyDescriptor(t,i):void 0})(e,t,i)}function ht(e){return ut({...e,state:!0,attribute:!1})}function pt(e){return(t,i)=>{const r="function"==typeof t?t:t[i];Object.assign(r,e)}}const gt=(e,t,i)=>(i.configurable=!0,i.enumerable=!0,Reflect.decorate&&"object"!=typeof t&&Object.defineProperty(e,t,i),i);function ft(e,t){return(i,r,o)=>{const n=t=>t.renderRoot?.querySelector(e)??null;if(t){const{get:e,set:t}="object"==typeof r?i:o??(()=>{const e=Symbol();return{get(){return this[e]},set(t){this[e]=t}}})();return gt(i,r,{get(){let i=e.call(this);return void 0===i&&(i=n(this),(null!==i||this.hasUpdated)&&t.call(this,i)),i}})}return gt(i,r,{get(){return n(this)}})}}let mt;function bt(e){return(t,i)=>gt(t,i,{get(){return(this.renderRoot??(mt??=document.createDocumentFragment())).querySelectorAll(e)}})}function yt(e){return(t,i)=>gt(t,i,{async get(){return await this.updateComplete,this.renderRoot?.querySelector(e)??null}})}function vt(e){return(t,i)=>{const{slot:r,selector:o}=e??{},n="slot"+(r?`[name=${r}]`:":not([name])");return gt(t,i,{get(){const t=this.renderRoot?.querySelector(n),i=t?.assignedElements(e)??[];return void 0===o?i:i.filter(e=>e.matches(o))}})}}function wt(e){return(t,i)=>{const{slot:r}=e??{},o="slot"+(r?`[name=${r}]`:":not([name])");return gt(t,i,{get(){const t=this.renderRoot?.querySelector(o);return t?.assignedNodes(e)??[]}})}}var _t,Tt=class extends ze{constructor(){var e,t;super(),e=this,(t=_t).has(e)?g("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,false),this.initialReflectedProperties=new Map,Object.entries(this.constructor.dependencies).forEach(([e,t])=>{this.constructor.define(e,t)})}emit(e,t){const i=new CustomEvent(e,m({bubbles:!0,cancelable:!1,composed:!0,detail:{}},t));return this.dispatchEvent(i),i}static define(e,t=this,i={}){const r=customElements.get(e);if(!r){try{customElements.define(e,t,i)}catch(r){customElements.define(e,class extends t{},i)}return}let o=" (unknown version)",n=o;"version"in t&&t.version&&(o=" v"+t.version),"version"in r&&r.version&&(n=" v"+r.version),o&&n&&o===n||console.warn(`Attempted to register <${e}>${o}, but <${e}>${n} has already been registered.`)}attributeChangedCallback(e,t,i){var r;v(this,r=_t,"read from private field"),r.get(this)||(this.constructor.elementProperties.forEach((e,t)=>{e.reflect&&null!=this[t]&&this.initialReflectedProperties.set(t,this[t])}),((e,t,i)=>{v(e,t,"write to private field"),t.set(e,i)})(this,_t,!0)),super.attributeChangedCallback(e,t,i)}willUpdate(e){super.willUpdate(e),this.initialReflectedProperties.forEach((t,i)=>{e.has(i)&&null==this[i]&&(this[i]=t)})}};_t=new WeakMap,Tt.version="2.20.1",Tt.dependencies={},y([ut()],Tt.prototype,"dir",2),y([ut()],Tt.prototype,"lang",2);const{I:At}=$e,Et=e=>void 0===e.strings,kt={};var St,xt=Symbol(),Ct=Symbol(),It=new Map,Nt=class extends Tt{constructor(){super(...arguments),this.initialRender=!1,this.svg=null,this.label="",this.library="default"}async resolveIcon(e,t){var i;let r;if(null==t?void 0:t.spriteSheet)return this.svg=_e`<svg part="svg">
        <use part="use" href="${e}"></use>
      </svg>`,this.svg;try{if(r=await fetch(e,{mode:"cors"}),!r.ok)return 410===r.status?xt:Ct}catch(e){return Ct}try{const e=document.createElement("div");e.innerHTML=await r.text();const t=e.firstElementChild;if("svg"!==(null==(i=null==t?void 0:t.tagName)?void 0:i.toLowerCase()))return xt;St||(St=new DOMParser);const o=St.parseFromString(t.outerHTML,"text/html").body.querySelector("svg");return o?(o.part.add("svg"),document.adoptNode(o)):xt}catch(e){return xt}}connectedCallback(){super.connectedCallback(),rt.push(this)}firstUpdated(){this.initialRender=!0,this.setIcon()}disconnectedCallback(){var e;super.disconnectedCallback(),e=this,rt=rt.filter(t=>t!==e)}getIconSource(){const e=ot(this.library);return this.name&&e?{url:e.resolver(this.name),fromLibrary:!0}:{url:this.src,fromLibrary:!1}}handleLabelChange(){"string"==typeof this.label&&this.label.length>0?(this.setAttribute("role","img"),this.setAttribute("aria-label",this.label),this.removeAttribute("aria-hidden")):(this.removeAttribute("role"),this.removeAttribute("aria-label"),this.setAttribute("aria-hidden","true"))}async setIcon(){var e;const{url:t,fromLibrary:i}=this.getIconSource(),r=i?ot(this.library):void 0;if(!t)return void(this.svg=null);let o=It.get(t);if(o||(o=this.resolveIcon(t,r),It.set(t,o)),!this.initialRender)return;const n=await o;if(n===Ct&&It.delete(t),t===this.getIconSource().url)if((e=>void 0!==e?._$litType$)(n)){if(this.svg=n,r){await this.updateComplete;const e=this.shadowRoot.querySelector("[part='svg']");"function"==typeof r.mutator&&e&&r.mutator(e)}}else switch(n){case Ct:case xt:this.svg=null,this.emit("sl-error");break;default:this.svg=n.cloneNode(!0),null==(e=null==r?void 0:r.mutator)||e.call(r,this.svg),this.emit("sl-load")}}render(){return this.svg}};Nt.styles=[st,nt],y([ht()],Nt.prototype,"svg",2),y([ut({reflect:!0})],Nt.prototype,"name",2),y([ut()],Nt.prototype,"src",2),y([ut()],Nt.prototype,"label",2),y([ut({reflect:!0})],Nt.prototype,"library",2),y([at("label")],Nt.prototype,"handleLabelChange",1),y([at(["name","src","library"])],Nt.prototype,"setIcon",1);const Dt=e=>(...t)=>({_$litDirective$:e,values:t});class Ot{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,t,i){this._$Ct=e,this._$AM=t,this._$Ci=i}_$AS(e,t){return this.update(e,t)}update(e,t){return this.render(...t)}}const Lt=Dt(class extends Ot{constructor(e){if(super(e),1!==e.type||"class"!==e.name||e.strings?.length>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(e){return" "+Object.keys(e).filter(t=>e[t]).join(" ")+" "}update(e,[t]){if(void 0===this.st){this.st=new Set,void 0!==e.strings&&(this.nt=new Set(e.strings.join(" ").split(/\s/).filter(e=>""!==e)));for(const e in t)t[e]&&!this.nt?.has(e)&&this.st.add(e);return this.render(t)}const i=e.element.classList;for(const e of this.st)e in t||(i.remove(e),this.st.delete(e));for(const e in t){const r=!!t[e];r===this.st.has(e)||this.nt?.has(e)||(r?(i.add(e),this.st.add(e)):(i.remove(e),this.st.delete(e)))}return Ee}}),Pt=e=>e??ke,Rt=Dt(class extends Ot{constructor(e){if(super(e),3!==e.type&&1!==e.type&&4!==e.type)throw Error("The `live` directive is not allowed on child or event bindings");if(!Et(e))throw Error("`live` bindings can only contain a single expression")}render(e){return e}update(e,[t]){if(t===Ee||t===ke)return t;const i=e.element,r=e.name;if(3===e.type){if(t===i[r])return Ee}else if(4===e.type){if(!!t===i.hasAttribute(r))return Ee}else if(1===e.type&&i.getAttribute(r)===t+"")return Ee;return((e,t=kt)=>{e._$AH=t})(e),t}});var Mt=class extends Tt{constructor(){super(...arguments),this.formControlController=new S(this,{value:e=>e.checked?e.value||"on":void 0,defaultValue:e=>e.defaultChecked,setValue:(e,t)=>e.checked=t}),this.hasSlotController=new Je(this,"help-text"),this.hasFocus=!1,this.title="",this.name="",this.size="medium",this.disabled=!1,this.checked=!1,this.indeterminate=!1,this.defaultChecked=!1,this.form="",this.required=!1,this.helpText=""}get validity(){return this.input.validity}get validationMessage(){return this.input.validationMessage}firstUpdated(){this.formControlController.updateValidity()}handleClick(){this.checked=!this.checked,this.indeterminate=!1,this.emit("sl-change")}handleBlur(){this.hasFocus=!1,this.emit("sl-blur")}handleInput(){this.emit("sl-input")}handleInvalid(e){this.formControlController.setValidity(!1),this.formControlController.emitInvalidEvent(e)}handleFocus(){this.hasFocus=!0,this.emit("sl-focus")}handleDisabledChange(){this.formControlController.setValidity(this.disabled)}handleStateChange(){this.input.checked=this.checked,this.input.indeterminate=this.indeterminate,this.formControlController.updateValidity()}click(){this.input.click()}focus(e){this.input.focus(e)}blur(){this.input.blur()}checkValidity(){return this.input.checkValidity()}getForm(){return this.formControlController.getForm()}reportValidity(){return this.input.reportValidity()}setCustomValidity(e){this.input.setCustomValidity(e),this.formControlController.updateValidity()}render(){const e=this.hasSlotController.test("help-text"),t=!!this.helpText||!!e;return _e`
      <div
        class=${Lt({"form-control":!0,"form-control--small":"small"===this.size,"form-control--medium":"medium"===this.size,"form-control--large":"large"===this.size,"form-control--has-help-text":t})}
      >
        <label
          part="base"
          class=${Lt({checkbox:!0,"checkbox--checked":this.checked,"checkbox--disabled":this.disabled,"checkbox--focused":this.hasFocus,"checkbox--indeterminate":this.indeterminate,"checkbox--small":"small"===this.size,"checkbox--medium":"medium"===this.size,"checkbox--large":"large"===this.size})}
        >
          <input
            class="checkbox__input"
            type="checkbox"
            title=${this.title}
            name=${this.name}
            value=${Pt(this.value)}
            .indeterminate=${Rt(this.indeterminate)}
            .checked=${Rt(this.checked)}
            .disabled=${this.disabled}
            .required=${this.required}
            aria-checked=${this.checked?"true":"false"}
            aria-describedby="help-text"
            @click=${this.handleClick}
            @input=${this.handleInput}
            @invalid=${this.handleInvalid}
            @blur=${this.handleBlur}
            @focus=${this.handleFocus}
          />

          <span
            part="control${this.checked?" control--checked":""}${this.indeterminate?" control--indeterminate":""}"
            class="checkbox__control"
          >
            ${this.checked?_e`
                  <sl-icon part="checked-icon" class="checkbox__checked-icon" library="system" name="check"></sl-icon>
                `:""}
            ${!this.checked&&this.indeterminate?_e`
                  <sl-icon
                    part="indeterminate-icon"
                    class="checkbox__indeterminate-icon"
                    library="system"
                    name="indeterminate"
                  ></sl-icon>
                `:""}
          </span>

          <div part="label" class="checkbox__label">
            <slot></slot>
          </div>
        </label>

        <div
          aria-hidden=${t?"false":"true"}
          class="form-control__help-text"
          id="help-text"
          part="form-control-help-text"
        >
          <slot name="help-text">${this.helpText}</slot>
        </div>
      </div>
    `}};Mt.styles=[st,Xe,Ye],Mt.dependencies={"sl-icon":Nt},y([ft('input[type="checkbox"]')],Mt.prototype,"input",2),y([ht()],Mt.prototype,"hasFocus",2),y([ut()],Mt.prototype,"title",2),y([ut()],Mt.prototype,"name",2),y([ut()],Mt.prototype,"value",2),y([ut({reflect:!0})],Mt.prototype,"size",2),y([ut({type:Boolean,reflect:!0})],Mt.prototype,"disabled",2),y([ut({type:Boolean,reflect:!0})],Mt.prototype,"checked",2),y([ut({type:Boolean,reflect:!0})],Mt.prototype,"indeterminate",2),y([Ke("checked")],Mt.prototype,"defaultChecked",2),y([ut({reflect:!0})],Mt.prototype,"form",2),y([ut({type:Boolean,reflect:!0})],Mt.prototype,"required",2),y([ut({attribute:"help-text"})],Mt.prototype,"helpText",2),y([at("disabled",{waitUntilFirstUpdate:!0})],Mt.prototype,"handleDisabledChange",1),y([at(["checked","indeterminate"],{waitUntilFirstUpdate:!0})],Mt.prototype,"handleStateChange",1);var Bt=M`
  :host {
    --track-width: 2px;
    --track-color: rgb(128 128 128 / 25%);
    --indicator-color: var(--sl-color-primary-600);
    --speed: 2s;

    display: inline-flex;
    width: 1em;
    height: 1em;
    flex: none;
  }

  .spinner {
    flex: 1 1 auto;
    height: 100%;
    width: 100%;
  }

  .spinner__track,
  .spinner__indicator {
    fill: none;
    stroke-width: var(--track-width);
    r: calc(0.5em - var(--track-width) / 2);
    cx: 0.5em;
    cy: 0.5em;
    transform-origin: 50% 50%;
  }

  .spinner__track {
    stroke: var(--track-color);
    transform-origin: 0% 0%;
  }

  .spinner__indicator {
    stroke: var(--indicator-color);
    stroke-linecap: round;
    stroke-dasharray: 150% 75%;
    animation: spin var(--speed) linear infinite;
  }

  @keyframes spin {
    0% {
      transform: rotate(0deg);
      stroke-dasharray: 0.05em, 3em;
    }

    50% {
      transform: rotate(450deg);
      stroke-dasharray: 1.375em, 1.375em;
    }

    100% {
      transform: rotate(1080deg);
      stroke-dasharray: 0.05em, 3em;
    }
  }
`;const Ut=new Set,$t=new Map;let Gt,Ft="ltr",Ht="en";const zt="undefined"!=typeof MutationObserver&&"undefined"!=typeof document&&void 0!==document.documentElement;if(zt){const e=new MutationObserver(Vt);Ft=document.documentElement.dir||"ltr",Ht=document.documentElement.lang||navigator.language,e.observe(document.documentElement,{attributes:!0,attributeFilter:["dir","lang"]})}function jt(...e){e.map(e=>{const t=e.$code.toLowerCase();$t.has(t)?$t.set(t,Object.assign(Object.assign({},$t.get(t)),e)):$t.set(t,e),Gt||(Gt=e)}),Vt()}function Vt(){zt&&(Ft=document.documentElement.dir||"ltr",Ht=document.documentElement.lang||navigator.language),[...Ut.keys()].map(e=>{"function"==typeof e.requestUpdate&&e.requestUpdate()})}class Wt{constructor(e){this.host=e,this.host.addController(this)}hostConnected(){Ut.add(this.host)}hostDisconnected(){Ut.delete(this.host)}dir(){return`${this.host.dir||Ft}`.toLowerCase()}lang(){return`${this.host.lang||Ht}`.toLowerCase()}getTranslationData(e){var t,i;const r=new Intl.Locale(e.replace(/_/g,"-")),o=null==r?void 0:r.language.toLowerCase(),n=null!==(i=null===(t=null==r?void 0:r.region)||void 0===t?void 0:t.toLowerCase())&&void 0!==i?i:"";return{locale:r,language:o,region:n,primary:$t.get(`${o}-${n}`),secondary:$t.get(o)}}exists(e,t){var i;const{primary:r,secondary:o}=this.getTranslationData(null!==(i=t.lang)&&void 0!==i?i:this.lang());return t=Object.assign({includeFallback:!1},t),!!(r&&r[e]||o&&o[e]||t.includeFallback&&Gt&&Gt[e])}term(e,...t){const{primary:i,secondary:r}=this.getTranslationData(this.lang());let o;if(i&&i[e])o=i[e];else if(r&&r[e])o=r[e];else{if(!Gt||!Gt[e])return console.error(`No translation found for: ${String(e)}`),String(e);o=Gt[e]}return"function"==typeof o?o(...t):o}date(e,t){return e=new Date(e),new Intl.DateTimeFormat(this.lang(),t).format(e)}number(e,t){return e=Number(e),isNaN(e)?"":new Intl.NumberFormat(this.lang(),t).format(e)}relativeTime(e,t,i){return new Intl.RelativeTimeFormat(this.lang(),i).format(e,t)}}var qt={$code:"en",$name:"English",$dir:"ltr",carousel:"Carousel",clearEntry:"Clear entry",close:"Close",copied:"Copied",copy:"Copy",currentValue:"Current value",error:"Error",goToSlide:(e,t)=>`Go to slide ${e} of ${t}`,hidePassword:"Hide password",loading:"Loading",nextSlide:"Next slide",numOptionsSelected:e=>0===e?"No options selected":1===e?"1 option selected":`${e} options selected`,previousSlide:"Previous slide",progress:"Progress",remove:"Remove",resize:"Resize",scrollToEnd:"Scroll to end",scrollToStart:"Scroll to start",selectAColorFromTheScreen:"Select a color from the screen",showPassword:"Show password",slideNum:e=>`Slide ${e}`,toggleColorFormat:"Toggle color format"};jt(qt);var Yt=qt,Kt=class extends Wt{};jt(Yt);var Xt=class extends Tt{constructor(){super(...arguments),this.localize=new Kt(this)}render(){return _e`
      <svg part="base" class="spinner" role="progressbar" aria-label=${this.localize.term("loading")}>
        <circle class="spinner__track"></circle>
        <circle class="spinner__indicator"></circle>
      </svg>
    `}};Xt.styles=[st,Bt];var Jt=new Map,Zt=new WeakMap;function Qt(e,t){return"rtl"===t.toLowerCase()?{keyframes:e.rtlKeyframes||e.keyframes,options:e.options}:e}function ei(e,t){Jt.set(e,function(e){return null!=e?e:{keyframes:[],options:{duration:0}}}(t))}function ti(e,t,i){const r=Zt.get(e);if(null==r?void 0:r[t])return Qt(r[t],i.dir);const o=Jt.get(t);return o?Qt(o,i.dir):{keyframes:[],options:{duration:0}}}function ii(e,t,i){return new Promise(r=>{if((null==i?void 0:i.duration)===1/0)throw new Error("Promise-based animations must be finite.");const o=e.animate(t,b(m({},i),{duration:oi()?0:i.duration}));o.addEventListener("cancel",r,{once:!0}),o.addEventListener("finish",r,{once:!0})})}function ri(e){return(e=e.toString().toLowerCase()).indexOf("ms")>-1?parseFloat(e):e.indexOf("s")>-1?1e3*parseFloat(e):parseFloat(e)}function oi(){return window.matchMedia("(prefers-reduced-motion: reduce)").matches}function ni(e){return Promise.all(e.getAnimations().map(e=>new Promise(t=>{e.cancel(),requestAnimationFrame(t)})))}function ai(e,t){return e.map(e=>b(m({},e),{height:"auto"===e.height?`${t}px`:e.height}))}function si(e,t,i){return e?t(e):i?.(e)}var li=class e extends Tt{constructor(){super(...arguments),this.localize=new Kt(this),this.indeterminate=!1,this.isLeaf=!1,this.loading=!1,this.selectable=!1,this.expanded=!1,this.selected=!1,this.disabled=!1,this.lazy=!1}static isTreeItem(e){return e instanceof Element&&"treeitem"===e.getAttribute("role")}connectedCallback(){super.connectedCallback(),this.setAttribute("role","treeitem"),this.setAttribute("tabindex","-1"),this.isNestedItem()&&(this.slot="children")}firstUpdated(){this.childrenContainer.hidden=!this.expanded,this.childrenContainer.style.height=this.expanded?"auto":"0",this.isLeaf=!this.lazy&&0===this.getChildrenItems().length,this.handleExpandedChange()}async animateCollapse(){this.emit("sl-collapse"),await ni(this.childrenContainer);const{keyframes:e,options:t}=ti(this,"tree-item.collapse",{dir:this.localize.dir()});await ii(this.childrenContainer,ai(e,this.childrenContainer.scrollHeight),t),this.childrenContainer.hidden=!0,this.emit("sl-after-collapse")}isNestedItem(){const t=this.parentElement;return!!t&&e.isTreeItem(t)}handleChildrenSlotChange(){this.loading=!1,this.isLeaf=!this.lazy&&0===this.getChildrenItems().length}willUpdate(e){e.has("selected")&&!e.has("indeterminate")&&(this.indeterminate=!1)}async animateExpand(){this.emit("sl-expand"),await ni(this.childrenContainer),this.childrenContainer.hidden=!1;const{keyframes:e,options:t}=ti(this,"tree-item.expand",{dir:this.localize.dir()});await ii(this.childrenContainer,ai(e,this.childrenContainer.scrollHeight),t),this.childrenContainer.style.height="auto",this.emit("sl-after-expand")}handleLoadingChange(){this.setAttribute("aria-busy",this.loading?"true":"false"),this.loading||this.animateExpand()}handleDisabledChange(){this.setAttribute("aria-disabled",this.disabled?"true":"false")}handleSelectedChange(){this.setAttribute("aria-selected",this.selected?"true":"false")}handleExpandedChange(){this.isLeaf?this.removeAttribute("aria-expanded"):this.setAttribute("aria-expanded",this.expanded?"true":"false")}handleExpandAnimation(){this.expanded?this.lazy?(this.loading=!0,this.emit("sl-lazy-load")):this.animateExpand():this.animateCollapse()}handleLazyChange(){this.emit("sl-lazy-change")}getChildrenItems({includeDisabled:t=!0}={}){return this.childrenSlot?[...this.childrenSlot.assignedElements({flatten:!0})].filter(i=>e.isTreeItem(i)&&(t||!i.disabled)):[]}render(){const e="rtl"===this.localize.dir(),t=!this.loading&&(!this.isLeaf||this.lazy);return _e`
      <div
        part="base"
        class="${Lt({"tree-item":!0,"tree-item--expanded":this.expanded,"tree-item--selected":this.selected,"tree-item--disabled":this.disabled,"tree-item--leaf":this.isLeaf,"tree-item--has-expand-button":t,"tree-item--rtl":"rtl"===this.localize.dir()})}"
      >
        <div
          class="tree-item__item"
          part="
            item
            ${this.disabled?"item--disabled":""}
            ${this.expanded?"item--expanded":""}
            ${this.indeterminate?"item--indeterminate":""}
            ${this.selected?"item--selected":""}
          "
        >
          <div class="tree-item__indentation" part="indentation"></div>

          <div
            part="expand-button"
            class=${Lt({"tree-item__expand-button":!0,"tree-item__expand-button--visible":t})}
            aria-hidden="true"
          >
            ${si(this.loading,()=>_e` <sl-spinner part="spinner" exportparts="base:spinner__base"></sl-spinner> `)}
            <slot class="tree-item__expand-icon-slot" name="expand-icon">
              <sl-icon library="system" name=${e?"chevron-left":"chevron-right"}></sl-icon>
            </slot>
            <slot class="tree-item__expand-icon-slot" name="collapse-icon">
              <sl-icon library="system" name=${e?"chevron-left":"chevron-right"}></sl-icon>
            </slot>
          </div>

          ${si(this.selectable,()=>_e`
              <sl-checkbox
                part="checkbox"
                exportparts="
                    base:checkbox__base,
                    control:checkbox__control,
                    control--checked:checkbox__control--checked,
                    control--indeterminate:checkbox__control--indeterminate,
                    checked-icon:checkbox__checked-icon,
                    indeterminate-icon:checkbox__indeterminate-icon,
                    label:checkbox__label
                  "
                class="tree-item__checkbox"
                ?disabled="${this.disabled}"
                ?checked="${Rt(this.selected)}"
                ?indeterminate="${this.indeterminate}"
                tabindex="-1"
              ></sl-checkbox>
            `)}

          <slot class="tree-item__label" part="label"></slot>
        </div>

        <div class="tree-item__children" part="children" role="group">
          <slot name="children" @slotchange="${this.handleChildrenSlotChange}"></slot>
        </div>
      </div>
    `}};li.styles=[st,qe],li.dependencies={"sl-checkbox":Mt,"sl-icon":Nt,"sl-spinner":Xt},y([ht()],li.prototype,"indeterminate",2),y([ht()],li.prototype,"isLeaf",2),y([ht()],li.prototype,"loading",2),y([ht()],li.prototype,"selectable",2),y([ut({type:Boolean,reflect:!0})],li.prototype,"expanded",2),y([ut({type:Boolean,reflect:!0})],li.prototype,"selected",2),y([ut({type:Boolean,reflect:!0})],li.prototype,"disabled",2),y([ut({type:Boolean,reflect:!0})],li.prototype,"lazy",2),y([ft("slot:not([name])")],li.prototype,"defaultSlot",2),y([ft("slot[name=children]")],li.prototype,"childrenSlot",2),y([ft(".tree-item__item")],li.prototype,"itemElement",2),y([ft(".tree-item__children")],li.prototype,"childrenContainer",2),y([ft(".tree-item__expand-button slot")],li.prototype,"expandButtonSlot",2),y([at("loading",{waitUntilFirstUpdate:!0})],li.prototype,"handleLoadingChange",1),y([at("disabled")],li.prototype,"handleDisabledChange",1),y([at("selected")],li.prototype,"handleSelectedChange",1),y([at("expanded",{waitUntilFirstUpdate:!0})],li.prototype,"handleExpandedChange",1),y([at("expanded",{waitUntilFirstUpdate:!0})],li.prototype,"handleExpandAnimation",1),y([at("lazy",{waitUntilFirstUpdate:!0})],li.prototype,"handleLazyChange",1);var ci=li;ei("tree-item.expand",{keyframes:[{height:"0",opacity:"0",overflow:"hidden"},{height:"auto",opacity:"1",overflow:"hidden"}],options:{duration:250,easing:"cubic-bezier(0.4, 0.0, 0.2, 1)"}}),ei("tree-item.collapse",{keyframes:[{height:"auto",opacity:"1",overflow:"hidden"},{height:"0",opacity:"0",overflow:"hidden"}],options:{duration:200,easing:"cubic-bezier(0.4, 0.0, 0.2, 1)"}}),ci.define("sl-tree-item");var di=M`
  :host {
    --max-width: 20rem;
    --hide-delay: 0ms;
    --show-delay: 150ms;

    display: contents;
  }

  .tooltip {
    --arrow-size: var(--sl-tooltip-arrow-size);
    --arrow-color: var(--sl-tooltip-background-color);
  }

  .tooltip::part(popup) {
    z-index: var(--sl-z-index-tooltip);
  }

  .tooltip[placement^='top']::part(popup) {
    transform-origin: bottom;
  }

  .tooltip[placement^='bottom']::part(popup) {
    transform-origin: top;
  }

  .tooltip[placement^='left']::part(popup) {
    transform-origin: right;
  }

  .tooltip[placement^='right']::part(popup) {
    transform-origin: left;
  }

  .tooltip__body {
    display: block;
    width: max-content;
    max-width: var(--max-width);
    border-radius: var(--sl-tooltip-border-radius);
    background-color: var(--sl-tooltip-background-color);
    font-family: var(--sl-tooltip-font-family);
    font-size: var(--sl-tooltip-font-size);
    font-weight: var(--sl-tooltip-font-weight);
    line-height: var(--sl-tooltip-line-height);
    text-align: start;
    white-space: normal;
    color: var(--sl-tooltip-color);
    padding: var(--sl-tooltip-padding);
    pointer-events: none;
    user-select: none;
    -webkit-user-select: none;
  }
`,ui=M`
  :host {
    --arrow-color: var(--sl-color-neutral-1000);
    --arrow-size: 6px;

    /*
     * These properties are computed to account for the arrow's dimensions after being rotated 45. The constant
     * 0.7071 is derived from sin(45), which is the diagonal size of the arrow's container after rotating.
     */
    --arrow-size-diagonal: calc(var(--arrow-size) * 0.7071);
    --arrow-padding-offset: calc(var(--arrow-size-diagonal) - var(--arrow-size));

    display: contents;
  }

  .popup {
    position: absolute;
    isolation: isolate;
    max-width: var(--auto-size-available-width, none);
    max-height: var(--auto-size-available-height, none);
  }

  .popup--fixed {
    position: fixed;
  }

  .popup:not(.popup--active) {
    display: none;
  }

  .popup__arrow {
    position: absolute;
    width: calc(var(--arrow-size-diagonal) * 2);
    height: calc(var(--arrow-size-diagonal) * 2);
    rotate: 45deg;
    background: var(--arrow-color);
    z-index: -1;
  }

  /* Hover bridge */
  .popup-hover-bridge:not(.popup-hover-bridge--visible) {
    display: none;
  }

  .popup-hover-bridge {
    position: fixed;
    z-index: calc(var(--sl-z-index-dropdown) - 1);
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    clip-path: polygon(
      var(--hover-bridge-top-left-x, 0) var(--hover-bridge-top-left-y, 0),
      var(--hover-bridge-top-right-x, 0) var(--hover-bridge-top-right-y, 0),
      var(--hover-bridge-bottom-right-x, 0) var(--hover-bridge-bottom-right-y, 0),
      var(--hover-bridge-bottom-left-x, 0) var(--hover-bridge-bottom-left-y, 0)
    );
  }
`;const hi=Math.min,pi=Math.max,gi=Math.round,fi=Math.floor,mi=e=>({x:e,y:e}),bi={left:"right",right:"left",bottom:"top",top:"bottom"},yi={start:"end",end:"start"};function vi(e,t,i){return pi(e,hi(t,i))}function wi(e,t){return"function"==typeof e?e(t):e}function _i(e){return e.split("-")[0]}function Ti(e){return e.split("-")[1]}function Ai(e){return"x"===e?"y":"x"}function Ei(e){return"y"===e?"height":"width"}const ki=new Set(["top","bottom"]);function Si(e){return ki.has(_i(e))?"y":"x"}function xi(e){return Ai(Si(e))}function Ci(e){return e.replace(/start|end/g,e=>yi[e])}const Ii=["left","right"],Ni=["right","left"],Di=["top","bottom"],Oi=["bottom","top"];function Li(e){return e.replace(/left|right|bottom|top/g,e=>bi[e])}function Pi(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function Ri(e){const{x:t,y:i,width:r,height:o}=e;return{width:r,height:o,top:i,left:t,right:t+r,bottom:i+o,x:t,y:i}}function Mi(e,t,i){let{reference:r,floating:o}=e;const n=Si(t),a=xi(t),s=Ei(a),l=_i(t),c="y"===n,d=r.x+r.width/2-o.width/2,u=r.y+r.height/2-o.height/2,h=r[s]/2-o[s]/2;let p;switch(l){case"top":p={x:d,y:r.y-o.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:u};break;case"left":p={x:r.x-o.width,y:u};break;default:p={x:r.x,y:r.y}}switch(Ti(t)){case"start":p[a]-=h*(i&&c?-1:1);break;case"end":p[a]+=h*(i&&c?-1:1)}return p}async function Bi(e,t){var i;void 0===t&&(t={});const{x:r,y:o,platform:n,rects:a,elements:s,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:h=!1,padding:p=0}=wi(t,e),g=Pi(p),f=s[h?"floating"===u?"reference":"floating":u],m=Ri(await n.getClippingRect({element:null==(i=await(null==n.isElement?void 0:n.isElement(f)))||i?f:f.contextElement||await(null==n.getDocumentElement?void 0:n.getDocumentElement(s.floating)),boundary:c,rootBoundary:d,strategy:l})),b="floating"===u?{x:r,y:o,width:a.floating.width,height:a.floating.height}:a.reference,y=await(null==n.getOffsetParent?void 0:n.getOffsetParent(s.floating)),v=await(null==n.isElement?void 0:n.isElement(y))&&await(null==n.getScale?void 0:n.getScale(y))||{x:1,y:1},w=Ri(n.convertOffsetParentRelativeRectToViewportRelativeRect?await n.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:b,offsetParent:y,strategy:l}):b);return{top:(m.top-w.top+g.top)/v.y,bottom:(w.bottom-m.bottom+g.bottom)/v.y,left:(m.left-w.left+g.left)/v.x,right:(w.right-m.right+g.right)/v.x}}const Ui=new Set(["left","top"]);function $i(){return"undefined"!=typeof window}function Gi(e){return zi(e)?(e.nodeName||"").toLowerCase():"#document"}function Fi(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function Hi(e){var t;return null==(t=(zi(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function zi(e){return!!$i()&&(e instanceof Node||e instanceof Fi(e).Node)}function ji(e){return!!$i()&&(e instanceof Element||e instanceof Fi(e).Element)}function Vi(e){return!!$i()&&(e instanceof HTMLElement||e instanceof Fi(e).HTMLElement)}function Wi(e){return!(!$i()||"undefined"==typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof Fi(e).ShadowRoot)}const qi=new Set(["inline","contents"]);function Yi(e){const{overflow:t,overflowX:i,overflowY:r,display:o}=ar(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+i)&&!qi.has(o)}const Ki=new Set(["table","td","th"]);function Xi(e){return Ki.has(Gi(e))}const Ji=[":popover-open",":modal"];function Zi(e){return Ji.some(t=>{try{return e.matches(t)}catch(e){return!1}})}const Qi=["transform","translate","scale","rotate","perspective"],er=["transform","translate","scale","rotate","perspective","filter"],tr=["paint","layout","strict","content"];function ir(e){const t=rr(),i=ji(e)?ar(e):e;return Qi.some(e=>!!i[e]&&"none"!==i[e])||!!i.containerType&&"normal"!==i.containerType||!t&&!!i.backdropFilter&&"none"!==i.backdropFilter||!t&&!!i.filter&&"none"!==i.filter||er.some(e=>(i.willChange||"").includes(e))||tr.some(e=>(i.contain||"").includes(e))}function rr(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}const or=new Set(["html","body","#document"]);function nr(e){return or.has(Gi(e))}function ar(e){return Fi(e).getComputedStyle(e)}function sr(e){return ji(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function lr(e){if("html"===Gi(e))return e;const t=e.assignedSlot||e.parentNode||Wi(e)&&e.host||Hi(e);return Wi(t)?t.host:t}function cr(e){const t=lr(e);return nr(t)?e.ownerDocument?e.ownerDocument.body:e.body:Vi(t)&&Yi(t)?t:cr(t)}function dr(e,t,i){var r;void 0===t&&(t=[]),void 0===i&&(i=!0);const o=cr(e),n=o===(null==(r=e.ownerDocument)?void 0:r.body),a=Fi(o);if(n){const e=ur(a);return t.concat(a,a.visualViewport||[],Yi(o)?o:[],e&&i?dr(e):[])}return t.concat(o,dr(o,[],i))}function ur(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function hr(e){const t=ar(e);let i=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=Vi(e),n=o?e.offsetWidth:i,a=o?e.offsetHeight:r,s=gi(i)!==n||gi(r)!==a;return s&&(i=n,r=a),{width:i,height:r,$:s}}function pr(e){return ji(e)?e:e.contextElement}function gr(e){const t=pr(e);if(!Vi(t))return mi(1);const i=t.getBoundingClientRect(),{width:r,height:o,$:n}=hr(t);let a=(n?gi(i.width):i.width)/r,s=(n?gi(i.height):i.height)/o;return a&&Number.isFinite(a)||(a=1),s&&Number.isFinite(s)||(s=1),{x:a,y:s}}const fr=mi(0);function mr(e){const t=Fi(e);return rr()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:fr}function br(e,t,i,r){void 0===t&&(t=!1),void 0===i&&(i=!1);const o=e.getBoundingClientRect(),n=pr(e);let a=mi(1);t&&(r?ji(r)&&(a=gr(r)):a=gr(e));const s=function(e,t,i){return void 0===t&&(t=!1),!(!i||t&&i!==Fi(e))&&t}(n,i,r)?mr(n):mi(0);let l=(o.left+s.x)/a.x,c=(o.top+s.y)/a.y,d=o.width/a.x,u=o.height/a.y;if(n){const e=Fi(n),t=r&&ji(r)?Fi(r):r;let i=e,o=ur(i);for(;o&&r&&t!==i;){const e=gr(o),t=o.getBoundingClientRect(),r=ar(o),n=t.left+(o.clientLeft+parseFloat(r.paddingLeft))*e.x,a=t.top+(o.clientTop+parseFloat(r.paddingTop))*e.y;l*=e.x,c*=e.y,d*=e.x,u*=e.y,l+=n,c+=a,i=Fi(o),o=ur(i)}}return Ri({width:d,height:u,x:l,y:c})}function yr(e,t){const i=sr(e).scrollLeft;return t?t.left+i:br(Hi(e)).left+i}function vr(e,t){const i=e.getBoundingClientRect();return{x:i.left+t.scrollLeft-yr(e,i),y:i.top+t.scrollTop}}const wr=new Set(["absolute","fixed"]);function _r(e,t,i){let r;if("viewport"===t)r=function(e,t){const i=Fi(e),r=Hi(e),o=i.visualViewport;let n=r.clientWidth,a=r.clientHeight,s=0,l=0;if(o){n=o.width,a=o.height;const e=rr();(!e||e&&"fixed"===t)&&(s=o.offsetLeft,l=o.offsetTop)}const c=yr(r);if(c<=0){const e=r.ownerDocument,t=e.body,i=getComputedStyle(t),o="CSS1Compat"===e.compatMode&&parseFloat(i.marginLeft)+parseFloat(i.marginRight)||0,a=Math.abs(r.clientWidth-t.clientWidth-o);a<=25&&(n-=a)}else c<=25&&(n+=c);return{width:n,height:a,x:s,y:l}}(e,i);else if("document"===t)r=function(e){const t=Hi(e),i=sr(e),r=e.ownerDocument.body,o=pi(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),n=pi(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-i.scrollLeft+yr(e);const s=-i.scrollTop;return"rtl"===ar(r).direction&&(a+=pi(t.clientWidth,r.clientWidth)-o),{width:o,height:n,x:a,y:s}}(Hi(e));else if(ji(t))r=function(e,t){const i=br(e,!0,"fixed"===t),r=i.top+e.clientTop,o=i.left+e.clientLeft,n=Vi(e)?gr(e):mi(1);return{width:e.clientWidth*n.x,height:e.clientHeight*n.y,x:o*n.x,y:r*n.y}}(t,i);else{const i=mr(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Ri(r)}function Tr(e,t){const i=lr(e);return!(i===t||!ji(i)||nr(i))&&("fixed"===ar(i).position||Tr(i,t))}function Ar(e,t,i){const r=Vi(t),o=Hi(t),n="fixed"===i,a=br(e,!0,n,t);let s={scrollLeft:0,scrollTop:0};const l=mi(0);function c(){l.x=yr(o)}if(r||!r&&!n)if(("body"!==Gi(t)||Yi(o))&&(s=sr(t)),r){const e=br(t,!0,n,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else o&&c();n&&!r&&o&&c();const d=!o||r||n?mi(0):vr(o,s);return{x:a.left+s.scrollLeft-l.x-d.x,y:a.top+s.scrollTop-l.y-d.y,width:a.width,height:a.height}}function Er(e){return"static"===ar(e).position}function kr(e,t){if(!Vi(e)||"fixed"===ar(e).position)return null;if(t)return t(e);let i=e.offsetParent;return Hi(e)===i&&(i=i.ownerDocument.body),i}function Sr(e,t){const i=Fi(e);if(Zi(e))return i;if(!Vi(e)){let t=lr(e);for(;t&&!nr(t);){if(ji(t)&&!Er(t))return t;t=lr(t)}return i}let r=kr(e,t);for(;r&&Xi(r)&&Er(r);)r=kr(r,t);return r&&nr(r)&&Er(r)&&!ir(r)?i:r||function(e){let t=lr(e);for(;Vi(t)&&!nr(t);){if(ir(t))return t;if(Zi(t))return null;t=lr(t)}return null}(e)||i}const xr={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:i,offsetParent:r,strategy:o}=e;const n="fixed"===o,a=Hi(r),s=!!t&&Zi(t.floating);if(r===a||s&&n)return i;let l={scrollLeft:0,scrollTop:0},c=mi(1);const d=mi(0),u=Vi(r);if((u||!u&&!n)&&(("body"!==Gi(r)||Yi(a))&&(l=sr(r)),Vi(r))){const e=br(r);c=gr(r),d.x=e.x+r.clientLeft,d.y=e.y+r.clientTop}const h=!a||u||n?mi(0):vr(a,l);return{width:i.width*c.x,height:i.height*c.y,x:i.x*c.x-l.scrollLeft*c.x+d.x+h.x,y:i.y*c.y-l.scrollTop*c.y+d.y+h.y}},getDocumentElement:Hi,getClippingRect:function(e){let{element:t,boundary:i,rootBoundary:r,strategy:o}=e;const n="clippingAncestors"===i?Zi(t)?[]:function(e,t){const i=t.get(e);if(i)return i;let r=dr(e,[],!1).filter(e=>ji(e)&&"body"!==Gi(e)),o=null;const n="fixed"===ar(e).position;let a=n?lr(e):e;for(;ji(a)&&!nr(a);){const t=ar(a),i=ir(a);i||"fixed"!==t.position||(o=null),(n?!i&&!o:!i&&"static"===t.position&&o&&wr.has(o.position)||Yi(a)&&!i&&Tr(e,a))?r=r.filter(e=>e!==a):o=t,a=lr(a)}return t.set(e,r),r}(t,this._c):[].concat(i),a=[...n,r],s=a[0],l=a.reduce((e,i)=>{const r=_r(t,i,o);return e.top=pi(r.top,e.top),e.right=hi(r.right,e.right),e.bottom=hi(r.bottom,e.bottom),e.left=pi(r.left,e.left),e},_r(t,s,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},getOffsetParent:Sr,getElementRects:async function(e){const t=this.getOffsetParent||Sr,i=this.getDimensions,r=await i(e.floating);return{reference:Ar(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:i}=hr(e);return{width:t,height:i}},getScale:gr,isElement:ji,isRTL:function(e){return"rtl"===ar(e).direction}};function Cr(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}const Ir=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var i,r;const{placement:o,middlewareData:n,rects:a,initialPlacement:s,platform:l,elements:c}=t,{mainAxis:d=!0,crossAxis:u=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:f=!0,...m}=wi(e,t);if(null!=(i=n.arrow)&&i.alignmentOffset)return{};const b=_i(o),y=Si(s),v=_i(s)===s,w=await(null==l.isRTL?void 0:l.isRTL(c.floating)),_=h||(v||!f?[Li(s)]:function(e){const t=Li(e);return[Ci(e),t,Ci(t)]}(s)),T="none"!==g;!h&&T&&_.push(...function(e,t,i,r){const o=Ti(e);let n=function(e,t,i){switch(e){case"top":case"bottom":return i?t?Ni:Ii:t?Ii:Ni;case"left":case"right":return t?Di:Oi;default:return[]}}(_i(e),"start"===i,r);return o&&(n=n.map(e=>e+"-"+o),t&&(n=n.concat(n.map(Ci)))),n}(s,f,g,w));const A=[s,..._],E=await Bi(t,m),k=[];let S=(null==(r=n.flip)?void 0:r.overflows)||[];if(d&&k.push(E[b]),u){const e=function(e,t,i){void 0===i&&(i=!1);const r=Ti(e),o=xi(e),n=Ei(o);let a="x"===o?r===(i?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[n]>t.floating[n]&&(a=Li(a)),[a,Li(a)]}(o,a,w);k.push(E[e[0]],E[e[1]])}if(S=[...S,{placement:o,overflows:k}],!k.every(e=>e<=0)){var x,C;const e=((null==(x=n.flip)?void 0:x.index)||0)+1,t=A[e];if(t&&("alignment"!==u||y===Si(t)||S.every(e=>Si(e.placement)!==y||e.overflows[0]>0)))return{data:{index:e,overflows:S},reset:{placement:t}};let i=null==(C=S.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:C.placement;if(!i)switch(p){case"bestFit":{var I;const e=null==(I=S.filter(e=>{if(T){const t=Si(e.placement);return t===y||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:I[0];e&&(i=e);break}case"initialPlacement":i=s}if(o!==i)return{reset:{placement:i}}}return{}}}},Nr=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var i,r;const{placement:o,rects:n,platform:a,elements:s}=t,{apply:l=()=>{},...c}=wi(e,t),d=await Bi(t,c),u=_i(o),h=Ti(o),p="y"===Si(o),{width:g,height:f}=n.floating;let m,b;"top"===u||"bottom"===u?(m=u,b=h===(await(null==a.isRTL?void 0:a.isRTL(s.floating))?"start":"end")?"left":"right"):(b=u,m="end"===h?"top":"bottom");const y=f-d.top-d.bottom,v=g-d.left-d.right,w=hi(f-d[m],y),_=hi(g-d[b],v),T=!t.middlewareData.shift;let A=w,E=_;if(null!=(i=t.middlewareData.shift)&&i.enabled.x&&(E=v),null!=(r=t.middlewareData.shift)&&r.enabled.y&&(A=y),T&&!h){const e=pi(d.left,0),t=pi(d.right,0),i=pi(d.top,0),r=pi(d.bottom,0);p?E=g-2*(0!==e||0!==t?e+t:pi(d.left,d.right)):A=f-2*(0!==i||0!==r?i+r:pi(d.top,d.bottom))}await l({...t,availableWidth:E,availableHeight:A});const k=await a.getDimensions(s.floating);return g!==k.width||f!==k.height?{reset:{rects:!0}}:{}}}};function Dr(e){return function(e){for(let t=e;t;t=Or(t))if(t instanceof Element&&"none"===getComputedStyle(t).display)return null;for(let t=Or(e);t;t=Or(t)){if(!(t instanceof Element))continue;const e=getComputedStyle(t);if("contents"!==e.display){if("static"!==e.position||ir(e))return t;if("BODY"===t.tagName)return t}}return null}(e)}function Or(e){return e.assignedSlot?e.assignedSlot:e.parentNode instanceof ShadowRoot?e.parentNode.host:e.parentNode}var Lr=class extends Tt{constructor(){super(...arguments),this.localize=new Kt(this),this.active=!1,this.placement="top",this.strategy="absolute",this.distance=0,this.skidding=0,this.arrow=!1,this.arrowPlacement="anchor",this.arrowPadding=10,this.flip=!1,this.flipFallbackPlacements="",this.flipFallbackStrategy="best-fit",this.flipPadding=0,this.shift=!1,this.shiftPadding=0,this.autoSizePadding=0,this.hoverBridge=!1,this.updateHoverBridge=()=>{if(this.hoverBridge&&this.anchorEl){const e=this.anchorEl.getBoundingClientRect(),t=this.popup.getBoundingClientRect();let i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0;this.placement.includes("top")||this.placement.includes("bottom")?e.top<t.top?(i=e.left,r=e.bottom,o=e.right,n=e.bottom,a=t.left,s=t.top,l=t.right,c=t.top):(i=t.left,r=t.bottom,o=t.right,n=t.bottom,a=e.left,s=e.top,l=e.right,c=e.top):e.left<t.left?(i=e.right,r=e.top,o=t.left,n=t.top,a=e.right,s=e.bottom,l=t.left,c=t.bottom):(i=t.right,r=t.top,o=e.left,n=e.top,a=t.right,s=t.bottom,l=e.left,c=e.bottom),this.style.setProperty("--hover-bridge-top-left-x",`${i}px`),this.style.setProperty("--hover-bridge-top-left-y",`${r}px`),this.style.setProperty("--hover-bridge-top-right-x",`${o}px`),this.style.setProperty("--hover-bridge-top-right-y",`${n}px`),this.style.setProperty("--hover-bridge-bottom-left-x",`${a}px`),this.style.setProperty("--hover-bridge-bottom-left-y",`${s}px`),this.style.setProperty("--hover-bridge-bottom-right-x",`${l}px`),this.style.setProperty("--hover-bridge-bottom-right-y",`${c}px`)}}}async connectedCallback(){super.connectedCallback(),await this.updateComplete,this.start()}disconnectedCallback(){super.disconnectedCallback(),this.stop()}async updated(e){super.updated(e),e.has("active")&&(this.active?this.start():this.stop()),e.has("anchor")&&this.handleAnchorChange(),this.active&&(await this.updateComplete,this.reposition())}async handleAnchorChange(){if(await this.stop(),this.anchor&&"string"==typeof this.anchor){const e=this.getRootNode();this.anchorEl=e.getElementById(this.anchor)}else this.anchor instanceof Element||function(e){return null!==e&&"object"==typeof e&&"getBoundingClientRect"in e&&(!("contextElement"in e)||e.contextElement instanceof Element)}(this.anchor)?this.anchorEl=this.anchor:this.anchorEl=this.querySelector('[slot="anchor"]');this.anchorEl instanceof HTMLSlotElement&&(this.anchorEl=this.anchorEl.assignedElements({flatten:!0})[0]),this.anchorEl&&this.active&&this.start()}start(){this.anchorEl&&this.active&&(this.cleanup=function(e,t,i,r){void 0===r&&(r={});const{ancestorScroll:o=!0,ancestorResize:n=!0,elementResize:a="function"==typeof ResizeObserver,layoutShift:s="function"==typeof IntersectionObserver,animationFrame:l=!1}=r,c=pr(e),d=o||n?[...c?dr(c):[],...dr(t)]:[];d.forEach(e=>{o&&e.addEventListener("scroll",i,{passive:!0}),n&&e.addEventListener("resize",i)});const u=c&&s?function(e,t){let i,r=null;const o=Hi(e);function n(){var e;clearTimeout(i),null==(e=r)||e.disconnect(),r=null}return function a(s,l){void 0===s&&(s=!1),void 0===l&&(l=1),n();const c=e.getBoundingClientRect(),{left:d,top:u,width:h,height:p}=c;if(s||t(),!h||!p)return;const g={rootMargin:-fi(u)+"px "+-fi(o.clientWidth-(d+h))+"px "+-fi(o.clientHeight-(u+p))+"px "+-fi(d)+"px",threshold:pi(0,hi(1,l))||1};let f=!0;function m(t){const r=t[0].intersectionRatio;if(r!==l){if(!f)return a();r?a(!1,r):i=setTimeout(()=>{a(!1,1e-7)},1e3)}1!==r||Cr(c,e.getBoundingClientRect())||a(),f=!1}try{r=new IntersectionObserver(m,{...g,root:o.ownerDocument})}catch(e){r=new IntersectionObserver(m,g)}r.observe(e)}(!0),n}(c,i):null;let h,p=-1,g=null;a&&(g=new ResizeObserver(e=>{let[r]=e;r&&r.target===c&&g&&(g.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var e;null==(e=g)||e.observe(t)})),i()}),c&&!l&&g.observe(c),g.observe(t));let f=l?br(e):null;return l&&function t(){const r=br(e);f&&!Cr(f,r)&&i(),f=r,h=requestAnimationFrame(t)}(),i(),()=>{var e;d.forEach(e=>{o&&e.removeEventListener("scroll",i),n&&e.removeEventListener("resize",i)}),null==u||u(),null==(e=g)||e.disconnect(),g=null,l&&cancelAnimationFrame(h)}}(this.anchorEl,this.popup,()=>{this.reposition()}))}async stop(){return new Promise(e=>{this.cleanup?(this.cleanup(),this.cleanup=void 0,this.removeAttribute("data-current-placement"),this.style.removeProperty("--auto-size-available-width"),this.style.removeProperty("--auto-size-available-height"),requestAnimationFrame(()=>e())):e()})}reposition(){if(!this.active||!this.anchorEl)return;const e=[(t={mainAxis:this.distance,crossAxis:this.skidding},void 0===t&&(t=0),{name:"offset",options:t,async fn(e){var i,r;const{x:o,y:n,placement:a,middlewareData:s}=e,l=await async function(e,t){const{placement:i,platform:r,elements:o}=e,n=await(null==r.isRTL?void 0:r.isRTL(o.floating)),a=_i(i),s=Ti(i),l="y"===Si(i),c=Ui.has(a)?-1:1,d=n&&l?-1:1,u=wi(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:g}="number"==typeof u?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return s&&"number"==typeof g&&(p="end"===s?-1*g:g),l?{x:p*d,y:h*c}:{x:h*c,y:p*d}}(e,t);return a===(null==(i=s.offset)?void 0:i.placement)&&null!=(r=s.arrow)&&r.alignmentOffset?{}:{x:o+l.x,y:n+l.y,data:{...l,placement:a}}}})];var t;this.sync?e.push(Nr({apply:({rects:e})=>{const t="width"===this.sync||"both"===this.sync,i="height"===this.sync||"both"===this.sync;this.popup.style.width=t?`${e.reference.width}px`:"",this.popup.style.height=i?`${e.reference.height}px`:""}})):(this.popup.style.width="",this.popup.style.height=""),this.flip&&e.push(Ir({boundary:this.flipBoundary,fallbackPlacements:this.flipFallbackPlacements,fallbackStrategy:"best-fit"===this.flipFallbackStrategy?"bestFit":"initialPlacement",padding:this.flipPadding})),this.shift&&e.push(function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:i,y:r,placement:o}=t,{mainAxis:n=!0,crossAxis:a=!1,limiter:s={fn:e=>{let{x:t,y:i}=e;return{x:t,y:i}}},...l}=wi(e,t),c={x:i,y:r},d=await Bi(t,l),u=Si(_i(o)),h=Ai(u);let p=c[h],g=c[u];if(n){const e="y"===h?"bottom":"right";p=vi(p+d["y"===h?"top":"left"],p,p-d[e])}if(a){const e="y"===u?"bottom":"right";g=vi(g+d["y"===u?"top":"left"],g,g-d[e])}const f=s.fn({...t,[h]:p,[u]:g});return{...f,data:{x:f.x-i,y:f.y-r,enabled:{[h]:n,[u]:a}}}}}}({boundary:this.shiftBoundary,padding:this.shiftPadding})),this.autoSize?e.push(Nr({boundary:this.autoSizeBoundary,padding:this.autoSizePadding,apply:({availableWidth:e,availableHeight:t})=>{"vertical"===this.autoSize||"both"===this.autoSize?this.style.setProperty("--auto-size-available-height",`${t}px`):this.style.removeProperty("--auto-size-available-height"),"horizontal"===this.autoSize||"both"===this.autoSize?this.style.setProperty("--auto-size-available-width",`${e}px`):this.style.removeProperty("--auto-size-available-width")}})):(this.style.removeProperty("--auto-size-available-width"),this.style.removeProperty("--auto-size-available-height")),this.arrow&&e.push((e=>({name:"arrow",options:e,async fn(t){const{x:i,y:r,placement:o,rects:n,platform:a,elements:s,middlewareData:l}=t,{element:c,padding:d=0}=wi(e,t)||{};if(null==c)return{};const u=Pi(d),h={x:i,y:r},p=xi(o),g=Ei(p),f=await a.getDimensions(c),m="y"===p,b=m?"top":"left",y=m?"bottom":"right",v=m?"clientHeight":"clientWidth",w=n.reference[g]+n.reference[p]-h[p]-n.floating[g],_=h[p]-n.reference[p],T=await(null==a.getOffsetParent?void 0:a.getOffsetParent(c));let A=T?T[v]:0;A&&await(null==a.isElement?void 0:a.isElement(T))||(A=s.floating[v]||n.floating[g]);const E=w/2-_/2,k=A/2-f[g]/2-1,S=hi(u[b],k),x=hi(u[y],k),C=S,I=A-f[g]-x,N=A/2-f[g]/2+E,D=vi(C,N,I),O=!l.arrow&&null!=Ti(o)&&N!==D&&n.reference[g]/2-(N<C?S:x)-f[g]/2<0,L=O?N<C?N-C:N-I:0;return{[p]:h[p]+L,data:{[p]:D,centerOffset:N-D-L,...O&&{alignmentOffset:L}},reset:O}}}))({element:this.arrowEl,padding:this.arrowPadding}));const i="absolute"===this.strategy?e=>xr.getOffsetParent(e,Dr):xr.getOffsetParent;((e,t,i)=>{const r=new Map,o={platform:xr,...i},n={...o.platform,_c:r};return(async(e,t,i)=>{const{placement:r="bottom",strategy:o="absolute",middleware:n=[],platform:a}=i,s=n.filter(Boolean),l=await(null==a.isRTL?void 0:a.isRTL(t));let c=await a.getElementRects({reference:e,floating:t,strategy:o}),{x:d,y:u}=Mi(c,r,l),h=r,p={},g=0;for(let i=0;i<s.length;i++){const{name:n,fn:f}=s[i],{x:m,y:b,data:y,reset:v}=await f({x:d,y:u,initialPlacement:r,placement:h,strategy:o,middlewareData:p,rects:c,platform:a,elements:{reference:e,floating:t}});d=null!=m?m:d,u=null!=b?b:u,p={...p,[n]:{...p[n],...y}},v&&g<=50&&(g++,"object"==typeof v&&(v.placement&&(h=v.placement),v.rects&&(c=!0===v.rects?await a.getElementRects({reference:e,floating:t,strategy:o}):v.rects),({x:d,y:u}=Mi(c,h,l))),i=-1)}return{x:d,y:u,placement:h,strategy:o,middlewareData:p}})(e,t,{...o,platform:n})})(this.anchorEl,this.popup,{placement:this.placement,middleware:e,strategy:this.strategy,platform:b(m({},xr),{getOffsetParent:i})}).then(({x:e,y:t,middlewareData:i,placement:r})=>{const o="rtl"===this.localize.dir(),n={top:"bottom",right:"left",bottom:"top",left:"right"}[r.split("-")[0]];if(this.setAttribute("data-current-placement",r),Object.assign(this.popup.style,{left:`${e}px`,top:`${t}px`}),this.arrow){const e=i.arrow.x,t=i.arrow.y;let r="",a="",s="",l="";if("start"===this.arrowPlacement){const i="number"==typeof e?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"";r="number"==typeof t?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"",a=o?i:"",l=o?"":i}else if("end"===this.arrowPlacement){const i="number"==typeof e?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"";a=o?"":i,l=o?i:"",s="number"==typeof t?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:""}else"center"===this.arrowPlacement?(l="number"==typeof e?"calc(50% - var(--arrow-size-diagonal))":"",r="number"==typeof t?"calc(50% - var(--arrow-size-diagonal))":""):(l="number"==typeof e?`${e}px`:"",r="number"==typeof t?`${t}px`:"");Object.assign(this.arrowEl.style,{top:r,right:a,bottom:s,left:l,[n]:"calc(var(--arrow-size-diagonal) * -1)"})}}),requestAnimationFrame(()=>this.updateHoverBridge()),this.emit("sl-reposition")}render(){return _e`
      <slot name="anchor" @slotchange=${this.handleAnchorChange}></slot>

      <span
        part="hover-bridge"
        class=${Lt({"popup-hover-bridge":!0,"popup-hover-bridge--visible":this.hoverBridge&&this.active})}
      ></span>

      <div
        part="popup"
        class=${Lt({popup:!0,"popup--active":this.active,"popup--fixed":"fixed"===this.strategy,"popup--has-arrow":this.arrow})}
      >
        <slot></slot>
        ${this.arrow?_e`<div part="arrow" class="popup__arrow" role="presentation"></div>`:""}
      </div>
    `}};function Pr(e,t){return new Promise(i=>{e.addEventListener(t,function r(o){o.target===e&&(e.removeEventListener(t,r),i())})})}Lr.styles=[st,ui],y([ft(".popup")],Lr.prototype,"popup",2),y([ft(".popup__arrow")],Lr.prototype,"arrowEl",2),y([ut()],Lr.prototype,"anchor",2),y([ut({type:Boolean,reflect:!0})],Lr.prototype,"active",2),y([ut({reflect:!0})],Lr.prototype,"placement",2),y([ut({reflect:!0})],Lr.prototype,"strategy",2),y([ut({type:Number})],Lr.prototype,"distance",2),y([ut({type:Number})],Lr.prototype,"skidding",2),y([ut({type:Boolean})],Lr.prototype,"arrow",2),y([ut({attribute:"arrow-placement"})],Lr.prototype,"arrowPlacement",2),y([ut({attribute:"arrow-padding",type:Number})],Lr.prototype,"arrowPadding",2),y([ut({type:Boolean})],Lr.prototype,"flip",2),y([ut({attribute:"flip-fallback-placements",converter:{fromAttribute:e=>e.split(" ").map(e=>e.trim()).filter(e=>""!==e),toAttribute:e=>e.join(" ")}})],Lr.prototype,"flipFallbackPlacements",2),y([ut({attribute:"flip-fallback-strategy"})],Lr.prototype,"flipFallbackStrategy",2),y([ut({type:Object})],Lr.prototype,"flipBoundary",2),y([ut({attribute:"flip-padding",type:Number})],Lr.prototype,"flipPadding",2),y([ut({type:Boolean})],Lr.prototype,"shift",2),y([ut({type:Object})],Lr.prototype,"shiftBoundary",2),y([ut({attribute:"shift-padding",type:Number})],Lr.prototype,"shiftPadding",2),y([ut({attribute:"auto-size"})],Lr.prototype,"autoSize",2),y([ut()],Lr.prototype,"sync",2),y([ut({type:Object})],Lr.prototype,"autoSizeBoundary",2),y([ut({attribute:"auto-size-padding",type:Number})],Lr.prototype,"autoSizePadding",2),y([ut({attribute:"hover-bridge",type:Boolean})],Lr.prototype,"hoverBridge",2);var Rr=class extends Tt{constructor(){super(),this.localize=new Kt(this),this.content="",this.placement="top",this.disabled=!1,this.distance=8,this.open=!1,this.skidding=0,this.trigger="hover focus",this.hoist=!1,this.handleBlur=()=>{this.hasTrigger("focus")&&this.hide()},this.handleClick=()=>{this.hasTrigger("click")&&(this.open?this.hide():this.show())},this.handleFocus=()=>{this.hasTrigger("focus")&&this.show()},this.handleDocumentKeyDown=e=>{"Escape"===e.key&&(e.stopPropagation(),this.hide())},this.handleMouseOver=()=>{if(this.hasTrigger("hover")){const e=ri(getComputedStyle(this).getPropertyValue("--show-delay"));clearTimeout(this.hoverTimeout),this.hoverTimeout=window.setTimeout(()=>this.show(),e)}},this.handleMouseOut=()=>{if(this.hasTrigger("hover")){const e=ri(getComputedStyle(this).getPropertyValue("--hide-delay"));clearTimeout(this.hoverTimeout),this.hoverTimeout=window.setTimeout(()=>this.hide(),e)}},this.addEventListener("blur",this.handleBlur,!0),this.addEventListener("focus",this.handleFocus,!0),this.addEventListener("click",this.handleClick),this.addEventListener("mouseover",this.handleMouseOver),this.addEventListener("mouseout",this.handleMouseOut)}disconnectedCallback(){var e;super.disconnectedCallback(),null==(e=this.closeWatcher)||e.destroy(),document.removeEventListener("keydown",this.handleDocumentKeyDown)}firstUpdated(){this.body.hidden=!this.open,this.open&&(this.popup.active=!0,this.popup.reposition())}hasTrigger(e){return this.trigger.split(" ").includes(e)}async handleOpenChange(){var e,t;if(this.open){if(this.disabled)return;this.emit("sl-show"),"CloseWatcher"in window?(null==(e=this.closeWatcher)||e.destroy(),this.closeWatcher=new CloseWatcher,this.closeWatcher.onclose=()=>{this.hide()}):document.addEventListener("keydown",this.handleDocumentKeyDown),await ni(this.body),this.body.hidden=!1,this.popup.active=!0;const{keyframes:t,options:i}=ti(this,"tooltip.show",{dir:this.localize.dir()});await ii(this.popup.popup,t,i),this.popup.reposition(),this.emit("sl-after-show")}else{this.emit("sl-hide"),null==(t=this.closeWatcher)||t.destroy(),document.removeEventListener("keydown",this.handleDocumentKeyDown),await ni(this.body);const{keyframes:e,options:i}=ti(this,"tooltip.hide",{dir:this.localize.dir()});await ii(this.popup.popup,e,i),this.popup.active=!1,this.body.hidden=!0,this.emit("sl-after-hide")}}async handleOptionsChange(){this.hasUpdated&&(await this.updateComplete,this.popup.reposition())}handleDisabledChange(){this.disabled&&this.open&&this.hide()}async show(){if(!this.open)return this.open=!0,Pr(this,"sl-after-show")}async hide(){if(this.open)return this.open=!1,Pr(this,"sl-after-hide")}render(){return _e`
      <sl-popup
        part="base"
        exportparts="
          popup:base__popup,
          arrow:base__arrow
        "
        class=${Lt({tooltip:!0,"tooltip--open":this.open})}
        placement=${this.placement}
        distance=${this.distance}
        skidding=${this.skidding}
        strategy=${this.hoist?"fixed":"absolute"}
        flip
        shift
        arrow
        hover-bridge
      >
        ${""}
        <slot slot="anchor" aria-describedby="tooltip"></slot>

        ${""}
        <div part="body" id="tooltip" class="tooltip__body" role="tooltip" aria-live=${this.open?"polite":"off"}>
          <slot name="content">${this.content}</slot>
        </div>
      </sl-popup>
    `}};Rr.styles=[st,di],Rr.dependencies={"sl-popup":Lr},y([ft("slot:not([name])")],Rr.prototype,"defaultSlot",2),y([ft(".tooltip__body")],Rr.prototype,"body",2),y([ft("sl-popup")],Rr.prototype,"popup",2),y([ut()],Rr.prototype,"content",2),y([ut()],Rr.prototype,"placement",2),y([ut({type:Boolean,reflect:!0})],Rr.prototype,"disabled",2),y([ut({type:Number})],Rr.prototype,"distance",2),y([ut({type:Boolean,reflect:!0})],Rr.prototype,"open",2),y([ut({type:Number})],Rr.prototype,"skidding",2),y([ut()],Rr.prototype,"trigger",2),y([ut({type:Boolean})],Rr.prototype,"hoist",2),y([at("open",{waitUntilFirstUpdate:!0})],Rr.prototype,"handleOpenChange",1),y([at(["content","distance","hoist","placement","skidding"])],Rr.prototype,"handleOptionsChange",1),y([at("disabled")],Rr.prototype,"handleDisabledChange",1),ei("tooltip.show",{keyframes:[{opacity:0,scale:.8},{opacity:1,scale:1}],options:{duration:150,easing:"ease"}}),ei("tooltip.hide",{keyframes:[{opacity:1,scale:1},{opacity:0,scale:.8}],options:{duration:150,easing:"ease"}}),Rr.define("sl-tooltip");var Mr=M`
  :host {
    /*
     * These are actually used by tree item, but we define them here so they can more easily be set and all tree items
     * stay consistent.
     */
    --indent-guide-color: var(--sl-color-neutral-200);
    --indent-guide-offset: 0;
    --indent-guide-style: solid;
    --indent-guide-width: 0;
    --indent-size: var(--sl-spacing-large);

    display: block;

    /*
     * Tree item indentation uses the "em" unit to increment its width on each level, so setting the font size to zero
     * here removes the indentation for all the nodes on the first level.
     */
    font-size: 0;
  }
`;function Br(e,t,i){return(e=>Object.is(e,-0)?0:e)(e<t?t:e>i?i:e)}function Ur(e,t=!1){function i(e){const t=e.getChildrenItems({includeDisabled:!1});if(t.length){const i=t.every(e=>e.selected),r=t.every(e=>!e.selected&&!e.indeterminate);e.selected=i,e.indeterminate=!i&&!r}}!function e(r){for(const i of r.getChildrenItems())i.selected=t?r.selected||i.selected:!i.disabled&&r.selected,e(i);t&&i(r)}(e),function e(t){const r=t.parentElement;ci.isTreeItem(r)&&(i(r),e(r))}(e)}var $r=class extends Tt{constructor(){super(),this.selection="single",this.clickTarget=null,this.localize=new Kt(this),this.initTreeItem=e=>{e.selectable="multiple"===this.selection,["expand","collapse"].filter(e=>!!this.querySelector(`[slot="${e}-icon"]`)).forEach(t=>{const i=e.querySelector(`[slot="${t}-icon"]`),r=this.getExpandButtonIcon(t);r&&(null===i?e.append(r):i.hasAttribute("data-default")&&i.replaceWith(r))})},this.handleTreeChanged=e=>{for(const t of e){const e=[...t.addedNodes].filter(ci.isTreeItem),i=[...t.removedNodes].filter(ci.isTreeItem);e.forEach(this.initTreeItem),this.lastFocusedItem&&i.includes(this.lastFocusedItem)&&(this.lastFocusedItem=null)}},this.handleFocusOut=e=>{const t=e.relatedTarget;t&&this.contains(t)||(this.tabIndex=0)},this.handleFocusIn=e=>{const t=e.target;e.target===this&&this.focusItem(this.lastFocusedItem||this.getAllTreeItems()[0]),ci.isTreeItem(t)&&!t.disabled&&(this.lastFocusedItem&&(this.lastFocusedItem.tabIndex=-1),this.lastFocusedItem=t,this.tabIndex=-1,t.tabIndex=0)},this.addEventListener("focusin",this.handleFocusIn),this.addEventListener("focusout",this.handleFocusOut),this.addEventListener("sl-lazy-change",this.handleSlotChange)}async connectedCallback(){super.connectedCallback(),this.setAttribute("role","tree"),this.setAttribute("tabindex","0"),await this.updateComplete,this.mutationObserver=new MutationObserver(this.handleTreeChanged),this.mutationObserver.observe(this,{childList:!0,subtree:!0})}disconnectedCallback(){var e;super.disconnectedCallback(),null==(e=this.mutationObserver)||e.disconnect()}getExpandButtonIcon(e){const t=("expand"===e?this.expandedIconSlot:this.collapsedIconSlot).assignedElements({flatten:!0})[0];if(t){const i=t.cloneNode(!0);return[i,...i.querySelectorAll("[id]")].forEach(e=>e.removeAttribute("id")),i.setAttribute("data-default",""),i.slot=`${e}-icon`,i}return null}selectItem(e){const t=[...this.selectedItems];if("multiple"===this.selection)e.selected=!e.selected,e.lazy&&(e.expanded=!0),Ur(e);else if("single"===this.selection||e.isLeaf){const t=this.getAllTreeItems();for(const i of t)i.selected=i===e}else"leaf"===this.selection&&(e.expanded=!e.expanded);const i=this.selectedItems;(t.length!==i.length||i.some(e=>!t.includes(e)))&&Promise.all(i.map(e=>e.updateComplete)).then(()=>{this.emit("sl-selection-change",{detail:{selection:i}})})}getAllTreeItems(){return[...this.querySelectorAll("sl-tree-item")]}focusItem(e){null==e||e.focus()}handleKeyDown(e){if(!["ArrowDown","ArrowUp","ArrowRight","ArrowLeft","Home","End","Enter"," "].includes(e.key))return;if(e.composedPath().some(e=>{var t;return["input","textarea"].includes(null==(t=null==e?void 0:e.tagName)?void 0:t.toLowerCase())}))return;const t=this.getFocusableItems(),i="ltr"===this.localize.dir(),r="rtl"===this.localize.dir();if(t.length>0){e.preventDefault();const o=t.findIndex(e=>e.matches(":focus")),n=t[o],a=e=>{const i=t[Br(e,0,t.length-1)];this.focusItem(i)},s=e=>{n.expanded=e};"ArrowDown"===e.key?a(o+1):"ArrowUp"===e.key?a(o-1):i&&"ArrowRight"===e.key||r&&"ArrowLeft"===e.key?!n||n.disabled||n.expanded||n.isLeaf&&!n.lazy?a(o+1):s(!0):i&&"ArrowLeft"===e.key||r&&"ArrowRight"===e.key?!n||n.disabled||n.isLeaf||!n.expanded?a(o-1):s(!1):"Home"===e.key?a(0):"End"===e.key?a(t.length-1):"Enter"!==e.key&&" "!==e.key||n.disabled||this.selectItem(n)}}handleClick(e){const t=e.target,i=t.closest("sl-tree-item"),r=e.composedPath().some(e=>{var t;return null==(t=null==e?void 0:e.classList)?void 0:t.contains("tree-item__expand-button")});i&&!i.disabled&&t===this.clickTarget&&(r?i.expanded=!i.expanded:this.selectItem(i))}handleMouseDown(e){this.clickTarget=e.target}handleSlotChange(){this.getAllTreeItems().forEach(this.initTreeItem)}async handleSelectionChange(){const e="multiple"===this.selection,t=this.getAllTreeItems();this.setAttribute("aria-multiselectable",e?"true":"false");for(const i of t)i.selectable=e;e&&(await this.updateComplete,[...this.querySelectorAll(":scope > sl-tree-item")].forEach(e=>Ur(e,!0)))}get selectedItems(){return this.getAllTreeItems().filter(e=>e.selected)}getFocusableItems(){const e=this.getAllTreeItems(),t=new Set;return e.filter(e=>{var i;if(e.disabled)return!1;const r=null==(i=e.parentElement)?void 0:i.closest("[role=treeitem]");return r&&(!r.expanded||r.loading||t.has(r))&&t.add(e),!t.has(e)})}render(){return _e`
      <div
        part="base"
        class="tree"
        @click=${this.handleClick}
        @keydown=${this.handleKeyDown}
        @mousedown=${this.handleMouseDown}
      >
        <slot @slotchange=${this.handleSlotChange}></slot>
        <span hidden aria-hidden="true"><slot name="expand-icon"></slot></span>
        <span hidden aria-hidden="true"><slot name="collapse-icon"></slot></span>
      </div>
    `}};$r.styles=[st,Mr],y([ft("slot:not([name])")],$r.prototype,"defaultSlot",2),y([ft("slot[name=expand-icon]")],$r.prototype,"expandedIconSlot",2),y([ft("slot[name=collapse-icon]")],$r.prototype,"collapsedIconSlot",2),y([ut()],$r.prototype,"selection",2),y([at("selection")],$r.prototype,"handleSelectionChange",1),$r.define("sl-tree");var Gr=M`
  :host(:not(:focus-within)) {
    position: absolute !important;
    width: 1px !important;
    height: 1px !important;
    clip: rect(0 0 0 0) !important;
    clip-path: inset(50%) !important;
    border: none !important;
    overflow: hidden !important;
    white-space: nowrap !important;
    padding: 0 !important;
  }
`,Fr=class extends Tt{render(){return _e` <slot></slot> `}};Fr.styles=[st,Gr],Fr.define("sl-visually-hidden");var Hr=M`
  :host {
    --padding: 0;

    display: none;
  }

  :host([active]) {
    display: block;
  }

  .tab-panel {
    display: block;
    padding: var(--padding);
  }
`,zr=0,jr=class extends Tt{constructor(){super(...arguments),this.attrId=++zr,this.componentId=`sl-tab-panel-${this.attrId}`,this.name="",this.active=!1}connectedCallback(){super.connectedCallback(),this.id=this.id.length>0?this.id:this.componentId,this.setAttribute("role","tabpanel")}handleActiveChange(){this.setAttribute("aria-hidden",this.active?"false":"true")}render(){return _e`
      <slot
        part="base"
        class=${Lt({"tab-panel":!0,"tab-panel--active":this.active})}
      ></slot>
    `}};jr.styles=[st,Hr],y([ut({reflect:!0})],jr.prototype,"name",2),y([ut({type:Boolean,reflect:!0})],jr.prototype,"active",2),y([at("active")],jr.prototype,"handleActiveChange",1),jr.define("sl-tab-panel");var Vr=M`
  :host {
    display: inline-block;
  }

  .tag {
    display: flex;
    align-items: center;
    border: solid 1px;
    line-height: 1;
    white-space: nowrap;
    user-select: none;
    -webkit-user-select: none;
  }

  .tag__remove::part(base) {
    color: inherit;
    padding: 0;
  }

  /*
   * Variant modifiers
   */

  .tag--primary {
    background-color: var(--sl-color-primary-50);
    border-color: var(--sl-color-primary-200);
    color: var(--sl-color-primary-800);
  }

  .tag--primary:active > sl-icon-button {
    color: var(--sl-color-primary-600);
  }

  .tag--success {
    background-color: var(--sl-color-success-50);
    border-color: var(--sl-color-success-200);
    color: var(--sl-color-success-800);
  }

  .tag--success:active > sl-icon-button {
    color: var(--sl-color-success-600);
  }

  .tag--neutral {
    background-color: var(--sl-color-neutral-50);
    border-color: var(--sl-color-neutral-200);
    color: var(--sl-color-neutral-800);
  }

  .tag--neutral:active > sl-icon-button {
    color: var(--sl-color-neutral-600);
  }

  .tag--warning {
    background-color: var(--sl-color-warning-50);
    border-color: var(--sl-color-warning-200);
    color: var(--sl-color-warning-800);
  }

  .tag--warning:active > sl-icon-button {
    color: var(--sl-color-warning-600);
  }

  .tag--danger {
    background-color: var(--sl-color-danger-50);
    border-color: var(--sl-color-danger-200);
    color: var(--sl-color-danger-800);
  }

  .tag--danger:active > sl-icon-button {
    color: var(--sl-color-danger-600);
  }

  /*
   * Size modifiers
   */

  .tag--small {
    font-size: var(--sl-button-font-size-small);
    height: calc(var(--sl-input-height-small) * 0.8);
    line-height: calc(var(--sl-input-height-small) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-small);
    padding: 0 var(--sl-spacing-x-small);
  }

  .tag--medium {
    font-size: var(--sl-button-font-size-medium);
    height: calc(var(--sl-input-height-medium) * 0.8);
    line-height: calc(var(--sl-input-height-medium) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-medium);
    padding: 0 var(--sl-spacing-small);
  }

  .tag--large {
    font-size: var(--sl-button-font-size-large);
    height: calc(var(--sl-input-height-large) * 0.8);
    line-height: calc(var(--sl-input-height-large) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-large);
    padding: 0 var(--sl-spacing-medium);
  }

  .tag__remove {
    margin-inline-start: var(--sl-spacing-x-small);
  }

  /*
   * Pill modifier
   */

  .tag--pill {
    border-radius: var(--sl-border-radius-pill);
  }
`,Wr=M`
  :host {
    display: inline-block;
    color: var(--sl-color-neutral-600);
  }

  .icon-button {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    background: none;
    border: none;
    border-radius: var(--sl-border-radius-medium);
    font-size: inherit;
    color: inherit;
    padding: var(--sl-spacing-x-small);
    cursor: pointer;
    transition: var(--sl-transition-x-fast) color;
    -webkit-appearance: none;
  }

  .icon-button:hover:not(.icon-button--disabled),
  .icon-button:focus-visible:not(.icon-button--disabled) {
    color: var(--sl-color-primary-600);
  }

  .icon-button:active:not(.icon-button--disabled) {
    color: var(--sl-color-primary-700);
  }

  .icon-button:focus {
    outline: none;
  }

  .icon-button--disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .icon-button:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .icon-button__icon {
    pointer-events: none;
  }
`;const qr=Symbol.for(""),Yr=e=>{if(e?.r===qr)return e?._$litStatic$},Kr=(e,...t)=>({_$litStatic$:t.reduce((t,i,r)=>t+(e=>{if(void 0!==e._$litStatic$)return e._$litStatic$;throw Error(`Value passed to 'literal' function must be a 'literal' result: ${e}. Use 'unsafeStatic' to pass non-literal values, but\n            take care to ensure page security.`)})(i)+e[r+1],e[0]),r:qr}),Xr=new Map,Jr=e=>(t,...i)=>{const r=i.length;let o,n;const a=[],s=[];let l,c=0,d=!1;for(;c<r;){for(l=t[c];c<r&&void 0!==(n=i[c],o=Yr(n));)l+=o+t[++c],d=!0;c!==r&&s.push(n),a.push(l),c++}if(c===r&&a.push(t[r]),d){const e=a.join("$$lit$$");void 0===(t=Xr.get(e))&&(a.raw=a,Xr.set(e,t=a)),i=s}return e(t,...i)},Zr=Jr(_e);Jr(Te),Jr(Ae);var Qr=class extends Tt{constructor(){super(...arguments),this.hasFocus=!1,this.label="",this.disabled=!1}handleBlur(){this.hasFocus=!1,this.emit("sl-blur")}handleFocus(){this.hasFocus=!0,this.emit("sl-focus")}handleClick(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}click(){this.button.click()}focus(e){this.button.focus(e)}blur(){this.button.blur()}render(){const e=!!this.href,t=e?Kr`a`:Kr`button`;return Zr`
      <${t}
        part="base"
        class=${Lt({"icon-button":!0,"icon-button--disabled":!e&&this.disabled,"icon-button--focused":this.hasFocus})}
        ?disabled=${Pt(e?void 0:this.disabled)}
        type=${Pt(e?void 0:"button")}
        href=${Pt(e?this.href:void 0)}
        target=${Pt(e?this.target:void 0)}
        download=${Pt(e?this.download:void 0)}
        rel=${Pt(e&&this.target?"noreferrer noopener":void 0)}
        role=${Pt(e?void 0:"button")}
        aria-disabled=${this.disabled?"true":"false"}
        aria-label="${this.label}"
        tabindex=${this.disabled?"-1":"0"}
        @blur=${this.handleBlur}
        @focus=${this.handleFocus}
        @click=${this.handleClick}
      >
        <sl-icon
          class="icon-button__icon"
          name=${Pt(this.name)}
          library=${Pt(this.library)}
          src=${Pt(this.src)}
          aria-hidden="true"
        ></sl-icon>
      </${t}>
    `}};Qr.styles=[st,Wr],Qr.dependencies={"sl-icon":Nt},y([ft(".icon-button")],Qr.prototype,"button",2),y([ht()],Qr.prototype,"hasFocus",2),y([ut()],Qr.prototype,"name",2),y([ut()],Qr.prototype,"library",2),y([ut()],Qr.prototype,"src",2),y([ut()],Qr.prototype,"href",2),y([ut()],Qr.prototype,"target",2),y([ut()],Qr.prototype,"download",2),y([ut()],Qr.prototype,"label",2),y([ut({type:Boolean,reflect:!0})],Qr.prototype,"disabled",2);var eo=class extends Tt{constructor(){super(...arguments),this.localize=new Kt(this),this.variant="neutral",this.size="medium",this.pill=!1,this.removable=!1}handleRemoveClick(){this.emit("sl-remove")}render(){return _e`
      <span
        part="base"
        class=${Lt({tag:!0,"tag--primary":"primary"===this.variant,"tag--success":"success"===this.variant,"tag--neutral":"neutral"===this.variant,"tag--warning":"warning"===this.variant,"tag--danger":"danger"===this.variant,"tag--text":"text"===this.variant,"tag--small":"small"===this.size,"tag--medium":"medium"===this.size,"tag--large":"large"===this.size,"tag--pill":this.pill,"tag--removable":this.removable})}
      >
        <slot part="content" class="tag__content"></slot>

        ${this.removable?_e`
              <sl-icon-button
                part="remove-button"
                exportparts="base:remove-button__base"
                name="x-lg"
                library="system"
                label=${this.localize.term("remove")}
                class="tag__remove"
                @click=${this.handleRemoveClick}
                tabindex="-1"
              ></sl-icon-button>
            `:""}
      </span>
    `}};eo.styles=[st,Vr],eo.dependencies={"sl-icon-button":Qr},y([ut({reflect:!0})],eo.prototype,"variant",2),y([ut({reflect:!0})],eo.prototype,"size",2),y([ut({type:Boolean,reflect:!0})],eo.prototype,"pill",2),y([ut({type:Boolean})],eo.prototype,"removable",2),eo.define("sl-tag");var to=M`
  :host {
    display: block;
  }

  .textarea {
    display: grid;
    align-items: center;
    position: relative;
    width: 100%;
    font-family: var(--sl-input-font-family);
    font-weight: var(--sl-input-font-weight);
    line-height: var(--sl-line-height-normal);
    letter-spacing: var(--sl-input-letter-spacing);
    vertical-align: middle;
    transition:
      var(--sl-transition-fast) color,
      var(--sl-transition-fast) border,
      var(--sl-transition-fast) box-shadow,
      var(--sl-transition-fast) background-color;
    cursor: text;
  }

  /* Standard textareas */
  .textarea--standard {
    background-color: var(--sl-input-background-color);
    border: solid var(--sl-input-border-width) var(--sl-input-border-color);
  }

  .textarea--standard:hover:not(.textarea--disabled) {
    background-color: var(--sl-input-background-color-hover);
    border-color: var(--sl-input-border-color-hover);
  }
  .textarea--standard:hover:not(.textarea--disabled) .textarea__control {
    color: var(--sl-input-color-hover);
  }

  .textarea--standard.textarea--focused:not(.textarea--disabled) {
    background-color: var(--sl-input-background-color-focus);
    border-color: var(--sl-input-border-color-focus);
    color: var(--sl-input-color-focus);
    box-shadow: 0 0 0 var(--sl-focus-ring-width) var(--sl-input-focus-ring-color);
  }

  .textarea--standard.textarea--focused:not(.textarea--disabled) .textarea__control {
    color: var(--sl-input-color-focus);
  }

  .textarea--standard.textarea--disabled {
    background-color: var(--sl-input-background-color-disabled);
    border-color: var(--sl-input-border-color-disabled);
    opacity: 0.5;
    cursor: not-allowed;
  }

  .textarea__control,
  .textarea__size-adjuster {
    grid-area: 1 / 1 / 2 / 2;
  }

  .textarea__size-adjuster {
    visibility: hidden;
    pointer-events: none;
    opacity: 0;
  }

  .textarea--standard.textarea--disabled .textarea__control {
    color: var(--sl-input-color-disabled);
  }

  .textarea--standard.textarea--disabled .textarea__control::placeholder {
    color: var(--sl-input-placeholder-color-disabled);
  }

  /* Filled textareas */
  .textarea--filled {
    border: none;
    background-color: var(--sl-input-filled-background-color);
    color: var(--sl-input-color);
  }

  .textarea--filled:hover:not(.textarea--disabled) {
    background-color: var(--sl-input-filled-background-color-hover);
  }

  .textarea--filled.textarea--focused:not(.textarea--disabled) {
    background-color: var(--sl-input-filled-background-color-focus);
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .textarea--filled.textarea--disabled {
    background-color: var(--sl-input-filled-background-color-disabled);
    opacity: 0.5;
    cursor: not-allowed;
  }

  .textarea__control {
    font-family: inherit;
    font-size: inherit;
    font-weight: inherit;
    line-height: 1.4;
    color: var(--sl-input-color);
    border: none;
    background: none;
    box-shadow: none;
    cursor: inherit;
    -webkit-appearance: none;
  }

  .textarea__control::-webkit-search-decoration,
  .textarea__control::-webkit-search-cancel-button,
  .textarea__control::-webkit-search-results-button,
  .textarea__control::-webkit-search-results-decoration {
    -webkit-appearance: none;
  }

  .textarea__control::placeholder {
    color: var(--sl-input-placeholder-color);
    user-select: none;
    -webkit-user-select: none;
  }

  .textarea__control:focus {
    outline: none;
  }

  /*
   * Size modifiers
   */

  .textarea--small {
    border-radius: var(--sl-input-border-radius-small);
    font-size: var(--sl-input-font-size-small);
  }

  .textarea--small .textarea__control {
    padding: 0.5em var(--sl-input-spacing-small);
  }

  .textarea--medium {
    border-radius: var(--sl-input-border-radius-medium);
    font-size: var(--sl-input-font-size-medium);
  }

  .textarea--medium .textarea__control {
    padding: 0.5em var(--sl-input-spacing-medium);
  }

  .textarea--large {
    border-radius: var(--sl-input-border-radius-large);
    font-size: var(--sl-input-font-size-large);
  }

  .textarea--large .textarea__control {
    padding: 0.5em var(--sl-input-spacing-large);
  }

  /*
   * Resize types
   */

  .textarea--resize-none .textarea__control {
    resize: none;
  }

  .textarea--resize-vertical .textarea__control {
    resize: vertical;
  }

  .textarea--resize-auto .textarea__control {
    height: auto;
    resize: none;
    overflow-y: hidden;
  }
`,io=class extends Tt{constructor(){super(...arguments),this.formControlController=new S(this,{assumeInteractionOn:["sl-blur","sl-input"]}),this.hasSlotController=new Je(this,"help-text","label"),this.hasFocus=!1,this.title="",this.name="",this.value="",this.size="medium",this.filled=!1,this.label="",this.helpText="",this.placeholder="",this.rows=4,this.resize="vertical",this.disabled=!1,this.readonly=!1,this.form="",this.required=!1,this.spellcheck=!0,this.defaultValue=""}get validity(){return this.input.validity}get validationMessage(){return this.input.validationMessage}connectedCallback(){super.connectedCallback(),this.resizeObserver=new ResizeObserver(()=>this.setTextareaHeight()),this.updateComplete.then(()=>{this.setTextareaHeight(),this.resizeObserver.observe(this.input)})}firstUpdated(){this.formControlController.updateValidity()}disconnectedCallback(){var e;super.disconnectedCallback(),this.input&&(null==(e=this.resizeObserver)||e.unobserve(this.input))}handleBlur(){this.hasFocus=!1,this.emit("sl-blur")}handleChange(){this.value=this.input.value,this.setTextareaHeight(),this.emit("sl-change")}handleFocus(){this.hasFocus=!0,this.emit("sl-focus")}handleInput(){this.value=this.input.value,this.emit("sl-input")}handleInvalid(e){this.formControlController.setValidity(!1),this.formControlController.emitInvalidEvent(e)}setTextareaHeight(){"auto"===this.resize?(this.sizeAdjuster.style.height=`${this.input.clientHeight}px`,this.input.style.height="auto",this.input.style.height=`${this.input.scrollHeight}px`):this.input.style.height=""}handleDisabledChange(){this.formControlController.setValidity(this.disabled)}handleRowsChange(){this.setTextareaHeight()}async handleValueChange(){await this.updateComplete,this.formControlController.updateValidity(),this.setTextareaHeight()}focus(e){this.input.focus(e)}blur(){this.input.blur()}select(){this.input.select()}scrollPosition(e){return e?("number"==typeof e.top&&(this.input.scrollTop=e.top),void("number"==typeof e.left&&(this.input.scrollLeft=e.left))):{top:this.input.scrollTop,left:this.input.scrollTop}}setSelectionRange(e,t,i="none"){this.input.setSelectionRange(e,t,i)}setRangeText(e,t,i,r="preserve"){const o=null!=t?t:this.input.selectionStart,n=null!=i?i:this.input.selectionEnd;this.input.setRangeText(e,o,n,r),this.value!==this.input.value&&(this.value=this.input.value,this.setTextareaHeight())}checkValidity(){return this.input.checkValidity()}getForm(){return this.formControlController.getForm()}reportValidity(){return this.input.reportValidity()}setCustomValidity(e){this.input.setCustomValidity(e),this.formControlController.updateValidity()}render(){const e=this.hasSlotController.test("label"),t=this.hasSlotController.test("help-text"),i=!!this.label||!!e,r=!!this.helpText||!!t;return _e`
      <div
        part="form-control"
        class=${Lt({"form-control":!0,"form-control--small":"small"===this.size,"form-control--medium":"medium"===this.size,"form-control--large":"large"===this.size,"form-control--has-label":i,"form-control--has-help-text":r})}
      >
        <label
          part="form-control-label"
          class="form-control__label"
          for="input"
          aria-hidden=${i?"false":"true"}
        >
          <slot name="label">${this.label}</slot>
        </label>

        <div part="form-control-input" class="form-control-input">
          <div
            part="base"
            class=${Lt({textarea:!0,"textarea--small":"small"===this.size,"textarea--medium":"medium"===this.size,"textarea--large":"large"===this.size,"textarea--standard":!this.filled,"textarea--filled":this.filled,"textarea--disabled":this.disabled,"textarea--focused":this.hasFocus,"textarea--empty":!this.value,"textarea--resize-none":"none"===this.resize,"textarea--resize-vertical":"vertical"===this.resize,"textarea--resize-auto":"auto"===this.resize})}
          >
            <textarea
              part="textarea"
              id="input"
              class="textarea__control"
              title=${this.title}
              name=${Pt(this.name)}
              .value=${Rt(this.value)}
              ?disabled=${this.disabled}
              ?readonly=${this.readonly}
              ?required=${this.required}
              placeholder=${Pt(this.placeholder)}
              rows=${Pt(this.rows)}
              minlength=${Pt(this.minlength)}
              maxlength=${Pt(this.maxlength)}
              autocapitalize=${Pt(this.autocapitalize)}
              autocorrect=${Pt(this.autocorrect)}
              ?autofocus=${this.autofocus}
              spellcheck=${Pt(this.spellcheck)}
              enterkeyhint=${Pt(this.enterkeyhint)}
              inputmode=${Pt(this.inputmode)}
              aria-describedby="help-text"
              @change=${this.handleChange}
              @input=${this.handleInput}
              @invalid=${this.handleInvalid}
              @focus=${this.handleFocus}
              @blur=${this.handleBlur}
            ></textarea>
            <!-- This "adjuster" exists to prevent layout shifting. https://github.com/shoelace-style/shoelace/issues/2180 -->
            <div part="textarea-adjuster" class="textarea__size-adjuster" ?hidden=${"auto"!==this.resize}></div>
          </div>
        </div>

        <div
          part="form-control-help-text"
          id="help-text"
          class="form-control__help-text"
          aria-hidden=${r?"false":"true"}
        >
          <slot name="help-text">${this.helpText}</slot>
        </div>
      </div>
    `}};io.styles=[st,Xe,to],y([ft(".textarea__control")],io.prototype,"input",2),y([ft(".textarea__size-adjuster")],io.prototype,"sizeAdjuster",2),y([ht()],io.prototype,"hasFocus",2),y([ut()],io.prototype,"title",2),y([ut()],io.prototype,"name",2),y([ut()],io.prototype,"value",2),y([ut({reflect:!0})],io.prototype,"size",2),y([ut({type:Boolean,reflect:!0})],io.prototype,"filled",2),y([ut()],io.prototype,"label",2),y([ut({attribute:"help-text"})],io.prototype,"helpText",2),y([ut()],io.prototype,"placeholder",2),y([ut({type:Number})],io.prototype,"rows",2),y([ut()],io.prototype,"resize",2),y([ut({type:Boolean,reflect:!0})],io.prototype,"disabled",2),y([ut({type:Boolean,reflect:!0})],io.prototype,"readonly",2),y([ut({reflect:!0})],io.prototype,"form",2),y([ut({type:Boolean,reflect:!0})],io.prototype,"required",2),y([ut({type:Number})],io.prototype,"minlength",2),y([ut({type:Number})],io.prototype,"maxlength",2),y([ut()],io.prototype,"autocapitalize",2),y([ut()],io.prototype,"autocorrect",2),y([ut()],io.prototype,"autocomplete",2),y([ut({type:Boolean})],io.prototype,"autofocus",2),y([ut()],io.prototype,"enterkeyhint",2),y([ut({type:Boolean,converter:{fromAttribute:e=>!(!e||"false"===e),toAttribute:e=>e?"true":"false"}})],io.prototype,"spellcheck",2),y([ut()],io.prototype,"inputmode",2),y([Ke()],io.prototype,"defaultValue",2),y([at("disabled",{waitUntilFirstUpdate:!0})],io.prototype,"handleDisabledChange",1),y([at("rows",{waitUntilFirstUpdate:!0})],io.prototype,"handleRowsChange",1),y([at("value",{waitUntilFirstUpdate:!0})],io.prototype,"handleValueChange",1),io.define("sl-textarea");var ro=M`
  :host {
    display: inline-block;
  }

  .tab {
    display: inline-flex;
    align-items: center;
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-small);
    font-weight: var(--sl-font-weight-semibold);
    border-radius: var(--sl-border-radius-medium);
    color: var(--sl-color-neutral-600);
    padding: var(--sl-spacing-medium) var(--sl-spacing-large);
    white-space: nowrap;
    user-select: none;
    -webkit-user-select: none;
    cursor: pointer;
    transition:
      var(--transition-speed) box-shadow,
      var(--transition-speed) color;
  }

  .tab:hover:not(.tab--disabled) {
    color: var(--sl-color-primary-600);
  }

  :host(:focus) {
    outline: transparent;
  }

  :host(:focus-visible) {
    color: var(--sl-color-primary-600);
    outline: var(--sl-focus-ring);
    outline-offset: calc(-1 * var(--sl-focus-ring-width) - var(--sl-focus-ring-offset));
  }

  .tab.tab--active:not(.tab--disabled) {
    color: var(--sl-color-primary-600);
  }

  .tab.tab--closable {
    padding-inline-end: var(--sl-spacing-small);
  }

  .tab.tab--disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .tab__close-button {
    font-size: var(--sl-font-size-small);
    margin-inline-start: var(--sl-spacing-small);
  }

  .tab__close-button::part(base) {
    padding: var(--sl-spacing-3x-small);
  }

  @media (forced-colors: active) {
    .tab.tab--active:not(.tab--disabled) {
      outline: solid 1px transparent;
      outline-offset: -3px;
    }
  }
`,oo=0,no=class extends Tt{constructor(){super(...arguments),this.localize=new Kt(this),this.attrId=++oo,this.componentId=`sl-tab-${this.attrId}`,this.panel="",this.active=!1,this.closable=!1,this.disabled=!1,this.tabIndex=0}connectedCallback(){super.connectedCallback(),this.setAttribute("role","tab")}handleCloseClick(e){e.stopPropagation(),this.emit("sl-close")}handleActiveChange(){this.setAttribute("aria-selected",this.active?"true":"false")}handleDisabledChange(){this.setAttribute("aria-disabled",this.disabled?"true":"false"),this.disabled&&!this.active?this.tabIndex=-1:this.tabIndex=0}render(){return this.id=this.id.length>0?this.id:this.componentId,_e`
      <div
        part="base"
        class=${Lt({tab:!0,"tab--active":this.active,"tab--closable":this.closable,"tab--disabled":this.disabled})}
      >
        <slot></slot>
        ${this.closable?_e`
              <sl-icon-button
                part="close-button"
                exportparts="base:close-button__base"
                name="x-lg"
                library="system"
                label=${this.localize.term("close")}
                class="tab__close-button"
                @click=${this.handleCloseClick}
                tabindex="-1"
              ></sl-icon-button>
            `:""}
      </div>
    `}};no.styles=[st,ro],no.dependencies={"sl-icon-button":Qr},y([ft(".tab")],no.prototype,"tab",2),y([ut({reflect:!0})],no.prototype,"panel",2),y([ut({type:Boolean,reflect:!0})],no.prototype,"active",2),y([ut({type:Boolean,reflect:!0})],no.prototype,"closable",2),y([ut({type:Boolean,reflect:!0})],no.prototype,"disabled",2),y([ut({type:Number,reflect:!0})],no.prototype,"tabIndex",2),y([at("active")],no.prototype,"handleActiveChange",1),y([at("disabled")],no.prototype,"handleDisabledChange",1),no.define("sl-tab");var ao=M`
  :host {
    --indicator-color: var(--sl-color-primary-600);
    --track-color: var(--sl-color-neutral-200);
    --track-width: 2px;

    display: block;
  }

  .tab-group {
    display: flex;
    border-radius: 0;
  }

  .tab-group__tabs {
    display: flex;
    position: relative;
  }

  .tab-group__indicator {
    position: absolute;
    transition:
      var(--sl-transition-fast) translate ease,
      var(--sl-transition-fast) width ease;
  }

  .tab-group--has-scroll-controls .tab-group__nav-container {
    position: relative;
    padding: 0 var(--sl-spacing-x-large);
  }

  .tab-group--has-scroll-controls .tab-group__scroll-button--start--hidden,
  .tab-group--has-scroll-controls .tab-group__scroll-button--end--hidden {
    visibility: hidden;
  }

  .tab-group__body {
    display: block;
    overflow: auto;
  }

  .tab-group__scroll-button {
    display: flex;
    align-items: center;
    justify-content: center;
    position: absolute;
    top: 0;
    bottom: 0;
    width: var(--sl-spacing-x-large);
  }

  .tab-group__scroll-button--start {
    left: 0;
  }

  .tab-group__scroll-button--end {
    right: 0;
  }

  .tab-group--rtl .tab-group__scroll-button--start {
    left: auto;
    right: 0;
  }

  .tab-group--rtl .tab-group__scroll-button--end {
    left: 0;
    right: auto;
  }

  /*
   * Top
   */

  .tab-group--top {
    flex-direction: column;
  }

  .tab-group--top .tab-group__nav-container {
    order: 1;
  }

  .tab-group--top .tab-group__nav {
    display: flex;
    overflow-x: auto;

    /* Hide scrollbar in Firefox */
    scrollbar-width: none;
  }

  /* Hide scrollbar in Chrome/Safari */
  .tab-group--top .tab-group__nav::-webkit-scrollbar {
    width: 0;
    height: 0;
  }

  .tab-group--top .tab-group__tabs {
    flex: 1 1 auto;
    position: relative;
    flex-direction: row;
    border-bottom: solid var(--track-width) var(--track-color);
  }

  .tab-group--top .tab-group__indicator {
    bottom: calc(-1 * var(--track-width));
    border-bottom: solid var(--track-width) var(--indicator-color);
  }

  .tab-group--top .tab-group__body {
    order: 2;
  }

  .tab-group--top ::slotted(sl-tab-panel) {
    --padding: var(--sl-spacing-medium) 0;
  }

  /*
   * Bottom
   */

  .tab-group--bottom {
    flex-direction: column;
  }

  .tab-group--bottom .tab-group__nav-container {
    order: 2;
  }

  .tab-group--bottom .tab-group__nav {
    display: flex;
    overflow-x: auto;

    /* Hide scrollbar in Firefox */
    scrollbar-width: none;
  }

  /* Hide scrollbar in Chrome/Safari */
  .tab-group--bottom .tab-group__nav::-webkit-scrollbar {
    width: 0;
    height: 0;
  }

  .tab-group--bottom .tab-group__tabs {
    flex: 1 1 auto;
    position: relative;
    flex-direction: row;
    border-top: solid var(--track-width) var(--track-color);
  }

  .tab-group--bottom .tab-group__indicator {
    top: calc(-1 * var(--track-width));
    border-top: solid var(--track-width) var(--indicator-color);
  }

  .tab-group--bottom .tab-group__body {
    order: 1;
  }

  .tab-group--bottom ::slotted(sl-tab-panel) {
    --padding: var(--sl-spacing-medium) 0;
  }

  /*
   * Start
   */

  .tab-group--start {
    flex-direction: row;
  }

  .tab-group--start .tab-group__nav-container {
    order: 1;
  }

  .tab-group--start .tab-group__tabs {
    flex: 0 0 auto;
    flex-direction: column;
    border-inline-end: solid var(--track-width) var(--track-color);
  }

  .tab-group--start .tab-group__indicator {
    right: calc(-1 * var(--track-width));
    border-right: solid var(--track-width) var(--indicator-color);
  }

  .tab-group--start.tab-group--rtl .tab-group__indicator {
    right: auto;
    left: calc(-1 * var(--track-width));
  }

  .tab-group--start .tab-group__body {
    flex: 1 1 auto;
    order: 2;
  }

  .tab-group--start ::slotted(sl-tab-panel) {
    --padding: 0 var(--sl-spacing-medium);
  }

  /*
   * End
   */

  .tab-group--end {
    flex-direction: row;
  }

  .tab-group--end .tab-group__nav-container {
    order: 2;
  }

  .tab-group--end .tab-group__tabs {
    flex: 0 0 auto;
    flex-direction: column;
    border-left: solid var(--track-width) var(--track-color);
  }

  .tab-group--end .tab-group__indicator {
    left: calc(-1 * var(--track-width));
    border-inline-start: solid var(--track-width) var(--indicator-color);
  }

  .tab-group--end.tab-group--rtl .tab-group__indicator {
    right: calc(-1 * var(--track-width));
    left: auto;
  }

  .tab-group--end .tab-group__body {
    flex: 1 1 auto;
    order: 1;
  }

  .tab-group--end ::slotted(sl-tab-panel) {
    --padding: 0 var(--sl-spacing-medium);
  }
`,so=M`
  :host {
    display: contents;
  }
`,lo=class extends Tt{constructor(){super(...arguments),this.observedElements=[],this.disabled=!1}connectedCallback(){super.connectedCallback(),this.resizeObserver=new ResizeObserver(e=>{this.emit("sl-resize",{detail:{entries:e}})}),this.disabled||this.startObserver()}disconnectedCallback(){super.disconnectedCallback(),this.stopObserver()}handleSlotChange(){this.disabled||this.startObserver()}startObserver(){const e=this.shadowRoot.querySelector("slot");if(null!==e){const t=e.assignedElements({flatten:!0});this.observedElements.forEach(e=>this.resizeObserver.unobserve(e)),this.observedElements=[],t.forEach(e=>{this.resizeObserver.observe(e),this.observedElements.push(e)})}}stopObserver(){this.resizeObserver.disconnect()}handleDisabledChange(){this.disabled?this.stopObserver():this.startObserver()}render(){return _e` <slot @slotchange=${this.handleSlotChange}></slot> `}};lo.styles=[st,so],y([ut({type:Boolean,reflect:!0})],lo.prototype,"disabled",2),y([at("disabled",{waitUntilFirstUpdate:!0})],lo.prototype,"handleDisabledChange",1);var co=new Set;function uo(e){if(co.add(e),!document.documentElement.classList.contains("sl-scroll-lock")){const e=function(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}()+function(){const e=Number(getComputedStyle(document.body).paddingRight.replace(/px/,""));return isNaN(e)||!e?0:e}();let t=getComputedStyle(document.documentElement).scrollbarGutter;t&&"auto"!==t||(t="stable"),e<2&&(t=""),document.documentElement.style.setProperty("--sl-scroll-lock-gutter",t),document.documentElement.classList.add("sl-scroll-lock"),document.documentElement.style.setProperty("--sl-scroll-lock-size",`${e}px`)}}function ho(e){co.delete(e),0===co.size&&(document.documentElement.classList.remove("sl-scroll-lock"),document.documentElement.style.removeProperty("--sl-scroll-lock-size"))}function po(e,t,i="vertical",r="smooth"){const o=function(e,t){return{top:Math.round(e.getBoundingClientRect().top-t.getBoundingClientRect().top),left:Math.round(e.getBoundingClientRect().left-t.getBoundingClientRect().left)}}(e,t),n=o.top+t.scrollTop,a=o.left+t.scrollLeft,s=t.scrollLeft,l=t.scrollLeft+t.offsetWidth,c=t.scrollTop,d=t.scrollTop+t.offsetHeight;"horizontal"!==i&&"both"!==i||(a<s?t.scrollTo({left:a,behavior:r}):a+e.clientWidth>l&&t.scrollTo({left:a-t.offsetWidth+e.clientWidth,behavior:r})),"vertical"!==i&&"both"!==i||(n<c?t.scrollTo({top:n,behavior:r}):n+e.clientHeight>d&&t.scrollTo({top:n-t.offsetHeight+e.clientHeight,behavior:r}))}var go=class extends Tt{constructor(){super(...arguments),this.tabs=[],this.focusableTabs=[],this.panels=[],this.localize=new Kt(this),this.hasScrollControls=!1,this.shouldHideScrollStartButton=!1,this.shouldHideScrollEndButton=!1,this.placement="top",this.activation="auto",this.noScrollControls=!1,this.fixedScrollControls=!1,this.scrollOffset=1}connectedCallback(){const e=Promise.all([customElements.whenDefined("sl-tab"),customElements.whenDefined("sl-tab-panel")]);super.connectedCallback(),this.resizeObserver=new ResizeObserver(()=>{this.repositionIndicator(),this.updateScrollControls()}),this.mutationObserver=new MutationObserver(e=>{const t=e.filter(({target:e})=>{if(e===this)return!0;if(e.closest("sl-tab-group")!==this)return!1;const t=e.tagName.toLowerCase();return"sl-tab"===t||"sl-tab-panel"===t});if(0!==t.length)if(t.some(e=>!["aria-labelledby","aria-controls"].includes(e.attributeName))&&setTimeout(()=>this.setAriaLabels()),t.some(e=>"disabled"===e.attributeName))this.syncTabsAndPanels();else if(t.some(e=>"active"===e.attributeName)){const e=t.filter(e=>"active"===e.attributeName&&"sl-tab"===e.target.tagName.toLowerCase()).map(e=>e.target),i=e.find(e=>e.active);i&&this.setActiveTab(i)}}),this.updateComplete.then(()=>{this.syncTabsAndPanels(),this.mutationObserver.observe(this,{attributes:!0,attributeFilter:["active","disabled","name","panel"],childList:!0,subtree:!0}),this.resizeObserver.observe(this.nav),e.then(()=>{const e=new IntersectionObserver((e,t)=>{var i;e[0].intersectionRatio>0&&(this.setAriaLabels(),this.setActiveTab(null!=(i=this.getActiveTab())?i:this.tabs[0],{emitEvents:!1}),t.unobserve(e[0].target))});e.observe(this.tabGroup)})})}disconnectedCallback(){var e,t;super.disconnectedCallback(),null==(e=this.mutationObserver)||e.disconnect(),this.nav&&(null==(t=this.resizeObserver)||t.unobserve(this.nav))}getAllTabs(){return this.shadowRoot.querySelector('slot[name="nav"]').assignedElements()}getAllPanels(){return[...this.body.assignedElements()].filter(e=>"sl-tab-panel"===e.tagName.toLowerCase())}getActiveTab(){return this.tabs.find(e=>e.active)}handleClick(e){const t=e.target.closest("sl-tab");(null==t?void 0:t.closest("sl-tab-group"))===this&&null!==t&&this.setActiveTab(t,{scrollBehavior:"smooth"})}handleKeyDown(e){const t=e.target.closest("sl-tab");if((null==t?void 0:t.closest("sl-tab-group"))===this&&(["Enter"," "].includes(e.key)&&null!==t&&(this.setActiveTab(t,{scrollBehavior:"smooth"}),e.preventDefault()),["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End"].includes(e.key))){const t=this.tabs.find(e=>e.matches(":focus")),i="rtl"===this.localize.dir();let r=null;if("sl-tab"===(null==t?void 0:t.tagName.toLowerCase())){if("Home"===e.key)r=this.focusableTabs[0];else if("End"===e.key)r=this.focusableTabs[this.focusableTabs.length-1];else if(["top","bottom"].includes(this.placement)&&e.key===(i?"ArrowRight":"ArrowLeft")||["start","end"].includes(this.placement)&&"ArrowUp"===e.key){const e=this.tabs.findIndex(e=>e===t);r=this.findNextFocusableTab(e,"backward")}else if(["top","bottom"].includes(this.placement)&&e.key===(i?"ArrowLeft":"ArrowRight")||["start","end"].includes(this.placement)&&"ArrowDown"===e.key){const e=this.tabs.findIndex(e=>e===t);r=this.findNextFocusableTab(e,"forward")}if(!r)return;r.tabIndex=0,r.focus({preventScroll:!0}),"auto"===this.activation?this.setActiveTab(r,{scrollBehavior:"smooth"}):this.tabs.forEach(e=>{e.tabIndex=e===r?0:-1}),["top","bottom"].includes(this.placement)&&po(r,this.nav,"horizontal"),e.preventDefault()}}}handleScrollToStart(){this.nav.scroll({left:"rtl"===this.localize.dir()?this.nav.scrollLeft+this.nav.clientWidth:this.nav.scrollLeft-this.nav.clientWidth,behavior:"smooth"})}handleScrollToEnd(){this.nav.scroll({left:"rtl"===this.localize.dir()?this.nav.scrollLeft-this.nav.clientWidth:this.nav.scrollLeft+this.nav.clientWidth,behavior:"smooth"})}setActiveTab(e,t){if(t=m({emitEvents:!0,scrollBehavior:"auto"},t),e!==this.activeTab&&!e.disabled){const i=this.activeTab;this.activeTab=e,this.tabs.forEach(e=>{e.active=e===this.activeTab,e.tabIndex=e===this.activeTab?0:-1}),this.panels.forEach(e=>{var t;return e.active=e.name===(null==(t=this.activeTab)?void 0:t.panel)}),this.syncIndicator(),["top","bottom"].includes(this.placement)&&po(this.activeTab,this.nav,"horizontal",t.scrollBehavior),t.emitEvents&&(i&&this.emit("sl-tab-hide",{detail:{name:i.panel}}),this.emit("sl-tab-show",{detail:{name:this.activeTab.panel}}))}}setAriaLabels(){this.tabs.forEach(e=>{const t=this.panels.find(t=>t.name===e.panel);t&&(e.setAttribute("aria-controls",t.getAttribute("id")),t.setAttribute("aria-labelledby",e.getAttribute("id")))})}repositionIndicator(){const e=this.getActiveTab();if(!e)return;const t=e.clientWidth,i=e.clientHeight,r="rtl"===this.localize.dir(),o=this.getAllTabs(),n=o.slice(0,o.indexOf(e)).reduce((e,t)=>({left:e.left+t.clientWidth,top:e.top+t.clientHeight}),{left:0,top:0});switch(this.placement){case"top":case"bottom":this.indicator.style.width=`${t}px`,this.indicator.style.height="auto",this.indicator.style.translate=r?-1*n.left+"px":`${n.left}px`;break;case"start":case"end":this.indicator.style.width="auto",this.indicator.style.height=`${i}px`,this.indicator.style.translate=`0 ${n.top}px`}}syncTabsAndPanels(){this.tabs=this.getAllTabs(),this.focusableTabs=this.tabs.filter(e=>!e.disabled),this.panels=this.getAllPanels(),this.syncIndicator(),this.updateComplete.then(()=>this.updateScrollControls())}findNextFocusableTab(e,t){let i=null;const r="forward"===t?1:-1;let o=e+r;for(;e<this.tabs.length;){if(i=this.tabs[o]||null,null===i){i="forward"===t?this.focusableTabs[0]:this.focusableTabs[this.focusableTabs.length-1];break}if(!i.disabled)break;o+=r}return i}updateScrollButtons(){this.hasScrollControls&&!this.fixedScrollControls&&(this.shouldHideScrollStartButton=this.scrollFromStart()<=this.scrollOffset,this.shouldHideScrollEndButton=this.isScrolledToEnd())}isScrolledToEnd(){return this.scrollFromStart()+this.nav.clientWidth>=this.nav.scrollWidth-this.scrollOffset}scrollFromStart(){return"rtl"===this.localize.dir()?-this.nav.scrollLeft:this.nav.scrollLeft}updateScrollControls(){this.noScrollControls?this.hasScrollControls=!1:this.hasScrollControls=["top","bottom"].includes(this.placement)&&this.nav.scrollWidth>this.nav.clientWidth+1,this.updateScrollButtons()}syncIndicator(){this.getActiveTab()?(this.indicator.style.display="block",this.repositionIndicator()):this.indicator.style.display="none"}show(e){const t=this.tabs.find(t=>t.panel===e);t&&this.setActiveTab(t,{scrollBehavior:"smooth"})}render(){const e="rtl"===this.localize.dir();return _e`
      <div
        part="base"
        class=${Lt({"tab-group":!0,"tab-group--top":"top"===this.placement,"tab-group--bottom":"bottom"===this.placement,"tab-group--start":"start"===this.placement,"tab-group--end":"end"===this.placement,"tab-group--rtl":"rtl"===this.localize.dir(),"tab-group--has-scroll-controls":this.hasScrollControls})}
        @click=${this.handleClick}
        @keydown=${this.handleKeyDown}
      >
        <div class="tab-group__nav-container" part="nav">
          ${this.hasScrollControls?_e`
                <sl-icon-button
                  part="scroll-button scroll-button--start"
                  exportparts="base:scroll-button__base"
                  class=${Lt({"tab-group__scroll-button":!0,"tab-group__scroll-button--start":!0,"tab-group__scroll-button--start--hidden":this.shouldHideScrollStartButton})}
                  name=${e?"chevron-right":"chevron-left"}
                  library="system"
                  tabindex="-1"
                  aria-hidden="true"
                  label=${this.localize.term("scrollToStart")}
                  @click=${this.handleScrollToStart}
                ></sl-icon-button>
              `:""}

          <div class="tab-group__nav" @scrollend=${this.updateScrollButtons}>
            <div part="tabs" class="tab-group__tabs" role="tablist">
              <div part="active-tab-indicator" class="tab-group__indicator"></div>
              <sl-resize-observer @sl-resize=${this.syncIndicator}>
                <slot name="nav" @slotchange=${this.syncTabsAndPanels}></slot>
              </sl-resize-observer>
            </div>
          </div>

          ${this.hasScrollControls?_e`
                <sl-icon-button
                  part="scroll-button scroll-button--end"
                  exportparts="base:scroll-button__base"
                  class=${Lt({"tab-group__scroll-button":!0,"tab-group__scroll-button--end":!0,"tab-group__scroll-button--end--hidden":this.shouldHideScrollEndButton})}
                  name=${e?"chevron-left":"chevron-right"}
                  library="system"
                  tabindex="-1"
                  aria-hidden="true"
                  label=${this.localize.term("scrollToEnd")}
                  @click=${this.handleScrollToEnd}
                ></sl-icon-button>
              `:""}
        </div>

        <slot part="body" class="tab-group__body" @slotchange=${this.syncTabsAndPanels}></slot>
      </div>
    `}};go.styles=[st,ao],go.dependencies={"sl-icon-button":Qr,"sl-resize-observer":lo},y([ft(".tab-group")],go.prototype,"tabGroup",2),y([ft(".tab-group__body")],go.prototype,"body",2),y([ft(".tab-group__nav")],go.prototype,"nav",2),y([ft(".tab-group__indicator")],go.prototype,"indicator",2),y([ht()],go.prototype,"hasScrollControls",2),y([ht()],go.prototype,"shouldHideScrollStartButton",2),y([ht()],go.prototype,"shouldHideScrollEndButton",2),y([ut()],go.prototype,"placement",2),y([ut()],go.prototype,"activation",2),y([ut({attribute:"no-scroll-controls",type:Boolean})],go.prototype,"noScrollControls",2),y([ut({attribute:"fixed-scroll-controls",type:Boolean})],go.prototype,"fixedScrollControls",2),y([pt({passive:!0})],go.prototype,"updateScrollButtons",1),y([at("noScrollControls",{waitUntilFirstUpdate:!0})],go.prototype,"updateScrollControls",1),y([at("placement",{waitUntilFirstUpdate:!0})],go.prototype,"syncIndicator",1),go.define("sl-tab-group");var fo=M`
  :host {
    --border-radius: var(--sl-border-radius-pill);
    --color: var(--sl-color-neutral-200);
    --sheen-color: var(--sl-color-neutral-300);

    display: block;
    position: relative;
  }

  .skeleton {
    display: flex;
    width: 100%;
    height: 100%;
    min-height: 1rem;
  }

  .skeleton__indicator {
    flex: 1 1 auto;
    background: var(--color);
    border-radius: var(--border-radius);
  }

  .skeleton--sheen .skeleton__indicator {
    background: linear-gradient(270deg, var(--sheen-color), var(--color), var(--color), var(--sheen-color));
    background-size: 400% 100%;
    animation: sheen 8s ease-in-out infinite;
  }

  .skeleton--pulse .skeleton__indicator {
    animation: pulse 2s ease-in-out 0.5s infinite;
  }

  /* Forced colors mode */
  @media (forced-colors: active) {
    :host {
      --color: GrayText;
    }
  }

  @keyframes sheen {
    0% {
      background-position: 200% 0;
    }
    to {
      background-position: -200% 0;
    }
  }

  @keyframes pulse {
    0% {
      opacity: 1;
    }
    50% {
      opacity: 0.4;
    }
    100% {
      opacity: 1;
    }
  }
`,mo=class extends Tt{constructor(){super(...arguments),this.effect="none"}render(){return _e`
      <div
        part="base"
        class=${Lt({skeleton:!0,"skeleton--pulse":"pulse"===this.effect,"skeleton--sheen":"sheen"===this.effect})}
      >
        <div part="indicator" class="skeleton__indicator"></div>
      </div>
    `}};mo.styles=[st,fo],y([ut()],mo.prototype,"effect",2),mo.define("sl-skeleton");var bo=M`
  :host {
    --divider-width: 4px;
    --divider-hit-area: 12px;
    --min: 0%;
    --max: 100%;

    display: grid;
  }

  .start,
  .end {
    overflow: hidden;
  }

  .divider {
    flex: 0 0 var(--divider-width);
    display: flex;
    position: relative;
    align-items: center;
    justify-content: center;
    background-color: var(--sl-color-neutral-200);
    color: var(--sl-color-neutral-900);
    z-index: 1;
  }

  .divider:focus {
    outline: none;
  }

  :host(:not([disabled])) .divider:focus-visible {
    background-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  :host([disabled]) .divider {
    cursor: not-allowed;
  }

  /* Horizontal */
  :host(:not([vertical], [disabled])) .divider {
    cursor: col-resize;
  }

  :host(:not([vertical])) .divider::after {
    display: flex;
    content: '';
    position: absolute;
    height: 100%;
    left: calc(var(--divider-hit-area) / -2 + var(--divider-width) / 2);
    width: var(--divider-hit-area);
  }

  /* Vertical */
  :host([vertical]) {
    flex-direction: column;
  }

  :host([vertical]:not([disabled])) .divider {
    cursor: row-resize;
  }

  :host([vertical]) .divider::after {
    content: '';
    position: absolute;
    width: 100%;
    top: calc(var(--divider-hit-area) / -2 + var(--divider-width) / 2);
    height: var(--divider-hit-area);
  }

  @media (forced-colors: active) {
    .divider {
      outline: solid 1px transparent;
    }
  }
`;function yo(e,t){function i(i){const r=e.getBoundingClientRect(),o=e.ownerDocument.defaultView,n=r.left+o.scrollX,a=r.top+o.scrollY,s=i.pageX-n,l=i.pageY-a;(null==t?void 0:t.onMove)&&t.onMove(s,l)}document.addEventListener("pointermove",i,{passive:!0}),document.addEventListener("pointerup",function e(){document.removeEventListener("pointermove",i),document.removeEventListener("pointerup",e),(null==t?void 0:t.onStop)&&t.onStop()}),(null==t?void 0:t.initialEvent)instanceof PointerEvent&&i(t.initialEvent)}var vo=()=>null,wo=class extends Tt{constructor(){super(...arguments),this.isCollapsed=!1,this.localize=new Kt(this),this.positionBeforeCollapsing=0,this.position=50,this.vertical=!1,this.disabled=!1,this.snapValue="",this.snapFunction=vo,this.snapThreshold=12}toSnapFunction(e){const t=e.split(" ");return({pos:i,size:r,snapThreshold:o,isRtl:n,vertical:a})=>{let s=i,l=Number.POSITIVE_INFINITY;return t.forEach(t=>{let c;if(t.startsWith("repeat(")){const t=e.substring(7,e.length-1),o=t.endsWith("%"),s=Number.parseFloat(t),l=o?r*(s/100):s;c=Math.round((n&&!a?r-i:i)/l)*l}else c=t.endsWith("%")?r*(Number.parseFloat(t)/100):Number.parseFloat(t);n&&!a&&(c=r-c);const d=Math.abs(i-c);d<=o&&d<l&&(s=c,l=d)}),s}}set snap(e){this.snapValue=null!=e?e:"",this.snapFunction=e?"string"==typeof e?this.toSnapFunction(e):e:vo}get snap(){return this.snapValue}connectedCallback(){super.connectedCallback(),this.resizeObserver=new ResizeObserver(e=>this.handleResize(e)),this.updateComplete.then(()=>this.resizeObserver.observe(this)),this.detectSize(),this.cachedPositionInPixels=this.percentageToPixels(this.position)}disconnectedCallback(){var e;super.disconnectedCallback(),null==(e=this.resizeObserver)||e.unobserve(this)}detectSize(){const{width:e,height:t}=this.getBoundingClientRect();this.size=this.vertical?t:e}percentageToPixels(e){return this.size*(e/100)}pixelsToPercentage(e){return e/this.size*100}handleDrag(e){const t="rtl"===this.localize.dir();this.disabled||(e.cancelable&&e.preventDefault(),yo(this,{onMove:(e,i)=>{var r;let o=this.vertical?i:e;"end"===this.primary&&(o=this.size-o),o=null!=(r=this.snapFunction({pos:o,size:this.size,snapThreshold:this.snapThreshold,isRtl:t,vertical:this.vertical}))?r:o,this.position=Br(this.pixelsToPercentage(o),0,100)},initialEvent:e}))}handleKeyDown(e){if(!this.disabled&&["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End","Enter"].includes(e.key)){let t=this.position;const i=(e.shiftKey?10:1)*("end"===this.primary?-1:1);if(e.preventDefault(),("ArrowLeft"===e.key&&!this.vertical||"ArrowUp"===e.key&&this.vertical)&&(t-=i),("ArrowRight"===e.key&&!this.vertical||"ArrowDown"===e.key&&this.vertical)&&(t+=i),"Home"===e.key&&(t="end"===this.primary?100:0),"End"===e.key&&(t="end"===this.primary?0:100),"Enter"===e.key)if(this.isCollapsed)t=this.positionBeforeCollapsing,this.isCollapsed=!1;else{const e=this.position;t=0,requestAnimationFrame(()=>{this.isCollapsed=!0,this.positionBeforeCollapsing=e})}this.position=Br(t,0,100)}}handleResize(e){const{width:t,height:i}=e[0].contentRect;this.size=this.vertical?i:t,(isNaN(this.cachedPositionInPixels)||this.position===1/0)&&(this.cachedPositionInPixels=Number(this.getAttribute("position-in-pixels")),this.positionInPixels=Number(this.getAttribute("position-in-pixels")),this.position=this.pixelsToPercentage(this.positionInPixels)),this.primary&&(this.position=this.pixelsToPercentage(this.cachedPositionInPixels))}handlePositionChange(){this.cachedPositionInPixels=this.percentageToPixels(this.position),this.isCollapsed=!1,this.positionBeforeCollapsing=0,this.positionInPixels=this.percentageToPixels(this.position),this.emit("sl-reposition")}handlePositionInPixelsChange(){this.position=this.pixelsToPercentage(this.positionInPixels)}handleVerticalChange(){this.detectSize()}render(){const e=this.vertical?"gridTemplateRows":"gridTemplateColumns",t=this.vertical?"gridTemplateColumns":"gridTemplateRows",i="rtl"===this.localize.dir(),r=`\n      clamp(\n        0%,\n        clamp(\n          var(--min),\n          ${this.position}% - var(--divider-width) / 2,\n          var(--max)\n        ),\n        calc(100% - var(--divider-width))\n      )\n    `,o="auto";return"end"===this.primary?i&&!this.vertical?this.style[e]=`${r} var(--divider-width) ${o}`:this.style[e]=`${o} var(--divider-width) ${r}`:i&&!this.vertical?this.style[e]=`${o} var(--divider-width) ${r}`:this.style[e]=`${r} var(--divider-width) ${o}`,this.style[t]="",_e`
      <slot name="start" part="panel start" class="start"></slot>

      <div
        part="divider"
        class="divider"
        tabindex=${Pt(this.disabled?void 0:"0")}
        role="separator"
        aria-valuenow=${this.position}
        aria-valuemin="0"
        aria-valuemax="100"
        aria-label=${this.localize.term("resize")}
        @keydown=${this.handleKeyDown}
        @mousedown=${this.handleDrag}
        @touchstart=${this.handleDrag}
      >
        <slot name="divider"></slot>
      </div>

      <slot name="end" part="panel end" class="end"></slot>
    `}};wo.styles=[st,bo],y([ft(".divider")],wo.prototype,"divider",2),y([ut({type:Number,reflect:!0})],wo.prototype,"position",2),y([ut({attribute:"position-in-pixels",type:Number})],wo.prototype,"positionInPixels",2),y([ut({type:Boolean,reflect:!0})],wo.prototype,"vertical",2),y([ut({type:Boolean,reflect:!0})],wo.prototype,"disabled",2),y([ut()],wo.prototype,"primary",2),y([ut({reflect:!0})],wo.prototype,"snap",1),y([ut({type:Number,attribute:"snap-threshold"})],wo.prototype,"snapThreshold",2),y([at("position")],wo.prototype,"handlePositionChange",1),y([at("positionInPixels")],wo.prototype,"handlePositionInPixelsChange",1),y([at("vertical")],wo.prototype,"handleVerticalChange",1),wo.define("sl-split-panel");var _o=M`
  :host {
    display: inline-block;
  }

  :host([size='small']) {
    --height: var(--sl-toggle-size-small);
    --thumb-size: calc(var(--sl-toggle-size-small) + 4px);
    --width: calc(var(--height) * 2);

    font-size: var(--sl-input-font-size-small);
  }

  :host([size='medium']) {
    --height: var(--sl-toggle-size-medium);
    --thumb-size: calc(var(--sl-toggle-size-medium) + 4px);
    --width: calc(var(--height) * 2);

    font-size: var(--sl-input-font-size-medium);
  }

  :host([size='large']) {
    --height: var(--sl-toggle-size-large);
    --thumb-size: calc(var(--sl-toggle-size-large) + 4px);
    --width: calc(var(--height) * 2);

    font-size: var(--sl-input-font-size-large);
  }

  .switch {
    position: relative;
    display: inline-flex;
    align-items: center;
    font-family: var(--sl-input-font-family);
    font-size: inherit;
    font-weight: var(--sl-input-font-weight);
    color: var(--sl-input-label-color);
    vertical-align: middle;
    cursor: pointer;
  }

  .switch__control {
    flex: 0 0 auto;
    position: relative;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: var(--width);
    height: var(--height);
    background-color: var(--sl-color-neutral-400);
    border: solid var(--sl-input-border-width) var(--sl-color-neutral-400);
    border-radius: var(--height);
    transition:
      var(--sl-transition-fast) border-color,
      var(--sl-transition-fast) background-color;
  }

  .switch__control .switch__thumb {
    width: var(--thumb-size);
    height: var(--thumb-size);
    background-color: var(--sl-color-neutral-0);
    border-radius: 50%;
    border: solid var(--sl-input-border-width) var(--sl-color-neutral-400);
    translate: calc((var(--width) - var(--height)) / -2);
    transition:
      var(--sl-transition-fast) translate ease,
      var(--sl-transition-fast) background-color,
      var(--sl-transition-fast) border-color,
      var(--sl-transition-fast) box-shadow;
  }

  .switch__input {
    position: absolute;
    opacity: 0;
    padding: 0;
    margin: 0;
    pointer-events: none;
  }

  /* Hover */
  .switch:not(.switch--checked):not(.switch--disabled) .switch__control:hover {
    background-color: var(--sl-color-neutral-400);
    border-color: var(--sl-color-neutral-400);
  }

  .switch:not(.switch--checked):not(.switch--disabled) .switch__control:hover .switch__thumb {
    background-color: var(--sl-color-neutral-0);
    border-color: var(--sl-color-neutral-400);
  }

  /* Focus */
  .switch:not(.switch--checked):not(.switch--disabled) .switch__input:focus-visible ~ .switch__control {
    background-color: var(--sl-color-neutral-400);
    border-color: var(--sl-color-neutral-400);
  }

  .switch:not(.switch--checked):not(.switch--disabled) .switch__input:focus-visible ~ .switch__control .switch__thumb {
    background-color: var(--sl-color-neutral-0);
    border-color: var(--sl-color-primary-600);
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  /* Checked */
  .switch--checked .switch__control {
    background-color: var(--sl-color-primary-600);
    border-color: var(--sl-color-primary-600);
  }

  .switch--checked .switch__control .switch__thumb {
    background-color: var(--sl-color-neutral-0);
    border-color: var(--sl-color-primary-600);
    translate: calc((var(--width) - var(--height)) / 2);
  }

  /* Checked + hover */
  .switch.switch--checked:not(.switch--disabled) .switch__control:hover {
    background-color: var(--sl-color-primary-600);
    border-color: var(--sl-color-primary-600);
  }

  .switch.switch--checked:not(.switch--disabled) .switch__control:hover .switch__thumb {
    background-color: var(--sl-color-neutral-0);
    border-color: var(--sl-color-primary-600);
  }

  /* Checked + focus */
  .switch.switch--checked:not(.switch--disabled) .switch__input:focus-visible ~ .switch__control {
    background-color: var(--sl-color-primary-600);
    border-color: var(--sl-color-primary-600);
  }

  .switch.switch--checked:not(.switch--disabled) .switch__input:focus-visible ~ .switch__control .switch__thumb {
    background-color: var(--sl-color-neutral-0);
    border-color: var(--sl-color-primary-600);
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  /* Disabled */
  .switch--disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .switch__label {
    display: inline-block;
    line-height: var(--height);
    margin-inline-start: 0.5em;
    user-select: none;
    -webkit-user-select: none;
  }

  :host([required]) .switch__label::after {
    content: var(--sl-input-required-content);
    color: var(--sl-input-required-content-color);
    margin-inline-start: var(--sl-input-required-content-offset);
  }

  @media (forced-colors: active) {
    .switch.switch--checked:not(.switch--disabled) .switch__control:hover .switch__thumb,
    .switch--checked .switch__control .switch__thumb {
      background-color: ButtonText;
    }
  }
`,To=class extends Tt{constructor(){super(...arguments),this.formControlController=new S(this,{value:e=>e.checked?e.value||"on":void 0,defaultValue:e=>e.defaultChecked,setValue:(e,t)=>e.checked=t}),this.hasSlotController=new Je(this,"help-text"),this.hasFocus=!1,this.title="",this.name="",this.size="medium",this.disabled=!1,this.checked=!1,this.defaultChecked=!1,this.form="",this.required=!1,this.helpText=""}get validity(){return this.input.validity}get validationMessage(){return this.input.validationMessage}firstUpdated(){this.formControlController.updateValidity()}handleBlur(){this.hasFocus=!1,this.emit("sl-blur")}handleInput(){this.emit("sl-input")}handleInvalid(e){this.formControlController.setValidity(!1),this.formControlController.emitInvalidEvent(e)}handleClick(){this.checked=!this.checked,this.emit("sl-change")}handleFocus(){this.hasFocus=!0,this.emit("sl-focus")}handleKeyDown(e){"ArrowLeft"===e.key&&(e.preventDefault(),this.checked=!1,this.emit("sl-change"),this.emit("sl-input")),"ArrowRight"===e.key&&(e.preventDefault(),this.checked=!0,this.emit("sl-change"),this.emit("sl-input"))}handleCheckedChange(){this.input.checked=this.checked,this.formControlController.updateValidity()}handleDisabledChange(){this.formControlController.setValidity(!0)}click(){this.input.click()}focus(e){this.input.focus(e)}blur(){this.input.blur()}checkValidity(){return this.input.checkValidity()}getForm(){return this.formControlController.getForm()}reportValidity(){return this.input.reportValidity()}setCustomValidity(e){this.input.setCustomValidity(e),this.formControlController.updateValidity()}render(){const e=this.hasSlotController.test("help-text"),t=!!this.helpText||!!e;return _e`
      <div
        class=${Lt({"form-control":!0,"form-control--small":"small"===this.size,"form-control--medium":"medium"===this.size,"form-control--large":"large"===this.size,"form-control--has-help-text":t})}
      >
        <label
          part="base"
          class=${Lt({switch:!0,"switch--checked":this.checked,"switch--disabled":this.disabled,"switch--focused":this.hasFocus,"switch--small":"small"===this.size,"switch--medium":"medium"===this.size,"switch--large":"large"===this.size})}
        >
          <input
            class="switch__input"
            type="checkbox"
            title=${this.title}
            name=${this.name}
            value=${Pt(this.value)}
            .checked=${Rt(this.checked)}
            .disabled=${this.disabled}
            .required=${this.required}
            role="switch"
            aria-checked=${this.checked?"true":"false"}
            aria-describedby="help-text"
            @click=${this.handleClick}
            @input=${this.handleInput}
            @invalid=${this.handleInvalid}
            @blur=${this.handleBlur}
            @focus=${this.handleFocus}
            @keydown=${this.handleKeyDown}
          />

          <span part="control" class="switch__control">
            <span part="thumb" class="switch__thumb"></span>
          </span>

          <div part="label" class="switch__label">
            <slot></slot>
          </div>
        </label>

        <div
          aria-hidden=${t?"false":"true"}
          class="form-control__help-text"
          id="help-text"
          part="form-control-help-text"
        >
          <slot name="help-text">${this.helpText}</slot>
        </div>
      </div>
    `}};To.styles=[st,Xe,_o],y([ft('input[type="checkbox"]')],To.prototype,"input",2),y([ht()],To.prototype,"hasFocus",2),y([ut()],To.prototype,"title",2),y([ut()],To.prototype,"name",2),y([ut()],To.prototype,"value",2),y([ut({reflect:!0})],To.prototype,"size",2),y([ut({type:Boolean,reflect:!0})],To.prototype,"disabled",2),y([ut({type:Boolean,reflect:!0})],To.prototype,"checked",2),y([Ke("checked")],To.prototype,"defaultChecked",2),y([ut({reflect:!0})],To.prototype,"form",2),y([ut({type:Boolean,reflect:!0})],To.prototype,"required",2),y([ut({attribute:"help-text"})],To.prototype,"helpText",2),y([at("checked",{waitUntilFirstUpdate:!0})],To.prototype,"handleCheckedChange",1),y([at("disabled",{waitUntilFirstUpdate:!0})],To.prototype,"handleDisabledChange",1),To.define("sl-switch"),lo.define("sl-resize-observer");var Ao=M`
  :host {
    display: block;
  }

  /** The popup */
  .select {
    flex: 1 1 auto;
    display: inline-flex;
    width: 100%;
    position: relative;
    vertical-align: middle;
  }

  .select::part(popup) {
    z-index: var(--sl-z-index-dropdown);
  }

  .select[data-current-placement^='top']::part(popup) {
    transform-origin: bottom;
  }

  .select[data-current-placement^='bottom']::part(popup) {
    transform-origin: top;
  }

  /* Combobox */
  .select__combobox {
    flex: 1;
    display: flex;
    width: 100%;
    min-width: 0;
    position: relative;
    align-items: center;
    justify-content: start;
    font-family: var(--sl-input-font-family);
    font-weight: var(--sl-input-font-weight);
    letter-spacing: var(--sl-input-letter-spacing);
    vertical-align: middle;
    overflow: hidden;
    cursor: pointer;
    transition:
      var(--sl-transition-fast) color,
      var(--sl-transition-fast) border,
      var(--sl-transition-fast) box-shadow,
      var(--sl-transition-fast) background-color;
  }

  .select__display-input {
    position: relative;
    width: 100%;
    font: inherit;
    border: none;
    background: none;
    color: var(--sl-input-color);
    cursor: inherit;
    overflow: hidden;
    padding: 0;
    margin: 0;
    -webkit-appearance: none;
  }

  .select__display-input::placeholder {
    color: var(--sl-input-placeholder-color);
  }

  .select:not(.select--disabled):hover .select__display-input {
    color: var(--sl-input-color-hover);
  }

  .select__display-input:focus {
    outline: none;
  }

  /* Visually hide the display input when multiple is enabled */
  .select--multiple:not(.select--placeholder-visible) .select__display-input {
    position: absolute;
    z-index: -1;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    opacity: 0;
  }

  .select__value-input {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    padding: 0;
    margin: 0;
    opacity: 0;
    z-index: -1;
  }

  .select__tags {
    display: flex;
    flex: 1;
    align-items: center;
    flex-wrap: wrap;
    margin-inline-start: var(--sl-spacing-2x-small);
  }

  .select__tags::slotted(sl-tag) {
    cursor: pointer !important;
  }

  .select--disabled .select__tags,
  .select--disabled .select__tags::slotted(sl-tag) {
    cursor: not-allowed !important;
  }

  /* Standard selects */
  .select--standard .select__combobox {
    background-color: var(--sl-input-background-color);
    border: solid var(--sl-input-border-width) var(--sl-input-border-color);
  }

  .select--standard.select--disabled .select__combobox {
    background-color: var(--sl-input-background-color-disabled);
    border-color: var(--sl-input-border-color-disabled);
    color: var(--sl-input-color-disabled);
    opacity: 0.5;
    cursor: not-allowed;
    outline: none;
  }

  .select--standard:not(.select--disabled).select--open .select__combobox,
  .select--standard:not(.select--disabled).select--focused .select__combobox {
    background-color: var(--sl-input-background-color-focus);
    border-color: var(--sl-input-border-color-focus);
    box-shadow: 0 0 0 var(--sl-focus-ring-width) var(--sl-input-focus-ring-color);
  }

  /* Filled selects */
  .select--filled .select__combobox {
    border: none;
    background-color: var(--sl-input-filled-background-color);
    color: var(--sl-input-color);
  }

  .select--filled:hover:not(.select--disabled) .select__combobox {
    background-color: var(--sl-input-filled-background-color-hover);
  }

  .select--filled.select--disabled .select__combobox {
    background-color: var(--sl-input-filled-background-color-disabled);
    opacity: 0.5;
    cursor: not-allowed;
  }

  .select--filled:not(.select--disabled).select--open .select__combobox,
  .select--filled:not(.select--disabled).select--focused .select__combobox {
    background-color: var(--sl-input-filled-background-color-focus);
    outline: var(--sl-focus-ring);
  }

  /* Sizes */
  .select--small .select__combobox {
    border-radius: var(--sl-input-border-radius-small);
    font-size: var(--sl-input-font-size-small);
    min-height: var(--sl-input-height-small);
    padding-block: 0;
    padding-inline: var(--sl-input-spacing-small);
  }

  .select--small .select__clear {
    margin-inline-start: var(--sl-input-spacing-small);
  }

  .select--small .select__prefix::slotted(*) {
    margin-inline-end: var(--sl-input-spacing-small);
  }

  .select--small.select--multiple:not(.select--placeholder-visible) .select__prefix::slotted(*) {
    margin-inline-start: var(--sl-input-spacing-small);
  }

  .select--small.select--multiple:not(.select--placeholder-visible) .select__combobox {
    padding-block: 2px;
    padding-inline-start: 0;
  }

  .select--small .select__tags {
    gap: 2px;
  }

  .select--medium .select__combobox {
    border-radius: var(--sl-input-border-radius-medium);
    font-size: var(--sl-input-font-size-medium);
    min-height: var(--sl-input-height-medium);
    padding-block: 0;
    padding-inline: var(--sl-input-spacing-medium);
  }

  .select--medium .select__clear {
    margin-inline-start: var(--sl-input-spacing-medium);
  }

  .select--medium .select__prefix::slotted(*) {
    margin-inline-end: var(--sl-input-spacing-medium);
  }

  .select--medium.select--multiple:not(.select--placeholder-visible) .select__prefix::slotted(*) {
    margin-inline-start: var(--sl-input-spacing-medium);
  }

  .select--medium.select--multiple:not(.select--placeholder-visible) .select__combobox {
    padding-inline-start: 0;
    padding-block: 3px;
  }

  .select--medium .select__tags {
    gap: 3px;
  }

  .select--large .select__combobox {
    border-radius: var(--sl-input-border-radius-large);
    font-size: var(--sl-input-font-size-large);
    min-height: var(--sl-input-height-large);
    padding-block: 0;
    padding-inline: var(--sl-input-spacing-large);
  }

  .select--large .select__clear {
    margin-inline-start: var(--sl-input-spacing-large);
  }

  .select--large .select__prefix::slotted(*) {
    margin-inline-end: var(--sl-input-spacing-large);
  }

  .select--large.select--multiple:not(.select--placeholder-visible) .select__prefix::slotted(*) {
    margin-inline-start: var(--sl-input-spacing-large);
  }

  .select--large.select--multiple:not(.select--placeholder-visible) .select__combobox {
    padding-inline-start: 0;
    padding-block: 4px;
  }

  .select--large .select__tags {
    gap: 4px;
  }

  /* Pills */
  .select--pill.select--small .select__combobox {
    border-radius: var(--sl-input-height-small);
  }

  .select--pill.select--medium .select__combobox {
    border-radius: var(--sl-input-height-medium);
  }

  .select--pill.select--large .select__combobox {
    border-radius: var(--sl-input-height-large);
  }

  /* Prefix and Suffix */
  .select__prefix,
  .select__suffix {
    flex: 0;
    display: inline-flex;
    align-items: center;
    color: var(--sl-input-placeholder-color);
  }

  .select__suffix::slotted(*) {
    margin-inline-start: var(--sl-spacing-small);
  }

  /* Clear button */
  .select__clear {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-size: inherit;
    color: var(--sl-input-icon-color);
    border: none;
    background: none;
    padding: 0;
    transition: var(--sl-transition-fast) color;
    cursor: pointer;
  }

  .select__clear:hover {
    color: var(--sl-input-icon-color-hover);
  }

  .select__clear:focus {
    outline: none;
  }

  /* Expand icon */
  .select__expand-icon {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    transition: var(--sl-transition-medium) rotate ease;
    rotate: 0;
    margin-inline-start: var(--sl-spacing-small);
  }

  .select--open .select__expand-icon {
    rotate: -180deg;
  }

  /* Listbox */
  .select__listbox {
    display: block;
    position: relative;
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-medium);
    font-weight: var(--sl-font-weight-normal);
    box-shadow: var(--sl-shadow-large);
    background: var(--sl-panel-background-color);
    border: solid var(--sl-panel-border-width) var(--sl-panel-border-color);
    border-radius: var(--sl-border-radius-medium);
    padding-block: var(--sl-spacing-x-small);
    padding-inline: 0;
    overflow: auto;
    overscroll-behavior: none;

    /* Make sure it adheres to the popup's auto size */
    max-width: var(--auto-size-available-width);
    max-height: var(--auto-size-available-height);
  }

  .select__listbox ::slotted(sl-divider) {
    --spacing: var(--sl-spacing-x-small);
  }

  .select__listbox ::slotted(small) {
    display: block;
    font-size: var(--sl-font-size-small);
    font-weight: var(--sl-font-weight-semibold);
    color: var(--sl-color-neutral-500);
    padding-block: var(--sl-spacing-2x-small);
    padding-inline: var(--sl-spacing-x-large);
  }
`;class Eo extends Ot{constructor(e){if(super(e),this.it=ke,2!==e.type)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(e){if(e===ke||null==e)return this._t=void 0,this.it=e;if(e===Ee)return e;if("string"!=typeof e)throw Error(this.constructor.directiveName+"() called with a non-string value");if(e===this.it)return this._t;this.it=e;const t=[e];return t.raw=t,this._t={_$litType$:this.constructor.resultType,strings:t,values:[]}}}Eo.directiveName="unsafeHTML",Eo.resultType=1;const ko=Dt(Eo);var So=class extends Tt{constructor(){super(...arguments),this.formControlController=new S(this,{assumeInteractionOn:["sl-blur","sl-input"]}),this.hasSlotController=new Je(this,"help-text","label"),this.localize=new Kt(this),this.typeToSelectString="",this.hasFocus=!1,this.displayLabel="",this.selectedOptions=[],this.valueHasChanged=!1,this.name="",this._value="",this.defaultValue="",this.size="medium",this.placeholder="",this.multiple=!1,this.maxOptionsVisible=3,this.disabled=!1,this.clearable=!1,this.open=!1,this.hoist=!1,this.filled=!1,this.pill=!1,this.label="",this.placement="bottom",this.helpText="",this.form="",this.required=!1,this.getTag=e=>_e`
      <sl-tag
        part="tag"
        exportparts="
              base:tag__base,
              content:tag__content,
              remove-button:tag__remove-button,
              remove-button__base:tag__remove-button__base
            "
        ?pill=${this.pill}
        size=${this.size}
        removable
        @sl-remove=${t=>this.handleTagRemove(t,e)}
      >
        ${e.getTextLabel()}
      </sl-tag>
    `,this.handleDocumentFocusIn=e=>{const t=e.composedPath();this&&!t.includes(this)&&this.hide()},this.handleDocumentKeyDown=e=>{const t=e.target,i=null!==t.closest(".select__clear"),r=null!==t.closest("sl-icon-button");if(!i&&!r){if("Escape"===e.key&&this.open&&!this.closeWatcher&&(e.preventDefault(),e.stopPropagation(),this.hide(),this.displayInput.focus({preventScroll:!0})),"Enter"===e.key||" "===e.key&&""===this.typeToSelectString)return e.preventDefault(),e.stopImmediatePropagation(),this.open?void(this.currentOption&&!this.currentOption.disabled&&(this.valueHasChanged=!0,this.multiple?this.toggleOptionSelection(this.currentOption):this.setSelectedOptions(this.currentOption),this.updateComplete.then(()=>{this.emit("sl-input"),this.emit("sl-change")}),this.multiple||(this.hide(),this.displayInput.focus({preventScroll:!0})))):void this.show();if(["ArrowUp","ArrowDown","Home","End"].includes(e.key)){const t=this.getAllOptions(),i=t.indexOf(this.currentOption);let r=Math.max(0,i);if(e.preventDefault(),!this.open&&(this.show(),this.currentOption))return;"ArrowDown"===e.key?(r=i+1,r>t.length-1&&(r=0)):"ArrowUp"===e.key?(r=i-1,r<0&&(r=t.length-1)):"Home"===e.key?r=0:"End"===e.key&&(r=t.length-1),this.setCurrentOption(t[r])}if(e.key&&1===e.key.length||"Backspace"===e.key){const t=this.getAllOptions();if(e.metaKey||e.ctrlKey||e.altKey)return;if(!this.open){if("Backspace"===e.key)return;this.show()}e.stopPropagation(),e.preventDefault(),clearTimeout(this.typeToSelectTimeout),this.typeToSelectTimeout=window.setTimeout(()=>this.typeToSelectString="",1e3),"Backspace"===e.key?this.typeToSelectString=this.typeToSelectString.slice(0,-1):this.typeToSelectString+=e.key.toLowerCase();for(const e of t)if(e.getTextLabel().toLowerCase().startsWith(this.typeToSelectString)){this.setCurrentOption(e);break}}}},this.handleDocumentMouseDown=e=>{const t=e.composedPath();this&&!t.includes(this)&&this.hide()}}get value(){return this._value}set value(e){e=this.multiple?Array.isArray(e)?e:e.split(" "):Array.isArray(e)?e.join(" "):e,this._value!==e&&(this.valueHasChanged=!0,this._value=e)}get validity(){return this.valueInput.validity}get validationMessage(){return this.valueInput.validationMessage}connectedCallback(){super.connectedCallback(),setTimeout(()=>{this.handleDefaultSlotChange()}),this.open=!1}addOpenListeners(){var e;document.addEventListener("focusin",this.handleDocumentFocusIn),document.addEventListener("keydown",this.handleDocumentKeyDown),document.addEventListener("mousedown",this.handleDocumentMouseDown),this.getRootNode()!==document&&this.getRootNode().addEventListener("focusin",this.handleDocumentFocusIn),"CloseWatcher"in window&&(null==(e=this.closeWatcher)||e.destroy(),this.closeWatcher=new CloseWatcher,this.closeWatcher.onclose=()=>{this.open&&(this.hide(),this.displayInput.focus({preventScroll:!0}))})}removeOpenListeners(){var e;document.removeEventListener("focusin",this.handleDocumentFocusIn),document.removeEventListener("keydown",this.handleDocumentKeyDown),document.removeEventListener("mousedown",this.handleDocumentMouseDown),this.getRootNode()!==document&&this.getRootNode().removeEventListener("focusin",this.handleDocumentFocusIn),null==(e=this.closeWatcher)||e.destroy()}handleFocus(){this.hasFocus=!0,this.displayInput.setSelectionRange(0,0),this.emit("sl-focus")}handleBlur(){this.hasFocus=!1,this.emit("sl-blur")}handleLabelClick(){this.displayInput.focus()}handleComboboxMouseDown(e){const t=e.composedPath().some(e=>e instanceof Element&&"sl-icon-button"===e.tagName.toLowerCase());this.disabled||t||(e.preventDefault(),this.displayInput.focus({preventScroll:!0}),this.open=!this.open)}handleComboboxKeyDown(e){"Tab"!==e.key&&(e.stopPropagation(),this.handleDocumentKeyDown(e))}handleClearClick(e){e.stopPropagation(),this.valueHasChanged=!0,""!==this.value&&(this.setSelectedOptions([]),this.displayInput.focus({preventScroll:!0}),this.updateComplete.then(()=>{this.emit("sl-clear"),this.emit("sl-input"),this.emit("sl-change")}))}handleClearMouseDown(e){e.stopPropagation(),e.preventDefault()}handleOptionClick(e){const t=e.target.closest("sl-option"),i=this.value;t&&!t.disabled&&(this.valueHasChanged=!0,this.multiple?this.toggleOptionSelection(t):this.setSelectedOptions(t),this.updateComplete.then(()=>this.displayInput.focus({preventScroll:!0})),this.value!==i&&this.updateComplete.then(()=>{this.emit("sl-input"),this.emit("sl-change")}),this.multiple||(this.hide(),this.displayInput.focus({preventScroll:!0})))}handleDefaultSlotChange(){customElements.get("sl-option")||customElements.whenDefined("sl-option").then(()=>this.handleDefaultSlotChange());const e=this.getAllOptions(),t=this.valueHasChanged?this.value:this.defaultValue,i=Array.isArray(t)?t:[t],r=[];e.forEach(e=>r.push(e.value)),this.setSelectedOptions(e.filter(e=>i.includes(e.value)))}handleTagRemove(e,t){e.stopPropagation(),this.valueHasChanged=!0,this.disabled||(this.toggleOptionSelection(t,!1),this.updateComplete.then(()=>{this.emit("sl-input"),this.emit("sl-change")}))}getAllOptions(){return[...this.querySelectorAll("sl-option")]}getFirstOption(){return this.querySelector("sl-option")}setCurrentOption(e){this.getAllOptions().forEach(e=>{e.current=!1,e.tabIndex=-1}),e&&(this.currentOption=e,e.current=!0,e.tabIndex=0,e.focus())}setSelectedOptions(e){const t=this.getAllOptions(),i=Array.isArray(e)?e:[e];t.forEach(e=>e.selected=!1),i.length&&i.forEach(e=>e.selected=!0),this.selectionChanged()}toggleOptionSelection(e,t){e.selected=!0===t||!1===t?t:!e.selected,this.selectionChanged()}selectionChanged(){var e,t,i;const r=this.getAllOptions();this.selectedOptions=r.filter(e=>e.selected);const o=this.valueHasChanged;if(this.multiple)this.value=this.selectedOptions.map(e=>e.value),this.placeholder&&0===this.value.length?this.displayLabel="":this.displayLabel=this.localize.term("numOptionsSelected",this.selectedOptions.length);else{const r=this.selectedOptions[0];this.value=null!=(e=null==r?void 0:r.value)?e:"",this.displayLabel=null!=(i=null==(t=null==r?void 0:r.getTextLabel)?void 0:t.call(r))?i:""}this.valueHasChanged=o,this.updateComplete.then(()=>{this.formControlController.updateValidity()})}get tags(){return this.selectedOptions.map((e,t)=>{if(t<this.maxOptionsVisible||this.maxOptionsVisible<=0){const i=this.getTag(e,t);return _e`<div @sl-remove=${t=>this.handleTagRemove(t,e)}>
          ${"string"==typeof i?ko(i):i}
        </div>`}return t===this.maxOptionsVisible?_e`<sl-tag size=${this.size}>+${this.selectedOptions.length-t}</sl-tag>`:_e``})}handleInvalid(e){this.formControlController.setValidity(!1),this.formControlController.emitInvalidEvent(e)}handleDisabledChange(){this.disabled&&(this.open=!1,this.handleOpenChange())}attributeChangedCallback(e,t,i){if(super.attributeChangedCallback(e,t,i),"value"===e){const e=this.valueHasChanged;this.value=this.defaultValue,this.valueHasChanged=e}}handleValueChange(){if(!this.valueHasChanged){const e=this.valueHasChanged;this.value=this.defaultValue,this.valueHasChanged=e}const e=this.getAllOptions(),t=Array.isArray(this.value)?this.value:[this.value];this.setSelectedOptions(e.filter(e=>t.includes(e.value)))}async handleOpenChange(){if(this.open&&!this.disabled){this.setCurrentOption(this.selectedOptions[0]||this.getFirstOption()),this.emit("sl-show"),this.addOpenListeners(),await ni(this),this.listbox.hidden=!1,this.popup.active=!0,requestAnimationFrame(()=>{this.setCurrentOption(this.currentOption)});const{keyframes:e,options:t}=ti(this,"select.show",{dir:this.localize.dir()});await ii(this.popup.popup,e,t),this.currentOption&&po(this.currentOption,this.listbox,"vertical","auto"),this.emit("sl-after-show")}else{this.emit("sl-hide"),this.removeOpenListeners(),await ni(this);const{keyframes:e,options:t}=ti(this,"select.hide",{dir:this.localize.dir()});await ii(this.popup.popup,e,t),this.listbox.hidden=!0,this.popup.active=!1,this.emit("sl-after-hide")}}async show(){if(!this.open&&!this.disabled)return this.open=!0,Pr(this,"sl-after-show");this.open=!1}async hide(){if(this.open&&!this.disabled)return this.open=!1,Pr(this,"sl-after-hide");this.open=!1}checkValidity(){return this.valueInput.checkValidity()}getForm(){return this.formControlController.getForm()}reportValidity(){return this.valueInput.reportValidity()}setCustomValidity(e){this.valueInput.setCustomValidity(e),this.formControlController.updateValidity()}focus(e){this.displayInput.focus(e)}blur(){this.displayInput.blur()}render(){const e=this.hasSlotController.test("label"),t=this.hasSlotController.test("help-text"),i=!!this.label||!!e,r=!!this.helpText||!!t,o=this.clearable&&!this.disabled&&this.value.length>0,n=this.placeholder&&this.value&&this.value.length<=0;return _e`
      <div
        part="form-control"
        class=${Lt({"form-control":!0,"form-control--small":"small"===this.size,"form-control--medium":"medium"===this.size,"form-control--large":"large"===this.size,"form-control--has-label":i,"form-control--has-help-text":r})}
      >
        <label
          id="label"
          part="form-control-label"
          class="form-control__label"
          aria-hidden=${i?"false":"true"}
          @click=${this.handleLabelClick}
        >
          <slot name="label">${this.label}</slot>
        </label>

        <div part="form-control-input" class="form-control-input">
          <sl-popup
            class=${Lt({select:!0,"select--standard":!0,"select--filled":this.filled,"select--pill":this.pill,"select--open":this.open,"select--disabled":this.disabled,"select--multiple":this.multiple,"select--focused":this.hasFocus,"select--placeholder-visible":n,"select--top":"top"===this.placement,"select--bottom":"bottom"===this.placement,"select--small":"small"===this.size,"select--medium":"medium"===this.size,"select--large":"large"===this.size})}
            placement=${this.placement}
            strategy=${this.hoist?"fixed":"absolute"}
            flip
            shift
            sync="width"
            auto-size="vertical"
            auto-size-padding="10"
          >
            <div
              part="combobox"
              class="select__combobox"
              slot="anchor"
              @keydown=${this.handleComboboxKeyDown}
              @mousedown=${this.handleComboboxMouseDown}
            >
              <slot part="prefix" name="prefix" class="select__prefix"></slot>

              <input
                part="display-input"
                class="select__display-input"
                type="text"
                placeholder=${this.placeholder}
                .disabled=${this.disabled}
                .value=${this.displayLabel}
                autocomplete="off"
                spellcheck="false"
                autocapitalize="off"
                readonly
                aria-controls="listbox"
                aria-expanded=${this.open?"true":"false"}
                aria-haspopup="listbox"
                aria-labelledby="label"
                aria-disabled=${this.disabled?"true":"false"}
                aria-describedby="help-text"
                role="combobox"
                tabindex="0"
                @focus=${this.handleFocus}
                @blur=${this.handleBlur}
              />

              ${this.multiple?_e`<div part="tags" class="select__tags">${this.tags}</div>`:""}

              <input
                class="select__value-input"
                type="text"
                ?disabled=${this.disabled}
                ?required=${this.required}
                .value=${Array.isArray(this.value)?this.value.join(", "):this.value}
                tabindex="-1"
                aria-hidden="true"
                @focus=${()=>this.focus()}
                @invalid=${this.handleInvalid}
              />

              ${o?_e`
                    <button
                      part="clear-button"
                      class="select__clear"
                      type="button"
                      aria-label=${this.localize.term("clearEntry")}
                      @mousedown=${this.handleClearMouseDown}
                      @click=${this.handleClearClick}
                      tabindex="-1"
                    >
                      <slot name="clear-icon">
                        <sl-icon name="x-circle-fill" library="system"></sl-icon>
                      </slot>
                    </button>
                  `:""}

              <slot name="suffix" part="suffix" class="select__suffix"></slot>

              <slot name="expand-icon" part="expand-icon" class="select__expand-icon">
                <sl-icon library="system" name="chevron-down"></sl-icon>
              </slot>
            </div>

            <div
              id="listbox"
              role="listbox"
              aria-expanded=${this.open?"true":"false"}
              aria-multiselectable=${this.multiple?"true":"false"}
              aria-labelledby="label"
              part="listbox"
              class="select__listbox"
              tabindex="-1"
              @mouseup=${this.handleOptionClick}
              @slotchange=${this.handleDefaultSlotChange}
            >
              <slot></slot>
            </div>
          </sl-popup>
        </div>

        <div
          part="form-control-help-text"
          id="help-text"
          class="form-control__help-text"
          aria-hidden=${r?"false":"true"}
        >
          <slot name="help-text">${this.helpText}</slot>
        </div>
      </div>
    `}};So.styles=[st,Xe,Ao],So.dependencies={"sl-icon":Nt,"sl-popup":Lr,"sl-tag":eo},y([ft(".select")],So.prototype,"popup",2),y([ft(".select__combobox")],So.prototype,"combobox",2),y([ft(".select__display-input")],So.prototype,"displayInput",2),y([ft(".select__value-input")],So.prototype,"valueInput",2),y([ft(".select__listbox")],So.prototype,"listbox",2),y([ht()],So.prototype,"hasFocus",2),y([ht()],So.prototype,"displayLabel",2),y([ht()],So.prototype,"currentOption",2),y([ht()],So.prototype,"selectedOptions",2),y([ht()],So.prototype,"valueHasChanged",2),y([ut()],So.prototype,"name",2),y([ht()],So.prototype,"value",1),y([ut({attribute:"value"})],So.prototype,"defaultValue",2),y([ut({reflect:!0})],So.prototype,"size",2),y([ut()],So.prototype,"placeholder",2),y([ut({type:Boolean,reflect:!0})],So.prototype,"multiple",2),y([ut({attribute:"max-options-visible",type:Number})],So.prototype,"maxOptionsVisible",2),y([ut({type:Boolean,reflect:!0})],So.prototype,"disabled",2),y([ut({type:Boolean})],So.prototype,"clearable",2),y([ut({type:Boolean,reflect:!0})],So.prototype,"open",2),y([ut({type:Boolean})],So.prototype,"hoist",2),y([ut({type:Boolean,reflect:!0})],So.prototype,"filled",2),y([ut({type:Boolean,reflect:!0})],So.prototype,"pill",2),y([ut()],So.prototype,"label",2),y([ut({reflect:!0})],So.prototype,"placement",2),y([ut({attribute:"help-text"})],So.prototype,"helpText",2),y([ut({reflect:!0})],So.prototype,"form",2),y([ut({type:Boolean,reflect:!0})],So.prototype,"required",2),y([ut()],So.prototype,"getTag",2),y([at("disabled",{waitUntilFirstUpdate:!0})],So.prototype,"handleDisabledChange",1),y([at(["defaultValue","value"],{waitUntilFirstUpdate:!0})],So.prototype,"handleValueChange",1),y([at("open",{waitUntilFirstUpdate:!0})],So.prototype,"handleOpenChange",1),ei("select.show",{keyframes:[{opacity:0,scale:.9},{opacity:1,scale:1}],options:{duration:100,easing:"ease"}}),ei("select.hide",{keyframes:[{opacity:1,scale:1},{opacity:0,scale:.9}],options:{duration:100,easing:"ease"}}),So.define("sl-select"),Xt.define("sl-spinner");var xo=M`
  :host {
    --thumb-size: 20px;
    --tooltip-offset: 10px;
    --track-color-active: var(--sl-color-neutral-200);
    --track-color-inactive: var(--sl-color-neutral-200);
    --track-active-offset: 0%;
    --track-height: 6px;

    display: block;
  }

  .range {
    position: relative;
  }

  .range__control {
    --percent: 0%;
    -webkit-appearance: none;
    border-radius: 3px;
    width: 100%;
    height: var(--track-height);
    background: transparent;
    line-height: var(--sl-input-height-medium);
    vertical-align: middle;
    margin: 0;

    background-image: linear-gradient(
      to right,
      var(--track-color-inactive) 0%,
      var(--track-color-inactive) min(var(--percent), var(--track-active-offset)),
      var(--track-color-active) min(var(--percent), var(--track-active-offset)),
      var(--track-color-active) max(var(--percent), var(--track-active-offset)),
      var(--track-color-inactive) max(var(--percent), var(--track-active-offset)),
      var(--track-color-inactive) 100%
    );
  }

  .range--rtl .range__control {
    background-image: linear-gradient(
      to left,
      var(--track-color-inactive) 0%,
      var(--track-color-inactive) min(var(--percent), var(--track-active-offset)),
      var(--track-color-active) min(var(--percent), var(--track-active-offset)),
      var(--track-color-active) max(var(--percent), var(--track-active-offset)),
      var(--track-color-inactive) max(var(--percent), var(--track-active-offset)),
      var(--track-color-inactive) 100%
    );
  }

  /* Webkit */
  .range__control::-webkit-slider-runnable-track {
    width: 100%;
    height: var(--track-height);
    border-radius: 3px;
    border: none;
  }

  .range__control::-webkit-slider-thumb {
    border: none;
    width: var(--thumb-size);
    height: var(--thumb-size);
    border-radius: 50%;
    background-color: var(--sl-color-primary-600);
    border: solid var(--sl-input-border-width) var(--sl-color-primary-600);
    -webkit-appearance: none;
    margin-top: calc(var(--thumb-size) / -2 + var(--track-height) / 2);
    cursor: pointer;
  }

  .range__control:enabled::-webkit-slider-thumb:hover {
    background-color: var(--sl-color-primary-500);
    border-color: var(--sl-color-primary-500);
  }

  .range__control:enabled:focus-visible::-webkit-slider-thumb {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .range__control:enabled::-webkit-slider-thumb:active {
    background-color: var(--sl-color-primary-500);
    border-color: var(--sl-color-primary-500);
    cursor: grabbing;
  }

  /* Firefox */
  .range__control::-moz-focus-outer {
    border: 0;
  }

  .range__control::-moz-range-progress {
    background-color: var(--track-color-active);
    border-radius: 3px;
    height: var(--track-height);
  }

  .range__control::-moz-range-track {
    width: 100%;
    height: var(--track-height);
    background-color: var(--track-color-inactive);
    border-radius: 3px;
    border: none;
  }

  .range__control::-moz-range-thumb {
    border: none;
    height: var(--thumb-size);
    width: var(--thumb-size);
    border-radius: 50%;
    background-color: var(--sl-color-primary-600);
    border-color: var(--sl-color-primary-600);
    transition:
      var(--sl-transition-fast) border-color,
      var(--sl-transition-fast) background-color,
      var(--sl-transition-fast) color,
      var(--sl-transition-fast) box-shadow;
    cursor: pointer;
  }

  .range__control:enabled::-moz-range-thumb:hover {
    background-color: var(--sl-color-primary-500);
    border-color: var(--sl-color-primary-500);
  }

  .range__control:enabled:focus-visible::-moz-range-thumb {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .range__control:enabled::-moz-range-thumb:active {
    background-color: var(--sl-color-primary-500);
    border-color: var(--sl-color-primary-500);
    cursor: grabbing;
  }

  /* States */
  .range__control:focus-visible {
    outline: none;
  }

  .range__control:disabled {
    opacity: 0.5;
  }

  .range__control:disabled::-webkit-slider-thumb {
    cursor: not-allowed;
  }

  .range__control:disabled::-moz-range-thumb {
    cursor: not-allowed;
  }

  /* Tooltip output */
  .range__tooltip {
    position: absolute;
    z-index: var(--sl-z-index-tooltip);
    left: 0;
    border-radius: var(--sl-tooltip-border-radius);
    background-color: var(--sl-tooltip-background-color);
    font-family: var(--sl-tooltip-font-family);
    font-size: var(--sl-tooltip-font-size);
    font-weight: var(--sl-tooltip-font-weight);
    line-height: var(--sl-tooltip-line-height);
    color: var(--sl-tooltip-color);
    opacity: 0;
    padding: var(--sl-tooltip-padding);
    transition: var(--sl-transition-fast) opacity;
    pointer-events: none;
  }

  .range__tooltip:after {
    content: '';
    position: absolute;
    width: 0;
    height: 0;
    left: 50%;
    translate: calc(-1 * var(--sl-tooltip-arrow-size));
  }

  .range--tooltip-visible .range__tooltip {
    opacity: 1;
  }

  /* Tooltip on top */
  .range--tooltip-top .range__tooltip {
    top: calc(-1 * var(--thumb-size) - var(--tooltip-offset));
  }

  .range--tooltip-top .range__tooltip:after {
    border-top: var(--sl-tooltip-arrow-size) solid var(--sl-tooltip-background-color);
    border-left: var(--sl-tooltip-arrow-size) solid transparent;
    border-right: var(--sl-tooltip-arrow-size) solid transparent;
    top: 100%;
  }

  /* Tooltip on bottom */
  .range--tooltip-bottom .range__tooltip {
    bottom: calc(-1 * var(--thumb-size) - var(--tooltip-offset));
  }

  .range--tooltip-bottom .range__tooltip:after {
    border-bottom: var(--sl-tooltip-arrow-size) solid var(--sl-tooltip-background-color);
    border-left: var(--sl-tooltip-arrow-size) solid transparent;
    border-right: var(--sl-tooltip-arrow-size) solid transparent;
    bottom: 100%;
  }

  @media (forced-colors: active) {
    .range__control,
    .range__tooltip {
      border: solid 1px transparent;
    }

    .range__control::-webkit-slider-thumb {
      border: solid 1px transparent;
    }

    .range__control::-moz-range-thumb {
      border: solid 1px transparent;
    }

    .range__tooltip:after {
      display: none;
    }
  }
`,Co=class extends Tt{constructor(){super(...arguments),this.formControlController=new S(this),this.hasSlotController=new Je(this,"help-text","label"),this.localize=new Kt(this),this.hasFocus=!1,this.hasTooltip=!1,this.title="",this.name="",this.value=0,this.label="",this.helpText="",this.disabled=!1,this.min=0,this.max=100,this.step=1,this.tooltip="top",this.tooltipFormatter=e=>e.toString(),this.form="",this.defaultValue=0}get validity(){return this.input.validity}get validationMessage(){return this.input.validationMessage}connectedCallback(){super.connectedCallback(),this.resizeObserver=new ResizeObserver(()=>this.syncRange()),this.value<this.min&&(this.value=this.min),this.value>this.max&&(this.value=this.max),this.updateComplete.then(()=>{this.syncRange(),this.resizeObserver.observe(this.input)})}disconnectedCallback(){var e;super.disconnectedCallback(),null==(e=this.resizeObserver)||e.unobserve(this.input)}handleChange(){this.emit("sl-change")}handleInput(){this.value=parseFloat(this.input.value),this.emit("sl-input"),this.syncRange()}handleBlur(){this.hasFocus=!1,this.hasTooltip=!1,this.emit("sl-blur")}handleFocus(){this.hasFocus=!0,this.hasTooltip=!0,this.emit("sl-focus")}handleThumbDragStart(){this.hasTooltip=!0}handleThumbDragEnd(){this.hasTooltip=!1}syncProgress(e){this.input.style.setProperty("--percent",100*e+"%")}syncTooltip(e){if(null!==this.output){const t=this.input.offsetWidth,i=this.output.offsetWidth,r=getComputedStyle(this.input).getPropertyValue("--thumb-size"),o=t*e;if("rtl"===this.localize.dir()){const n=`${t-o}px + ${e} * ${r}`;this.output.style.translate=`calc((${n} - ${i/2}px - ${r} / 2))`}else{const t=`${o}px - ${e} * ${r}`;this.output.style.translate=`calc(${t} - ${i/2}px + ${r} / 2)`}}}handleValueChange(){this.formControlController.updateValidity(),this.input.value=this.value.toString(),this.value=parseFloat(this.input.value),this.syncRange()}handleDisabledChange(){this.formControlController.setValidity(this.disabled)}syncRange(){const e=Math.max(0,(this.value-this.min)/(this.max-this.min));this.syncProgress(e),"none"!==this.tooltip&&this.hasTooltip&&this.updateComplete.then(()=>this.syncTooltip(e))}handleInvalid(e){this.formControlController.setValidity(!1),this.formControlController.emitInvalidEvent(e)}focus(e){this.input.focus(e)}blur(){this.input.blur()}stepUp(){this.input.stepUp(),this.value!==Number(this.input.value)&&(this.value=Number(this.input.value))}stepDown(){this.input.stepDown(),this.value!==Number(this.input.value)&&(this.value=Number(this.input.value))}checkValidity(){return this.input.checkValidity()}getForm(){return this.formControlController.getForm()}reportValidity(){return this.input.reportValidity()}setCustomValidity(e){this.input.setCustomValidity(e),this.formControlController.updateValidity()}render(){const e=this.hasSlotController.test("label"),t=this.hasSlotController.test("help-text"),i=!!this.label||!!e,r=!!this.helpText||!!t;return _e`
      <div
        part="form-control"
        class=${Lt({"form-control":!0,"form-control--medium":!0,"form-control--has-label":i,"form-control--has-help-text":r})}
      >
        <label
          part="form-control-label"
          class="form-control__label"
          for="input"
          aria-hidden=${i?"false":"true"}
        >
          <slot name="label">${this.label}</slot>
        </label>

        <div part="form-control-input" class="form-control-input">
          <div
            part="base"
            class=${Lt({range:!0,"range--disabled":this.disabled,"range--focused":this.hasFocus,"range--rtl":"rtl"===this.localize.dir(),"range--tooltip-visible":this.hasTooltip,"range--tooltip-top":"top"===this.tooltip,"range--tooltip-bottom":"bottom"===this.tooltip})}
            @mousedown=${this.handleThumbDragStart}
            @mouseup=${this.handleThumbDragEnd}
            @touchstart=${this.handleThumbDragStart}
            @touchend=${this.handleThumbDragEnd}
          >
            <input
              part="input"
              id="input"
              class="range__control"
              title=${this.title}
              type="range"
              name=${Pt(this.name)}
              ?disabled=${this.disabled}
              min=${Pt(this.min)}
              max=${Pt(this.max)}
              step=${Pt(this.step)}
              .value=${Rt(this.value.toString())}
              aria-describedby="help-text"
              @change=${this.handleChange}
              @focus=${this.handleFocus}
              @input=${this.handleInput}
              @invalid=${this.handleInvalid}
              @blur=${this.handleBlur}
            />
            ${"none"===this.tooltip||this.disabled?"":_e`
                  <output part="tooltip" class="range__tooltip">
                    ${"function"==typeof this.tooltipFormatter?this.tooltipFormatter(this.value):this.value}
                  </output>
                `}
          </div>
        </div>

        <div
          part="form-control-help-text"
          id="help-text"
          class="form-control__help-text"
          aria-hidden=${r?"false":"true"}
        >
          <slot name="help-text">${this.helpText}</slot>
        </div>
      </div>
    `}};Co.styles=[st,Xe,xo],y([ft(".range__control")],Co.prototype,"input",2),y([ft(".range__tooltip")],Co.prototype,"output",2),y([ht()],Co.prototype,"hasFocus",2),y([ht()],Co.prototype,"hasTooltip",2),y([ut()],Co.prototype,"title",2),y([ut()],Co.prototype,"name",2),y([ut({type:Number})],Co.prototype,"value",2),y([ut()],Co.prototype,"label",2),y([ut({attribute:"help-text"})],Co.prototype,"helpText",2),y([ut({type:Boolean,reflect:!0})],Co.prototype,"disabled",2),y([ut({type:Number})],Co.prototype,"min",2),y([ut({type:Number})],Co.prototype,"max",2),y([ut({type:Number})],Co.prototype,"step",2),y([ut()],Co.prototype,"tooltip",2),y([ut({attribute:!1})],Co.prototype,"tooltipFormatter",2),y([ut({reflect:!0})],Co.prototype,"form",2),y([Ke()],Co.prototype,"defaultValue",2),y([pt({passive:!0})],Co.prototype,"handleThumbDragStart",1),y([at("value",{waitUntilFirstUpdate:!0})],Co.prototype,"handleValueChange",1),y([at("disabled",{waitUntilFirstUpdate:!0})],Co.prototype,"handleDisabledChange",1),y([at("hasTooltip",{waitUntilFirstUpdate:!0})],Co.prototype,"syncRange",1),Co.define("sl-range");var Io=M`
  :host {
    --symbol-color: var(--sl-color-neutral-300);
    --symbol-color-active: var(--sl-color-amber-500);
    --symbol-size: 1.2rem;
    --symbol-spacing: var(--sl-spacing-3x-small);

    display: inline-flex;
  }

  .rating {
    position: relative;
    display: inline-flex;
    border-radius: var(--sl-border-radius-medium);
    vertical-align: middle;
  }

  .rating:focus {
    outline: none;
  }

  .rating:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .rating__symbols {
    display: inline-flex;
    position: relative;
    font-size: var(--symbol-size);
    line-height: 0;
    color: var(--symbol-color);
    white-space: nowrap;
    cursor: pointer;
  }

  .rating__symbols > * {
    padding: var(--symbol-spacing);
  }

  .rating__symbol--active,
  .rating__partial--filled {
    color: var(--symbol-color-active);
  }

  .rating__partial-symbol-container {
    position: relative;
  }

  .rating__partial--filled {
    position: absolute;
    top: var(--symbol-spacing);
    left: var(--symbol-spacing);
  }

  .rating__symbol {
    transition: var(--sl-transition-fast) scale;
    pointer-events: none;
  }

  .rating__symbol--hover {
    scale: 1.2;
  }

  .rating--disabled .rating__symbols,
  .rating--readonly .rating__symbols {
    cursor: default;
  }

  .rating--disabled .rating__symbol--hover,
  .rating--readonly .rating__symbol--hover {
    scale: none;
  }

  .rating--disabled {
    opacity: 0.5;
  }

  .rating--disabled .rating__symbols {
    cursor: not-allowed;
  }

  /* Forced colors mode */
  @media (forced-colors: active) {
    .rating__symbol--active {
      color: SelectedItem;
    }
  }
`;const No="important",Do=" !"+No,Oo=Dt(class extends Ot{constructor(e){if(super(e),1!==e.type||"style"!==e.name||e.strings?.length>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(e){return Object.keys(e).reduce((t,i)=>{const r=e[i];return null==r?t:t+`${i=i.includes("-")?i:i.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${r};`},"")}update(e,[t]){const{style:i}=e.element;if(void 0===this.ft)return this.ft=new Set(Object.keys(t)),this.render(t);for(const e of this.ft)null==t[e]&&(this.ft.delete(e),e.includes("-")?i.removeProperty(e):i[e]=null);for(const e in t){const r=t[e];if(null!=r){this.ft.add(e);const t="string"==typeof r&&r.endsWith(Do);e.includes("-")||t?i.setProperty(e,t?r.slice(0,-11):r,t?No:""):i[e]=r}}return Ee}});var Lo=class extends Tt{constructor(){super(...arguments),this.localize=new Kt(this),this.hoverValue=0,this.isHovering=!1,this.label="",this.value=0,this.max=5,this.precision=1,this.readonly=!1,this.disabled=!1,this.getSymbol=()=>'<sl-icon name="star-fill" library="system"></sl-icon>'}getValueFromMousePosition(e){return this.getValueFromXCoordinate(e.clientX)}getValueFromTouchPosition(e){return this.getValueFromXCoordinate(e.touches[0].clientX)}getValueFromXCoordinate(e){const t="rtl"===this.localize.dir(),{left:i,right:r,width:o}=this.rating.getBoundingClientRect();return Br(t?this.roundToPrecision((r-e)/o*this.max,this.precision):this.roundToPrecision((e-i)/o*this.max,this.precision),0,this.max)}handleClick(e){this.disabled||(this.setValue(this.getValueFromMousePosition(e)),this.emit("sl-change"))}setValue(e){this.disabled||this.readonly||(this.value=e===this.value?0:e,this.isHovering=!1)}handleKeyDown(e){const t="ltr"===this.localize.dir(),i="rtl"===this.localize.dir(),r=this.value;if(!this.disabled&&!this.readonly){if("ArrowDown"===e.key||t&&"ArrowLeft"===e.key||i&&"ArrowRight"===e.key){const t=e.shiftKey?1:this.precision;this.value=Math.max(0,this.value-t),e.preventDefault()}if("ArrowUp"===e.key||t&&"ArrowRight"===e.key||i&&"ArrowLeft"===e.key){const t=e.shiftKey?1:this.precision;this.value=Math.min(this.max,this.value+t),e.preventDefault()}"Home"===e.key&&(this.value=0,e.preventDefault()),"End"===e.key&&(this.value=this.max,e.preventDefault()),this.value!==r&&this.emit("sl-change")}}handleMouseEnter(e){this.isHovering=!0,this.hoverValue=this.getValueFromMousePosition(e)}handleMouseMove(e){this.hoverValue=this.getValueFromMousePosition(e)}handleMouseLeave(){this.isHovering=!1}handleTouchStart(e){this.isHovering=!0,this.hoverValue=this.getValueFromTouchPosition(e),e.preventDefault()}handleTouchMove(e){this.hoverValue=this.getValueFromTouchPosition(e)}handleTouchEnd(e){this.isHovering=!1,this.setValue(this.hoverValue),this.emit("sl-change"),e.preventDefault()}roundToPrecision(e,t=.5){const i=1/t;return Math.ceil(e*i)/i}handleHoverValueChange(){this.emit("sl-hover",{detail:{phase:"move",value:this.hoverValue}})}handleIsHoveringChange(){this.emit("sl-hover",{detail:{phase:this.isHovering?"start":"end",value:this.hoverValue}})}focus(e){this.rating.focus(e)}blur(){this.rating.blur()}render(){const e="rtl"===this.localize.dir(),t=Array.from(Array(this.max).keys());let i=0;return i=this.disabled||this.readonly?this.value:this.isHovering?this.hoverValue:this.value,_e`
      <div
        part="base"
        class=${Lt({rating:!0,"rating--readonly":this.readonly,"rating--disabled":this.disabled,"rating--rtl":e})}
        role="slider"
        aria-label=${this.label}
        aria-disabled=${this.disabled?"true":"false"}
        aria-readonly=${this.readonly?"true":"false"}
        aria-valuenow=${this.value}
        aria-valuemin=${0}
        aria-valuemax=${this.max}
        tabindex=${this.disabled||this.readonly?"-1":"0"}
        @click=${this.handleClick}
        @keydown=${this.handleKeyDown}
        @mouseenter=${this.handleMouseEnter}
        @touchstart=${this.handleTouchStart}
        @mouseleave=${this.handleMouseLeave}
        @touchend=${this.handleTouchEnd}
        @mousemove=${this.handleMouseMove}
        @touchmove=${this.handleTouchMove}
      >
        <span class="rating__symbols">
          ${t.map(t=>i>t&&i<t+1?_e`
                <span
                  class=${Lt({rating__symbol:!0,"rating__partial-symbol-container":!0,"rating__symbol--hover":this.isHovering&&Math.ceil(i)===t+1})}
                  role="presentation"
                >
                  <div
                    style=${Oo({clipPath:e?`inset(0 ${100*(i-t)}% 0 0)`:`inset(0 0 0 ${100*(i-t)}%)`})}
                  >
                    ${ko(this.getSymbol(t+1))}
                  </div>
                  <div
                    class="rating__partial--filled"
                    style=${Oo({clipPath:e?`inset(0 0 0 ${100-100*(i-t)}%)`:`inset(0 ${100-100*(i-t)}% 0 0)`})}
                  >
                    ${ko(this.getSymbol(t+1))}
                  </div>
                </span>
              `:_e`
              <span
                class=${Lt({rating__symbol:!0,"rating__symbol--hover":this.isHovering&&Math.ceil(i)===t+1,"rating__symbol--active":i>=t+1})}
                role="presentation"
              >
                ${ko(this.getSymbol(t+1))}
              </span>
            `)}
        </span>
      </div>
    `}};Lo.styles=[st,Io],Lo.dependencies={"sl-icon":Nt},y([ft(".rating")],Lo.prototype,"rating",2),y([ht()],Lo.prototype,"hoverValue",2),y([ht()],Lo.prototype,"isHovering",2),y([ut()],Lo.prototype,"label",2),y([ut({type:Number})],Lo.prototype,"value",2),y([ut({type:Number})],Lo.prototype,"max",2),y([ut({type:Number})],Lo.prototype,"precision",2),y([ut({type:Boolean,reflect:!0})],Lo.prototype,"readonly",2),y([ut({type:Boolean,reflect:!0})],Lo.prototype,"disabled",2),y([ut()],Lo.prototype,"getSymbol",2),y([pt({passive:!0})],Lo.prototype,"handleTouchMove",1),y([at("hoverValue")],Lo.prototype,"handleHoverValueChange",1),y([at("isHovering")],Lo.prototype,"handleIsHoveringChange",1),Lo.define("sl-rating");var Po=[{max:276e4,value:6e4,unit:"minute"},{max:72e6,value:36e5,unit:"hour"},{max:5184e5,value:864e5,unit:"day"},{max:24192e5,value:6048e5,unit:"week"},{max:28512e6,value:2592e6,unit:"month"},{max:1/0,value:31536e6,unit:"year"}],Ro=class extends Tt{constructor(){super(...arguments),this.localize=new Kt(this),this.isoTime="",this.relativeTime="",this.date=new Date,this.format="long",this.numeric="auto",this.sync=!1}disconnectedCallback(){super.disconnectedCallback(),clearTimeout(this.updateTimeout)}render(){const e=new Date,t=new Date(this.date);if(isNaN(t.getMilliseconds()))return this.relativeTime="",this.isoTime="","";const i=t.getTime()-e.getTime(),{unit:r,value:o}=Po.find(e=>Math.abs(i)<e.max);if(this.isoTime=t.toISOString(),this.relativeTime=this.localize.relativeTime(Math.round(i/o),r,{numeric:this.numeric,style:this.format}),clearTimeout(this.updateTimeout),this.sync){let e;e=function(e){const t={second:1e3,minute:6e4,hour:36e5,day:864e5}[e];return t-Date.now()%t}("minute"===r?"second":"hour"===r?"minute":"day"===r?"hour":"day"),this.updateTimeout=window.setTimeout(()=>this.requestUpdate(),e)}return _e` <time datetime=${this.isoTime}>${this.relativeTime}</time> `}};y([ht()],Ro.prototype,"isoTime",2),y([ht()],Ro.prototype,"relativeTime",2),y([ut()],Ro.prototype,"date",2),y([ut()],Ro.prototype,"format",2),y([ut()],Ro.prototype,"numeric",2),y([ut({type:Boolean})],Ro.prototype,"sync",2),Ro.define("sl-relative-time");var Mo=M`
  :host {
    display: inline-block;
    position: relative;
    width: auto;
    cursor: pointer;
  }

  .button {
    display: inline-flex;
    align-items: stretch;
    justify-content: center;
    width: 100%;
    border-style: solid;
    border-width: var(--sl-input-border-width);
    font-family: var(--sl-input-font-family);
    font-weight: var(--sl-font-weight-semibold);
    text-decoration: none;
    user-select: none;
    -webkit-user-select: none;
    white-space: nowrap;
    vertical-align: middle;
    padding: 0;
    transition:
      var(--sl-transition-x-fast) background-color,
      var(--sl-transition-x-fast) color,
      var(--sl-transition-x-fast) border,
      var(--sl-transition-x-fast) box-shadow;
    cursor: inherit;
  }

  .button::-moz-focus-inner {
    border: 0;
  }

  .button:focus {
    outline: none;
  }

  .button:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .button--disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  /* When disabled, prevent mouse events from bubbling up from children */
  .button--disabled * {
    pointer-events: none;
  }

  .button__prefix,
  .button__suffix {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    pointer-events: none;
  }

  .button__label {
    display: inline-block;
  }

  .button__label::slotted(sl-icon) {
    vertical-align: -2px;
  }

  /*
   * Standard buttons
   */

  /* Default */
  .button--standard.button--default {
    background-color: var(--sl-color-neutral-0);
    border-color: var(--sl-input-border-color);
    color: var(--sl-color-neutral-700);
  }

  .button--standard.button--default:hover:not(.button--disabled) {
    background-color: var(--sl-color-primary-50);
    border-color: var(--sl-color-primary-300);
    color: var(--sl-color-primary-700);
  }

  .button--standard.button--default:active:not(.button--disabled) {
    background-color: var(--sl-color-primary-100);
    border-color: var(--sl-color-primary-400);
    color: var(--sl-color-primary-700);
  }

  /* Primary */
  .button--standard.button--primary {
    background-color: var(--sl-color-primary-600);
    border-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--primary:hover:not(.button--disabled) {
    background-color: var(--sl-color-primary-500);
    border-color: var(--sl-color-primary-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--primary:active:not(.button--disabled) {
    background-color: var(--sl-color-primary-600);
    border-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  /* Success */
  .button--standard.button--success {
    background-color: var(--sl-color-success-600);
    border-color: var(--sl-color-success-600);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--success:hover:not(.button--disabled) {
    background-color: var(--sl-color-success-500);
    border-color: var(--sl-color-success-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--success:active:not(.button--disabled) {
    background-color: var(--sl-color-success-600);
    border-color: var(--sl-color-success-600);
    color: var(--sl-color-neutral-0);
  }

  /* Neutral */
  .button--standard.button--neutral {
    background-color: var(--sl-color-neutral-600);
    border-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--neutral:hover:not(.button--disabled) {
    background-color: var(--sl-color-neutral-500);
    border-color: var(--sl-color-neutral-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--neutral:active:not(.button--disabled) {
    background-color: var(--sl-color-neutral-600);
    border-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-0);
  }

  /* Warning */
  .button--standard.button--warning {
    background-color: var(--sl-color-warning-600);
    border-color: var(--sl-color-warning-600);
    color: var(--sl-color-neutral-0);
  }
  .button--standard.button--warning:hover:not(.button--disabled) {
    background-color: var(--sl-color-warning-500);
    border-color: var(--sl-color-warning-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--warning:active:not(.button--disabled) {
    background-color: var(--sl-color-warning-600);
    border-color: var(--sl-color-warning-600);
    color: var(--sl-color-neutral-0);
  }

  /* Danger */
  .button--standard.button--danger {
    background-color: var(--sl-color-danger-600);
    border-color: var(--sl-color-danger-600);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--danger:hover:not(.button--disabled) {
    background-color: var(--sl-color-danger-500);
    border-color: var(--sl-color-danger-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--danger:active:not(.button--disabled) {
    background-color: var(--sl-color-danger-600);
    border-color: var(--sl-color-danger-600);
    color: var(--sl-color-neutral-0);
  }

  /*
   * Outline buttons
   */

  .button--outline {
    background: none;
    border: solid 1px;
  }

  /* Default */
  .button--outline.button--default {
    border-color: var(--sl-input-border-color);
    color: var(--sl-color-neutral-700);
  }

  .button--outline.button--default:hover:not(.button--disabled),
  .button--outline.button--default.button--checked:not(.button--disabled) {
    border-color: var(--sl-color-primary-600);
    background-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--default:active:not(.button--disabled) {
    border-color: var(--sl-color-primary-700);
    background-color: var(--sl-color-primary-700);
    color: var(--sl-color-neutral-0);
  }

  /* Primary */
  .button--outline.button--primary {
    border-color: var(--sl-color-primary-600);
    color: var(--sl-color-primary-600);
  }

  .button--outline.button--primary:hover:not(.button--disabled),
  .button--outline.button--primary.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--primary:active:not(.button--disabled) {
    border-color: var(--sl-color-primary-700);
    background-color: var(--sl-color-primary-700);
    color: var(--sl-color-neutral-0);
  }

  /* Success */
  .button--outline.button--success {
    border-color: var(--sl-color-success-600);
    color: var(--sl-color-success-600);
  }

  .button--outline.button--success:hover:not(.button--disabled),
  .button--outline.button--success.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-success-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--success:active:not(.button--disabled) {
    border-color: var(--sl-color-success-700);
    background-color: var(--sl-color-success-700);
    color: var(--sl-color-neutral-0);
  }

  /* Neutral */
  .button--outline.button--neutral {
    border-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-600);
  }

  .button--outline.button--neutral:hover:not(.button--disabled),
  .button--outline.button--neutral.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--neutral:active:not(.button--disabled) {
    border-color: var(--sl-color-neutral-700);
    background-color: var(--sl-color-neutral-700);
    color: var(--sl-color-neutral-0);
  }

  /* Warning */
  .button--outline.button--warning {
    border-color: var(--sl-color-warning-600);
    color: var(--sl-color-warning-600);
  }

  .button--outline.button--warning:hover:not(.button--disabled),
  .button--outline.button--warning.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-warning-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--warning:active:not(.button--disabled) {
    border-color: var(--sl-color-warning-700);
    background-color: var(--sl-color-warning-700);
    color: var(--sl-color-neutral-0);
  }

  /* Danger */
  .button--outline.button--danger {
    border-color: var(--sl-color-danger-600);
    color: var(--sl-color-danger-600);
  }

  .button--outline.button--danger:hover:not(.button--disabled),
  .button--outline.button--danger.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-danger-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--danger:active:not(.button--disabled) {
    border-color: var(--sl-color-danger-700);
    background-color: var(--sl-color-danger-700);
    color: var(--sl-color-neutral-0);
  }

  @media (forced-colors: active) {
    .button.button--outline.button--checked:not(.button--disabled) {
      outline: solid 2px transparent;
    }
  }

  /*
   * Text buttons
   */

  .button--text {
    background-color: transparent;
    border-color: transparent;
    color: var(--sl-color-primary-600);
  }

  .button--text:hover:not(.button--disabled) {
    background-color: transparent;
    border-color: transparent;
    color: var(--sl-color-primary-500);
  }

  .button--text:focus-visible:not(.button--disabled) {
    background-color: transparent;
    border-color: transparent;
    color: var(--sl-color-primary-500);
  }

  .button--text:active:not(.button--disabled) {
    background-color: transparent;
    border-color: transparent;
    color: var(--sl-color-primary-700);
  }

  /*
   * Size modifiers
   */

  .button--small {
    height: auto;
    min-height: var(--sl-input-height-small);
    font-size: var(--sl-button-font-size-small);
    line-height: calc(var(--sl-input-height-small) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-small);
  }

  .button--medium {
    height: auto;
    min-height: var(--sl-input-height-medium);
    font-size: var(--sl-button-font-size-medium);
    line-height: calc(var(--sl-input-height-medium) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-medium);
  }

  .button--large {
    height: auto;
    min-height: var(--sl-input-height-large);
    font-size: var(--sl-button-font-size-large);
    line-height: calc(var(--sl-input-height-large) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-large);
  }

  /*
   * Pill modifier
   */

  .button--pill.button--small {
    border-radius: var(--sl-input-height-small);
  }

  .button--pill.button--medium {
    border-radius: var(--sl-input-height-medium);
  }

  .button--pill.button--large {
    border-radius: var(--sl-input-height-large);
  }

  /*
   * Circle modifier
   */

  .button--circle {
    padding-left: 0;
    padding-right: 0;
  }

  .button--circle.button--small {
    width: var(--sl-input-height-small);
    border-radius: 50%;
  }

  .button--circle.button--medium {
    width: var(--sl-input-height-medium);
    border-radius: 50%;
  }

  .button--circle.button--large {
    width: var(--sl-input-height-large);
    border-radius: 50%;
  }

  .button--circle .button__prefix,
  .button--circle .button__suffix,
  .button--circle .button__caret {
    display: none;
  }

  /*
   * Caret modifier
   */

  .button--caret .button__suffix {
    display: none;
  }

  .button--caret .button__caret {
    height: auto;
  }

  /*
   * Loading modifier
   */

  .button--loading {
    position: relative;
    cursor: wait;
  }

  .button--loading .button__prefix,
  .button--loading .button__label,
  .button--loading .button__suffix,
  .button--loading .button__caret {
    visibility: hidden;
  }

  .button--loading sl-spinner {
    --indicator-color: currentColor;
    position: absolute;
    font-size: 1em;
    height: 1em;
    width: 1em;
    top: calc(50% - 0.5em);
    left: calc(50% - 0.5em);
  }

  /*
   * Badges
   */

  .button ::slotted(sl-badge) {
    position: absolute;
    top: 0;
    right: 0;
    translate: 50% -50%;
    pointer-events: none;
  }

  .button--rtl ::slotted(sl-badge) {
    right: auto;
    left: 0;
    translate: -50% -50%;
  }

  /*
   * Button spacing
   */

  .button--has-label.button--small .button__label {
    padding: 0 var(--sl-spacing-small);
  }

  .button--has-label.button--medium .button__label {
    padding: 0 var(--sl-spacing-medium);
  }

  .button--has-label.button--large .button__label {
    padding: 0 var(--sl-spacing-large);
  }

  .button--has-prefix.button--small {
    padding-inline-start: var(--sl-spacing-x-small);
  }

  .button--has-prefix.button--small .button__label {
    padding-inline-start: var(--sl-spacing-x-small);
  }

  .button--has-prefix.button--medium {
    padding-inline-start: var(--sl-spacing-small);
  }

  .button--has-prefix.button--medium .button__label {
    padding-inline-start: var(--sl-spacing-small);
  }

  .button--has-prefix.button--large {
    padding-inline-start: var(--sl-spacing-small);
  }

  .button--has-prefix.button--large .button__label {
    padding-inline-start: var(--sl-spacing-small);
  }

  .button--has-suffix.button--small,
  .button--caret.button--small {
    padding-inline-end: var(--sl-spacing-x-small);
  }

  .button--has-suffix.button--small .button__label,
  .button--caret.button--small .button__label {
    padding-inline-end: var(--sl-spacing-x-small);
  }

  .button--has-suffix.button--medium,
  .button--caret.button--medium {
    padding-inline-end: var(--sl-spacing-small);
  }

  .button--has-suffix.button--medium .button__label,
  .button--caret.button--medium .button__label {
    padding-inline-end: var(--sl-spacing-small);
  }

  .button--has-suffix.button--large,
  .button--caret.button--large {
    padding-inline-end: var(--sl-spacing-small);
  }

  .button--has-suffix.button--large .button__label,
  .button--caret.button--large .button__label {
    padding-inline-end: var(--sl-spacing-small);
  }

  /*
   * Button groups support a variety of button types (e.g. buttons with tooltips, buttons as dropdown triggers, etc.).
   * This means buttons aren't always direct descendants of the button group, thus we can't target them with the
   * ::slotted selector. To work around this, the button group component does some magic to add these special classes to
   * buttons and we style them here instead.
   */

  :host([data-sl-button-group__button--first]:not([data-sl-button-group__button--last])) .button {
    border-start-end-radius: 0;
    border-end-end-radius: 0;
  }

  :host([data-sl-button-group__button--inner]) .button {
    border-radius: 0;
  }

  :host([data-sl-button-group__button--last]:not([data-sl-button-group__button--first])) .button {
    border-start-start-radius: 0;
    border-end-start-radius: 0;
  }

  /* All except the first */
  :host([data-sl-button-group__button]:not([data-sl-button-group__button--first])) {
    margin-inline-start: calc(-1 * var(--sl-input-border-width));
  }

  /* Add a visual separator between solid buttons */
  :host(
      [data-sl-button-group__button]:not(
          [data-sl-button-group__button--first],
          [data-sl-button-group__button--radio],
          [variant='default']
        ):not(:hover)
    )
    .button:after {
    content: '';
    position: absolute;
    top: 0;
    inset-inline-start: 0;
    bottom: 0;
    border-left: solid 1px rgb(128 128 128 / 33%);
    mix-blend-mode: multiply;
  }

  /* Bump hovered, focused, and checked buttons up so their focus ring isn't clipped */
  :host([data-sl-button-group__button--hover]) {
    z-index: 1;
  }

  /* Focus and checked are always on top */
  :host([data-sl-button-group__button--focus]),
  :host([data-sl-button-group__button][checked]) {
    z-index: 2;
  }
`,Bo=M`
  ${Mo}

  .button__prefix,
  .button__suffix,
  .button__label {
    display: inline-flex;
    position: relative;
    align-items: center;
  }

  /* We use a hidden input so constraint validation errors work, since they don't appear to show when used with buttons.
    We can't actually hide it, though, otherwise the messages will be suppressed by the browser. */
  .hidden-input {
    all: unset;
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    right: 0;
    outline: dotted 1px red;
    opacity: 0;
    z-index: -1;
  }
`,Uo=class extends Tt{constructor(){super(...arguments),this.hasSlotController=new Je(this,"[default]","prefix","suffix"),this.hasFocus=!1,this.checked=!1,this.disabled=!1,this.size="medium",this.pill=!1}connectedCallback(){super.connectedCallback(),this.setAttribute("role","presentation")}handleBlur(){this.hasFocus=!1,this.emit("sl-blur")}handleClick(e){if(this.disabled)return e.preventDefault(),void e.stopPropagation();this.checked=!0}handleFocus(){this.hasFocus=!0,this.emit("sl-focus")}handleDisabledChange(){this.setAttribute("aria-disabled",this.disabled?"true":"false")}focus(e){this.input.focus(e)}blur(){this.input.blur()}render(){return Zr`
      <div part="base" role="presentation">
        <button
          part="${"button"+(this.checked?" button--checked":"")}"
          role="radio"
          aria-checked="${this.checked}"
          class=${Lt({button:!0,"button--default":!0,"button--small":"small"===this.size,"button--medium":"medium"===this.size,"button--large":"large"===this.size,"button--checked":this.checked,"button--disabled":this.disabled,"button--focused":this.hasFocus,"button--outline":!0,"button--pill":this.pill,"button--has-label":this.hasSlotController.test("[default]"),"button--has-prefix":this.hasSlotController.test("prefix"),"button--has-suffix":this.hasSlotController.test("suffix")})}
          aria-disabled=${this.disabled}
          type="button"
          value=${Pt(this.value)}
          @blur=${this.handleBlur}
          @focus=${this.handleFocus}
          @click=${this.handleClick}
        >
          <slot name="prefix" part="prefix" class="button__prefix"></slot>
          <slot part="label" class="button__label"></slot>
          <slot name="suffix" part="suffix" class="button__suffix"></slot>
        </button>
      </div>
    `}};Uo.styles=[st,Bo],y([ft(".button")],Uo.prototype,"input",2),y([ft(".hidden-input")],Uo.prototype,"hiddenInput",2),y([ht()],Uo.prototype,"hasFocus",2),y([ut({type:Boolean,reflect:!0})],Uo.prototype,"checked",2),y([ut()],Uo.prototype,"value",2),y([ut({type:Boolean,reflect:!0})],Uo.prototype,"disabled",2),y([ut({reflect:!0})],Uo.prototype,"size",2),y([ut({type:Boolean,reflect:!0})],Uo.prototype,"pill",2),y([at("disabled",{waitUntilFirstUpdate:!0})],Uo.prototype,"handleDisabledChange",1),Uo.define("sl-radio-button");var $o=M`
  :host {
    display: block;
  }

  .form-control {
    position: relative;
    border: none;
    padding: 0;
    margin: 0;
  }

  .form-control__label {
    padding: 0;
  }

  .radio-group--required .radio-group__label::after {
    content: var(--sl-input-required-content);
    margin-inline-start: var(--sl-input-required-content-offset);
  }

  .visually-hidden {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
  }
`,Go=M`
  :host {
    display: inline-block;
  }

  .button-group {
    display: flex;
    flex-wrap: nowrap;
  }
`,Fo=class extends Tt{constructor(){super(...arguments),this.disableRole=!1,this.label=""}handleFocus(e){const t=Ho(e.target);null==t||t.toggleAttribute("data-sl-button-group__button--focus",!0)}handleBlur(e){const t=Ho(e.target);null==t||t.toggleAttribute("data-sl-button-group__button--focus",!1)}handleMouseOver(e){const t=Ho(e.target);null==t||t.toggleAttribute("data-sl-button-group__button--hover",!0)}handleMouseOut(e){const t=Ho(e.target);null==t||t.toggleAttribute("data-sl-button-group__button--hover",!1)}handleSlotChange(){const e=[...this.defaultSlot.assignedElements({flatten:!0})];e.forEach(t=>{const i=e.indexOf(t),r=Ho(t);r&&(r.toggleAttribute("data-sl-button-group__button",!0),r.toggleAttribute("data-sl-button-group__button--first",0===i),r.toggleAttribute("data-sl-button-group__button--inner",i>0&&i<e.length-1),r.toggleAttribute("data-sl-button-group__button--last",i===e.length-1),r.toggleAttribute("data-sl-button-group__button--radio","sl-radio-button"===r.tagName.toLowerCase()))})}render(){return _e`
      <div
        part="base"
        class="button-group"
        role="${this.disableRole?"presentation":"group"}"
        aria-label=${this.label}
        @focusout=${this.handleBlur}
        @focusin=${this.handleFocus}
        @mouseover=${this.handleMouseOver}
        @mouseout=${this.handleMouseOut}
      >
        <slot @slotchange=${this.handleSlotChange}></slot>
      </div>
    `}};function Ho(e){var t;const i="sl-button, sl-radio-button";return null!=(t=e.closest(i))?t:e.querySelector(i)}Fo.styles=[st,Go],y([ft("slot")],Fo.prototype,"defaultSlot",2),y([ht()],Fo.prototype,"disableRole",2),y([ut()],Fo.prototype,"label",2);var zo=class extends Tt{constructor(){super(...arguments),this.formControlController=new S(this),this.hasSlotController=new Je(this,"help-text","label"),this.customValidityMessage="",this.hasButtonGroup=!1,this.errorMessage="",this.defaultValue="",this.label="",this.helpText="",this.name="option",this.value="",this.size="medium",this.form="",this.required=!1}get validity(){const e=this.required&&!this.value;return""!==this.customValidityMessage?I:e?C:x}get validationMessage(){const e=this.required&&!this.value;return""!==this.customValidityMessage?this.customValidityMessage:e?this.validationInput.validationMessage:""}connectedCallback(){super.connectedCallback(),this.defaultValue=this.value}firstUpdated(){this.formControlController.updateValidity()}getAllRadios(){return[...this.querySelectorAll("sl-radio, sl-radio-button")]}handleRadioClick(e){const t=e.target.closest("sl-radio, sl-radio-button"),i=this.getAllRadios(),r=this.value;t&&!t.disabled&&(this.value=t.value,i.forEach(e=>e.checked=e===t),this.value!==r&&(this.emit("sl-change"),this.emit("sl-input")))}handleKeyDown(e){var t;if(!["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"," "].includes(e.key))return;const i=this.getAllRadios().filter(e=>!e.disabled),r=null!=(t=i.find(e=>e.checked))?t:i[0],o=" "===e.key?0:["ArrowUp","ArrowLeft"].includes(e.key)?-1:1,n=this.value;let a=i.indexOf(r)+o;a<0&&(a=i.length-1),a>i.length-1&&(a=0),this.getAllRadios().forEach(e=>{e.checked=!1,this.hasButtonGroup||e.setAttribute("tabindex","-1")}),this.value=i[a].value,i[a].checked=!0,this.hasButtonGroup?i[a].shadowRoot.querySelector("button").focus():(i[a].setAttribute("tabindex","0"),i[a].focus()),this.value!==n&&(this.emit("sl-change"),this.emit("sl-input")),e.preventDefault()}handleLabelClick(){this.focus()}handleInvalid(e){this.formControlController.setValidity(!1),this.formControlController.emitInvalidEvent(e)}async syncRadioElements(){var e,t;const i=this.getAllRadios();if(await Promise.all(i.map(async e=>{await e.updateComplete,e.checked=e.value===this.value,e.size=this.size})),this.hasButtonGroup=i.some(e=>"sl-radio-button"===e.tagName.toLowerCase()),i.length>0&&!i.some(e=>e.checked))if(this.hasButtonGroup){const t=null==(e=i[0].shadowRoot)?void 0:e.querySelector("button");t&&t.setAttribute("tabindex","0")}else i[0].setAttribute("tabindex","0");if(this.hasButtonGroup){const e=null==(t=this.shadowRoot)?void 0:t.querySelector("sl-button-group");e&&(e.disableRole=!0)}}syncRadios(){customElements.get("sl-radio")&&customElements.get("sl-radio-button")?this.syncRadioElements():(customElements.get("sl-radio")?this.syncRadioElements():customElements.whenDefined("sl-radio").then(()=>this.syncRadios()),customElements.get("sl-radio-button")?this.syncRadioElements():customElements.whenDefined("sl-radio-button").then(()=>this.syncRadios()))}updateCheckedRadio(){this.getAllRadios().forEach(e=>e.checked=e.value===this.value),this.formControlController.setValidity(this.validity.valid)}handleSizeChange(){this.syncRadios()}handleValueChange(){this.hasUpdated&&this.updateCheckedRadio()}checkValidity(){const e=this.required&&!this.value,t=""!==this.customValidityMessage;return!e&&!t||(this.formControlController.emitInvalidEvent(),!1)}getForm(){return this.formControlController.getForm()}reportValidity(){const e=this.validity.valid;return this.errorMessage=this.customValidityMessage||e?"":this.validationInput.validationMessage,this.formControlController.setValidity(e),this.validationInput.hidden=!0,clearTimeout(this.validationTimeout),e||(this.validationInput.hidden=!1,this.validationInput.reportValidity(),this.validationTimeout=setTimeout(()=>this.validationInput.hidden=!0,1e4)),e}setCustomValidity(e=""){this.customValidityMessage=e,this.errorMessage=e,this.validationInput.setCustomValidity(e),this.formControlController.updateValidity()}focus(e){const t=this.getAllRadios(),i=t.find(e=>e.checked),r=t.find(e=>!e.disabled),o=i||r;o&&o.focus(e)}render(){const e=this.hasSlotController.test("label"),t=this.hasSlotController.test("help-text"),i=!!this.label||!!e,r=!!this.helpText||!!t,o=_e`
      <slot @slotchange=${this.syncRadios} @click=${this.handleRadioClick} @keydown=${this.handleKeyDown}></slot>
    `;return _e`
      <fieldset
        part="form-control"
        class=${Lt({"form-control":!0,"form-control--small":"small"===this.size,"form-control--medium":"medium"===this.size,"form-control--large":"large"===this.size,"form-control--radio-group":!0,"form-control--has-label":i,"form-control--has-help-text":r})}
        role="radiogroup"
        aria-labelledby="label"
        aria-describedby="help-text"
        aria-errormessage="error-message"
      >
        <label
          part="form-control-label"
          id="label"
          class="form-control__label"
          aria-hidden=${i?"false":"true"}
          @click=${this.handleLabelClick}
        >
          <slot name="label">${this.label}</slot>
        </label>

        <div part="form-control-input" class="form-control-input">
          <div class="visually-hidden">
            <div id="error-message" aria-live="assertive">${this.errorMessage}</div>
            <label class="radio-group__validation">
              <input
                type="text"
                class="radio-group__validation-input"
                ?required=${this.required}
                tabindex="-1"
                hidden
                @invalid=${this.handleInvalid}
              />
            </label>
          </div>

          ${this.hasButtonGroup?_e`
                <sl-button-group part="button-group" exportparts="base:button-group__base" role="presentation">
                  ${o}
                </sl-button-group>
              `:o}
        </div>

        <div
          part="form-control-help-text"
          id="help-text"
          class="form-control__help-text"
          aria-hidden=${r?"false":"true"}
        >
          <slot name="help-text">${this.helpText}</slot>
        </div>
      </fieldset>
    `}};zo.styles=[st,Xe,$o],zo.dependencies={"sl-button-group":Fo},y([ft("slot:not([name])")],zo.prototype,"defaultSlot",2),y([ft(".radio-group__validation-input")],zo.prototype,"validationInput",2),y([ht()],zo.prototype,"hasButtonGroup",2),y([ht()],zo.prototype,"errorMessage",2),y([ht()],zo.prototype,"defaultValue",2),y([ut()],zo.prototype,"label",2),y([ut({attribute:"help-text"})],zo.prototype,"helpText",2),y([ut()],zo.prototype,"name",2),y([ut({reflect:!0})],zo.prototype,"value",2),y([ut({reflect:!0})],zo.prototype,"size",2),y([ut({reflect:!0})],zo.prototype,"form",2),y([ut({type:Boolean,reflect:!0})],zo.prototype,"required",2),y([at("size",{waitUntilFirstUpdate:!0})],zo.prototype,"handleSizeChange",1),y([at("value")],zo.prototype,"handleValueChange",1),zo.define("sl-radio-group");var jo=M`
  :host {
    --size: 128px;
    --track-width: 4px;
    --track-color: var(--sl-color-neutral-200);
    --indicator-width: var(--track-width);
    --indicator-color: var(--sl-color-primary-600);
    --indicator-transition-duration: 0.35s;

    display: inline-flex;
  }

  .progress-ring {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    position: relative;
  }

  .progress-ring__image {
    width: var(--size);
    height: var(--size);
    rotate: -90deg;
    transform-origin: 50% 50%;
  }

  .progress-ring__track,
  .progress-ring__indicator {
    --radius: calc(var(--size) / 2 - max(var(--track-width), var(--indicator-width)) * 0.5);
    --circumference: calc(var(--radius) * 2 * 3.141592654);

    fill: none;
    r: var(--radius);
    cx: calc(var(--size) / 2);
    cy: calc(var(--size) / 2);
  }

  .progress-ring__track {
    stroke: var(--track-color);
    stroke-width: var(--track-width);
  }

  .progress-ring__indicator {
    stroke: var(--indicator-color);
    stroke-width: var(--indicator-width);
    stroke-linecap: round;
    transition-property: stroke-dashoffset;
    transition-duration: var(--indicator-transition-duration);
    stroke-dasharray: var(--circumference) var(--circumference);
    stroke-dashoffset: calc(var(--circumference) - var(--percentage) * var(--circumference));
  }

  .progress-ring__label {
    display: flex;
    align-items: center;
    justify-content: center;
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    text-align: center;
    user-select: none;
    -webkit-user-select: none;
  }
`,Vo=class extends Tt{constructor(){super(...arguments),this.localize=new Kt(this),this.value=0,this.label=""}updated(e){if(super.updated(e),e.has("value")){const e=parseFloat(getComputedStyle(this.indicator).getPropertyValue("r")),t=2*Math.PI*e,i=t-this.value/100*t;this.indicatorOffset=`${i}px`}}render(){return _e`
      <div
        part="base"
        class="progress-ring"
        role="progressbar"
        aria-label=${this.label.length>0?this.label:this.localize.term("progress")}
        aria-describedby="label"
        aria-valuemin="0"
        aria-valuemax="100"
        aria-valuenow="${this.value}"
        style="--percentage: ${this.value/100}"
      >
        <svg class="progress-ring__image">
          <circle class="progress-ring__track"></circle>
          <circle class="progress-ring__indicator" style="stroke-dashoffset: ${this.indicatorOffset}"></circle>
        </svg>

        <slot id="label" part="label" class="progress-ring__label"></slot>
      </div>
    `}};Vo.styles=[st,jo],y([ft(".progress-ring__indicator")],Vo.prototype,"indicator",2),y([ht()],Vo.prototype,"indicatorOffset",2),y([ut({type:Number,reflect:!0})],Vo.prototype,"value",2),y([ut()],Vo.prototype,"label",2),Vo.define("sl-progress-ring");var Wo=M`
  :host {
    display: inline-block;
  }
`;let qo=null;class Yo{}Yo.render=function(e,t){qo(e,t)},self.QrCreator=Yo,function(e){function t(t,i,r,o){var n={},a=e(r,i);a.u(t),a.J(),o=o||0;var s=a.h(),l=a.h()+2*o;return n.text=t,n.level=i,n.version=r,n.O=l,n.a=function(e,t){return t-=o,!(0>(e-=o)||e>=s||0>t||t>=s)&&a.a(e,t)},n}function i(e,t,i,r,o,n,a,s,l,c){function d(t,i,r,o,a,s,l){t?(e.lineTo(i+s,r+l),e.arcTo(i,r,o,a,n)):e.lineTo(i,r)}a?e.moveTo(t+n,i):e.moveTo(t,i),d(s,r,i,r,o,-n,0),d(l,r,o,t,o,0,-n),d(c,t,o,t,i,n,0),d(a,t,i,r,i,0,n)}function r(e,t,i,r,o,n,a,s,l,c){function d(t,i,r,o){e.moveTo(t+r,i),e.lineTo(t,i),e.lineTo(t,i+o),e.arcTo(t,i,t+r,i,n)}a&&d(t,i,n,n),s&&d(r,i,-n,n),l&&d(r,o,-n,-n),c&&d(t,o,n,-n)}function o(e,o){e:{var n=o.text,a=o.v,s=o.N,l=o.K,c=o.P;for(s=Math.max(1,s||1),l=Math.min(40,l||40);s<=l;s+=1)try{var d=t(n,a,s,c);break e}catch(e){}d=void 0}if(!d)return null;for(n=e.getContext("2d"),o.background&&(n.fillStyle=o.background,n.fillRect(o.left,o.top,o.size,o.size)),a=d.O,l=o.size/a,n.beginPath(),c=0;c<a;c+=1)for(s=0;s<a;s+=1){var u=n,h=o.left+s*l,p=o.top+c*l,g=c,f=s,m=d.a,b=h+l,y=p+l,v=g-1,w=g+1,_=f-1,T=f+1,A=Math.floor(Math.min(.5,Math.max(0,o.R))*l),E=m(g,f),k=m(v,_),S=m(v,f);v=m(v,T);var x=m(g,T);T=m(w,T),f=m(w,f),w=m(w,_),g=m(g,_),h=Math.round(h),p=Math.round(p),b=Math.round(b),y=Math.round(y),E?i(u,h,p,b,y,A,!S&&!g,!S&&!x,!f&&!x,!f&&!g):r(u,h,p,b,y,A,S&&g&&k,S&&x&&v,f&&x&&T,f&&g&&w)}return function(e,t){var i=t.fill;if("string"==typeof i)e.fillStyle=i;else{var r=i.type,o=i.colorStops;if(i=i.position.map(e=>Math.round(e*t.size)),"linear-gradient"===r)var n=e.createLinearGradient.apply(e,i);else{if("radial-gradient"!==r)throw Error("Unsupported fill");n=e.createRadialGradient.apply(e,i)}o.forEach(([e,t])=>{n.addColorStop(e,t)}),e.fillStyle=n}}(n,o),n.fill(),e}var n={minVersion:1,maxVersion:40,ecLevel:"L",left:0,top:0,size:200,fill:"#000",background:null,text:"no text",radius:.5,quiet:0};qo=function(e,t){var i={};Object.assign(i,n,e),i.N=i.minVersion,i.K=i.maxVersion,i.v=i.ecLevel,i.left=i.left,i.top=i.top,i.size=i.size,i.fill=i.fill,i.background=i.background,i.text=i.text,i.R=i.radius,i.P=i.quiet,t instanceof HTMLCanvasElement?(t.width===i.size&&t.height===i.size||(t.width=i.size,t.height=i.size),t.getContext("2d").clearRect(0,0,t.width,t.height),o(t,i)):((e=document.createElement("canvas")).width=i.size,e.height=i.size,i=o(e,i),t.appendChild(i))}}(function(){function e(o,a){function s(e,t){for(var i=-1;7>=i;i+=1)if(!(-1>=e+i||u<=e+i))for(var r=-1;7>=r;r+=1)-1>=t+r||u<=t+r||(d[e+i][t+r]=0<=i&&6>=i&&(0==r||6==r)||0<=r&&6>=r&&(0==i||6==i)||2<=i&&4>=i&&2<=r&&4>=r)}function l(e,i){for(var a=u=4*o+17,l=Array(a),g=0;g<a;g+=1){l[g]=Array(a);for(var f=0;f<a;f+=1)l[g][f]=null}for(d=l,s(0,0),s(u-7,0),s(0,u-7),a=r.G(o),l=0;l<a.length;l+=1)for(g=0;g<a.length;g+=1){f=a[l];var m=a[g];if(null==d[f][m])for(var b=-2;2>=b;b+=1)for(var y=-2;2>=y;y+=1)d[f+b][m+y]=-2==b||2==b||-2==y||2==y||0==b&&0==y}for(a=8;a<u-8;a+=1)null==d[a][6]&&(d[a][6]=0==a%2);for(a=8;a<u-8;a+=1)null==d[6][a]&&(d[6][a]=0==a%2);for(a=r.w(c<<3|i),l=0;15>l;l+=1)g=!e&&1==(a>>l&1),d[6>l?l:8>l?l+1:u-15+l][8]=g,d[8][8>l?u-l-1:9>l?15-l:14-l]=g;if(d[u-8][8]=!e,7<=o){for(a=r.A(o),l=0;18>l;l+=1)g=!e&&1==(a>>l&1),d[Math.floor(l/3)][l%3+u-8-3]=g;for(l=0;18>l;l+=1)g=!e&&1==(a>>l&1),d[l%3+u-8-3][Math.floor(l/3)]=g}if(null==h){for(e=n.I(o,c),a=function(){var e=[],t=0,i={B:function(){return e},c:function(t){return 1==(e[Math.floor(t/8)]>>>7-t%8&1)},put:function(e,t){for(var r=0;r<t;r+=1)i.m(1==(e>>>t-r-1&1))},f:function(){return t},m:function(i){var r=Math.floor(t/8);e.length<=r&&e.push(0),i&&(e[r]|=128>>>t%8),t+=1}};return i}(),l=0;l<p.length;l+=1)g=p[l],a.put(4,4),a.put(g.b(),r.f(4,o)),g.write(a);for(l=g=0;l<e.length;l+=1)g+=e[l].j;if(a.f()>8*g)throw Error("code length overflow. ("+a.f()+">"+8*g+")");for(a.f()+4<=8*g&&a.put(0,4);0!=a.f()%8;)a.m(!1);for(;!(a.f()>=8*g||(a.put(236,8),a.f()>=8*g));)a.put(17,8);var v=0;for(g=l=0,f=Array(e.length),m=Array(e.length),b=0;b<e.length;b+=1){var w=e[b].j,_=e[b].o-w;for(l=Math.max(l,w),g=Math.max(g,_),f[b]=Array(w),y=0;y<f[b].length;y+=1)f[b][y]=255&a.B()[y+v];for(v+=w,y=r.C(_),w=t(f[b],y.b()-1).l(y),m[b]=Array(y.b()-1),y=0;y<m[b].length;y+=1)_=y+w.b()-m[b].length,m[b][y]=0<=_?w.c(_):0}for(y=a=0;y<e.length;y+=1)a+=e[y].o;for(a=Array(a),y=v=0;y<l;y+=1)for(b=0;b<e.length;b+=1)y<f[b].length&&(a[v]=f[b][y],v+=1);for(y=0;y<g;y+=1)for(b=0;b<e.length;b+=1)y<m[b].length&&(a[v]=m[b][y],v+=1);h=a}for(e=h,a=-1,l=u-1,g=7,f=0,i=r.F(i),m=u-1;0<m;m-=2)for(6==m&&--m;;){for(b=0;2>b;b+=1)null==d[l][m-b]&&(y=!1,f<e.length&&(y=1==(e[f]>>>g&1)),i(l,m-b)&&(y=!y),d[l][m-b]=y,-1==--g&&(f+=1,g=7));if(0>(l+=a)||u<=l){l-=a,a=-a;break}}}var c=i[a],d=null,u=0,h=null,p=[],g={u:function(t){t=function(t){var i=e.s(t);return{S:function(){return 4},b:function(){return i.length},write:function(e){for(var t=0;t<i.length;t+=1)e.put(i[t],8)}}}(t),p.push(t),h=null},a:function(e,t){if(0>e||u<=e||0>t||u<=t)throw Error(e+","+t);return d[e][t]},h:function(){return u},J:function(){for(var e=0,t=0,i=0;8>i;i+=1){l(!0,i);var o=r.D(g);(0==i||e>o)&&(e=o,t=i)}l(!1,t)}};return g}function t(e,i){if(void 0===e.length)throw Error(e.length+"/"+i);var r=function(){for(var t=0;t<e.length&&0==e[t];)t+=1;for(var r=Array(e.length-t+i),o=0;o<e.length-t;o+=1)r[o]=e[o+t];return r}(),n={c:function(e){return r[e]},b:function(){return r.length},multiply:function(e){for(var i=Array(n.b()+e.b()-1),r=0;r<n.b();r+=1)for(var a=0;a<e.b();a+=1)i[r+a]^=o.i(o.g(n.c(r))+o.g(e.c(a)));return t(i,0)},l:function(e){if(0>n.b()-e.b())return n;for(var i=o.g(n.c(0))-o.g(e.c(0)),r=Array(n.b()),a=0;a<n.b();a+=1)r[a]=n.c(a);for(a=0;a<e.b();a+=1)r[a]^=o.i(o.g(e.c(a))+i);return t(r,0).l(e)}};return n}e.s=function(e){for(var t=[],i=0;i<e.length;i++){var r=e.charCodeAt(i);128>r?t.push(r):2048>r?t.push(192|r>>6,128|63&r):55296>r||57344<=r?t.push(224|r>>12,128|r>>6&63,128|63&r):(i++,r=65536+((1023&r)<<10|1023&e.charCodeAt(i)),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r))}return t};var i={L:1,M:0,Q:3,H:2},r=function(){function e(e){for(var t=0;0!=e;)t+=1,e>>>=1;return t}var i=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],r={w:function(t){for(var i=t<<10;0<=e(i)-e(1335);)i^=1335<<e(i)-e(1335);return 21522^(t<<10|i)},A:function(t){for(var i=t<<12;0<=e(i)-e(7973);)i^=7973<<e(i)-e(7973);return t<<12|i},G:function(e){return i[e-1]},F:function(e){switch(e){case 0:return function(e,t){return 0==(e+t)%2};case 1:return function(e){return 0==e%2};case 2:return function(e,t){return 0==t%3};case 3:return function(e,t){return 0==(e+t)%3};case 4:return function(e,t){return 0==(Math.floor(e/2)+Math.floor(t/3))%2};case 5:return function(e,t){return 0==e*t%2+e*t%3};case 6:return function(e,t){return 0==(e*t%2+e*t%3)%2};case 7:return function(e,t){return 0==(e*t%3+(e+t)%2)%2};default:throw Error("bad maskPattern:"+e)}},C:function(e){for(var i=t([1],0),r=0;r<e;r+=1)i=i.multiply(t([1,o.i(r)],0));return i},f:function(e,t){if(4!=e||1>t||40<t)throw Error("mode: "+e+"; type: "+t);return 10>t?8:16},D:function(e){for(var t=e.h(),i=0,r=0;r<t;r+=1)for(var o=0;o<t;o+=1){for(var n=0,a=e.a(r,o),s=-1;1>=s;s+=1)if(!(0>r+s||t<=r+s))for(var l=-1;1>=l;l+=1)0>o+l||t<=o+l||(0!=s||0!=l)&&a==e.a(r+s,o+l)&&(n+=1);5<n&&(i+=3+n-5)}for(r=0;r<t-1;r+=1)for(o=0;o<t-1;o+=1)n=0,e.a(r,o)&&(n+=1),e.a(r+1,o)&&(n+=1),e.a(r,o+1)&&(n+=1),e.a(r+1,o+1)&&(n+=1),(0==n||4==n)&&(i+=3);for(r=0;r<t;r+=1)for(o=0;o<t-6;o+=1)e.a(r,o)&&!e.a(r,o+1)&&e.a(r,o+2)&&e.a(r,o+3)&&e.a(r,o+4)&&!e.a(r,o+5)&&e.a(r,o+6)&&(i+=40);for(o=0;o<t;o+=1)for(r=0;r<t-6;r+=1)e.a(r,o)&&!e.a(r+1,o)&&e.a(r+2,o)&&e.a(r+3,o)&&e.a(r+4,o)&&!e.a(r+5,o)&&e.a(r+6,o)&&(i+=40);for(o=n=0;o<t;o+=1)for(r=0;r<t;r+=1)e.a(r,o)&&(n+=1);return i+Math.abs(100*n/t/t-50)/5*10}};return r}(),o=function(){for(var e=Array(256),t=Array(256),i=0;8>i;i+=1)e[i]=1<<i;for(i=8;256>i;i+=1)e[i]=e[i-4]^e[i-5]^e[i-6]^e[i-8];for(i=0;255>i;i+=1)t[e[i]]=i;return{g:function(e){if(1>e)throw Error("glog("+e+")");return t[e]},i:function(t){for(;0>t;)t+=255;for(;256<=t;)t-=255;return e[t]}}}(),n=function(){function e(e,r){switch(r){case i.L:return t[4*(e-1)];case i.M:return t[4*(e-1)+1];case i.Q:return t[4*(e-1)+2];case i.H:return t[4*(e-1)+3]}}var t=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],r={I:function(t,i){var r=e(t,i);if(void 0===r)throw Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+i);t=r.length/3,i=[];for(var o=0;o<t;o+=1)for(var n=r[3*o],a=r[3*o+1],s=r[3*o+2],l=0;l<n;l+=1){var c=s,d={};d.o=a,d.j=c,i.push(d)}return i}};return r}();return e}());const Ko=QrCreator;var Xo=class extends Tt{constructor(){super(...arguments),this.value="",this.label="",this.size=128,this.fill="black",this.background="white",this.radius=0,this.errorCorrection="H"}firstUpdated(){this.generate()}generate(){this.hasUpdated&&Ko.render({text:this.value,radius:this.radius,ecLevel:this.errorCorrection,fill:this.fill,background:this.background,size:2*this.size},this.canvas)}render(){var e;return _e`
      <canvas
        part="base"
        class="qr-code"
        role="img"
        aria-label=${(null==(e=this.label)?void 0:e.length)>0?this.label:this.value}
        style=${Oo({width:`${this.size}px`,height:`${this.size}px`})}
      ></canvas>
    `}};Xo.styles=[st,Wo],y([ft("canvas")],Xo.prototype,"canvas",2),y([ut()],Xo.prototype,"value",2),y([ut()],Xo.prototype,"label",2),y([ut({type:Number})],Xo.prototype,"size",2),y([ut()],Xo.prototype,"fill",2),y([ut()],Xo.prototype,"background",2),y([ut({type:Number})],Xo.prototype,"radius",2),y([ut({attribute:"error-correction"})],Xo.prototype,"errorCorrection",2),y([at(["background","errorCorrection","fill","radius","size","value"])],Xo.prototype,"generate",1),Xo.define("sl-qr-code");var Jo=M`
  :host {
    display: block;
  }

  :host(:focus-visible) {
    outline: 0px;
  }

  .radio {
    display: inline-flex;
    align-items: top;
    font-family: var(--sl-input-font-family);
    font-size: var(--sl-input-font-size-medium);
    font-weight: var(--sl-input-font-weight);
    color: var(--sl-input-label-color);
    vertical-align: middle;
    cursor: pointer;
  }

  .radio--small {
    --toggle-size: var(--sl-toggle-size-small);
    font-size: var(--sl-input-font-size-small);
  }

  .radio--medium {
    --toggle-size: var(--sl-toggle-size-medium);
    font-size: var(--sl-input-font-size-medium);
  }

  .radio--large {
    --toggle-size: var(--sl-toggle-size-large);
    font-size: var(--sl-input-font-size-large);
  }

  .radio__checked-icon {
    display: inline-flex;
    width: var(--toggle-size);
    height: var(--toggle-size);
  }

  .radio__control {
    flex: 0 0 auto;
    position: relative;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: var(--toggle-size);
    height: var(--toggle-size);
    border: solid var(--sl-input-border-width) var(--sl-input-border-color);
    border-radius: 50%;
    background-color: var(--sl-input-background-color);
    color: transparent;
    transition:
      var(--sl-transition-fast) border-color,
      var(--sl-transition-fast) background-color,
      var(--sl-transition-fast) color,
      var(--sl-transition-fast) box-shadow;
  }

  .radio__input {
    position: absolute;
    opacity: 0;
    padding: 0;
    margin: 0;
    pointer-events: none;
  }

  /* Hover */
  .radio:not(.radio--checked):not(.radio--disabled) .radio__control:hover {
    border-color: var(--sl-input-border-color-hover);
    background-color: var(--sl-input-background-color-hover);
  }

  /* Checked */
  .radio--checked .radio__control {
    color: var(--sl-color-neutral-0);
    border-color: var(--sl-color-primary-600);
    background-color: var(--sl-color-primary-600);
  }

  /* Checked + hover */
  .radio.radio--checked:not(.radio--disabled) .radio__control:hover {
    border-color: var(--sl-color-primary-500);
    background-color: var(--sl-color-primary-500);
  }

  /* Checked + focus */
  :host(:focus-visible) .radio__control {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  /* Disabled */
  .radio--disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  /* When the control isn't checked, hide the circle for Windows High Contrast mode a11y */
  .radio:not(.radio--checked) svg circle {
    opacity: 0;
  }

  .radio__label {
    display: inline-block;
    color: var(--sl-input-label-color);
    line-height: var(--toggle-size);
    margin-inline-start: 0.5em;
    user-select: none;
    -webkit-user-select: none;
  }
`,Zo=class extends Tt{constructor(){super(),this.checked=!1,this.hasFocus=!1,this.size="medium",this.disabled=!1,this.handleBlur=()=>{this.hasFocus=!1,this.emit("sl-blur")},this.handleClick=()=>{this.disabled||(this.checked=!0)},this.handleFocus=()=>{this.hasFocus=!0,this.emit("sl-focus")},this.addEventListener("blur",this.handleBlur),this.addEventListener("click",this.handleClick),this.addEventListener("focus",this.handleFocus)}connectedCallback(){super.connectedCallback(),this.setInitialAttributes()}setInitialAttributes(){this.setAttribute("role","radio"),this.setAttribute("tabindex","-1"),this.setAttribute("aria-disabled",this.disabled?"true":"false")}handleCheckedChange(){this.setAttribute("aria-checked",this.checked?"true":"false"),this.setAttribute("tabindex",this.checked?"0":"-1")}handleDisabledChange(){this.setAttribute("aria-disabled",this.disabled?"true":"false")}render(){return _e`
      <span
        part="base"
        class=${Lt({radio:!0,"radio--checked":this.checked,"radio--disabled":this.disabled,"radio--focused":this.hasFocus,"radio--small":"small"===this.size,"radio--medium":"medium"===this.size,"radio--large":"large"===this.size})}
      >
        <span part="${"control"+(this.checked?" control--checked":"")}" class="radio__control">
          ${this.checked?_e` <sl-icon part="checked-icon" class="radio__checked-icon" library="system" name="radio"></sl-icon> `:""}
        </span>

        <slot part="label" class="radio__label"></slot>
      </span>
    `}};Zo.styles=[st,Jo],Zo.dependencies={"sl-icon":Nt},y([ht()],Zo.prototype,"checked",2),y([ht()],Zo.prototype,"hasFocus",2),y([ut()],Zo.prototype,"value",2),y([ut({reflect:!0})],Zo.prototype,"size",2),y([ut({type:Boolean,reflect:!0})],Zo.prototype,"disabled",2),y([at("checked")],Zo.prototype,"handleCheckedChange",1),y([at("disabled",{waitUntilFirstUpdate:!0})],Zo.prototype,"handleDisabledChange",1),Zo.define("sl-radio");var Qo=M`
  :host {
    display: block;
    user-select: none;
    -webkit-user-select: none;
  }

  :host(:focus) {
    outline: none;
  }

  .option {
    position: relative;
    display: flex;
    align-items: center;
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-medium);
    font-weight: var(--sl-font-weight-normal);
    line-height: var(--sl-line-height-normal);
    letter-spacing: var(--sl-letter-spacing-normal);
    color: var(--sl-color-neutral-700);
    padding: var(--sl-spacing-x-small) var(--sl-spacing-medium) var(--sl-spacing-x-small) var(--sl-spacing-x-small);
    transition: var(--sl-transition-fast) fill;
    cursor: pointer;
  }

  .option--hover:not(.option--current):not(.option--disabled) {
    background-color: var(--sl-color-neutral-100);
    color: var(--sl-color-neutral-1000);
  }

  .option--current,
  .option--current.option--disabled {
    background-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
    opacity: 1;
  }

  .option--disabled {
    outline: none;
    opacity: 0.5;
    cursor: not-allowed;
  }

  .option__label {
    flex: 1 1 auto;
    display: inline-block;
    line-height: var(--sl-line-height-dense);
  }

  .option .option__check {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    justify-content: center;
    visibility: hidden;
    padding-inline-end: var(--sl-spacing-2x-small);
  }

  .option--selected .option__check {
    visibility: visible;
  }

  .option__prefix,
  .option__suffix {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
  }

  .option__prefix::slotted(*) {
    margin-inline-end: var(--sl-spacing-x-small);
  }

  .option__suffix::slotted(*) {
    margin-inline-start: var(--sl-spacing-x-small);
  }

  @media (forced-colors: active) {
    :host(:hover:not([aria-disabled='true'])) .option {
      outline: dashed 1px SelectedItem;
      outline-offset: -1px;
    }
  }
`,en=class extends Tt{constructor(){super(...arguments),this.localize=new Kt(this),this.isInitialized=!1,this.current=!1,this.selected=!1,this.hasHover=!1,this.value="",this.disabled=!1}connectedCallback(){super.connectedCallback(),this.setAttribute("role","option"),this.setAttribute("aria-selected","false")}handleDefaultSlotChange(){this.isInitialized?customElements.whenDefined("sl-select").then(()=>{const e=this.closest("sl-select");e&&e.handleDefaultSlotChange()}):this.isInitialized=!0}handleMouseEnter(){this.hasHover=!0}handleMouseLeave(){this.hasHover=!1}handleDisabledChange(){this.setAttribute("aria-disabled",this.disabled?"true":"false")}handleSelectedChange(){this.setAttribute("aria-selected",this.selected?"true":"false")}handleValueChange(){"string"!=typeof this.value&&(this.value=String(this.value)),this.value.includes(" ")&&(console.error("Option values cannot include a space. All spaces have been replaced with underscores.",this),this.value=this.value.replace(/ /g,"_"))}getTextLabel(){const e=this.childNodes;let t="";return[...e].forEach(e=>{e.nodeType===Node.ELEMENT_NODE&&(e.hasAttribute("slot")||(t+=e.textContent)),e.nodeType===Node.TEXT_NODE&&(t+=e.textContent)}),t.trim()}render(){return _e`
      <div
        part="base"
        class=${Lt({option:!0,"option--current":this.current,"option--disabled":this.disabled,"option--selected":this.selected,"option--hover":this.hasHover})}
        @mouseenter=${this.handleMouseEnter}
        @mouseleave=${this.handleMouseLeave}
      >
        <sl-icon part="checked-icon" class="option__check" name="check" library="system" aria-hidden="true"></sl-icon>
        <slot part="prefix" name="prefix" class="option__prefix"></slot>
        <slot part="label" class="option__label" @slotchange=${this.handleDefaultSlotChange}></slot>
        <slot part="suffix" name="suffix" class="option__suffix"></slot>
      </div>
    `}};en.styles=[st,Qo],en.dependencies={"sl-icon":Nt},y([ft(".option__label")],en.prototype,"defaultSlot",2),y([ht()],en.prototype,"current",2),y([ht()],en.prototype,"selected",2),y([ht()],en.prototype,"hasHover",2),y([ut({reflect:!0})],en.prototype,"value",2),y([ut({type:Boolean,reflect:!0})],en.prototype,"disabled",2),y([at("disabled")],en.prototype,"handleDisabledChange",1),y([at("selected")],en.prototype,"handleSelectedChange",1),y([at("value")],en.prototype,"handleValueChange",1),en.define("sl-option"),Lr.define("sl-popup");var tn=M`
  :host {
    --height: 1rem;
    --track-color: var(--sl-color-neutral-200);
    --indicator-color: var(--sl-color-primary-600);
    --label-color: var(--sl-color-neutral-0);

    display: block;
  }

  .progress-bar {
    position: relative;
    background-color: var(--track-color);
    height: var(--height);
    border-radius: var(--sl-border-radius-pill);
    box-shadow: inset var(--sl-shadow-small);
    overflow: hidden;
  }

  .progress-bar__indicator {
    height: 100%;
    font-family: var(--sl-font-sans);
    font-size: 12px;
    font-weight: var(--sl-font-weight-normal);
    background-color: var(--indicator-color);
    color: var(--label-color);
    text-align: center;
    line-height: var(--height);
    white-space: nowrap;
    overflow: hidden;
    transition:
      400ms width,
      400ms background-color;
    user-select: none;
    -webkit-user-select: none;
  }

  /* Indeterminate */
  .progress-bar--indeterminate .progress-bar__indicator {
    position: absolute;
    animation: indeterminate 2.5s infinite cubic-bezier(0.37, 0, 0.63, 1);
  }

  .progress-bar--indeterminate.progress-bar--rtl .progress-bar__indicator {
    animation-name: indeterminate-rtl;
  }

  @media (forced-colors: active) {
    .progress-bar {
      outline: solid 1px SelectedItem;
      background-color: var(--sl-color-neutral-0);
    }

    .progress-bar__indicator {
      outline: solid 1px SelectedItem;
      background-color: SelectedItem;
    }
  }

  @keyframes indeterminate {
    0% {
      left: -50%;
      width: 50%;
    }
    75%,
    100% {
      left: 100%;
      width: 50%;
    }
  }

  @keyframes indeterminate-rtl {
    0% {
      right: -50%;
      width: 50%;
    }
    75%,
    100% {
      right: 100%;
      width: 50%;
    }
  }
`,rn=class extends Tt{constructor(){super(...arguments),this.localize=new Kt(this),this.value=0,this.indeterminate=!1,this.label=""}render(){return _e`
      <div
        part="base"
        class=${Lt({"progress-bar":!0,"progress-bar--indeterminate":this.indeterminate,"progress-bar--rtl":"rtl"===this.localize.dir()})}
        role="progressbar"
        title=${Pt(this.title)}
        aria-label=${this.label.length>0?this.label:this.localize.term("progress")}
        aria-valuemin="0"
        aria-valuemax="100"
        aria-valuenow=${this.indeterminate?0:this.value}
      >
        <div part="indicator" class="progress-bar__indicator" style=${Oo({width:`${this.value}%`})}>
          ${this.indeterminate?"":_e` <slot part="label" class="progress-bar__label"></slot> `}
        </div>
      </div>
    `}};rn.styles=[st,tn],y([ut({type:Number,reflect:!0})],rn.prototype,"value",2),y([ut({type:Boolean,reflect:!0})],rn.prototype,"indeterminate",2),y([ut()],rn.prototype,"label",2),rn.define("sl-progress-bar");var on=M`
  :host {
    display: block;
  }

  .menu-label {
    display: inline-block;
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-small);
    font-weight: var(--sl-font-weight-semibold);
    line-height: var(--sl-line-height-normal);
    letter-spacing: var(--sl-letter-spacing-normal);
    color: var(--sl-color-neutral-500);
    padding: var(--sl-spacing-2x-small) var(--sl-spacing-x-large);
    user-select: none;
    -webkit-user-select: none;
  }
`,nn=class extends Tt{render(){return _e` <slot part="base" class="menu-label"></slot> `}};nn.styles=[st,on],nn.define("sl-menu-label");var an=M`
  :host {
    display: contents;
  }
`,sn=class extends Tt{constructor(){super(...arguments),this.attrOldValue=!1,this.charData=!1,this.charDataOldValue=!1,this.childList=!1,this.disabled=!1,this.handleMutation=e=>{this.emit("sl-mutation",{detail:{mutationList:e}})}}connectedCallback(){super.connectedCallback(),this.mutationObserver=new MutationObserver(this.handleMutation),this.disabled||this.startObserver()}disconnectedCallback(){super.disconnectedCallback(),this.stopObserver()}startObserver(){const e="string"==typeof this.attr&&this.attr.length>0,t=e&&"*"!==this.attr?this.attr.split(" "):void 0;try{this.mutationObserver.observe(this,{subtree:!0,childList:this.childList,attributes:e,attributeFilter:t,attributeOldValue:this.attrOldValue,characterData:this.charData,characterDataOldValue:this.charDataOldValue})}catch(e){}}stopObserver(){this.mutationObserver.disconnect()}handleDisabledChange(){this.disabled?this.stopObserver():this.startObserver()}handleChange(){this.stopObserver(),this.startObserver()}render(){return _e` <slot></slot> `}};sn.styles=[st,an],y([ut({reflect:!0})],sn.prototype,"attr",2),y([ut({attribute:"attr-old-value",type:Boolean,reflect:!0})],sn.prototype,"attrOldValue",2),y([ut({attribute:"char-data",type:Boolean,reflect:!0})],sn.prototype,"charData",2),y([ut({attribute:"char-data-old-value",type:Boolean,reflect:!0})],sn.prototype,"charDataOldValue",2),y([ut({attribute:"child-list",type:Boolean,reflect:!0})],sn.prototype,"childList",2),y([ut({type:Boolean,reflect:!0})],sn.prototype,"disabled",2),y([at("disabled")],sn.prototype,"handleDisabledChange",1),y([at("attr",{waitUntilFirstUpdate:!0}),at("attr-old-value",{waitUntilFirstUpdate:!0}),at("char-data",{waitUntilFirstUpdate:!0}),at("char-data-old-value",{waitUntilFirstUpdate:!0}),at("childList",{waitUntilFirstUpdate:!0})],sn.prototype,"handleChange",1),sn.define("sl-mutation-observer");var ln=M`
  :host {
    display: block;
  }

  .input {
    flex: 1 1 auto;
    display: inline-flex;
    align-items: stretch;
    justify-content: start;
    position: relative;
    width: 100%;
    font-family: var(--sl-input-font-family);
    font-weight: var(--sl-input-font-weight);
    letter-spacing: var(--sl-input-letter-spacing);
    vertical-align: middle;
    overflow: hidden;
    cursor: text;
    transition:
      var(--sl-transition-fast) color,
      var(--sl-transition-fast) border,
      var(--sl-transition-fast) box-shadow,
      var(--sl-transition-fast) background-color;
  }

  /* Standard inputs */
  .input--standard {
    background-color: var(--sl-input-background-color);
    border: solid var(--sl-input-border-width) var(--sl-input-border-color);
  }

  .input--standard:hover:not(.input--disabled) {
    background-color: var(--sl-input-background-color-hover);
    border-color: var(--sl-input-border-color-hover);
  }

  .input--standard.input--focused:not(.input--disabled) {
    background-color: var(--sl-input-background-color-focus);
    border-color: var(--sl-input-border-color-focus);
    box-shadow: 0 0 0 var(--sl-focus-ring-width) var(--sl-input-focus-ring-color);
  }

  .input--standard.input--focused:not(.input--disabled) .input__control {
    color: var(--sl-input-color-focus);
  }

  .input--standard.input--disabled {
    background-color: var(--sl-input-background-color-disabled);
    border-color: var(--sl-input-border-color-disabled);
    opacity: 0.5;
    cursor: not-allowed;
  }

  .input--standard.input--disabled .input__control {
    color: var(--sl-input-color-disabled);
  }

  .input--standard.input--disabled .input__control::placeholder {
    color: var(--sl-input-placeholder-color-disabled);
  }

  /* Filled inputs */
  .input--filled {
    border: none;
    background-color: var(--sl-input-filled-background-color);
    color: var(--sl-input-color);
  }

  .input--filled:hover:not(.input--disabled) {
    background-color: var(--sl-input-filled-background-color-hover);
  }

  .input--filled.input--focused:not(.input--disabled) {
    background-color: var(--sl-input-filled-background-color-focus);
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .input--filled.input--disabled {
    background-color: var(--sl-input-filled-background-color-disabled);
    opacity: 0.5;
    cursor: not-allowed;
  }

  .input__control {
    flex: 1 1 auto;
    font-family: inherit;
    font-size: inherit;
    font-weight: inherit;
    min-width: 0;
    height: 100%;
    color: var(--sl-input-color);
    border: none;
    background: inherit;
    box-shadow: none;
    padding: 0;
    margin: 0;
    cursor: inherit;
    -webkit-appearance: none;
  }

  .input__control::-webkit-search-decoration,
  .input__control::-webkit-search-cancel-button,
  .input__control::-webkit-search-results-button,
  .input__control::-webkit-search-results-decoration {
    -webkit-appearance: none;
  }

  .input__control:-webkit-autofill,
  .input__control:-webkit-autofill:hover,
  .input__control:-webkit-autofill:focus,
  .input__control:-webkit-autofill:active {
    box-shadow: 0 0 0 var(--sl-input-height-large) var(--sl-input-background-color-hover) inset !important;
    -webkit-text-fill-color: var(--sl-color-primary-500);
    caret-color: var(--sl-input-color);
  }

  .input--filled .input__control:-webkit-autofill,
  .input--filled .input__control:-webkit-autofill:hover,
  .input--filled .input__control:-webkit-autofill:focus,
  .input--filled .input__control:-webkit-autofill:active {
    box-shadow: 0 0 0 var(--sl-input-height-large) var(--sl-input-filled-background-color) inset !important;
  }

  .input__control::placeholder {
    color: var(--sl-input-placeholder-color);
    user-select: none;
    -webkit-user-select: none;
  }

  .input:hover:not(.input--disabled) .input__control {
    color: var(--sl-input-color-hover);
  }

  .input__control:focus {
    outline: none;
  }

  .input__prefix,
  .input__suffix {
    display: inline-flex;
    flex: 0 0 auto;
    align-items: center;
    cursor: default;
  }

  .input__prefix ::slotted(sl-icon),
  .input__suffix ::slotted(sl-icon) {
    color: var(--sl-input-icon-color);
  }

  /*
   * Size modifiers
   */

  .input--small {
    border-radius: var(--sl-input-border-radius-small);
    font-size: var(--sl-input-font-size-small);
    height: var(--sl-input-height-small);
  }

  .input--small .input__control {
    height: calc(var(--sl-input-height-small) - var(--sl-input-border-width) * 2);
    padding: 0 var(--sl-input-spacing-small);
  }

  .input--small .input__clear,
  .input--small .input__password-toggle {
    width: calc(1em + var(--sl-input-spacing-small) * 2);
  }

  .input--small .input__prefix ::slotted(*) {
    margin-inline-start: var(--sl-input-spacing-small);
  }

  .input--small .input__suffix ::slotted(*) {
    margin-inline-end: var(--sl-input-spacing-small);
  }

  .input--medium {
    border-radius: var(--sl-input-border-radius-medium);
    font-size: var(--sl-input-font-size-medium);
    height: var(--sl-input-height-medium);
  }

  .input--medium .input__control {
    height: calc(var(--sl-input-height-medium) - var(--sl-input-border-width) * 2);
    padding: 0 var(--sl-input-spacing-medium);
  }

  .input--medium .input__clear,
  .input--medium .input__password-toggle {
    width: calc(1em + var(--sl-input-spacing-medium) * 2);
  }

  .input--medium .input__prefix ::slotted(*) {
    margin-inline-start: var(--sl-input-spacing-medium);
  }

  .input--medium .input__suffix ::slotted(*) {
    margin-inline-end: var(--sl-input-spacing-medium);
  }

  .input--large {
    border-radius: var(--sl-input-border-radius-large);
    font-size: var(--sl-input-font-size-large);
    height: var(--sl-input-height-large);
  }

  .input--large .input__control {
    height: calc(var(--sl-input-height-large) - var(--sl-input-border-width) * 2);
    padding: 0 var(--sl-input-spacing-large);
  }

  .input--large .input__clear,
  .input--large .input__password-toggle {
    width: calc(1em + var(--sl-input-spacing-large) * 2);
  }

  .input--large .input__prefix ::slotted(*) {
    margin-inline-start: var(--sl-input-spacing-large);
  }

  .input--large .input__suffix ::slotted(*) {
    margin-inline-end: var(--sl-input-spacing-large);
  }

  /*
   * Pill modifier
   */

  .input--pill.input--small {
    border-radius: var(--sl-input-height-small);
  }

  .input--pill.input--medium {
    border-radius: var(--sl-input-height-medium);
  }

  .input--pill.input--large {
    border-radius: var(--sl-input-height-large);
  }

  /*
   * Clearable + Password Toggle
   */

  .input__clear,
  .input__password-toggle {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-size: inherit;
    color: var(--sl-input-icon-color);
    border: none;
    background: none;
    padding: 0;
    transition: var(--sl-transition-fast) color;
    cursor: pointer;
  }

  .input__clear:hover,
  .input__password-toggle:hover {
    color: var(--sl-input-icon-color-hover);
  }

  .input__clear:focus,
  .input__password-toggle:focus {
    outline: none;
  }

  /* Don't show the browser's password toggle in Edge */
  ::-ms-reveal {
    display: none;
  }

  /* Hide the built-in number spinner */
  .input--no-spin-buttons input[type='number']::-webkit-outer-spin-button,
  .input--no-spin-buttons input[type='number']::-webkit-inner-spin-button {
    -webkit-appearance: none;
    display: none;
  }

  .input--no-spin-buttons input[type='number'] {
    -moz-appearance: textfield;
  }
`,cn=class extends Tt{constructor(){super(...arguments),this.formControlController=new S(this,{assumeInteractionOn:["sl-blur","sl-input"]}),this.hasSlotController=new Je(this,"help-text","label"),this.localize=new Kt(this),this.hasFocus=!1,this.title="",this.__numberInput=Object.assign(document.createElement("input"),{type:"number"}),this.__dateInput=Object.assign(document.createElement("input"),{type:"date"}),this.type="text",this.name="",this.value="",this.defaultValue="",this.size="medium",this.filled=!1,this.pill=!1,this.label="",this.helpText="",this.clearable=!1,this.disabled=!1,this.placeholder="",this.readonly=!1,this.passwordToggle=!1,this.passwordVisible=!1,this.noSpinButtons=!1,this.form="",this.required=!1,this.spellcheck=!0}get valueAsDate(){var e;return this.__dateInput.type=this.type,this.__dateInput.value=this.value,(null==(e=this.input)?void 0:e.valueAsDate)||this.__dateInput.valueAsDate}set valueAsDate(e){this.__dateInput.type=this.type,this.__dateInput.valueAsDate=e,this.value=this.__dateInput.value}get valueAsNumber(){var e;return this.__numberInput.value=this.value,(null==(e=this.input)?void 0:e.valueAsNumber)||this.__numberInput.valueAsNumber}set valueAsNumber(e){this.__numberInput.valueAsNumber=e,this.value=this.__numberInput.value}get validity(){return this.input.validity}get validationMessage(){return this.input.validationMessage}firstUpdated(){this.formControlController.updateValidity()}handleBlur(){this.hasFocus=!1,this.emit("sl-blur")}handleChange(){this.value=this.input.value,this.emit("sl-change")}handleClearClick(e){e.preventDefault(),""!==this.value&&(this.value="",this.emit("sl-clear"),this.emit("sl-input"),this.emit("sl-change")),this.input.focus()}handleFocus(){this.hasFocus=!0,this.emit("sl-focus")}handleInput(){this.value=this.input.value,this.formControlController.updateValidity(),this.emit("sl-input")}handleInvalid(e){this.formControlController.setValidity(!1),this.formControlController.emitInvalidEvent(e)}handleKeyDown(e){const t=e.metaKey||e.ctrlKey||e.shiftKey||e.altKey;"Enter"!==e.key||t||setTimeout(()=>{e.defaultPrevented||e.isComposing||this.formControlController.submit()})}handlePasswordToggle(){this.passwordVisible=!this.passwordVisible}handleDisabledChange(){this.formControlController.setValidity(this.disabled)}handleStepChange(){this.input.step=String(this.step),this.formControlController.updateValidity()}async handleValueChange(){await this.updateComplete,this.formControlController.updateValidity()}focus(e){this.input.focus(e)}blur(){this.input.blur()}select(){this.input.select()}setSelectionRange(e,t,i="none"){this.input.setSelectionRange(e,t,i)}setRangeText(e,t,i,r="preserve"){const o=null!=t?t:this.input.selectionStart,n=null!=i?i:this.input.selectionEnd;this.input.setRangeText(e,o,n,r),this.value!==this.input.value&&(this.value=this.input.value)}showPicker(){"showPicker"in HTMLInputElement.prototype&&this.input.showPicker()}stepUp(){this.input.stepUp(),this.value!==this.input.value&&(this.value=this.input.value)}stepDown(){this.input.stepDown(),this.value!==this.input.value&&(this.value=this.input.value)}checkValidity(){return this.input.checkValidity()}getForm(){return this.formControlController.getForm()}reportValidity(){return this.input.reportValidity()}setCustomValidity(e){this.input.setCustomValidity(e),this.formControlController.updateValidity()}render(){const e=this.hasSlotController.test("label"),t=this.hasSlotController.test("help-text"),i=!!this.label||!!e,r=!!this.helpText||!!t,o=this.clearable&&!this.disabled&&!this.readonly&&("number"==typeof this.value||this.value.length>0);return _e`
      <div
        part="form-control"
        class=${Lt({"form-control":!0,"form-control--small":"small"===this.size,"form-control--medium":"medium"===this.size,"form-control--large":"large"===this.size,"form-control--has-label":i,"form-control--has-help-text":r})}
      >
        <label
          part="form-control-label"
          class="form-control__label"
          for="input"
          aria-hidden=${i?"false":"true"}
        >
          <slot name="label">${this.label}</slot>
        </label>

        <div part="form-control-input" class="form-control-input">
          <div
            part="base"
            class=${Lt({input:!0,"input--small":"small"===this.size,"input--medium":"medium"===this.size,"input--large":"large"===this.size,"input--pill":this.pill,"input--standard":!this.filled,"input--filled":this.filled,"input--disabled":this.disabled,"input--focused":this.hasFocus,"input--empty":!this.value,"input--no-spin-buttons":this.noSpinButtons})}
          >
            <span part="prefix" class="input__prefix">
              <slot name="prefix"></slot>
            </span>

            <input
              part="input"
              id="input"
              class="input__control"
              type=${"password"===this.type&&this.passwordVisible?"text":this.type}
              title=${this.title}
              name=${Pt(this.name)}
              ?disabled=${this.disabled}
              ?readonly=${this.readonly}
              ?required=${this.required}
              placeholder=${Pt(this.placeholder)}
              minlength=${Pt(this.minlength)}
              maxlength=${Pt(this.maxlength)}
              min=${Pt(this.min)}
              max=${Pt(this.max)}
              step=${Pt(this.step)}
              .value=${Rt(this.value)}
              autocapitalize=${Pt(this.autocapitalize)}
              autocomplete=${Pt(this.autocomplete)}
              autocorrect=${Pt(this.autocorrect)}
              ?autofocus=${this.autofocus}
              spellcheck=${this.spellcheck}
              pattern=${Pt(this.pattern)}
              enterkeyhint=${Pt(this.enterkeyhint)}
              inputmode=${Pt(this.inputmode)}
              aria-describedby="help-text"
              @change=${this.handleChange}
              @input=${this.handleInput}
              @invalid=${this.handleInvalid}
              @keydown=${this.handleKeyDown}
              @focus=${this.handleFocus}
              @blur=${this.handleBlur}
            />

            ${o?_e`
                  <button
                    part="clear-button"
                    class="input__clear"
                    type="button"
                    aria-label=${this.localize.term("clearEntry")}
                    @click=${this.handleClearClick}
                    tabindex="-1"
                  >
                    <slot name="clear-icon">
                      <sl-icon name="x-circle-fill" library="system"></sl-icon>
                    </slot>
                  </button>
                `:""}
            ${this.passwordToggle&&!this.disabled?_e`
                  <button
                    part="password-toggle-button"
                    class="input__password-toggle"
                    type="button"
                    aria-label=${this.localize.term(this.passwordVisible?"hidePassword":"showPassword")}
                    @click=${this.handlePasswordToggle}
                    tabindex="-1"
                  >
                    ${this.passwordVisible?_e`
                          <slot name="show-password-icon">
                            <sl-icon name="eye-slash" library="system"></sl-icon>
                          </slot>
                        `:_e`
                          <slot name="hide-password-icon">
                            <sl-icon name="eye" library="system"></sl-icon>
                          </slot>
                        `}
                  </button>
                `:""}

            <span part="suffix" class="input__suffix">
              <slot name="suffix"></slot>
            </span>
          </div>
        </div>

        <div
          part="form-control-help-text"
          id="help-text"
          class="form-control__help-text"
          aria-hidden=${r?"false":"true"}
        >
          <slot name="help-text">${this.helpText}</slot>
        </div>
      </div>
    `}};cn.styles=[st,Xe,ln],cn.dependencies={"sl-icon":Nt},y([ft(".input__control")],cn.prototype,"input",2),y([ht()],cn.prototype,"hasFocus",2),y([ut()],cn.prototype,"title",2),y([ut({reflect:!0})],cn.prototype,"type",2),y([ut()],cn.prototype,"name",2),y([ut()],cn.prototype,"value",2),y([Ke()],cn.prototype,"defaultValue",2),y([ut({reflect:!0})],cn.prototype,"size",2),y([ut({type:Boolean,reflect:!0})],cn.prototype,"filled",2),y([ut({type:Boolean,reflect:!0})],cn.prototype,"pill",2),y([ut()],cn.prototype,"label",2),y([ut({attribute:"help-text"})],cn.prototype,"helpText",2),y([ut({type:Boolean})],cn.prototype,"clearable",2),y([ut({type:Boolean,reflect:!0})],cn.prototype,"disabled",2),y([ut()],cn.prototype,"placeholder",2),y([ut({type:Boolean,reflect:!0})],cn.prototype,"readonly",2),y([ut({attribute:"password-toggle",type:Boolean})],cn.prototype,"passwordToggle",2),y([ut({attribute:"password-visible",type:Boolean})],cn.prototype,"passwordVisible",2),y([ut({attribute:"no-spin-buttons",type:Boolean})],cn.prototype,"noSpinButtons",2),y([ut({reflect:!0})],cn.prototype,"form",2),y([ut({type:Boolean,reflect:!0})],cn.prototype,"required",2),y([ut()],cn.prototype,"pattern",2),y([ut({type:Number})],cn.prototype,"minlength",2),y([ut({type:Number})],cn.prototype,"maxlength",2),y([ut()],cn.prototype,"min",2),y([ut()],cn.prototype,"max",2),y([ut()],cn.prototype,"step",2),y([ut()],cn.prototype,"autocapitalize",2),y([ut()],cn.prototype,"autocorrect",2),y([ut()],cn.prototype,"autocomplete",2),y([ut({type:Boolean})],cn.prototype,"autofocus",2),y([ut()],cn.prototype,"enterkeyhint",2),y([ut({type:Boolean,converter:{fromAttribute:e=>!(!e||"false"===e),toAttribute:e=>e?"true":"false"}})],cn.prototype,"spellcheck",2),y([ut()],cn.prototype,"inputmode",2),y([at("disabled",{waitUntilFirstUpdate:!0})],cn.prototype,"handleDisabledChange",1),y([at("step",{waitUntilFirstUpdate:!0})],cn.prototype,"handleStepChange",1),y([at("value",{waitUntilFirstUpdate:!0})],cn.prototype,"handleValueChange",1),cn.define("sl-input");var dn=M`
  :host {
    display: block;
    position: relative;
    background: var(--sl-panel-background-color);
    border: solid var(--sl-panel-border-width) var(--sl-panel-border-color);
    border-radius: var(--sl-border-radius-medium);
    padding: var(--sl-spacing-x-small) 0;
    overflow: auto;
    overscroll-behavior: none;
  }

  ::slotted(sl-divider) {
    --spacing: var(--sl-spacing-x-small);
  }
`,un=class extends Tt{connectedCallback(){super.connectedCallback(),this.setAttribute("role","menu")}handleClick(e){const t=["menuitem","menuitemcheckbox"],i=e.composedPath(),r=i.find(e=>{var i;return t.includes((null==(i=null==e?void 0:e.getAttribute)?void 0:i.call(e,"role"))||"")});if(!r)return;const o=i.find(e=>{var t;return"menu"===(null==(t=null==e?void 0:e.getAttribute)?void 0:t.call(e,"role"))});if(o!==this)return;const n=r;"checkbox"===n.type&&(n.checked=!n.checked),this.emit("sl-select",{detail:{item:n}})}handleKeyDown(e){if("Enter"===e.key||" "===e.key){const t=this.getCurrentItem();e.preventDefault(),e.stopPropagation(),null==t||t.click()}else if(["ArrowDown","ArrowUp","Home","End"].includes(e.key)){const t=this.getAllItems(),i=this.getCurrentItem();let r=i?t.indexOf(i):0;t.length>0&&(e.preventDefault(),e.stopPropagation(),"ArrowDown"===e.key?r++:"ArrowUp"===e.key?r--:"Home"===e.key?r=0:"End"===e.key&&(r=t.length-1),r<0&&(r=t.length-1),r>t.length-1&&(r=0),this.setCurrentItem(t[r]),t[r].focus())}}handleMouseDown(e){const t=e.target;this.isMenuItem(t)&&this.setCurrentItem(t)}handleSlotChange(){const e=this.getAllItems();e.length>0&&this.setCurrentItem(e[0])}isMenuItem(e){var t;return"sl-menu-item"===e.tagName.toLowerCase()||["menuitem","menuitemcheckbox","menuitemradio"].includes(null!=(t=e.getAttribute("role"))?t:"")}getAllItems(){return[...this.defaultSlot.assignedElements({flatten:!0})].filter(e=>!(e.inert||!this.isMenuItem(e)))}getCurrentItem(){return this.getAllItems().find(e=>"0"===e.getAttribute("tabindex"))}setCurrentItem(e){this.getAllItems().forEach(t=>{t.setAttribute("tabindex",t===e?"0":"-1")})}render(){return _e`
      <slot
        @slotchange=${this.handleSlotChange}
        @click=${this.handleClick}
        @keydown=${this.handleKeyDown}
        @mousedown=${this.handleMouseDown}
      ></slot>
    `}};un.styles=[st,dn],y([ft("slot")],un.prototype,"defaultSlot",2),un.define("sl-menu");var hn=M`
  :host {
    --submenu-offset: -2px;

    display: block;
  }

  :host([inert]) {
    display: none;
  }

  .menu-item {
    position: relative;
    display: flex;
    align-items: stretch;
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-medium);
    font-weight: var(--sl-font-weight-normal);
    line-height: var(--sl-line-height-normal);
    letter-spacing: var(--sl-letter-spacing-normal);
    color: var(--sl-color-neutral-700);
    padding: var(--sl-spacing-2x-small) var(--sl-spacing-2x-small);
    transition: var(--sl-transition-fast) fill;
    user-select: none;
    -webkit-user-select: none;
    white-space: nowrap;
    cursor: pointer;
  }

  .menu-item.menu-item--disabled {
    outline: none;
    opacity: 0.5;
    cursor: not-allowed;
  }

  .menu-item.menu-item--loading {
    outline: none;
    cursor: wait;
  }

  .menu-item.menu-item--loading *:not(sl-spinner) {
    opacity: 0.5;
  }

  .menu-item--loading sl-spinner {
    --indicator-color: currentColor;
    --track-width: 1px;
    position: absolute;
    font-size: 0.75em;
    top: calc(50% - 0.5em);
    left: 0.65rem;
    opacity: 1;
  }

  .menu-item .menu-item__label {
    flex: 1 1 auto;
    display: inline-block;
    text-overflow: ellipsis;
    overflow: hidden;
  }

  .menu-item .menu-item__prefix {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
  }

  .menu-item .menu-item__prefix::slotted(*) {
    margin-inline-end: var(--sl-spacing-x-small);
  }

  .menu-item .menu-item__suffix {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
  }

  .menu-item .menu-item__suffix::slotted(*) {
    margin-inline-start: var(--sl-spacing-x-small);
  }

  /* Safe triangle */
  .menu-item--submenu-expanded::after {
    content: '';
    position: fixed;
    z-index: calc(var(--sl-z-index-dropdown) - 1);
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    clip-path: polygon(
      var(--safe-triangle-cursor-x, 0) var(--safe-triangle-cursor-y, 0),
      var(--safe-triangle-submenu-start-x, 0) var(--safe-triangle-submenu-start-y, 0),
      var(--safe-triangle-submenu-end-x, 0) var(--safe-triangle-submenu-end-y, 0)
    );
  }

  :host(:focus-visible) {
    outline: none;
  }

  :host(:hover:not([aria-disabled='true'], :focus-visible)) .menu-item,
  .menu-item--submenu-expanded {
    background-color: var(--sl-color-neutral-100);
    color: var(--sl-color-neutral-1000);
  }

  :host(:focus-visible) .menu-item {
    outline: none;
    background-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
    opacity: 1;
  }

  .menu-item .menu-item__check,
  .menu-item .menu-item__chevron {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 1.5em;
    visibility: hidden;
  }

  .menu-item--checked .menu-item__check,
  .menu-item--has-submenu .menu-item__chevron {
    visibility: visible;
  }

  /* Add elevation and z-index to submenus */
  sl-popup::part(popup) {
    box-shadow: var(--sl-shadow-large);
    z-index: var(--sl-z-index-dropdown);
    margin-left: var(--submenu-offset);
  }

  .menu-item--rtl sl-popup::part(popup) {
    margin-left: calc(-1 * var(--submenu-offset));
  }

  @media (forced-colors: active) {
    :host(:hover:not([aria-disabled='true'])) .menu-item,
    :host(:focus-visible) .menu-item {
      outline: dashed 1px SelectedItem;
      outline-offset: -1px;
    }
  }

  ::slotted(sl-menu) {
    max-width: var(--auto-size-available-width) !important;
    max-height: var(--auto-size-available-height) !important;
  }
`;const pn=(e,t)=>{const i=e._$AN;if(void 0===i)return!1;for(const e of i)e._$AO?.(t,!1),pn(e,t);return!0},gn=e=>{let t,i;do{if(void 0===(t=e._$AM))break;i=t._$AN,i.delete(e),e=t}while(0===i?.size)},fn=e=>{for(let t;t=e._$AM;e=t){let i=t._$AN;if(void 0===i)t._$AN=i=new Set;else if(i.has(e))break;i.add(e),yn(t)}};function mn(e){void 0!==this._$AN?(gn(this),this._$AM=e,fn(this)):this._$AM=e}function bn(e,t=!1,i=0){const r=this._$AH,o=this._$AN;if(void 0!==o&&0!==o.size)if(t)if(Array.isArray(r))for(let e=i;e<r.length;e++)pn(r[e],!1),gn(r[e]);else null!=r&&(pn(r,!1),gn(r));else pn(this,e)}const yn=e=>{2==e.type&&(e._$AP??=bn,e._$AQ??=mn)};class vn extends Ot{constructor(){super(...arguments),this._$AN=void 0}_$AT(e,t,i){super._$AT(e,t,i),fn(this),this.isConnected=e._$AU}_$AO(e,t=!0){e!==this.isConnected&&(this.isConnected=e,e?this.reconnected?.():this.disconnected?.()),t&&(pn(this,e),gn(this))}setValue(e){if(Et(this._$Ct))this._$Ct._$AI(e,this);else{const t=[...this._$Ct._$AH];t[this._$Ci]=e,this._$Ct._$AI(t,this,0)}}disconnected(){}reconnected(){}}class wn{}const _n=new WeakMap,Tn=Dt(class extends vn{render(e){return ke}update(e,[t]){const i=t!==this.G;return i&&void 0!==this.G&&this.rt(void 0),(i||this.lt!==this.ct)&&(this.G=t,this.ht=e.options?.host,this.rt(this.ct=e.element)),ke}rt(e){if(this.isConnected||(e=void 0),"function"==typeof this.G){const t=this.ht??globalThis;let i=_n.get(t);void 0===i&&(i=new WeakMap,_n.set(t,i)),void 0!==i.get(this.G)&&this.G.call(this.ht,void 0),i.set(this.G,e),void 0!==e&&this.G.call(this.ht,e)}else this.G.value=e}get lt(){return"function"==typeof this.G?_n.get(this.ht??globalThis)?.get(this.G):this.G?.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}});var An=class{constructor(e,t){this.popupRef=new wn,this.enableSubmenuTimer=-1,this.isConnected=!1,this.isPopupConnected=!1,this.skidding=0,this.submenuOpenDelay=100,this.handleMouseMove=e=>{this.host.style.setProperty("--safe-triangle-cursor-x",`${e.clientX}px`),this.host.style.setProperty("--safe-triangle-cursor-y",`${e.clientY}px`)},this.handleMouseOver=()=>{this.hasSlotController.test("submenu")&&this.enableSubmenu()},this.handleKeyDown=e=>{switch(e.key){case"Escape":case"Tab":this.disableSubmenu();break;case"ArrowLeft":e.target!==this.host&&(e.preventDefault(),e.stopPropagation(),this.host.focus(),this.disableSubmenu());break;case"ArrowRight":case"Enter":case" ":this.handleSubmenuEntry(e)}},this.handleClick=e=>{var t;e.target===this.host?(e.preventDefault(),e.stopPropagation()):e.target instanceof Element&&("sl-menu-item"===e.target.tagName||(null==(t=e.target.role)?void 0:t.startsWith("menuitem")))&&this.disableSubmenu()},this.handleFocusOut=e=>{e.relatedTarget&&e.relatedTarget instanceof Element&&this.host.contains(e.relatedTarget)||this.disableSubmenu()},this.handlePopupMouseover=e=>{e.stopPropagation()},this.handlePopupReposition=()=>{const e=this.host.renderRoot.querySelector("slot[name='submenu']"),t=null==e?void 0:e.assignedElements({flatten:!0}).filter(e=>"sl-menu"===e.localName)[0],i="rtl"===getComputedStyle(this.host).direction;if(!t)return;const{left:r,top:o,width:n,height:a}=t.getBoundingClientRect();this.host.style.setProperty("--safe-triangle-submenu-start-x",`${i?r+n:r}px`),this.host.style.setProperty("--safe-triangle-submenu-start-y",`${o}px`),this.host.style.setProperty("--safe-triangle-submenu-end-x",`${i?r+n:r}px`),this.host.style.setProperty("--safe-triangle-submenu-end-y",`${o+a}px`)},(this.host=e).addController(this),this.hasSlotController=t}hostConnected(){this.hasSlotController.test("submenu")&&!this.host.disabled&&this.addListeners()}hostDisconnected(){this.removeListeners()}hostUpdated(){this.hasSlotController.test("submenu")&&!this.host.disabled?(this.addListeners(),this.updateSkidding()):this.removeListeners()}addListeners(){this.isConnected||(this.host.addEventListener("mousemove",this.handleMouseMove),this.host.addEventListener("mouseover",this.handleMouseOver),this.host.addEventListener("keydown",this.handleKeyDown),this.host.addEventListener("click",this.handleClick),this.host.addEventListener("focusout",this.handleFocusOut),this.isConnected=!0),this.isPopupConnected||this.popupRef.value&&(this.popupRef.value.addEventListener("mouseover",this.handlePopupMouseover),this.popupRef.value.addEventListener("sl-reposition",this.handlePopupReposition),this.isPopupConnected=!0)}removeListeners(){this.isConnected&&(this.host.removeEventListener("mousemove",this.handleMouseMove),this.host.removeEventListener("mouseover",this.handleMouseOver),this.host.removeEventListener("keydown",this.handleKeyDown),this.host.removeEventListener("click",this.handleClick),this.host.removeEventListener("focusout",this.handleFocusOut),this.isConnected=!1),this.isPopupConnected&&this.popupRef.value&&(this.popupRef.value.removeEventListener("mouseover",this.handlePopupMouseover),this.popupRef.value.removeEventListener("sl-reposition",this.handlePopupReposition),this.isPopupConnected=!1)}handleSubmenuEntry(e){const t=this.host.renderRoot.querySelector("slot[name='submenu']");if(!t)return void console.error("Cannot activate a submenu if no corresponding menuitem can be found.",this);let i=null;for(const e of t.assignedElements())if(i=e.querySelectorAll("sl-menu-item, [role^='menuitem']"),0!==i.length)break;if(i&&0!==i.length){i[0].setAttribute("tabindex","0");for(let e=1;e!==i.length;++e)i[e].setAttribute("tabindex","-1");this.popupRef.value&&(e.preventDefault(),e.stopPropagation(),this.popupRef.value.active?i[0]instanceof HTMLElement&&i[0].focus():(this.enableSubmenu(!1),this.host.updateComplete.then(()=>{i[0]instanceof HTMLElement&&i[0].focus()}),this.host.requestUpdate()))}}setSubmenuState(e){this.popupRef.value&&this.popupRef.value.active!==e&&(this.popupRef.value.active=e,this.host.requestUpdate())}enableSubmenu(e=!0){e?(window.clearTimeout(this.enableSubmenuTimer),this.enableSubmenuTimer=window.setTimeout(()=>{this.setSubmenuState(!0)},this.submenuOpenDelay)):this.setSubmenuState(!0)}disableSubmenu(){window.clearTimeout(this.enableSubmenuTimer),this.setSubmenuState(!1)}updateSkidding(){var e;if(!(null==(e=this.host.parentElement)?void 0:e.computedStyleMap))return;const t=this.host.parentElement.computedStyleMap(),i=["padding-top","border-top-width","margin-top"].reduce((e,i)=>{var r;const o=null!=(r=t.get(i))?r:new CSSUnitValue(0,"px");return e-(o instanceof CSSUnitValue?o:new CSSUnitValue(0,"px")).to("px").value},0);this.skidding=i}isExpanded(){return!!this.popupRef.value&&this.popupRef.value.active}renderSubmenu(){const e="rtl"===getComputedStyle(this.host).direction;return this.isConnected?_e`
      <sl-popup
        ${Tn(this.popupRef)}
        placement=${e?"left-start":"right-start"}
        anchor="anchor"
        flip
        flip-fallback-strategy="best-fit"
        skidding="${this.skidding}"
        strategy="fixed"
        auto-size="vertical"
        auto-size-padding="10"
      >
        <slot name="submenu"></slot>
      </sl-popup>
    `:_e` <slot name="submenu" hidden></slot> `}},En=class extends Tt{constructor(){super(...arguments),this.localize=new Kt(this),this.type="normal",this.checked=!1,this.value="",this.loading=!1,this.disabled=!1,this.hasSlotController=new Je(this,"submenu"),this.submenuController=new An(this,this.hasSlotController),this.handleHostClick=e=>{this.disabled&&(e.preventDefault(),e.stopImmediatePropagation())},this.handleMouseOver=e=>{this.focus(),e.stopPropagation()}}connectedCallback(){super.connectedCallback(),this.addEventListener("click",this.handleHostClick),this.addEventListener("mouseover",this.handleMouseOver)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("click",this.handleHostClick),this.removeEventListener("mouseover",this.handleMouseOver)}handleDefaultSlotChange(){const e=this.getTextLabel();void 0!==this.cachedTextLabel?e!==this.cachedTextLabel&&(this.cachedTextLabel=e,this.emit("slotchange",{bubbles:!0,composed:!1,cancelable:!1})):this.cachedTextLabel=e}handleCheckedChange(){if(this.checked&&"checkbox"!==this.type)return this.checked=!1,void console.error('The checked attribute can only be used on menu items with type="checkbox"',this);"checkbox"===this.type?this.setAttribute("aria-checked",this.checked?"true":"false"):this.removeAttribute("aria-checked")}handleDisabledChange(){this.setAttribute("aria-disabled",this.disabled?"true":"false")}handleTypeChange(){"checkbox"===this.type?(this.setAttribute("role","menuitemcheckbox"),this.setAttribute("aria-checked",this.checked?"true":"false")):(this.setAttribute("role","menuitem"),this.removeAttribute("aria-checked"))}getTextLabel(){return function(e){if(!e)return"";const t=e.assignedNodes({flatten:!0});let i="";return[...t].forEach(e=>{e.nodeType===Node.TEXT_NODE&&(i+=e.textContent)}),i}(this.defaultSlot)}isSubmenu(){return this.hasSlotController.test("submenu")}render(){const e="rtl"===this.localize.dir(),t=this.submenuController.isExpanded();return _e`
      <div
        id="anchor"
        part="base"
        class=${Lt({"menu-item":!0,"menu-item--rtl":e,"menu-item--checked":this.checked,"menu-item--disabled":this.disabled,"menu-item--loading":this.loading,"menu-item--has-submenu":this.isSubmenu(),"menu-item--submenu-expanded":t})}
        ?aria-haspopup="${this.isSubmenu()}"
        ?aria-expanded="${!!t}"
      >
        <span part="checked-icon" class="menu-item__check">
          <sl-icon name="check" library="system" aria-hidden="true"></sl-icon>
        </span>

        <slot name="prefix" part="prefix" class="menu-item__prefix"></slot>

        <slot part="label" class="menu-item__label" @slotchange=${this.handleDefaultSlotChange}></slot>

        <slot name="suffix" part="suffix" class="menu-item__suffix"></slot>

        <span part="submenu-icon" class="menu-item__chevron">
          <sl-icon name=${e?"chevron-left":"chevron-right"} library="system" aria-hidden="true"></sl-icon>
        </span>

        ${this.submenuController.renderSubmenu()}
        ${this.loading?_e` <sl-spinner part="spinner" exportparts="base:spinner__base"></sl-spinner> `:""}
      </div>
    `}};En.styles=[st,hn],En.dependencies={"sl-icon":Nt,"sl-popup":Lr,"sl-spinner":Xt},y([ft("slot:not([name])")],En.prototype,"defaultSlot",2),y([ft(".menu-item")],En.prototype,"menuItem",2),y([ut()],En.prototype,"type",2),y([ut({type:Boolean,reflect:!0})],En.prototype,"checked",2),y([ut()],En.prototype,"value",2),y([ut({type:Boolean,reflect:!0})],En.prototype,"loading",2),y([ut({type:Boolean,reflect:!0})],En.prototype,"disabled",2),y([at("checked")],En.prototype,"handleCheckedChange",1),y([at("disabled")],En.prototype,"handleDisabledChange",1),y([at("type")],En.prototype,"handleTypeChange",1),En.define("sl-menu-item");var kn=M`
  :host {
    --divider-width: 2px;
    --handle-size: 2.5rem;

    display: inline-block;
    position: relative;
  }

  .image-comparer {
    max-width: 100%;
    max-height: 100%;
    overflow: hidden;
  }

  .image-comparer__before,
  .image-comparer__after {
    display: block;
    pointer-events: none;
  }

  .image-comparer__before::slotted(img),
  .image-comparer__after::slotted(img),
  .image-comparer__before::slotted(svg),
  .image-comparer__after::slotted(svg) {
    display: block;
    max-width: 100% !important;
    height: auto;
  }

  .image-comparer__after {
    position: absolute;
    top: 0;
    left: 0;
    height: 100%;
    width: 100%;
  }

  .image-comparer__divider {
    display: flex;
    align-items: center;
    justify-content: center;
    position: absolute;
    top: 0;
    width: var(--divider-width);
    height: 100%;
    background-color: var(--sl-color-neutral-0);
    translate: calc(var(--divider-width) / -2);
    cursor: ew-resize;
  }

  .image-comparer__handle {
    display: flex;
    align-items: center;
    justify-content: center;
    position: absolute;
    top: calc(50% - (var(--handle-size) / 2));
    width: var(--handle-size);
    height: var(--handle-size);
    background-color: var(--sl-color-neutral-0);
    border-radius: var(--sl-border-radius-circle);
    font-size: calc(var(--handle-size) * 0.5);
    color: var(--sl-color-neutral-700);
    cursor: inherit;
    z-index: 10;
  }

  .image-comparer__handle:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }
`,Sn=class extends Tt{constructor(){super(...arguments),this.localize=new Kt(this),this.position=50}handleDrag(e){const{width:t}=this.base.getBoundingClientRect(),i="rtl"===this.localize.dir();e.preventDefault(),yo(this.base,{onMove:e=>{this.position=parseFloat(Br(e/t*100,0,100).toFixed(2)),i&&(this.position=100-this.position)},initialEvent:e})}handleKeyDown(e){const t="ltr"===this.localize.dir(),i="rtl"===this.localize.dir();if(["ArrowLeft","ArrowRight","Home","End"].includes(e.key)){const r=e.shiftKey?10:1;let o=this.position;e.preventDefault(),(t&&"ArrowLeft"===e.key||i&&"ArrowRight"===e.key)&&(o-=r),(t&&"ArrowRight"===e.key||i&&"ArrowLeft"===e.key)&&(o+=r),"Home"===e.key&&(o=0),"End"===e.key&&(o=100),o=Br(o,0,100),this.position=o}}handlePositionChange(){this.emit("sl-change")}render(){const e="rtl"===this.localize.dir();return _e`
      <div
        part="base"
        id="image-comparer"
        class=${Lt({"image-comparer":!0,"image-comparer--rtl":e})}
        @keydown=${this.handleKeyDown}
      >
        <div class="image-comparer__image">
          <div part="before" class="image-comparer__before">
            <slot name="before"></slot>
          </div>

          <div
            part="after"
            class="image-comparer__after"
            style=${Oo({clipPath:e?`inset(0 0 0 ${100-this.position}%)`:`inset(0 ${100-this.position}% 0 0)`})}
          >
            <slot name="after"></slot>
          </div>
        </div>

        <div
          part="divider"
          class="image-comparer__divider"
          style=${Oo({left:e?100-this.position+"%":`${this.position}%`})}
          @mousedown=${this.handleDrag}
          @touchstart=${this.handleDrag}
        >
          <div
            part="handle"
            class="image-comparer__handle"
            role="scrollbar"
            aria-valuenow=${this.position}
            aria-valuemin="0"
            aria-valuemax="100"
            aria-controls="image-comparer"
            tabindex="0"
          >
            <slot name="handle">
              <sl-icon library="system" name="grip-vertical"></sl-icon>
            </slot>
          </div>
        </div>
      </div>
    `}};Sn.styles=[st,kn],Sn.scopedElement={"sl-icon":Nt},y([ft(".image-comparer")],Sn.prototype,"base",2),y([ft(".image-comparer__handle")],Sn.prototype,"handle",2),y([ut({type:Number,reflect:!0})],Sn.prototype,"position",2),y([at("position",{waitUntilFirstUpdate:!0})],Sn.prototype,"handlePositionChange",1),Sn.define("sl-image-comparer");var xn=M`
  :host {
    display: block;
  }
`,Cn=new Map,In=class extends Tt{constructor(){super(...arguments),this.mode="cors",this.allowScripts=!1}executeScript(e){const t=document.createElement("script");[...e.attributes].forEach(e=>t.setAttribute(e.name,e.value)),t.textContent=e.textContent,e.parentNode.replaceChild(t,e)}async handleSrcChange(){try{const e=this.src,t=await function(e,t="cors"){const i=Cn.get(e);if(void 0!==i)return Promise.resolve(i);const r=fetch(e,{mode:t}).then(async t=>{const i={ok:t.ok,status:t.status,html:await t.text()};return Cn.set(e,i),i});return Cn.set(e,r),r}(e,this.mode);if(e!==this.src)return;if(!t.ok)return void this.emit("sl-error",{detail:{status:t.status}});this.innerHTML=t.html,this.allowScripts&&[...this.querySelectorAll("script")].forEach(e=>this.executeScript(e)),this.emit("sl-load")}catch(e){this.emit("sl-error",{detail:{status:-1}})}}render(){return _e`<slot></slot>`}};In.styles=[st,xn],y([ut()],In.prototype,"src",2),y([ut()],In.prototype,"mode",2),y([ut({attribute:"allow-scripts",type:Boolean})],In.prototype,"allowScripts",2),y([at("src")],In.prototype,"handleSrcChange",1),In.define("sl-include"),Nt.define("sl-icon"),Qr.define("sl-icon-button");var Nn=class extends Tt{constructor(){super(...arguments),this.localize=new Kt(this),this.value=0,this.unit="byte",this.display="short"}render(){if(isNaN(this.value))return"";const e="bit"===this.unit?["","kilo","mega","giga","tera"]:["","kilo","mega","giga","tera","peta"],t=Math.max(0,Math.min(Math.floor(Math.log10(this.value)/3),e.length-1)),i=e[t]+this.unit,r=parseFloat((this.value/Math.pow(1e3,t)).toPrecision(3));return this.localize.number(r,{style:"unit",unit:i,unitDisplay:this.display})}};y([ut({type:Number})],Nn.prototype,"value",2),y([ut()],Nn.prototype,"unit",2),y([ut()],Nn.prototype,"display",2),Nn.define("sl-format-bytes");var Dn=class extends Tt{constructor(){super(...arguments),this.localize=new Kt(this),this.date=new Date,this.hourFormat="auto"}render(){const e=new Date(this.date),t="auto"===this.hourFormat?void 0:"12"===this.hourFormat;if(!isNaN(e.getMilliseconds()))return _e`
      <time datetime=${e.toISOString()}>
        ${this.localize.date(e,{weekday:this.weekday,era:this.era,year:this.year,month:this.month,day:this.day,hour:this.hour,minute:this.minute,second:this.second,timeZoneName:this.timeZoneName,timeZone:this.timeZone,hour12:t})}
      </time>
    `}};y([ut()],Dn.prototype,"date",2),y([ut()],Dn.prototype,"weekday",2),y([ut()],Dn.prototype,"era",2),y([ut()],Dn.prototype,"year",2),y([ut()],Dn.prototype,"month",2),y([ut()],Dn.prototype,"day",2),y([ut()],Dn.prototype,"hour",2),y([ut()],Dn.prototype,"minute",2),y([ut()],Dn.prototype,"second",2),y([ut({attribute:"time-zone-name"})],Dn.prototype,"timeZoneName",2),y([ut({attribute:"time-zone"})],Dn.prototype,"timeZone",2),y([ut({attribute:"hour-format"})],Dn.prototype,"hourFormat",2),Dn.define("sl-format-date");var On=class extends Tt{constructor(){super(...arguments),this.localize=new Kt(this),this.value=0,this.type="decimal",this.noGrouping=!1,this.currency="USD",this.currencyDisplay="symbol"}render(){return isNaN(this.value)?"":this.localize.number(this.value,{style:this.type,currency:this.currency,currencyDisplay:this.currencyDisplay,useGrouping:!this.noGrouping,minimumIntegerDigits:this.minimumIntegerDigits,minimumFractionDigits:this.minimumFractionDigits,maximumFractionDigits:this.maximumFractionDigits,minimumSignificantDigits:this.minimumSignificantDigits,maximumSignificantDigits:this.maximumSignificantDigits})}};y([ut({type:Number})],On.prototype,"value",2),y([ut()],On.prototype,"type",2),y([ut({attribute:"no-grouping",type:Boolean})],On.prototype,"noGrouping",2),y([ut()],On.prototype,"currency",2),y([ut({attribute:"currency-display"})],On.prototype,"currencyDisplay",2),y([ut({attribute:"minimum-integer-digits",type:Number})],On.prototype,"minimumIntegerDigits",2),y([ut({attribute:"minimum-fraction-digits",type:Number})],On.prototype,"minimumFractionDigits",2),y([ut({attribute:"maximum-fraction-digits",type:Number})],On.prototype,"maximumFractionDigits",2),y([ut({attribute:"minimum-significant-digits",type:Number})],On.prototype,"minimumSignificantDigits",2),y([ut({attribute:"maximum-significant-digits",type:Number})],On.prototype,"maximumSignificantDigits",2),On.define("sl-format-number");var Ln=M`
  :host {
    --color: var(--sl-panel-border-color);
    --width: var(--sl-panel-border-width);
    --spacing: var(--sl-spacing-medium);
  }

  :host(:not([vertical])) {
    display: block;
    border-top: solid var(--width) var(--color);
    margin: var(--spacing) 0;
  }

  :host([vertical]) {
    display: inline-block;
    height: 100%;
    border-left: solid var(--width) var(--color);
    margin: 0 var(--spacing);
  }
`,Pn=class extends Tt{constructor(){super(...arguments),this.vertical=!1}connectedCallback(){super.connectedCallback(),this.setAttribute("role","separator")}handleVerticalChange(){this.setAttribute("aria-orientation",this.vertical?"vertical":"horizontal")}};Pn.styles=[st,Ln],y([ut({type:Boolean,reflect:!0})],Pn.prototype,"vertical",2),y([at("vertical")],Pn.prototype,"handleVerticalChange",1),Pn.define("sl-divider");var Rn=M`
  :host {
    --size: 25rem;
    --header-spacing: var(--sl-spacing-large);
    --body-spacing: var(--sl-spacing-large);
    --footer-spacing: var(--sl-spacing-large);

    display: contents;
  }

  .drawer {
    top: 0;
    inset-inline-start: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    overflow: hidden;
  }

  .drawer--contained {
    position: absolute;
    z-index: initial;
  }

  .drawer--fixed {
    position: fixed;
    z-index: var(--sl-z-index-drawer);
  }

  .drawer__panel {
    position: absolute;
    display: flex;
    flex-direction: column;
    z-index: 2;
    max-width: 100%;
    max-height: 100%;
    background-color: var(--sl-panel-background-color);
    box-shadow: var(--sl-shadow-x-large);
    overflow: auto;
    pointer-events: all;
  }

  .drawer__panel:focus {
    outline: none;
  }

  .drawer--top .drawer__panel {
    top: 0;
    inset-inline-end: auto;
    bottom: auto;
    inset-inline-start: 0;
    width: 100%;
    height: var(--size);
  }

  .drawer--end .drawer__panel {
    top: 0;
    inset-inline-end: 0;
    bottom: auto;
    inset-inline-start: auto;
    width: var(--size);
    height: 100%;
  }

  .drawer--bottom .drawer__panel {
    top: auto;
    inset-inline-end: auto;
    bottom: 0;
    inset-inline-start: 0;
    width: 100%;
    height: var(--size);
  }

  .drawer--start .drawer__panel {
    top: 0;
    inset-inline-end: auto;
    bottom: auto;
    inset-inline-start: 0;
    width: var(--size);
    height: 100%;
  }

  .drawer__header {
    display: flex;
  }

  .drawer__title {
    flex: 1 1 auto;
    font: inherit;
    font-size: var(--sl-font-size-large);
    line-height: var(--sl-line-height-dense);
    padding: var(--header-spacing);
    margin: 0;
  }

  .drawer__header-actions {
    flex-shrink: 0;
    display: flex;
    flex-wrap: wrap;
    justify-content: end;
    gap: var(--sl-spacing-2x-small);
    padding: 0 var(--header-spacing);
  }

  .drawer__header-actions sl-icon-button,
  .drawer__header-actions ::slotted(sl-icon-button) {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    font-size: var(--sl-font-size-medium);
  }

  .drawer__body {
    flex: 1 1 auto;
    display: block;
    padding: var(--body-spacing);
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }

  .drawer__footer {
    text-align: right;
    padding: var(--footer-spacing);
  }

  .drawer__footer ::slotted(sl-button:not(:last-of-type)) {
    margin-inline-end: var(--sl-spacing-x-small);
  }

  .drawer:not(.drawer--has-footer) .drawer__footer {
    display: none;
  }

  .drawer__overlay {
    display: block;
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background-color: var(--sl-overlay-background-color);
    pointer-events: all;
  }

  .drawer--contained .drawer__overlay {
    display: none;
  }

  @media (forced-colors: active) {
    .drawer__panel {
      border: solid 1px var(--sl-color-neutral-0);
    }
  }
`;function*Mn(e=document.activeElement){null!=e&&(yield e,"shadowRoot"in e&&e.shadowRoot&&"closed"!==e.shadowRoot.mode&&(yield*(e=>{var t,i=e[p("asyncIterator")],r=!1,o={};return null==i?(i=e[p("iterator")](),t=e=>o[e]=t=>i[e](t)):(i=i.call(e),t=e=>o[e]=t=>{if(r){if(r=!1,"throw"===e)throw t;return t}return r=!0,{done:!1,value:new w(new Promise(r=>{var o=i[e](t);o instanceof Object||g("Object expected"),r(o)}),1)}}),o[p("iterator")]=()=>o,t("next"),"throw"in i?t("throw"):o.throw=e=>{throw e},"return"in i&&t("return"),o})(Mn(e.shadowRoot.activeElement))))}function Bn(){return[...Mn()].pop()}var Un=new WeakMap;function $n(e){let t=Un.get(e);return t||(t=window.getComputedStyle(e,null),Un.set(e,t)),t}function Gn(e){const t=new WeakMap,i=[];return function r(o){if(o instanceof Element){if(o.hasAttribute("inert")||o.closest("[inert]"))return;if(t.has(o))return;t.set(o,!0),!i.includes(o)&&function(e){const t=e.tagName.toLowerCase(),i=Number(e.getAttribute("tabindex"));if(e.hasAttribute("tabindex")&&(isNaN(i)||i<=-1))return!1;if(e.hasAttribute("disabled"))return!1;if(e.closest("[inert]"))return!1;if("input"===t&&"radio"===e.getAttribute("type")){const t=e.getRootNode(),i=`input[type='radio'][name="${e.getAttribute("name")}"]`,r=t.querySelector(`${i}:checked`);return r?r===e:t.querySelector(i)===e}return!!function(e){if("function"==typeof e.checkVisibility)return e.checkVisibility({checkOpacity:!1,checkVisibilityCSS:!0});const t=$n(e);return"hidden"!==t.visibility&&"none"!==t.display}(e)&&(!("audio"!==t&&"video"!==t||!e.hasAttribute("controls"))||!!e.hasAttribute("tabindex")||!(!e.hasAttribute("contenteditable")||"false"===e.getAttribute("contenteditable"))||!!["button","input","select","textarea","a","audio","video","summary","iframe"].includes(t)||function(e){const t=$n(e),{overflowY:i,overflowX:r}=t;return"scroll"===i||"scroll"===r||"auto"===i&&"auto"===r&&(e.scrollHeight>e.clientHeight&&"auto"===i||!(!(e.scrollWidth>e.clientWidth)||"auto"!==r))}(e))}(o)&&i.push(o),o instanceof HTMLSlotElement&&function(e,t){var i;return(null==(i=e.getRootNode({composed:!0}))?void 0:i.host)!==t}(o,e)&&o.assignedElements({flatten:!0}).forEach(e=>{r(e)}),null!==o.shadowRoot&&"open"===o.shadowRoot.mode&&r(o.shadowRoot)}for(const e of o.children)r(e)}(e),i.sort((e,t)=>{const i=Number(e.getAttribute("tabindex"))||0;return(Number(t.getAttribute("tabindex"))||0)-i})}var Fn=[],Hn=class{constructor(e){this.tabDirection="forward",this.handleFocusIn=()=>{this.isActive()&&this.checkFocus()},this.handleKeyDown=e=>{var t;if("Tab"!==e.key||this.isExternalActivated)return;if(!this.isActive())return;const i=Bn();if(this.previousFocus=i,this.previousFocus&&this.possiblyHasTabbableChildren(this.previousFocus))return;e.shiftKey?this.tabDirection="backward":this.tabDirection="forward";const r=Gn(this.element);let o=r.findIndex(e=>e===i);this.previousFocus=this.currentFocus;const n="forward"===this.tabDirection?1:-1;for(;;){o+n>=r.length?o=0:o+n<0?o=r.length-1:o+=n,this.previousFocus=this.currentFocus;const i=r[o];if("backward"===this.tabDirection&&this.previousFocus&&this.possiblyHasTabbableChildren(this.previousFocus))return;if(i&&this.possiblyHasTabbableChildren(i))return;e.preventDefault(),this.currentFocus=i,null==(t=this.currentFocus)||t.focus({preventScroll:!1});const a=[...Mn()];if(a.includes(this.currentFocus)||!a.includes(this.previousFocus))break}setTimeout(()=>this.checkFocus())},this.handleKeyUp=()=>{this.tabDirection="forward"},this.element=e,this.elementsWithTabbableControls=["iframe"]}activate(){Fn.push(this.element),document.addEventListener("focusin",this.handleFocusIn),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}deactivate(){Fn=Fn.filter(e=>e!==this.element),this.currentFocus=null,document.removeEventListener("focusin",this.handleFocusIn),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)}isActive(){return Fn[Fn.length-1]===this.element}activateExternal(){this.isExternalActivated=!0}deactivateExternal(){this.isExternalActivated=!1}checkFocus(){if(this.isActive()&&!this.isExternalActivated){const e=Gn(this.element);if(!this.element.matches(":focus-within")){const t=e[0],i=e[e.length-1],r="forward"===this.tabDirection?t:i;"function"==typeof(null==r?void 0:r.focus)&&(this.currentFocus=r,r.focus({preventScroll:!1}))}}}possiblyHasTabbableChildren(e){return this.elementsWithTabbableControls.includes(e.tagName.toLowerCase())||e.hasAttribute("controls")}},zn=e=>{var t;const{activeElement:i}=document;i&&e.contains(i)&&(null==(t=document.activeElement)||t.blur())};function jn(e){return e.charAt(0).toUpperCase()+e.slice(1)}var Vn=class extends Tt{constructor(){super(...arguments),this.hasSlotController=new Je(this,"footer"),this.localize=new Kt(this),this.modal=new Hn(this),this.open=!1,this.label="",this.placement="end",this.contained=!1,this.noHeader=!1,this.handleDocumentKeyDown=e=>{this.contained||"Escape"===e.key&&this.modal.isActive()&&this.open&&(e.stopImmediatePropagation(),this.requestClose("keyboard"))}}firstUpdated(){this.drawer.hidden=!this.open,this.open&&(this.addOpenListeners(),this.contained||(this.modal.activate(),uo(this)))}disconnectedCallback(){super.disconnectedCallback(),ho(this),this.removeOpenListeners()}requestClose(e){if(this.emit("sl-request-close",{cancelable:!0,detail:{source:e}}).defaultPrevented){const e=ti(this,"drawer.denyClose",{dir:this.localize.dir()});return void ii(this.panel,e.keyframes,e.options)}this.hide()}addOpenListeners(){var e;"CloseWatcher"in window?(null==(e=this.closeWatcher)||e.destroy(),this.contained||(this.closeWatcher=new CloseWatcher,this.closeWatcher.onclose=()=>this.requestClose("keyboard"))):document.addEventListener("keydown",this.handleDocumentKeyDown)}removeOpenListeners(){var e;document.removeEventListener("keydown",this.handleDocumentKeyDown),null==(e=this.closeWatcher)||e.destroy()}async handleOpenChange(){if(this.open){this.emit("sl-show"),this.addOpenListeners(),this.originalTrigger=document.activeElement,this.contained||(this.modal.activate(),uo(this));const e=this.querySelector("[autofocus]");e&&e.removeAttribute("autofocus"),await Promise.all([ni(this.drawer),ni(this.overlay)]),this.drawer.hidden=!1,requestAnimationFrame(()=>{this.emit("sl-initial-focus",{cancelable:!0}).defaultPrevented||(e?e.focus({preventScroll:!0}):this.panel.focus({preventScroll:!0})),e&&e.setAttribute("autofocus","")});const t=ti(this,`drawer.show${jn(this.placement)}`,{dir:this.localize.dir()}),i=ti(this,"drawer.overlay.show",{dir:this.localize.dir()});await Promise.all([ii(this.panel,t.keyframes,t.options),ii(this.overlay,i.keyframes,i.options)]),this.emit("sl-after-show")}else{zn(this),this.emit("sl-hide"),this.removeOpenListeners(),this.contained||(this.modal.deactivate(),ho(this)),await Promise.all([ni(this.drawer),ni(this.overlay)]);const e=ti(this,`drawer.hide${jn(this.placement)}`,{dir:this.localize.dir()}),t=ti(this,"drawer.overlay.hide",{dir:this.localize.dir()});await Promise.all([ii(this.overlay,t.keyframes,t.options).then(()=>{this.overlay.hidden=!0}),ii(this.panel,e.keyframes,e.options).then(()=>{this.panel.hidden=!0})]),this.drawer.hidden=!0,this.overlay.hidden=!1,this.panel.hidden=!1;const i=this.originalTrigger;"function"==typeof(null==i?void 0:i.focus)&&setTimeout(()=>i.focus()),this.emit("sl-after-hide")}}handleNoModalChange(){this.open&&!this.contained&&(this.modal.activate(),uo(this)),this.open&&this.contained&&(this.modal.deactivate(),ho(this))}async show(){if(!this.open)return this.open=!0,Pr(this,"sl-after-show")}async hide(){if(this.open)return this.open=!1,Pr(this,"sl-after-hide")}render(){return _e`
      <div
        part="base"
        class=${Lt({drawer:!0,"drawer--open":this.open,"drawer--top":"top"===this.placement,"drawer--end":"end"===this.placement,"drawer--bottom":"bottom"===this.placement,"drawer--start":"start"===this.placement,"drawer--contained":this.contained,"drawer--fixed":!this.contained,"drawer--rtl":"rtl"===this.localize.dir(),"drawer--has-footer":this.hasSlotController.test("footer")})}
      >
        <div part="overlay" class="drawer__overlay" @click=${()=>this.requestClose("overlay")} tabindex="-1"></div>

        <div
          part="panel"
          class="drawer__panel"
          role="dialog"
          aria-modal="true"
          aria-hidden=${this.open?"false":"true"}
          aria-label=${Pt(this.noHeader?this.label:void 0)}
          aria-labelledby=${Pt(this.noHeader?void 0:"title")}
          tabindex="0"
        >
          ${this.noHeader?"":_e`
                <header part="header" class="drawer__header">
                  <h2 part="title" class="drawer__title" id="title">
                    <!-- If there's no label, use an invisible character to prevent the header from collapsing -->
                    <slot name="label"> ${this.label.length>0?this.label:String.fromCharCode(65279)} </slot>
                  </h2>
                  <div part="header-actions" class="drawer__header-actions">
                    <slot name="header-actions"></slot>
                    <sl-icon-button
                      part="close-button"
                      exportparts="base:close-button__base"
                      class="drawer__close"
                      name="x-lg"
                      label=${this.localize.term("close")}
                      library="system"
                      @click=${()=>this.requestClose("close-button")}
                    ></sl-icon-button>
                  </div>
                </header>
              `}

          <slot part="body" class="drawer__body"></slot>

          <footer part="footer" class="drawer__footer">
            <slot name="footer"></slot>
          </footer>
        </div>
      </div>
    `}};Vn.styles=[st,Rn],Vn.dependencies={"sl-icon-button":Qr},y([ft(".drawer")],Vn.prototype,"drawer",2),y([ft(".drawer__panel")],Vn.prototype,"panel",2),y([ft(".drawer__overlay")],Vn.prototype,"overlay",2),y([ut({type:Boolean,reflect:!0})],Vn.prototype,"open",2),y([ut({reflect:!0})],Vn.prototype,"label",2),y([ut({reflect:!0})],Vn.prototype,"placement",2),y([ut({type:Boolean,reflect:!0})],Vn.prototype,"contained",2),y([ut({attribute:"no-header",type:Boolean,reflect:!0})],Vn.prototype,"noHeader",2),y([at("open",{waitUntilFirstUpdate:!0})],Vn.prototype,"handleOpenChange",1),y([at("contained",{waitUntilFirstUpdate:!0})],Vn.prototype,"handleNoModalChange",1),ei("drawer.showTop",{keyframes:[{opacity:0,translate:"0 -100%"},{opacity:1,translate:"0 0"}],options:{duration:250,easing:"ease"}}),ei("drawer.hideTop",{keyframes:[{opacity:1,translate:"0 0"},{opacity:0,translate:"0 -100%"}],options:{duration:250,easing:"ease"}}),ei("drawer.showEnd",{keyframes:[{opacity:0,translate:"100%"},{opacity:1,translate:"0"}],rtlKeyframes:[{opacity:0,translate:"-100%"},{opacity:1,translate:"0"}],options:{duration:250,easing:"ease"}}),ei("drawer.hideEnd",{keyframes:[{opacity:1,translate:"0"},{opacity:0,translate:"100%"}],rtlKeyframes:[{opacity:1,translate:"0"},{opacity:0,translate:"-100%"}],options:{duration:250,easing:"ease"}}),ei("drawer.showBottom",{keyframes:[{opacity:0,translate:"0 100%"},{opacity:1,translate:"0 0"}],options:{duration:250,easing:"ease"}}),ei("drawer.hideBottom",{keyframes:[{opacity:1,translate:"0 0"},{opacity:0,translate:"0 100%"}],options:{duration:250,easing:"ease"}}),ei("drawer.showStart",{keyframes:[{opacity:0,translate:"-100%"},{opacity:1,translate:"0"}],rtlKeyframes:[{opacity:0,translate:"100%"},{opacity:1,translate:"0"}],options:{duration:250,easing:"ease"}}),ei("drawer.hideStart",{keyframes:[{opacity:1,translate:"0"},{opacity:0,translate:"-100%"}],rtlKeyframes:[{opacity:1,translate:"0"},{opacity:0,translate:"100%"}],options:{duration:250,easing:"ease"}}),ei("drawer.denyClose",{keyframes:[{scale:1},{scale:1.01},{scale:1}],options:{duration:250}}),ei("drawer.overlay.show",{keyframes:[{opacity:0},{opacity:1}],options:{duration:250}}),ei("drawer.overlay.hide",{keyframes:[{opacity:1},{opacity:0}],options:{duration:250}}),Vn.define("sl-drawer");var Wn=M`
  :host {
    display: inline-block;
  }

  .dropdown::part(popup) {
    z-index: var(--sl-z-index-dropdown);
  }

  .dropdown[data-current-placement^='top']::part(popup) {
    transform-origin: bottom;
  }

  .dropdown[data-current-placement^='bottom']::part(popup) {
    transform-origin: top;
  }

  .dropdown[data-current-placement^='left']::part(popup) {
    transform-origin: right;
  }

  .dropdown[data-current-placement^='right']::part(popup) {
    transform-origin: left;
  }

  .dropdown__trigger {
    display: block;
  }

  .dropdown__panel {
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-medium);
    font-weight: var(--sl-font-weight-normal);
    box-shadow: var(--sl-shadow-large);
    border-radius: var(--sl-border-radius-medium);
    pointer-events: none;
  }

  .dropdown--open .dropdown__panel {
    display: block;
    pointer-events: all;
  }

  /* When users slot a menu, make sure it conforms to the popup's auto-size */
  ::slotted(sl-menu) {
    max-width: var(--auto-size-available-width) !important;
    max-height: var(--auto-size-available-height) !important;
  }
`,qn=class extends Tt{constructor(){super(...arguments),this.localize=new Kt(this),this.open=!1,this.placement="bottom-start",this.disabled=!1,this.stayOpenOnSelect=!1,this.distance=0,this.skidding=0,this.hoist=!1,this.sync=void 0,this.handleKeyDown=e=>{this.open&&"Escape"===e.key&&(e.stopPropagation(),this.hide(),this.focusOnTrigger())},this.handleDocumentKeyDown=e=>{var t;if("Escape"===e.key&&this.open&&!this.closeWatcher)return e.stopPropagation(),this.focusOnTrigger(),void this.hide();if("Tab"===e.key){if(this.open&&"sl-menu-item"===(null==(t=document.activeElement)?void 0:t.tagName.toLowerCase()))return e.preventDefault(),this.hide(),void this.focusOnTrigger();const i=(e,t)=>{if(!e)return null;const r=e.closest(t);if(r)return r;const o=e.getRootNode();return o instanceof ShadowRoot?i(o.host,t):null};setTimeout(()=>{var e;const t=(null==(e=this.containingElement)?void 0:e.getRootNode())instanceof ShadowRoot?Bn():document.activeElement;this.containingElement&&i(t,this.containingElement.tagName.toLowerCase())===this.containingElement||this.hide()})}},this.handleDocumentMouseDown=e=>{const t=e.composedPath();this.containingElement&&!t.includes(this.containingElement)&&this.hide()},this.handlePanelSelect=e=>{const t=e.target;this.stayOpenOnSelect||"sl-menu"!==t.tagName.toLowerCase()||(this.hide(),this.focusOnTrigger())}}connectedCallback(){super.connectedCallback(),this.containingElement||(this.containingElement=this)}firstUpdated(){this.panel.hidden=!this.open,this.open&&(this.addOpenListeners(),this.popup.active=!0)}disconnectedCallback(){super.disconnectedCallback(),this.removeOpenListeners(),this.hide()}focusOnTrigger(){const e=this.trigger.assignedElements({flatten:!0})[0];"function"==typeof(null==e?void 0:e.focus)&&e.focus()}getMenu(){return this.panel.assignedElements({flatten:!0}).find(e=>"sl-menu"===e.tagName.toLowerCase())}handleTriggerClick(){this.open?this.hide():(this.show(),this.focusOnTrigger())}async handleTriggerKeyDown(e){if([" ","Enter"].includes(e.key))return e.preventDefault(),void this.handleTriggerClick();const t=this.getMenu();if(t){const i=t.getAllItems(),r=i[0],o=i[i.length-1];["ArrowDown","ArrowUp","Home","End"].includes(e.key)&&(e.preventDefault(),this.open||(this.show(),await this.updateComplete),i.length>0&&this.updateComplete.then(()=>{"ArrowDown"!==e.key&&"Home"!==e.key||(t.setCurrentItem(r),r.focus()),"ArrowUp"!==e.key&&"End"!==e.key||(t.setCurrentItem(o),o.focus())}))}}handleTriggerKeyUp(e){" "===e.key&&e.preventDefault()}handleTriggerSlotChange(){this.updateAccessibleTrigger()}updateAccessibleTrigger(){const e=this.trigger.assignedElements({flatten:!0}).find(e=>function(e){var t,i;const r=Gn(e);return{start:null!=(t=r[0])?t:null,end:null!=(i=r[r.length-1])?i:null}}(e).start);let t;if(e){switch(e.tagName.toLowerCase()){case"sl-button":case"sl-icon-button":t=e.button;break;default:t=e}t.setAttribute("aria-haspopup","true"),t.setAttribute("aria-expanded",this.open?"true":"false")}}async show(){if(!this.open)return this.open=!0,Pr(this,"sl-after-show")}async hide(){if(this.open)return this.open=!1,Pr(this,"sl-after-hide")}reposition(){this.popup.reposition()}addOpenListeners(){var e;this.panel.addEventListener("sl-select",this.handlePanelSelect),"CloseWatcher"in window?(null==(e=this.closeWatcher)||e.destroy(),this.closeWatcher=new CloseWatcher,this.closeWatcher.onclose=()=>{this.hide(),this.focusOnTrigger()}):this.panel.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keydown",this.handleDocumentKeyDown),document.addEventListener("mousedown",this.handleDocumentMouseDown)}removeOpenListeners(){var e;this.panel&&(this.panel.removeEventListener("sl-select",this.handlePanelSelect),this.panel.removeEventListener("keydown",this.handleKeyDown)),document.removeEventListener("keydown",this.handleDocumentKeyDown),document.removeEventListener("mousedown",this.handleDocumentMouseDown),null==(e=this.closeWatcher)||e.destroy()}async handleOpenChange(){if(this.disabled)this.open=!1;else if(this.updateAccessibleTrigger(),this.open){this.emit("sl-show"),this.addOpenListeners(),await ni(this),this.panel.hidden=!1,this.popup.active=!0;const{keyframes:e,options:t}=ti(this,"dropdown.show",{dir:this.localize.dir()});await ii(this.popup.popup,e,t),this.emit("sl-after-show")}else{this.emit("sl-hide"),this.removeOpenListeners(),await ni(this);const{keyframes:e,options:t}=ti(this,"dropdown.hide",{dir:this.localize.dir()});await ii(this.popup.popup,e,t),this.panel.hidden=!0,this.popup.active=!1,this.emit("sl-after-hide")}}render(){return _e`
      <sl-popup
        part="base"
        exportparts="popup:base__popup"
        id="dropdown"
        placement=${this.placement}
        distance=${this.distance}
        skidding=${this.skidding}
        strategy=${this.hoist?"fixed":"absolute"}
        flip
        shift
        auto-size="vertical"
        auto-size-padding="10"
        sync=${Pt(this.sync?this.sync:void 0)}
        class=${Lt({dropdown:!0,"dropdown--open":this.open})}
      >
        <slot
          name="trigger"
          slot="anchor"
          part="trigger"
          class="dropdown__trigger"
          @click=${this.handleTriggerClick}
          @keydown=${this.handleTriggerKeyDown}
          @keyup=${this.handleTriggerKeyUp}
          @slotchange=${this.handleTriggerSlotChange}
        ></slot>

        <div aria-hidden=${this.open?"false":"true"} aria-labelledby="dropdown">
          <slot part="panel" class="dropdown__panel"></slot>
        </div>
      </sl-popup>
    `}};qn.styles=[st,Wn],qn.dependencies={"sl-popup":Lr},y([ft(".dropdown")],qn.prototype,"popup",2),y([ft(".dropdown__trigger")],qn.prototype,"trigger",2),y([ft(".dropdown__panel")],qn.prototype,"panel",2),y([ut({type:Boolean,reflect:!0})],qn.prototype,"open",2),y([ut({reflect:!0})],qn.prototype,"placement",2),y([ut({type:Boolean,reflect:!0})],qn.prototype,"disabled",2),y([ut({attribute:"stay-open-on-select",type:Boolean,reflect:!0})],qn.prototype,"stayOpenOnSelect",2),y([ut({attribute:!1})],qn.prototype,"containingElement",2),y([ut({type:Number})],qn.prototype,"distance",2),y([ut({type:Number})],qn.prototype,"skidding",2),y([ut({type:Boolean})],qn.prototype,"hoist",2),y([ut({reflect:!0})],qn.prototype,"sync",2),y([at("open",{waitUntilFirstUpdate:!0})],qn.prototype,"handleOpenChange",1),ei("dropdown.show",{keyframes:[{opacity:0,scale:.9},{opacity:1,scale:1}],options:{duration:100,easing:"ease"}}),ei("dropdown.hide",{keyframes:[{opacity:1,scale:1},{opacity:0,scale:.9}],options:{duration:100,easing:"ease"}}),qn.define("sl-dropdown");var Yn=M`
  :host {
    --error-color: var(--sl-color-danger-600);
    --success-color: var(--sl-color-success-600);

    display: inline-block;
  }

  .copy-button__button {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    background: none;
    border: none;
    border-radius: var(--sl-border-radius-medium);
    font-size: inherit;
    color: inherit;
    padding: var(--sl-spacing-x-small);
    cursor: pointer;
    transition: var(--sl-transition-x-fast) color;
  }

  .copy-button--success .copy-button__button {
    color: var(--success-color);
  }

  .copy-button--error .copy-button__button {
    color: var(--error-color);
  }

  .copy-button__button:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .copy-button__button[disabled] {
    opacity: 0.5;
    cursor: not-allowed !important;
  }

  slot {
    display: inline-flex;
  }
`,Kn=class extends Tt{constructor(){super(...arguments),this.localize=new Kt(this),this.isCopying=!1,this.status="rest",this.value="",this.from="",this.disabled=!1,this.copyLabel="",this.successLabel="",this.errorLabel="",this.feedbackDuration=1e3,this.tooltipPlacement="top",this.hoist=!1}async handleCopy(){if(this.disabled||this.isCopying)return;this.isCopying=!0;let e=this.value;if(this.from){const t=this.getRootNode(),i=this.from.includes("."),r=this.from.includes("[")&&this.from.includes("]");let o=this.from,n="";i?[o,n]=this.from.trim().split("."):r&&([o,n]=this.from.trim().replace(/\]$/,"").split("["));const a="getElementById"in t?t.getElementById(o):null;a?e=r?a.getAttribute(n)||"":i?a[n]||"":a.textContent||"":(this.showStatus("error"),this.emit("sl-error"))}if(e)try{await navigator.clipboard.writeText(e),this.showStatus("success"),this.emit("sl-copy",{detail:{value:e}})}catch(e){this.showStatus("error"),this.emit("sl-error")}else this.showStatus("error"),this.emit("sl-error")}async showStatus(e){const t=this.copyLabel||this.localize.term("copy"),i=this.successLabel||this.localize.term("copied"),r=this.errorLabel||this.localize.term("error"),o="success"===e?this.successIcon:this.errorIcon,n=ti(this,"copy.in",{dir:"ltr"}),a=ti(this,"copy.out",{dir:"ltr"});this.tooltip.content="success"===e?i:r,await this.copyIcon.animate(a.keyframes,a.options).finished,this.copyIcon.hidden=!0,this.status=e,o.hidden=!1,await o.animate(n.keyframes,n.options).finished,setTimeout(async()=>{await o.animate(a.keyframes,a.options).finished,o.hidden=!0,this.status="rest",this.copyIcon.hidden=!1,await this.copyIcon.animate(n.keyframes,n.options).finished,this.tooltip.content=t,this.isCopying=!1},this.feedbackDuration)}render(){const e=this.copyLabel||this.localize.term("copy");return _e`
      <sl-tooltip
        class=${Lt({"copy-button":!0,"copy-button--success":"success"===this.status,"copy-button--error":"error"===this.status})}
        content=${e}
        placement=${this.tooltipPlacement}
        ?disabled=${this.disabled}
        ?hoist=${this.hoist}
        exportparts="
          base:tooltip__base,
          base__popup:tooltip__base__popup,
          base__arrow:tooltip__base__arrow,
          body:tooltip__body
        "
      >
        <button
          class="copy-button__button"
          part="button"
          type="button"
          ?disabled=${this.disabled}
          @click=${this.handleCopy}
        >
          <slot part="copy-icon" name="copy-icon">
            <sl-icon library="system" name="copy"></sl-icon>
          </slot>
          <slot part="success-icon" name="success-icon" hidden>
            <sl-icon library="system" name="check"></sl-icon>
          </slot>
          <slot part="error-icon" name="error-icon" hidden>
            <sl-icon library="system" name="x-lg"></sl-icon>
          </slot>
        </button>
      </sl-tooltip>
    `}};Kn.styles=[st,Yn],Kn.dependencies={"sl-icon":Nt,"sl-tooltip":Rr},y([ft('slot[name="copy-icon"]')],Kn.prototype,"copyIcon",2),y([ft('slot[name="success-icon"]')],Kn.prototype,"successIcon",2),y([ft('slot[name="error-icon"]')],Kn.prototype,"errorIcon",2),y([ft("sl-tooltip")],Kn.prototype,"tooltip",2),y([ht()],Kn.prototype,"isCopying",2),y([ht()],Kn.prototype,"status",2),y([ut()],Kn.prototype,"value",2),y([ut()],Kn.prototype,"from",2),y([ut({type:Boolean,reflect:!0})],Kn.prototype,"disabled",2),y([ut({attribute:"copy-label"})],Kn.prototype,"copyLabel",2),y([ut({attribute:"success-label"})],Kn.prototype,"successLabel",2),y([ut({attribute:"error-label"})],Kn.prototype,"errorLabel",2),y([ut({attribute:"feedback-duration",type:Number})],Kn.prototype,"feedbackDuration",2),y([ut({attribute:"tooltip-placement"})],Kn.prototype,"tooltipPlacement",2),y([ut({type:Boolean})],Kn.prototype,"hoist",2),ei("copy.in",{keyframes:[{scale:".25",opacity:".25"},{scale:"1",opacity:"1"}],options:{duration:100}}),ei("copy.out",{keyframes:[{scale:"1",opacity:"1"},{scale:".25",opacity:"0"}],options:{duration:100}}),Kn.define("sl-copy-button");var Xn=M`
  :host {
    display: block;
  }

  .details {
    border: solid 1px var(--sl-color-neutral-200);
    border-radius: var(--sl-border-radius-medium);
    background-color: var(--sl-color-neutral-0);
    overflow-anchor: none;
  }

  .details--disabled {
    opacity: 0.5;
  }

  .details__header {
    display: flex;
    align-items: center;
    border-radius: inherit;
    padding: var(--sl-spacing-medium);
    user-select: none;
    -webkit-user-select: none;
    cursor: pointer;
  }

  .details__header::-webkit-details-marker {
    display: none;
  }

  .details__header:focus {
    outline: none;
  }

  .details__header:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: calc(1px + var(--sl-focus-ring-offset));
  }

  .details--disabled .details__header {
    cursor: not-allowed;
  }

  .details--disabled .details__header:focus-visible {
    outline: none;
    box-shadow: none;
  }

  .details__summary {
    flex: 1 1 auto;
    display: flex;
    align-items: center;
  }

  .details__summary-icon {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    transition: var(--sl-transition-medium) rotate ease;
  }

  .details--open .details__summary-icon {
    rotate: 90deg;
  }

  .details--open.details--rtl .details__summary-icon {
    rotate: -90deg;
  }

  .details--open slot[name='expand-icon'],
  .details:not(.details--open) slot[name='collapse-icon'] {
    display: none;
  }

  .details__body {
    overflow: hidden;
  }

  .details__content {
    display: block;
    padding: var(--sl-spacing-medium);
  }
`,Jn=class extends Tt{constructor(){super(...arguments),this.localize=new Kt(this),this.open=!1,this.disabled=!1}firstUpdated(){this.body.style.height=this.open?"auto":"0",this.open&&(this.details.open=!0),this.detailsObserver=new MutationObserver(e=>{for(const t of e)"attributes"===t.type&&"open"===t.attributeName&&(this.details.open?this.show():this.hide())}),this.detailsObserver.observe(this.details,{attributes:!0})}disconnectedCallback(){var e;super.disconnectedCallback(),null==(e=this.detailsObserver)||e.disconnect()}handleSummaryClick(e){e.preventDefault(),this.disabled||(this.open?this.hide():this.show(),this.header.focus())}handleSummaryKeyDown(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),this.open?this.hide():this.show()),"ArrowUp"!==e.key&&"ArrowLeft"!==e.key||(e.preventDefault(),this.hide()),"ArrowDown"!==e.key&&"ArrowRight"!==e.key||(e.preventDefault(),this.show())}async handleOpenChange(){if(this.open){if(this.details.open=!0,this.emit("sl-show",{cancelable:!0}).defaultPrevented)return this.open=!1,void(this.details.open=!1);await ni(this.body);const{keyframes:e,options:t}=ti(this,"details.show",{dir:this.localize.dir()});await ii(this.body,ai(e,this.body.scrollHeight),t),this.body.style.height="auto",this.emit("sl-after-show")}else{if(this.emit("sl-hide",{cancelable:!0}).defaultPrevented)return this.details.open=!0,void(this.open=!0);await ni(this.body);const{keyframes:e,options:t}=ti(this,"details.hide",{dir:this.localize.dir()});await ii(this.body,ai(e,this.body.scrollHeight),t),this.body.style.height="auto",this.details.open=!1,this.emit("sl-after-hide")}}async show(){if(!this.open&&!this.disabled)return this.open=!0,Pr(this,"sl-after-show")}async hide(){if(this.open&&!this.disabled)return this.open=!1,Pr(this,"sl-after-hide")}render(){const e="rtl"===this.localize.dir();return _e`
      <details
        part="base"
        class=${Lt({details:!0,"details--open":this.open,"details--disabled":this.disabled,"details--rtl":e})}
      >
        <summary
          part="header"
          id="header"
          class="details__header"
          role="button"
          aria-expanded=${this.open?"true":"false"}
          aria-controls="content"
          aria-disabled=${this.disabled?"true":"false"}
          tabindex=${this.disabled?"-1":"0"}
          @click=${this.handleSummaryClick}
          @keydown=${this.handleSummaryKeyDown}
        >
          <slot name="summary" part="summary" class="details__summary">${this.summary}</slot>

          <span part="summary-icon" class="details__summary-icon">
            <slot name="expand-icon">
              <sl-icon library="system" name=${e?"chevron-left":"chevron-right"}></sl-icon>
            </slot>
            <slot name="collapse-icon">
              <sl-icon library="system" name=${e?"chevron-left":"chevron-right"}></sl-icon>
            </slot>
          </span>
        </summary>

        <div class="details__body" role="region" aria-labelledby="header">
          <slot part="content" id="content" class="details__content"></slot>
        </div>
      </details>
    `}};Jn.styles=[st,Xn],Jn.dependencies={"sl-icon":Nt},y([ft(".details")],Jn.prototype,"details",2),y([ft(".details__header")],Jn.prototype,"header",2),y([ft(".details__body")],Jn.prototype,"body",2),y([ft(".details__expand-icon-slot")],Jn.prototype,"expandIconSlot",2),y([ut({type:Boolean,reflect:!0})],Jn.prototype,"open",2),y([ut()],Jn.prototype,"summary",2),y([ut({type:Boolean,reflect:!0})],Jn.prototype,"disabled",2),y([at("open",{waitUntilFirstUpdate:!0})],Jn.prototype,"handleOpenChange",1),ei("details.show",{keyframes:[{height:"0",opacity:"0"},{height:"auto",opacity:"1"}],options:{duration:250,easing:"linear"}}),ei("details.hide",{keyframes:[{height:"auto",opacity:"1"},{height:"0",opacity:"0"}],options:{duration:250,easing:"linear"}}),Jn.define("sl-details");var Zn=M`
  :host {
    --width: 31rem;
    --header-spacing: var(--sl-spacing-large);
    --body-spacing: var(--sl-spacing-large);
    --footer-spacing: var(--sl-spacing-large);

    display: contents;
  }

  .dialog {
    display: flex;
    align-items: center;
    justify-content: center;
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    z-index: var(--sl-z-index-dialog);
  }

  .dialog__panel {
    display: flex;
    flex-direction: column;
    z-index: 2;
    width: var(--width);
    max-width: calc(100% - var(--sl-spacing-2x-large));
    max-height: calc(100% - var(--sl-spacing-2x-large));
    background-color: var(--sl-panel-background-color);
    border-radius: var(--sl-border-radius-medium);
    box-shadow: var(--sl-shadow-x-large);
  }

  .dialog__panel:focus {
    outline: none;
  }

  /* Ensure there's enough vertical padding for phones that don't update vh when chrome appears (e.g. iPhone) */
  @media screen and (max-width: 420px) {
    .dialog__panel {
      max-height: 80vh;
    }
  }

  .dialog--open .dialog__panel {
    display: flex;
    opacity: 1;
  }

  .dialog__header {
    flex: 0 0 auto;
    display: flex;
  }

  .dialog__title {
    flex: 1 1 auto;
    font: inherit;
    font-size: var(--sl-font-size-large);
    line-height: var(--sl-line-height-dense);
    padding: var(--header-spacing);
    margin: 0;
  }

  .dialog__header-actions {
    flex-shrink: 0;
    display: flex;
    flex-wrap: wrap;
    justify-content: end;
    gap: var(--sl-spacing-2x-small);
    padding: 0 var(--header-spacing);
  }

  .dialog__header-actions sl-icon-button,
  .dialog__header-actions ::slotted(sl-icon-button) {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    font-size: var(--sl-font-size-medium);
  }

  .dialog__body {
    flex: 1 1 auto;
    display: block;
    padding: var(--body-spacing);
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }

  .dialog__footer {
    flex: 0 0 auto;
    text-align: right;
    padding: var(--footer-spacing);
  }

  .dialog__footer ::slotted(sl-button:not(:first-of-type)) {
    margin-inline-start: var(--sl-spacing-x-small);
  }

  .dialog:not(.dialog--has-footer) .dialog__footer {
    display: none;
  }

  .dialog__overlay {
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background-color: var(--sl-overlay-background-color);
  }

  @media (forced-colors: active) {
    .dialog__panel {
      border: solid 1px var(--sl-color-neutral-0);
    }
  }
`,Qn=class extends Tt{constructor(){super(...arguments),this.hasSlotController=new Je(this,"footer"),this.localize=new Kt(this),this.modal=new Hn(this),this.open=!1,this.label="",this.noHeader=!1,this.handleDocumentKeyDown=e=>{"Escape"===e.key&&this.modal.isActive()&&this.open&&(e.stopPropagation(),this.requestClose("keyboard"))}}firstUpdated(){this.dialog.hidden=!this.open,this.open&&(this.addOpenListeners(),this.modal.activate(),uo(this))}disconnectedCallback(){super.disconnectedCallback(),this.modal.deactivate(),ho(this),this.removeOpenListeners()}requestClose(e){if(this.emit("sl-request-close",{cancelable:!0,detail:{source:e}}).defaultPrevented){const e=ti(this,"dialog.denyClose",{dir:this.localize.dir()});return void ii(this.panel,e.keyframes,e.options)}this.hide()}addOpenListeners(){var e;"CloseWatcher"in window?(null==(e=this.closeWatcher)||e.destroy(),this.closeWatcher=new CloseWatcher,this.closeWatcher.onclose=()=>this.requestClose("keyboard")):document.addEventListener("keydown",this.handleDocumentKeyDown)}removeOpenListeners(){var e;null==(e=this.closeWatcher)||e.destroy(),document.removeEventListener("keydown",this.handleDocumentKeyDown)}async handleOpenChange(){if(this.open){this.emit("sl-show"),this.addOpenListeners(),this.originalTrigger=document.activeElement,this.modal.activate(),uo(this);const e=this.querySelector("[autofocus]");e&&e.removeAttribute("autofocus"),await Promise.all([ni(this.dialog),ni(this.overlay)]),this.dialog.hidden=!1,requestAnimationFrame(()=>{this.emit("sl-initial-focus",{cancelable:!0}).defaultPrevented||(e?e.focus({preventScroll:!0}):this.panel.focus({preventScroll:!0})),e&&e.setAttribute("autofocus","")});const t=ti(this,"dialog.show",{dir:this.localize.dir()}),i=ti(this,"dialog.overlay.show",{dir:this.localize.dir()});await Promise.all([ii(this.panel,t.keyframes,t.options),ii(this.overlay,i.keyframes,i.options)]),this.emit("sl-after-show")}else{zn(this),this.emit("sl-hide"),this.removeOpenListeners(),this.modal.deactivate(),await Promise.all([ni(this.dialog),ni(this.overlay)]);const e=ti(this,"dialog.hide",{dir:this.localize.dir()}),t=ti(this,"dialog.overlay.hide",{dir:this.localize.dir()});await Promise.all([ii(this.overlay,t.keyframes,t.options).then(()=>{this.overlay.hidden=!0}),ii(this.panel,e.keyframes,e.options).then(()=>{this.panel.hidden=!0})]),this.dialog.hidden=!0,this.overlay.hidden=!1,this.panel.hidden=!1,ho(this);const i=this.originalTrigger;"function"==typeof(null==i?void 0:i.focus)&&setTimeout(()=>i.focus()),this.emit("sl-after-hide")}}async show(){if(!this.open)return this.open=!0,Pr(this,"sl-after-show")}async hide(){if(this.open)return this.open=!1,Pr(this,"sl-after-hide")}render(){return _e`
      <div
        part="base"
        class=${Lt({dialog:!0,"dialog--open":this.open,"dialog--has-footer":this.hasSlotController.test("footer")})}
      >
        <div part="overlay" class="dialog__overlay" @click=${()=>this.requestClose("overlay")} tabindex="-1"></div>

        <div
          part="panel"
          class="dialog__panel"
          role="dialog"
          aria-modal="true"
          aria-hidden=${this.open?"false":"true"}
          aria-label=${Pt(this.noHeader?this.label:void 0)}
          aria-labelledby=${Pt(this.noHeader?void 0:"title")}
          tabindex="-1"
        >
          ${this.noHeader?"":_e`
                <header part="header" class="dialog__header">
                  <h2 part="title" class="dialog__title" id="title">
                    <slot name="label"> ${this.label.length>0?this.label:String.fromCharCode(65279)} </slot>
                  </h2>
                  <div part="header-actions" class="dialog__header-actions">
                    <slot name="header-actions"></slot>
                    <sl-icon-button
                      part="close-button"
                      exportparts="base:close-button__base"
                      class="dialog__close"
                      name="x-lg"
                      label=${this.localize.term("close")}
                      library="system"
                      @click="${()=>this.requestClose("close-button")}"
                    ></sl-icon-button>
                  </div>
                </header>
              `}
          ${""}
          <div part="body" class="dialog__body" tabindex="-1"><slot></slot></div>

          <footer part="footer" class="dialog__footer">
            <slot name="footer"></slot>
          </footer>
        </div>
      </div>
    `}};Qn.styles=[st,Zn],Qn.dependencies={"sl-icon-button":Qr},y([ft(".dialog")],Qn.prototype,"dialog",2),y([ft(".dialog__panel")],Qn.prototype,"panel",2),y([ft(".dialog__overlay")],Qn.prototype,"overlay",2),y([ut({type:Boolean,reflect:!0})],Qn.prototype,"open",2),y([ut({reflect:!0})],Qn.prototype,"label",2),y([ut({attribute:"no-header",type:Boolean,reflect:!0})],Qn.prototype,"noHeader",2),y([at("open",{waitUntilFirstUpdate:!0})],Qn.prototype,"handleOpenChange",1),ei("dialog.show",{keyframes:[{opacity:0,scale:.8},{opacity:1,scale:1}],options:{duration:250,easing:"ease"}}),ei("dialog.hide",{keyframes:[{opacity:1,scale:1},{opacity:0,scale:.8}],options:{duration:250,easing:"ease"}}),ei("dialog.denyClose",{keyframes:[{scale:1},{scale:1.02},{scale:1}],options:{duration:250}}),ei("dialog.overlay.show",{keyframes:[{opacity:0},{opacity:1}],options:{duration:250}}),ei("dialog.overlay.hide",{keyframes:[{opacity:1},{opacity:0}],options:{duration:250}}),Qn.define("sl-dialog"),Mt.define("sl-checkbox");var ea=M`
  :host {
    --grid-width: 280px;
    --grid-height: 200px;
    --grid-handle-size: 16px;
    --slider-height: 15px;
    --slider-handle-size: 17px;
    --swatch-size: 25px;

    display: inline-block;
  }

  .color-picker {
    width: var(--grid-width);
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-medium);
    font-weight: var(--sl-font-weight-normal);
    color: var(--color);
    background-color: var(--sl-panel-background-color);
    border-radius: var(--sl-border-radius-medium);
    user-select: none;
    -webkit-user-select: none;
  }

  .color-picker--inline {
    border: solid var(--sl-panel-border-width) var(--sl-panel-border-color);
  }

  .color-picker--inline:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .color-picker__grid {
    position: relative;
    height: var(--grid-height);
    background-image: linear-gradient(to bottom, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 1) 100%),
      linear-gradient(to right, #fff 0%, rgba(255, 255, 255, 0) 100%);
    border-top-left-radius: var(--sl-border-radius-medium);
    border-top-right-radius: var(--sl-border-radius-medium);
    cursor: crosshair;
    forced-color-adjust: none;
  }

  .color-picker__grid-handle {
    position: absolute;
    width: var(--grid-handle-size);
    height: var(--grid-handle-size);
    border-radius: 50%;
    box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.25);
    border: solid 2px white;
    margin-top: calc(var(--grid-handle-size) / -2);
    margin-left: calc(var(--grid-handle-size) / -2);
    transition: var(--sl-transition-fast) scale;
  }

  .color-picker__grid-handle--dragging {
    cursor: none;
    scale: 1.5;
  }

  .color-picker__grid-handle:focus-visible {
    outline: var(--sl-focus-ring);
  }

  .color-picker__controls {
    padding: var(--sl-spacing-small);
    display: flex;
    align-items: center;
  }

  .color-picker__sliders {
    flex: 1 1 auto;
  }

  .color-picker__slider {
    position: relative;
    height: var(--slider-height);
    border-radius: var(--sl-border-radius-pill);
    box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.2);
    forced-color-adjust: none;
  }

  .color-picker__slider:not(:last-of-type) {
    margin-bottom: var(--sl-spacing-small);
  }

  .color-picker__slider-handle {
    position: absolute;
    top: calc(50% - var(--slider-handle-size) / 2);
    width: var(--slider-handle-size);
    height: var(--slider-handle-size);
    background-color: white;
    border-radius: 50%;
    box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.25);
    margin-left: calc(var(--slider-handle-size) / -2);
  }

  .color-picker__slider-handle:focus-visible {
    outline: var(--sl-focus-ring);
  }

  .color-picker__hue {
    background-image: linear-gradient(
      to right,
      rgb(255, 0, 0) 0%,
      rgb(255, 255, 0) 17%,
      rgb(0, 255, 0) 33%,
      rgb(0, 255, 255) 50%,
      rgb(0, 0, 255) 67%,
      rgb(255, 0, 255) 83%,
      rgb(255, 0, 0) 100%
    );
  }

  .color-picker__alpha .color-picker__alpha-gradient {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border-radius: inherit;
  }

  .color-picker__preview {
    flex: 0 0 auto;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    position: relative;
    width: 2.25rem;
    height: 2.25rem;
    border: none;
    border-radius: var(--sl-border-radius-circle);
    background: none;
    margin-left: var(--sl-spacing-small);
    cursor: copy;
    forced-color-adjust: none;
  }

  .color-picker__preview:before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border-radius: inherit;
    box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.2);

    /* We use a custom property in lieu of currentColor because of https://bugs.webkit.org/show_bug.cgi?id=216780 */
    background-color: var(--preview-color);
  }

  .color-picker__preview:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .color-picker__preview-color {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border: solid 1px rgba(0, 0, 0, 0.125);
  }

  .color-picker__preview-color--copied {
    animation: pulse 0.75s;
  }

  @keyframes pulse {
    0% {
      box-shadow: 0 0 0 0 var(--sl-color-primary-500);
    }
    70% {
      box-shadow: 0 0 0 0.5rem transparent;
    }
    100% {
      box-shadow: 0 0 0 0 transparent;
    }
  }

  .color-picker__user-input {
    display: flex;
    padding: 0 var(--sl-spacing-small) var(--sl-spacing-small) var(--sl-spacing-small);
  }

  .color-picker__user-input sl-input {
    min-width: 0; /* fix input width in Safari */
    flex: 1 1 auto;
  }

  .color-picker__user-input sl-button-group {
    margin-left: var(--sl-spacing-small);
  }

  .color-picker__user-input sl-button {
    min-width: 3.25rem;
    max-width: 3.25rem;
    font-size: 1rem;
  }

  .color-picker__swatches {
    display: grid;
    grid-template-columns: repeat(8, 1fr);
    grid-gap: 0.5rem;
    justify-items: center;
    border-top: solid 1px var(--sl-color-neutral-200);
    padding: var(--sl-spacing-small);
    forced-color-adjust: none;
  }

  .color-picker__swatch {
    position: relative;
    width: var(--swatch-size);
    height: var(--swatch-size);
    border-radius: var(--sl-border-radius-small);
  }

  .color-picker__swatch .color-picker__swatch-color {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border: solid 1px rgba(0, 0, 0, 0.125);
    border-radius: inherit;
    cursor: pointer;
  }

  .color-picker__swatch:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .color-picker__transparent-bg {
    background-image: linear-gradient(45deg, var(--sl-color-neutral-300) 25%, transparent 25%),
      linear-gradient(45deg, transparent 75%, var(--sl-color-neutral-300) 75%),
      linear-gradient(45deg, transparent 75%, var(--sl-color-neutral-300) 75%),
      linear-gradient(45deg, var(--sl-color-neutral-300) 25%, transparent 25%);
    background-size: 10px 10px;
    background-position:
      0 0,
      0 0,
      -5px -5px,
      5px 5px;
  }

  .color-picker--disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .color-picker--disabled .color-picker__grid,
  .color-picker--disabled .color-picker__grid-handle,
  .color-picker--disabled .color-picker__slider,
  .color-picker--disabled .color-picker__slider-handle,
  .color-picker--disabled .color-picker__preview,
  .color-picker--disabled .color-picker__swatch,
  .color-picker--disabled .color-picker__swatch-color {
    pointer-events: none;
  }

  /*
   * Color dropdown
   */

  .color-dropdown::part(panel) {
    max-height: none;
    background-color: var(--sl-panel-background-color);
    border: solid var(--sl-panel-border-width) var(--sl-panel-border-color);
    border-radius: var(--sl-border-radius-medium);
    overflow: visible;
  }

  .color-dropdown__trigger {
    display: inline-block;
    position: relative;
    background-color: transparent;
    border: none;
    cursor: pointer;
    forced-color-adjust: none;
  }

  .color-dropdown__trigger.color-dropdown__trigger--small {
    width: var(--sl-input-height-small);
    height: var(--sl-input-height-small);
    border-radius: var(--sl-border-radius-circle);
  }

  .color-dropdown__trigger.color-dropdown__trigger--medium {
    width: var(--sl-input-height-medium);
    height: var(--sl-input-height-medium);
    border-radius: var(--sl-border-radius-circle);
  }

  .color-dropdown__trigger.color-dropdown__trigger--large {
    width: var(--sl-input-height-large);
    height: var(--sl-input-height-large);
    border-radius: var(--sl-border-radius-circle);
  }

  .color-dropdown__trigger:before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border-radius: inherit;
    background-color: currentColor;
    box-shadow:
      inset 0 0 0 2px var(--sl-input-border-color),
      inset 0 0 0 4px var(--sl-color-neutral-0);
  }

  .color-dropdown__trigger--empty:before {
    background-color: transparent;
  }

  .color-dropdown__trigger:focus-visible {
    outline: none;
  }

  .color-dropdown__trigger:focus-visible:not(.color-dropdown__trigger--disabled) {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .color-dropdown__trigger.color-dropdown__trigger--disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
`,ta=class extends Tt{constructor(){super(...arguments),this.formControlController=new S(this,{assumeInteractionOn:["click"]}),this.hasSlotController=new Je(this,"[default]","prefix","suffix"),this.localize=new Kt(this),this.hasFocus=!1,this.invalid=!1,this.title="",this.variant="default",this.size="medium",this.caret=!1,this.disabled=!1,this.loading=!1,this.outline=!1,this.pill=!1,this.circle=!1,this.type="button",this.name="",this.value="",this.href="",this.rel="noreferrer noopener"}get validity(){return this.isButton()?this.button.validity:x}get validationMessage(){return this.isButton()?this.button.validationMessage:""}firstUpdated(){this.isButton()&&this.formControlController.updateValidity()}handleBlur(){this.hasFocus=!1,this.emit("sl-blur")}handleFocus(){this.hasFocus=!0,this.emit("sl-focus")}handleClick(){"submit"===this.type&&this.formControlController.submit(this),"reset"===this.type&&this.formControlController.reset(this)}handleInvalid(e){this.formControlController.setValidity(!1),this.formControlController.emitInvalidEvent(e)}isButton(){return!this.href}isLink(){return!!this.href}handleDisabledChange(){this.isButton()&&this.formControlController.setValidity(this.disabled)}click(){this.button.click()}focus(e){this.button.focus(e)}blur(){this.button.blur()}checkValidity(){return!this.isButton()||this.button.checkValidity()}getForm(){return this.formControlController.getForm()}reportValidity(){return!this.isButton()||this.button.reportValidity()}setCustomValidity(e){this.isButton()&&(this.button.setCustomValidity(e),this.formControlController.updateValidity())}render(){const e=this.isLink(),t=e?Kr`a`:Kr`button`;return Zr`
      <${t}
        part="base"
        class=${Lt({button:!0,"button--default":"default"===this.variant,"button--primary":"primary"===this.variant,"button--success":"success"===this.variant,"button--neutral":"neutral"===this.variant,"button--warning":"warning"===this.variant,"button--danger":"danger"===this.variant,"button--text":"text"===this.variant,"button--small":"small"===this.size,"button--medium":"medium"===this.size,"button--large":"large"===this.size,"button--caret":this.caret,"button--circle":this.circle,"button--disabled":this.disabled,"button--focused":this.hasFocus,"button--loading":this.loading,"button--standard":!this.outline,"button--outline":this.outline,"button--pill":this.pill,"button--rtl":"rtl"===this.localize.dir(),"button--has-label":this.hasSlotController.test("[default]"),"button--has-prefix":this.hasSlotController.test("prefix"),"button--has-suffix":this.hasSlotController.test("suffix")})}
        ?disabled=${Pt(e?void 0:this.disabled)}
        type=${Pt(e?void 0:this.type)}
        title=${this.title}
        name=${Pt(e?void 0:this.name)}
        value=${Pt(e?void 0:this.value)}
        href=${Pt(e&&!this.disabled?this.href:void 0)}
        target=${Pt(e?this.target:void 0)}
        download=${Pt(e?this.download:void 0)}
        rel=${Pt(e?this.rel:void 0)}
        role=${Pt(e?void 0:"button")}
        aria-disabled=${this.disabled?"true":"false"}
        tabindex=${this.disabled?"-1":"0"}
        @blur=${this.handleBlur}
        @focus=${this.handleFocus}
        @invalid=${this.isButton()?this.handleInvalid:null}
        @click=${this.handleClick}
      >
        <slot name="prefix" part="prefix" class="button__prefix"></slot>
        <slot part="label" class="button__label"></slot>
        <slot name="suffix" part="suffix" class="button__suffix"></slot>
        ${this.caret?Zr` <sl-icon part="caret" class="button__caret" library="system" name="caret"></sl-icon> `:""}
        ${this.loading?Zr`<sl-spinner part="spinner"></sl-spinner>`:""}
      </${t}>
    `}};function ia(e,t){(function(e){return"string"==typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");const i=function(e){return"string"==typeof e&&-1!==e.indexOf("%")}(e);return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),i&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t))}function ra(e){return Math.min(1,Math.max(0,e))}function oa(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function na(e){return Number(e)<=1?100*Number(e)+"%":e}function aa(e){return 1===e.length?"0"+e:String(e)}function sa(e,t,i){e=ia(e,255),t=ia(t,255),i=ia(i,255);const r=Math.max(e,t,i),o=Math.min(e,t,i);let n=0,a=0;const s=(r+o)/2;if(r===o)a=0,n=0;else{const l=r-o;switch(a=s>.5?l/(2-r-o):l/(r+o),r){case e:n=(t-i)/l+(t<i?6:0);break;case t:n=(i-e)/l+2;break;case i:n=(e-t)/l+4}n/=6}return{h:n,s:a,l:s}}function la(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+6*i*(t-e):i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e}function ca(e,t,i){e=ia(e,255),t=ia(t,255),i=ia(i,255);const r=Math.max(e,t,i),o=Math.min(e,t,i);let n=0;const a=r,s=r-o,l=0===r?0:s/r;if(r===o)n=0;else{switch(r){case e:n=(t-i)/s+(t<i?6:0);break;case t:n=(i-e)/s+2;break;case i:n=(e-t)/s+4}n/=6}return{h:n,s:l,v:a}}function da(e,t,i,r){const o=[aa(Math.round(e).toString(16)),aa(Math.round(t).toString(16)),aa(Math.round(i).toString(16))];return r&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function ua(e,t,i){let r=1-e/255,o=1-t/255,n=1-i/255,a=Math.min(r,o,n);return 1===a?(r=0,o=0,n=0):(r=(r-a)/(1-a)*100,o=(o-a)/(1-a)*100,n=(n-a)/(1-a)*100),a*=100,{c:Math.round(r),m:Math.round(o),y:Math.round(n),k:Math.round(a)}}function ha(e){return Math.round(255*parseFloat(e)).toString(16)}function pa(e){return ga(e)/255}function ga(e){return parseInt(e,16)}ta.styles=[st,Mo],ta.dependencies={"sl-icon":Nt,"sl-spinner":Xt},y([ft(".button")],ta.prototype,"button",2),y([ht()],ta.prototype,"hasFocus",2),y([ht()],ta.prototype,"invalid",2),y([ut()],ta.prototype,"title",2),y([ut({reflect:!0})],ta.prototype,"variant",2),y([ut({reflect:!0})],ta.prototype,"size",2),y([ut({type:Boolean,reflect:!0})],ta.prototype,"caret",2),y([ut({type:Boolean,reflect:!0})],ta.prototype,"disabled",2),y([ut({type:Boolean,reflect:!0})],ta.prototype,"loading",2),y([ut({type:Boolean,reflect:!0})],ta.prototype,"outline",2),y([ut({type:Boolean,reflect:!0})],ta.prototype,"pill",2),y([ut({type:Boolean,reflect:!0})],ta.prototype,"circle",2),y([ut()],ta.prototype,"type",2),y([ut()],ta.prototype,"name",2),y([ut()],ta.prototype,"value",2),y([ut()],ta.prototype,"href",2),y([ut()],ta.prototype,"target",2),y([ut()],ta.prototype,"rel",2),y([ut()],ta.prototype,"download",2),y([ut()],ta.prototype,"form",2),y([ut({attribute:"formaction"})],ta.prototype,"formAction",2),y([ut({attribute:"formenctype"})],ta.prototype,"formEnctype",2),y([ut({attribute:"formmethod"})],ta.prototype,"formMethod",2),y([ut({attribute:"formnovalidate",type:Boolean})],ta.prototype,"formNoValidate",2),y([ut({attribute:"formtarget"})],ta.prototype,"formTarget",2),y([at("disabled",{waitUntilFirstUpdate:!0})],ta.prototype,"handleDisabledChange",1);const fa={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};const ma="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",ba="[\\s|\\(]+("+ma+")[,|\\s]+("+ma+")[,|\\s]+("+ma+")\\s*\\)?",ya="[\\s|\\(]+("+ma+")[,|\\s]+("+ma+")[,|\\s]+("+ma+")[,|\\s]+("+ma+")\\s*\\)?",va={CSS_UNIT:new RegExp(ma),rgb:new RegExp("rgb"+ba),rgba:new RegExp("rgba"+ya),hsl:new RegExp("hsl"+ba),hsla:new RegExp("hsla"+ya),hsv:new RegExp("hsv"+ba),hsva:new RegExp("hsva"+ya),cmyk:new RegExp("cmyk"+ya),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function wa(e){return"number"==typeof e?!Number.isNaN(e):va.CSS_UNIT.test(e)}class _a{constructor(e="",t={}){if(e instanceof _a)return e;"number"==typeof e&&(e=function(e){return{r:e>>16,g:(65280&e)>>8,b:255&e}}(e)),this.originalInput=e;const i=function(e){let t={r:0,g:0,b:0},i=1,r=null,o=null,n=null,a=!1,s=!1;return"string"==typeof e&&(e=function(e){if(0===(e=e.trim().toLowerCase()).length)return!1;let t=!1;if(fa[e])e=fa[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};let i=va.rgb.exec(e);return i?{r:i[1],g:i[2],b:i[3]}:(i=va.rgba.exec(e),i?{r:i[1],g:i[2],b:i[3],a:i[4]}:(i=va.hsl.exec(e),i?{h:i[1],s:i[2],l:i[3]}:(i=va.hsla.exec(e),i?{h:i[1],s:i[2],l:i[3],a:i[4]}:(i=va.hsv.exec(e),i?{h:i[1],s:i[2],v:i[3]}:(i=va.hsva.exec(e),i?{h:i[1],s:i[2],v:i[3],a:i[4]}:(i=va.cmyk.exec(e),i?{c:i[1],m:i[2],y:i[3],k:i[4]}:(i=va.hex8.exec(e),i?{r:ga(i[1]),g:ga(i[2]),b:ga(i[3]),a:pa(i[4]),format:t?"name":"hex8"}:(i=va.hex6.exec(e),i?{r:ga(i[1]),g:ga(i[2]),b:ga(i[3]),format:t?"name":"hex"}:(i=va.hex4.exec(e),i?{r:ga(i[1]+i[1]),g:ga(i[2]+i[2]),b:ga(i[3]+i[3]),a:pa(i[4]+i[4]),format:t?"name":"hex8"}:(i=va.hex3.exec(e),!!i&&{r:ga(i[1]+i[1]),g:ga(i[2]+i[2]),b:ga(i[3]+i[3]),format:t?"name":"hex"}))))))))))}(e)),"object"==typeof e&&(wa(e.r)&&wa(e.g)&&wa(e.b)?(t=function(e,t,i){return{r:255*ia(e,255),g:255*ia(t,255),b:255*ia(i,255)}}(e.r,e.g,e.b),a=!0,s="%"===String(e.r).substr(-1)?"prgb":"rgb"):wa(e.h)&&wa(e.s)&&wa(e.v)?(r=na(e.s),o=na(e.v),t=function(e,t,i){e=6*ia(e,360),t=ia(t,100),i=ia(i,100);const r=Math.floor(e),o=e-r,n=i*(1-t),a=i*(1-o*t),s=i*(1-(1-o)*t),l=r%6;return{r:255*[i,a,n,n,s,i][l],g:255*[s,i,i,a,n,n][l],b:255*[n,n,s,i,i,a][l]}}(e.h,r,o),a=!0,s="hsv"):wa(e.h)&&wa(e.s)&&wa(e.l)?(r=na(e.s),n=na(e.l),t=function(e,t,i){let r,o,n;if(e=ia(e,360),t=ia(t,100),i=ia(i,100),0===t)o=i,n=i,r=i;else{const a=i<.5?i*(1+t):i+t-i*t,s=2*i-a;r=la(s,a,e+1/3),o=la(s,a,e),n=la(s,a,e-1/3)}return{r:255*r,g:255*o,b:255*n}}(e.h,r,n),a=!0,s="hsl"):wa(e.c)&&wa(e.m)&&wa(e.y)&&wa(e.k)&&(t=function(e,t,i,r){const o=r/100;return{r:255*(1-e/100)*(1-o),g:255*(1-t/100)*(1-o),b:255*(1-i/100)*(1-o)}}(e.c,e.m,e.y,e.k),a=!0,s="cmyk"),Object.prototype.hasOwnProperty.call(e,"a")&&(i=e.a)),i=oa(i),{ok:a,format:e.format||s,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:i}}(e);this.originalInput=e,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=t.format??i.format,this.gradientType=t.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}isDark(){return this.getBrightness()<128}isLight(){return!this.isDark()}getBrightness(){const e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3}getLuminance(){const e=this.toRgb();let t,i,r;const o=e.r/255,n=e.g/255,a=e.b/255;return t=o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4),i=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4),r=a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4),.2126*t+.7152*i+.0722*r}getAlpha(){return this.a}setAlpha(e){return this.a=oa(e),this.roundA=Math.round(100*this.a)/100,this}isMonochrome(){const{s:e}=this.toHsl();return 0===e}toHsv(){const e=ca(this.r,this.g,this.b);return{h:360*e.h,s:e.s,v:e.v,a:this.a}}toHsvString(){const e=ca(this.r,this.g,this.b),t=Math.round(360*e.h),i=Math.round(100*e.s),r=Math.round(100*e.v);return 1===this.a?`hsv(${t}, ${i}%, ${r}%)`:`hsva(${t}, ${i}%, ${r}%, ${this.roundA})`}toHsl(){const e=sa(this.r,this.g,this.b);return{h:360*e.h,s:e.s,l:e.l,a:this.a}}toHslString(){const e=sa(this.r,this.g,this.b),t=Math.round(360*e.h),i=Math.round(100*e.s),r=Math.round(100*e.l);return 1===this.a?`hsl(${t}, ${i}%, ${r}%)`:`hsla(${t}, ${i}%, ${r}%, ${this.roundA})`}toHex(e=!1){return da(this.r,this.g,this.b,e)}toHexString(e=!1){return"#"+this.toHex(e)}toHex8(e=!1){return function(e,t,i,r,o){const n=[aa(Math.round(e).toString(16)),aa(Math.round(t).toString(16)),aa(Math.round(i).toString(16)),aa(ha(r))];return o&&n[0].startsWith(n[0].charAt(1))&&n[1].startsWith(n[1].charAt(1))&&n[2].startsWith(n[2].charAt(1))&&n[3].startsWith(n[3].charAt(1))?n[0].charAt(0)+n[1].charAt(0)+n[2].charAt(0)+n[3].charAt(0):n.join("")}(this.r,this.g,this.b,this.a,e)}toHex8String(e=!1){return"#"+this.toHex8(e)}toHexShortString(e=!1){return 1===this.a?this.toHexString(e):this.toHex8String(e)}toRgb(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}}toRgbString(){const e=Math.round(this.r),t=Math.round(this.g),i=Math.round(this.b);return 1===this.a?`rgb(${e}, ${t}, ${i})`:`rgba(${e}, ${t}, ${i}, ${this.roundA})`}toPercentageRgb(){const e=e=>`${Math.round(100*ia(e,255))}%`;return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}}toPercentageRgbString(){const e=e=>Math.round(100*ia(e,255));return 1===this.a?`rgb(${e(this.r)}%, ${e(this.g)}%, ${e(this.b)}%)`:`rgba(${e(this.r)}%, ${e(this.g)}%, ${e(this.b)}%, ${this.roundA})`}toCmyk(){return{...ua(this.r,this.g,this.b)}}toCmykString(){const{c:e,m:t,y:i,k:r}=ua(this.r,this.g,this.b);return`cmyk(${e}, ${t}, ${i}, ${r})`}toName(){if(0===this.a)return"transparent";if(this.a<1)return!1;const e="#"+da(this.r,this.g,this.b,!1);for(const[t,i]of Object.entries(fa))if(e===i)return t;return!1}toString(e){const t=Boolean(e);e=e??this.format;let i=!1;const r=this.a<1&&this.a>=0;return t||!r||!e.startsWith("hex")&&"name"!==e?("rgb"===e&&(i=this.toRgbString()),"prgb"===e&&(i=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(i=this.toHexString()),"hex3"===e&&(i=this.toHexString(!0)),"hex4"===e&&(i=this.toHex8String(!0)),"hex8"===e&&(i=this.toHex8String()),"name"===e&&(i=this.toName()),"hsl"===e&&(i=this.toHslString()),"hsv"===e&&(i=this.toHsvString()),"cmyk"===e&&(i=this.toCmykString()),i||this.toHexString()):"name"===e&&0===this.a?this.toName():this.toRgbString()}toNumber(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)}clone(){return new _a(this.toString())}lighten(e=10){const t=this.toHsl();return t.l+=e/100,t.l=ra(t.l),new _a(t)}brighten(e=10){const t=this.toRgb();return t.r=Math.max(0,Math.min(255,t.r-Math.round(-e/100*255))),t.g=Math.max(0,Math.min(255,t.g-Math.round(-e/100*255))),t.b=Math.max(0,Math.min(255,t.b-Math.round(-e/100*255))),new _a(t)}darken(e=10){const t=this.toHsl();return t.l-=e/100,t.l=ra(t.l),new _a(t)}tint(e=10){return this.mix("white",e)}shade(e=10){return this.mix("black",e)}desaturate(e=10){const t=this.toHsl();return t.s-=e/100,t.s=ra(t.s),new _a(t)}saturate(e=10){const t=this.toHsl();return t.s+=e/100,t.s=ra(t.s),new _a(t)}greyscale(){return this.desaturate(100)}spin(e){const t=this.toHsl(),i=(t.h+e)%360;return t.h=i<0?360+i:i,new _a(t)}mix(e,t=50){const i=this.toRgb(),r=new _a(e).toRgb(),o=t/100,n={r:(r.r-i.r)*o+i.r,g:(r.g-i.g)*o+i.g,b:(r.b-i.b)*o+i.b,a:(r.a-i.a)*o+i.a};return new _a(n)}analogous(e=6,t=30){const i=this.toHsl(),r=360/t,o=[this];for(i.h=(i.h-(r*e>>1)+720)%360;--e;)i.h=(i.h+r)%360,o.push(new _a(i));return o}complement(){const e=this.toHsl();return e.h=(e.h+180)%360,new _a(e)}monochromatic(e=6){const t=this.toHsv(),{h:i}=t,{s:r}=t;let{v:o}=t;const n=[],a=1/e;for(;e--;)n.push(new _a({h:i,s:r,v:o})),o=(o+a)%1;return n}splitcomplement(){const e=this.toHsl(),{h:t}=e;return[this,new _a({h:(t+72)%360,s:e.s,l:e.l}),new _a({h:(t+216)%360,s:e.s,l:e.l})]}onBackground(e){const t=this.toRgb(),i=new _a(e).toRgb(),r=t.a+i.a*(1-t.a);return new _a({r:(t.r*t.a+i.r*i.a*(1-t.a))/r,g:(t.g*t.a+i.g*i.a*(1-t.a))/r,b:(t.b*t.a+i.b*i.a*(1-t.a))/r,a:r})}triad(){return this.polyad(3)}tetrad(){return this.polyad(4)}polyad(e){const t=this.toHsl(),{h:i}=t,r=[this],o=360/e;for(let n=1;n<e;n++)r.push(new _a({h:(i+n*o)%360,s:t.s,l:t.l}));return r}equals(e){const t=new _a(e);return"cmyk"===this.format||"cmyk"===t.format?this.toCmykString()===t.toCmykString():this.toRgbString()===t.toRgbString()}}var Ta="EyeDropper"in window,Aa=class extends Tt{constructor(){super(),this.formControlController=new S(this),this.isSafeValue=!1,this.localize=new Kt(this),this.hasFocus=!1,this.isDraggingGridHandle=!1,this.isEmpty=!1,this.inputValue="",this.hue=0,this.saturation=100,this.brightness=100,this.alpha=100,this.value="",this.defaultValue="",this.label="",this.format="hex",this.inline=!1,this.size="medium",this.noFormatToggle=!1,this.name="",this.disabled=!1,this.hoist=!1,this.opacity=!1,this.uppercase=!1,this.swatches="",this.form="",this.required=!1,this.handleFocusIn=()=>{this.hasFocus=!0,this.emit("sl-focus")},this.handleFocusOut=()=>{this.hasFocus=!1,this.emit("sl-blur")},this.addEventListener("focusin",this.handleFocusIn),this.addEventListener("focusout",this.handleFocusOut)}get validity(){return this.input.validity}get validationMessage(){return this.input.validationMessage}firstUpdated(){this.input.updateComplete.then(()=>{this.formControlController.updateValidity()})}handleCopy(){this.input.select(),document.execCommand("copy"),this.previewButton.focus(),this.previewButton.classList.add("color-picker__preview-color--copied"),this.previewButton.addEventListener("animationend",()=>{this.previewButton.classList.remove("color-picker__preview-color--copied")})}handleFormatToggle(){const e=["hex","rgb","hsl","hsv"],t=(e.indexOf(this.format)+1)%e.length;this.format=e[t],this.setColor(this.value),this.emit("sl-change"),this.emit("sl-input")}handleAlphaDrag(e){const t=this.shadowRoot.querySelector(".color-picker__slider.color-picker__alpha"),i=t.querySelector(".color-picker__slider-handle"),{width:r}=t.getBoundingClientRect();let o=this.value,n=this.value;i.focus(),e.preventDefault(),yo(t,{onMove:e=>{this.alpha=Br(e/r*100,0,100),this.syncValues(),this.value!==n&&(n=this.value,this.emit("sl-input"))},onStop:()=>{this.value!==o&&(o=this.value,this.emit("sl-change"))},initialEvent:e})}handleHueDrag(e){const t=this.shadowRoot.querySelector(".color-picker__slider.color-picker__hue"),i=t.querySelector(".color-picker__slider-handle"),{width:r}=t.getBoundingClientRect();let o=this.value,n=this.value;i.focus(),e.preventDefault(),yo(t,{onMove:e=>{this.hue=Br(e/r*360,0,360),this.syncValues(),this.value!==n&&(n=this.value,this.emit("sl-input"))},onStop:()=>{this.value!==o&&(o=this.value,this.emit("sl-change"))},initialEvent:e})}handleGridDrag(e){const t=this.shadowRoot.querySelector(".color-picker__grid"),i=t.querySelector(".color-picker__grid-handle"),{width:r,height:o}=t.getBoundingClientRect();let n=this.value,a=this.value;i.focus(),e.preventDefault(),this.isDraggingGridHandle=!0,yo(t,{onMove:(e,t)=>{this.saturation=Br(e/r*100,0,100),this.brightness=Br(100-t/o*100,0,100),this.syncValues(),this.value!==a&&(a=this.value,this.emit("sl-input"))},onStop:()=>{this.isDraggingGridHandle=!1,this.value!==n&&(n=this.value,this.emit("sl-change"))},initialEvent:e})}handleAlphaKeyDown(e){const t=e.shiftKey?10:1,i=this.value;"ArrowLeft"===e.key&&(e.preventDefault(),this.alpha=Br(this.alpha-t,0,100),this.syncValues()),"ArrowRight"===e.key&&(e.preventDefault(),this.alpha=Br(this.alpha+t,0,100),this.syncValues()),"Home"===e.key&&(e.preventDefault(),this.alpha=0,this.syncValues()),"End"===e.key&&(e.preventDefault(),this.alpha=100,this.syncValues()),this.value!==i&&(this.emit("sl-change"),this.emit("sl-input"))}handleHueKeyDown(e){const t=e.shiftKey?10:1,i=this.value;"ArrowLeft"===e.key&&(e.preventDefault(),this.hue=Br(this.hue-t,0,360),this.syncValues()),"ArrowRight"===e.key&&(e.preventDefault(),this.hue=Br(this.hue+t,0,360),this.syncValues()),"Home"===e.key&&(e.preventDefault(),this.hue=0,this.syncValues()),"End"===e.key&&(e.preventDefault(),this.hue=360,this.syncValues()),this.value!==i&&(this.emit("sl-change"),this.emit("sl-input"))}handleGridKeyDown(e){const t=e.shiftKey?10:1,i=this.value;"ArrowLeft"===e.key&&(e.preventDefault(),this.saturation=Br(this.saturation-t,0,100),this.syncValues()),"ArrowRight"===e.key&&(e.preventDefault(),this.saturation=Br(this.saturation+t,0,100),this.syncValues()),"ArrowUp"===e.key&&(e.preventDefault(),this.brightness=Br(this.brightness+t,0,100),this.syncValues()),"ArrowDown"===e.key&&(e.preventDefault(),this.brightness=Br(this.brightness-t,0,100),this.syncValues()),this.value!==i&&(this.emit("sl-change"),this.emit("sl-input"))}handleInputChange(e){const t=e.target,i=this.value;e.stopPropagation(),this.input.value?(this.setColor(t.value),t.value=this.value):this.value="",this.value!==i&&(this.emit("sl-change"),this.emit("sl-input"))}handleInputInput(e){this.formControlController.updateValidity(),e.stopPropagation()}handleInputKeyDown(e){if("Enter"===e.key){const e=this.value;this.input.value?(this.setColor(this.input.value),this.input.value=this.value,this.value!==e&&(this.emit("sl-change"),this.emit("sl-input")),setTimeout(()=>this.input.select())):this.hue=0}}handleInputInvalid(e){this.formControlController.setValidity(!1),this.formControlController.emitInvalidEvent(e)}handleTouchMove(e){e.preventDefault()}parseColor(e){const t=new _a(e);if(!t.isValid)return null;const i=t.toHsl(),r={h:i.h,s:100*i.s,l:100*i.l,a:i.a},o=t.toRgb(),n=t.toHexString(),a=t.toHex8String(),s=t.toHsv(),l={h:s.h,s:100*s.s,v:100*s.v,a:s.a};return{hsl:{h:r.h,s:r.s,l:r.l,string:this.setLetterCase(`hsl(${Math.round(r.h)}, ${Math.round(r.s)}%, ${Math.round(r.l)}%)`)},hsla:{h:r.h,s:r.s,l:r.l,a:r.a,string:this.setLetterCase(`hsla(${Math.round(r.h)}, ${Math.round(r.s)}%, ${Math.round(r.l)}%, ${r.a.toFixed(2).toString()})`)},hsv:{h:l.h,s:l.s,v:l.v,string:this.setLetterCase(`hsv(${Math.round(l.h)}, ${Math.round(l.s)}%, ${Math.round(l.v)}%)`)},hsva:{h:l.h,s:l.s,v:l.v,a:l.a,string:this.setLetterCase(`hsva(${Math.round(l.h)}, ${Math.round(l.s)}%, ${Math.round(l.v)}%, ${l.a.toFixed(2).toString()})`)},rgb:{r:o.r,g:o.g,b:o.b,string:this.setLetterCase(`rgb(${Math.round(o.r)}, ${Math.round(o.g)}, ${Math.round(o.b)})`)},rgba:{r:o.r,g:o.g,b:o.b,a:o.a,string:this.setLetterCase(`rgba(${Math.round(o.r)}, ${Math.round(o.g)}, ${Math.round(o.b)}, ${o.a.toFixed(2).toString()})`)},hex:this.setLetterCase(n),hexa:this.setLetterCase(a)}}setColor(e){const t=this.parseColor(e);return null!==t&&(this.hue=t.hsva.h,this.saturation=t.hsva.s,this.brightness=t.hsva.v,this.alpha=this.opacity?100*t.hsva.a:100,this.syncValues(),!0)}setLetterCase(e){return"string"!=typeof e?"":this.uppercase?e.toUpperCase():e.toLowerCase()}async syncValues(){const e=this.parseColor(`hsva(${this.hue}, ${this.saturation}%, ${this.brightness}%, ${this.alpha/100})`);null!==e&&("hsl"===this.format?this.inputValue=this.opacity?e.hsla.string:e.hsl.string:"rgb"===this.format?this.inputValue=this.opacity?e.rgba.string:e.rgb.string:"hsv"===this.format?this.inputValue=this.opacity?e.hsva.string:e.hsv.string:this.inputValue=this.opacity?e.hexa:e.hex,this.isSafeValue=!0,this.value=this.inputValue,await this.updateComplete,this.isSafeValue=!1)}handleAfterHide(){this.previewButton.classList.remove("color-picker__preview-color--copied")}handleEyeDropper(){Ta&&(new EyeDropper).open().then(e=>{const t=this.value;this.setColor(e.sRGBHex),this.value!==t&&(this.emit("sl-change"),this.emit("sl-input"))}).catch(()=>{})}selectSwatch(e){const t=this.value;this.disabled||(this.setColor(e),this.value!==t&&(this.emit("sl-change"),this.emit("sl-input")))}getHexString(e,t,i,r=100){const o=new _a(`hsva(${e}, ${t}%, ${i}%, ${r/100})`);return o.isValid?o.toHex8String():""}stopNestedEventPropagation(e){e.stopImmediatePropagation()}handleFormatChange(){this.syncValues()}handleOpacityChange(){this.alpha=100}handleValueChange(e,t){if(this.isEmpty=!t,t||(this.hue=0,this.saturation=0,this.brightness=100,this.alpha=100),!this.isSafeValue){const i=this.parseColor(t);null!==i?(this.inputValue=this.value,this.hue=i.hsva.h,this.saturation=i.hsva.s,this.brightness=i.hsva.v,this.alpha=100*i.hsva.a,this.syncValues()):this.inputValue=null!=e?e:""}}focus(e){this.inline?this.base.focus(e):this.trigger.focus(e)}blur(){var e;const t=this.inline?this.base:this.trigger;this.hasFocus&&(t.focus({preventScroll:!0}),t.blur()),(null==(e=this.dropdown)?void 0:e.open)&&this.dropdown.hide()}getFormattedValue(e="hex"){const t=this.parseColor(`hsva(${this.hue}, ${this.saturation}%, ${this.brightness}%, ${this.alpha/100})`);if(null===t)return"";switch(e){case"hex":return t.hex;case"hexa":return t.hexa;case"rgb":return t.rgb.string;case"rgba":return t.rgba.string;case"hsl":return t.hsl.string;case"hsla":return t.hsla.string;case"hsv":return t.hsv.string;case"hsva":return t.hsva.string;default:return""}}checkValidity(){return this.input.checkValidity()}getForm(){return this.formControlController.getForm()}reportValidity(){return this.inline||this.validity.valid?this.input.reportValidity():(this.dropdown.show(),this.addEventListener("sl-after-show",()=>this.input.reportValidity(),{once:!0}),this.disabled||this.formControlController.emitInvalidEvent(),!1)}setCustomValidity(e){this.input.setCustomValidity(e),this.formControlController.updateValidity()}render(){const e=this.saturation,t=100-this.brightness,i=Array.isArray(this.swatches)?this.swatches:this.swatches.split(";").filter(e=>""!==e.trim()),r=_e`
      <div
        part="base"
        class=${Lt({"color-picker":!0,"color-picker--inline":this.inline,"color-picker--disabled":this.disabled,"color-picker--focused":this.hasFocus})}
        aria-disabled=${this.disabled?"true":"false"}
        aria-labelledby="label"
        tabindex=${this.inline?"0":"-1"}
      >
        ${this.inline?_e`
              <sl-visually-hidden id="label">
                <slot name="label">${this.label}</slot>
              </sl-visually-hidden>
            `:null}

        <div
          part="grid"
          class="color-picker__grid"
          style=${Oo({backgroundColor:this.getHexString(this.hue,100,100)})}
          @pointerdown=${this.handleGridDrag}
          @touchmove=${this.handleTouchMove}
        >
          <span
            part="grid-handle"
            class=${Lt({"color-picker__grid-handle":!0,"color-picker__grid-handle--dragging":this.isDraggingGridHandle})}
            style=${Oo({top:`${t}%`,left:`${e}%`,backgroundColor:this.getHexString(this.hue,this.saturation,this.brightness,this.alpha)})}
            role="application"
            aria-label="HSV"
            tabindex=${Pt(this.disabled?void 0:"0")}
            @keydown=${this.handleGridKeyDown}
          ></span>
        </div>

        <div class="color-picker__controls">
          <div class="color-picker__sliders">
            <div
              part="slider hue-slider"
              class="color-picker__hue color-picker__slider"
              @pointerdown=${this.handleHueDrag}
              @touchmove=${this.handleTouchMove}
            >
              <span
                part="slider-handle hue-slider-handle"
                class="color-picker__slider-handle"
                style=${Oo({left:(0===this.hue?0:100/(360/this.hue))+"%"})}
                role="slider"
                aria-label="hue"
                aria-orientation="horizontal"
                aria-valuemin="0"
                aria-valuemax="360"
                aria-valuenow=${`${Math.round(this.hue)}`}
                tabindex=${Pt(this.disabled?void 0:"0")}
                @keydown=${this.handleHueKeyDown}
              ></span>
            </div>

            ${this.opacity?_e`
                  <div
                    part="slider opacity-slider"
                    class="color-picker__alpha color-picker__slider color-picker__transparent-bg"
                    @pointerdown="${this.handleAlphaDrag}"
                    @touchmove=${this.handleTouchMove}
                  >
                    <div
                      class="color-picker__alpha-gradient"
                      style=${Oo({backgroundImage:`linear-gradient(\n                          to right,\n                          ${this.getHexString(this.hue,this.saturation,this.brightness,0)} 0%,\n                          ${this.getHexString(this.hue,this.saturation,this.brightness,100)} 100%\n                        )`})}
                    ></div>
                    <span
                      part="slider-handle opacity-slider-handle"
                      class="color-picker__slider-handle"
                      style=${Oo({left:`${this.alpha}%`})}
                      role="slider"
                      aria-label="alpha"
                      aria-orientation="horizontal"
                      aria-valuemin="0"
                      aria-valuemax="100"
                      aria-valuenow=${Math.round(this.alpha)}
                      tabindex=${Pt(this.disabled?void 0:"0")}
                      @keydown=${this.handleAlphaKeyDown}
                    ></span>
                  </div>
                `:""}
          </div>

          <button
            type="button"
            part="preview"
            class="color-picker__preview color-picker__transparent-bg"
            aria-label=${this.localize.term("copy")}
            style=${Oo({"--preview-color":this.getHexString(this.hue,this.saturation,this.brightness,this.alpha)})}
            @click=${this.handleCopy}
          ></button>
        </div>

        <div class="color-picker__user-input" aria-live="polite">
          <sl-input
            part="input"
            type="text"
            name=${this.name}
            autocomplete="off"
            autocorrect="off"
            autocapitalize="off"
            spellcheck="false"
            value=${this.isEmpty?"":this.inputValue}
            ?required=${this.required}
            ?disabled=${this.disabled}
            aria-label=${this.localize.term("currentValue")}
            @keydown=${this.handleInputKeyDown}
            @sl-change=${this.handleInputChange}
            @sl-input=${this.handleInputInput}
            @sl-invalid=${this.handleInputInvalid}
            @sl-blur=${this.stopNestedEventPropagation}
            @sl-focus=${this.stopNestedEventPropagation}
          ></sl-input>

          <sl-button-group>
            ${this.noFormatToggle?"":_e`
                  <sl-button
                    part="format-button"
                    aria-label=${this.localize.term("toggleColorFormat")}
                    exportparts="
                      base:format-button__base,
                      prefix:format-button__prefix,
                      label:format-button__label,
                      suffix:format-button__suffix,
                      caret:format-button__caret
                    "
                    @click=${this.handleFormatToggle}
                    @sl-blur=${this.stopNestedEventPropagation}
                    @sl-focus=${this.stopNestedEventPropagation}
                  >
                    ${this.setLetterCase(this.format)}
                  </sl-button>
                `}
            ${Ta?_e`
                  <sl-button
                    part="eye-dropper-button"
                    exportparts="
                      base:eye-dropper-button__base,
                      prefix:eye-dropper-button__prefix,
                      label:eye-dropper-button__label,
                      suffix:eye-dropper-button__suffix,
                      caret:eye-dropper-button__caret
                    "
                    @click=${this.handleEyeDropper}
                    @sl-blur=${this.stopNestedEventPropagation}
                    @sl-focus=${this.stopNestedEventPropagation}
                  >
                    <sl-icon
                      library="system"
                      name="eyedropper"
                      label=${this.localize.term("selectAColorFromTheScreen")}
                    ></sl-icon>
                  </sl-button>
                `:""}
          </sl-button-group>
        </div>

        ${i.length>0?_e`
              <div part="swatches" class="color-picker__swatches">
                ${i.map(e=>{const t=this.parseColor(e);return t?_e`
                    <div
                      part="swatch"
                      class="color-picker__swatch color-picker__transparent-bg"
                      tabindex=${Pt(this.disabled?void 0:"0")}
                      role="button"
                      aria-label=${e}
                      @click=${()=>this.selectSwatch(e)}
                      @keydown=${e=>!this.disabled&&"Enter"===e.key&&this.setColor(t.hexa)}
                    >
                      <div
                        class="color-picker__swatch-color"
                        style=${Oo({backgroundColor:t.hexa})}
                      ></div>
                    </div>
                  `:(console.error(`Unable to parse swatch color: "${e}"`,this),"")})}
              </div>
            `:""}
      </div>
    `;return this.inline?r:_e`
      <sl-dropdown
        class="color-dropdown"
        aria-disabled=${this.disabled?"true":"false"}
        .containingElement=${this}
        ?disabled=${this.disabled}
        ?hoist=${this.hoist}
        @sl-after-hide=${this.handleAfterHide}
      >
        <button
          part="trigger"
          slot="trigger"
          class=${Lt({"color-dropdown__trigger":!0,"color-dropdown__trigger--disabled":this.disabled,"color-dropdown__trigger--small":"small"===this.size,"color-dropdown__trigger--medium":"medium"===this.size,"color-dropdown__trigger--large":"large"===this.size,"color-dropdown__trigger--empty":this.isEmpty,"color-dropdown__trigger--focused":this.hasFocus,"color-picker__transparent-bg":!0})}
          style=${Oo({color:this.getHexString(this.hue,this.saturation,this.brightness,this.alpha)})}
          type="button"
        >
          <sl-visually-hidden>
            <slot name="label">${this.label}</slot>
          </sl-visually-hidden>
        </button>
        ${r}
      </sl-dropdown>
    `}};Aa.styles=[st,ea],Aa.dependencies={"sl-button-group":Fo,"sl-button":ta,"sl-dropdown":qn,"sl-icon":Nt,"sl-input":cn,"sl-visually-hidden":Fr},y([ft('[part~="base"]')],Aa.prototype,"base",2),y([ft('[part~="input"]')],Aa.prototype,"input",2),y([ft(".color-dropdown")],Aa.prototype,"dropdown",2),y([ft('[part~="preview"]')],Aa.prototype,"previewButton",2),y([ft('[part~="trigger"]')],Aa.prototype,"trigger",2),y([ht()],Aa.prototype,"hasFocus",2),y([ht()],Aa.prototype,"isDraggingGridHandle",2),y([ht()],Aa.prototype,"isEmpty",2),y([ht()],Aa.prototype,"inputValue",2),y([ht()],Aa.prototype,"hue",2),y([ht()],Aa.prototype,"saturation",2),y([ht()],Aa.prototype,"brightness",2),y([ht()],Aa.prototype,"alpha",2),y([ut()],Aa.prototype,"value",2),y([Ke()],Aa.prototype,"defaultValue",2),y([ut()],Aa.prototype,"label",2),y([ut()],Aa.prototype,"format",2),y([ut({type:Boolean,reflect:!0})],Aa.prototype,"inline",2),y([ut({reflect:!0})],Aa.prototype,"size",2),y([ut({attribute:"no-format-toggle",type:Boolean})],Aa.prototype,"noFormatToggle",2),y([ut()],Aa.prototype,"name",2),y([ut({type:Boolean,reflect:!0})],Aa.prototype,"disabled",2),y([ut({type:Boolean})],Aa.prototype,"hoist",2),y([ut({type:Boolean})],Aa.prototype,"opacity",2),y([ut({type:Boolean})],Aa.prototype,"uppercase",2),y([ut()],Aa.prototype,"swatches",2),y([ut({reflect:!0})],Aa.prototype,"form",2),y([ut({type:Boolean,reflect:!0})],Aa.prototype,"required",2),y([pt({passive:!1})],Aa.prototype,"handleTouchMove",1),y([at("format",{waitUntilFirstUpdate:!0})],Aa.prototype,"handleFormatChange",1),y([at("opacity",{waitUntilFirstUpdate:!0})],Aa.prototype,"handleOpacityChange",1),y([at("value")],Aa.prototype,"handleValueChange",1),Aa.define("sl-color-picker");var Ea=M`
  :host {
    --border-color: var(--sl-color-neutral-200);
    --border-radius: var(--sl-border-radius-medium);
    --border-width: 1px;
    --padding: var(--sl-spacing-large);

    display: inline-block;
  }

  .card {
    display: flex;
    flex-direction: column;
    background-color: var(--sl-panel-background-color);
    box-shadow: var(--sl-shadow-x-small);
    border: solid var(--border-width) var(--border-color);
    border-radius: var(--border-radius);
  }

  .card__image {
    display: flex;
    border-top-left-radius: var(--border-radius);
    border-top-right-radius: var(--border-radius);
    margin: calc(-1 * var(--border-width));
    overflow: hidden;
  }

  .card__image::slotted(img) {
    display: block;
    width: 100%;
  }

  .card:not(.card--has-image) .card__image {
    display: none;
  }

  .card__header {
    display: block;
    border-bottom: solid var(--border-width) var(--border-color);
    padding: calc(var(--padding) / 2) var(--padding);
  }

  .card:not(.card--has-header) .card__header {
    display: none;
  }

  .card:not(.card--has-image) .card__header {
    border-top-left-radius: var(--border-radius);
    border-top-right-radius: var(--border-radius);
  }

  .card__body {
    display: block;
    padding: var(--padding);
  }

  .card--has-footer .card__footer {
    display: block;
    border-top: solid var(--border-width) var(--border-color);
    padding: var(--padding);
  }

  .card:not(.card--has-footer) .card__footer {
    display: none;
  }
`,ka=class extends Tt{constructor(){super(...arguments),this.hasSlotController=new Je(this,"footer","header","image")}render(){return _e`
      <div
        part="base"
        class=${Lt({card:!0,"card--has-footer":this.hasSlotController.test("footer"),"card--has-image":this.hasSlotController.test("image"),"card--has-header":this.hasSlotController.test("header")})}
      >
        <slot name="image" part="image" class="card__image"></slot>
        <slot name="header" part="header" class="card__header"></slot>
        <slot part="body" class="card__body"></slot>
        <slot name="footer" part="footer" class="card__footer"></slot>
      </div>
    `}};ka.styles=[st,Ea],ka.define("sl-card");var Sa=class{constructor(e,t){this.timerId=0,this.activeInteractions=0,this.paused=!1,this.stopped=!0,this.pause=()=>{this.activeInteractions++||(this.paused=!0,this.host.requestUpdate())},this.resume=()=>{--this.activeInteractions||(this.paused=!1,this.host.requestUpdate())},e.addController(this),this.host=e,this.tickCallback=t}hostConnected(){this.host.addEventListener("mouseenter",this.pause),this.host.addEventListener("mouseleave",this.resume),this.host.addEventListener("focusin",this.pause),this.host.addEventListener("focusout",this.resume),this.host.addEventListener("touchstart",this.pause,{passive:!0}),this.host.addEventListener("touchend",this.resume)}hostDisconnected(){this.stop(),this.host.removeEventListener("mouseenter",this.pause),this.host.removeEventListener("mouseleave",this.resume),this.host.removeEventListener("focusin",this.pause),this.host.removeEventListener("focusout",this.resume),this.host.removeEventListener("touchstart",this.pause),this.host.removeEventListener("touchend",this.resume)}start(e){this.stop(),this.stopped=!1,this.timerId=window.setInterval(()=>{this.paused||this.tickCallback()},e)}stop(){clearInterval(this.timerId),this.stopped=!0,this.host.requestUpdate()}},xa=M`
  :host {
    --slide-gap: var(--sl-spacing-medium, 1rem);
    --aspect-ratio: 16 / 9;
    --scroll-hint: 0px;

    display: flex;
  }

  .carousel {
    display: grid;
    grid-template-columns: min-content 1fr min-content;
    grid-template-rows: 1fr min-content;
    grid-template-areas:
      '. slides .'
      '. pagination .';
    gap: var(--sl-spacing-medium);
    align-items: center;
    min-height: 100%;
    min-width: 100%;
    position: relative;
  }

  .carousel__pagination {
    grid-area: pagination;
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: var(--sl-spacing-small);
  }

  .carousel__slides {
    grid-area: slides;

    display: grid;
    height: 100%;
    width: 100%;
    align-items: center;
    justify-items: center;
    overflow: auto;
    overscroll-behavior-x: contain;
    scrollbar-width: none;
    aspect-ratio: calc(var(--aspect-ratio) * var(--slides-per-page));
    border-radius: var(--sl-border-radius-small);

    --slide-size: calc((100% - (var(--slides-per-page) - 1) * var(--slide-gap)) / var(--slides-per-page));
  }

  @media (prefers-reduced-motion) {
    :where(.carousel__slides) {
      scroll-behavior: auto;
    }
  }

  .carousel__slides--horizontal {
    grid-auto-flow: column;
    grid-auto-columns: var(--slide-size);
    grid-auto-rows: 100%;
    column-gap: var(--slide-gap);
    scroll-snap-type: x mandatory;
    scroll-padding-inline: var(--scroll-hint);
    padding-inline: var(--scroll-hint);
    overflow-y: hidden;
  }

  .carousel__slides--vertical {
    grid-auto-flow: row;
    grid-auto-columns: 100%;
    grid-auto-rows: var(--slide-size);
    row-gap: var(--slide-gap);
    scroll-snap-type: y mandatory;
    scroll-padding-block: var(--scroll-hint);
    padding-block: var(--scroll-hint);
    overflow-x: hidden;
  }

  .carousel__slides--dragging {
  }

  :host([vertical]) ::slotted(sl-carousel-item) {
    height: 100%;
  }

  .carousel__slides::-webkit-scrollbar {
    display: none;
  }

  .carousel__navigation {
    grid-area: navigation;
    display: contents;
    font-size: var(--sl-font-size-x-large);
  }

  .carousel__navigation-button {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    background: none;
    border: none;
    border-radius: var(--sl-border-radius-small);
    font-size: inherit;
    color: var(--sl-color-neutral-600);
    padding: var(--sl-spacing-x-small);
    cursor: pointer;
    transition: var(--sl-transition-medium) color;
    appearance: none;
  }

  .carousel__navigation-button--disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .carousel__navigation-button--disabled::part(base) {
    pointer-events: none;
  }

  .carousel__navigation-button--previous {
    grid-column: 1;
    grid-row: 1;
  }

  .carousel__navigation-button--next {
    grid-column: 3;
    grid-row: 1;
  }

  .carousel__pagination-item {
    display: block;
    cursor: pointer;
    background: none;
    border: 0;
    border-radius: var(--sl-border-radius-circle);
    width: var(--sl-spacing-small);
    height: var(--sl-spacing-small);
    background-color: var(--sl-color-neutral-300);
    padding: 0;
    margin: 0;
  }

  .carousel__pagination-item--active {
    background-color: var(--sl-color-neutral-700);
    transform: scale(1.2);
  }

  /* Focus styles */
  .carousel__slides:focus-visible,
  .carousel__navigation-button:focus-visible,
  .carousel__pagination-item:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }
`,Ca=class extends Tt{constructor(){super(...arguments),this.loop=!1,this.navigation=!1,this.pagination=!1,this.autoplay=!1,this.autoplayInterval=3e3,this.slidesPerPage=1,this.slidesPerMove=1,this.orientation="horizontal",this.mouseDragging=!1,this.activeSlide=0,this.scrolling=!1,this.dragging=!1,this.autoplayController=new Sa(this,()=>this.next()),this.dragStartPosition=[-1,-1],this.localize=new Kt(this),this.pendingSlideChange=!1,this.handleMouseDrag=e=>{this.dragging||(this.scrollContainer.style.setProperty("scroll-snap-type","none"),this.dragging=!0,this.dragStartPosition=[e.clientX,e.clientY]),this.scrollContainer.scrollBy({left:-e.movementX,top:-e.movementY,behavior:"instant"})},this.handleMouseDragEnd=()=>{const e=this.scrollContainer;document.removeEventListener("pointermove",this.handleMouseDrag,{capture:!0});const t=e.scrollLeft,i=e.scrollTop;e.style.removeProperty("scroll-snap-type"),e.style.setProperty("overflow","hidden");const r=e.scrollLeft,o=e.scrollTop;e.style.removeProperty("overflow"),e.style.setProperty("scroll-snap-type","none"),e.scrollTo({left:t,top:i,behavior:"instant"}),requestAnimationFrame(async()=>{t===r&&i===o||(e.scrollTo({left:r,top:o,behavior:oi()?"auto":"smooth"}),await Pr(e,"scrollend")),e.style.removeProperty("scroll-snap-type"),this.dragging=!1,this.dragStartPosition=[-1,-1],this.handleScrollEnd()})},this.handleSlotChange=e=>{const t=e.some(e=>[...e.addedNodes,...e.removedNodes].some(e=>this.isCarouselItem(e)&&!e.hasAttribute("data-clone")));t&&this.initializeSlides(),this.requestUpdate()}}connectedCallback(){super.connectedCallback(),this.setAttribute("role","region"),this.setAttribute("aria-label",this.localize.term("carousel"))}disconnectedCallback(){var e;super.disconnectedCallback(),null==(e=this.mutationObserver)||e.disconnect()}firstUpdated(){this.initializeSlides(),this.mutationObserver=new MutationObserver(this.handleSlotChange),this.mutationObserver.observe(this,{childList:!0,subtree:!0})}willUpdate(e){(e.has("slidesPerMove")||e.has("slidesPerPage"))&&(this.slidesPerMove=Math.min(this.slidesPerMove,this.slidesPerPage))}getPageCount(){const e=this.getSlides().length,{slidesPerPage:t,slidesPerMove:i,loop:r}=this,o=r?e/i:(e-t)/i+1;return Math.ceil(o)}getCurrentPage(){return Math.ceil(this.activeSlide/this.slidesPerMove)}canScrollNext(){return this.loop||this.getCurrentPage()<this.getPageCount()-1}canScrollPrev(){return this.loop||this.getCurrentPage()>0}getSlides({excludeClones:e=!0}={}){return[...this.children].filter(t=>this.isCarouselItem(t)&&(!e||!t.hasAttribute("data-clone")))}handleClick(e){if(this.dragging&&this.dragStartPosition[0]>0&&this.dragStartPosition[1]>0){const t=Math.abs(this.dragStartPosition[0]-e.clientX),i=Math.abs(this.dragStartPosition[1]-e.clientY);Math.sqrt(t*t+i*i)>=10&&e.preventDefault()}}handleKeyDown(e){if(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End"].includes(e.key)){const t=e.target,i="rtl"===this.localize.dir(),r=null!==t.closest('[part~="pagination-item"]'),o="ArrowDown"===e.key||!i&&"ArrowRight"===e.key||i&&"ArrowLeft"===e.key,n="ArrowUp"===e.key||!i&&"ArrowLeft"===e.key||i&&"ArrowRight"===e.key;e.preventDefault(),n&&this.previous(),o&&this.next(),"Home"===e.key&&this.goToSlide(0),"End"===e.key&&this.goToSlide(this.getSlides().length-1),r&&this.updateComplete.then(()=>{var e;const t=null==(e=this.shadowRoot)?void 0:e.querySelector('[part~="pagination-item--active"]');t&&t.focus()})}}handleMouseDragStart(e){this.mouseDragging&&0===e.button&&(e.preventDefault(),document.addEventListener("pointermove",this.handleMouseDrag,{capture:!0,passive:!0}),document.addEventListener("pointerup",this.handleMouseDragEnd,{capture:!0,once:!0}))}handleScroll(){this.scrolling=!0,this.pendingSlideChange||this.synchronizeSlides()}synchronizeSlides(){const e=new IntersectionObserver(t=>{e.disconnect();for(const e of t){const t=e.target;t.toggleAttribute("inert",!e.isIntersecting),t.classList.toggle("--in-view",e.isIntersecting),t.setAttribute("aria-hidden",e.isIntersecting?"false":"true")}const i=t.find(e=>e.isIntersecting);if(!i)return;const r=this.getSlides({excludeClones:!1}),o=this.getSlides().length,n=r.indexOf(i.target),a=this.loop?n-this.slidesPerPage:n;if(this.activeSlide=(Math.ceil(a/this.slidesPerMove)*this.slidesPerMove+o)%o,!this.scrolling&&this.loop&&i.target.hasAttribute("data-clone")){const e=Number(i.target.getAttribute("data-clone"));this.goToSlide(e,"instant")}},{root:this.scrollContainer,threshold:.6});this.getSlides({excludeClones:!1}).forEach(t=>{e.observe(t)})}handleScrollEnd(){this.scrolling&&!this.dragging&&(this.scrolling=!1,this.pendingSlideChange=!1,this.synchronizeSlides())}isCarouselItem(e){return e instanceof Element&&"sl-carousel-item"===e.tagName.toLowerCase()}initializeSlides(){this.getSlides({excludeClones:!1}).forEach((e,t)=>{e.classList.remove("--in-view"),e.classList.remove("--is-active"),e.setAttribute("role","group"),e.setAttribute("aria-label",this.localize.term("slideNum",t+1)),this.pagination&&(e.setAttribute("id",`slide-${t+1}`),e.setAttribute("role","tabpanel"),e.removeAttribute("aria-label"),e.setAttribute("aria-labelledby",`tab-${t+1}`)),e.hasAttribute("data-clone")&&e.remove()}),this.updateSlidesSnap(),this.loop&&this.createClones(),this.goToSlide(this.activeSlide,"auto"),this.synchronizeSlides()}createClones(){const e=this.getSlides(),t=this.slidesPerPage,i=e.slice(-t),r=e.slice(0,t);i.reverse().forEach((t,i)=>{const r=t.cloneNode(!0);r.setAttribute("data-clone",String(e.length-i-1)),this.prepend(r)}),r.forEach((e,t)=>{const i=e.cloneNode(!0);i.setAttribute("data-clone",String(t)),this.append(i)})}handleSlideChange(){const e=this.getSlides();e.forEach((e,t)=>{e.classList.toggle("--is-active",t===this.activeSlide)}),this.hasUpdated&&this.emit("sl-slide-change",{detail:{index:this.activeSlide,slide:e[this.activeSlide]}})}updateSlidesSnap(){const e=this.getSlides(),t=this.slidesPerMove;e.forEach((e,i)=>{(i+t)%t===0?e.style.removeProperty("scroll-snap-align"):e.style.setProperty("scroll-snap-align","none")})}handleAutoplayChange(){this.autoplayController.stop(),this.autoplay&&this.autoplayController.start(this.autoplayInterval)}previous(e="smooth"){this.goToSlide(this.activeSlide-this.slidesPerMove,e)}next(e="smooth"){this.goToSlide(this.activeSlide+this.slidesPerMove,e)}goToSlide(e,t="smooth"){const{slidesPerPage:i,loop:r}=this,o=this.getSlides(),n=this.getSlides({excludeClones:!1});if(!o.length)return;const a=r?(e+o.length)%o.length:Br(e,0,o.length-i);this.activeSlide=a;const s=n[Br(e+(r?i:0)+("rtl"===this.localize.dir()?i-1:0),0,n.length-1)];this.scrollToSlide(s,oi()?"auto":t)}scrollToSlide(e,t="smooth"){this.pendingSlideChange=!0,window.requestAnimationFrame(()=>{if(!this.scrollContainer)return;const i=this.scrollContainer,r=i.getBoundingClientRect(),o=e.getBoundingClientRect(),n=o.left-r.left,a=o.top-r.top;n||a?(this.pendingSlideChange=!0,i.scrollTo({left:n+i.scrollLeft,top:a+i.scrollTop,behavior:t})):this.pendingSlideChange=!1})}render(){const{slidesPerMove:e,scrolling:t}=this,i=this.getPageCount(),r=this.getCurrentPage(),o=this.canScrollPrev(),n=this.canScrollNext(),a="ltr"===this.localize.dir();return _e`
      <div part="base" class="carousel">
        <div
          id="scroll-container"
          part="scroll-container"
          class="${Lt({carousel__slides:!0,"carousel__slides--horizontal":"horizontal"===this.orientation,"carousel__slides--vertical":"vertical"===this.orientation,"carousel__slides--dragging":this.dragging})}"
          style="--slides-per-page: ${this.slidesPerPage};"
          aria-busy="${t?"true":"false"}"
          aria-atomic="true"
          tabindex="0"
          @keydown=${this.handleKeyDown}
          @mousedown="${this.handleMouseDragStart}"
          @scroll="${this.handleScroll}"
          @scrollend=${this.handleScrollEnd}
          @click=${this.handleClick}
        >
          <slot></slot>
        </div>

        ${this.navigation?_e`
              <div part="navigation" class="carousel__navigation">
                <button
                  part="navigation-button navigation-button--previous"
                  class="${Lt({"carousel__navigation-button":!0,"carousel__navigation-button--previous":!0,"carousel__navigation-button--disabled":!o})}"
                  aria-label="${this.localize.term("previousSlide")}"
                  aria-controls="scroll-container"
                  aria-disabled="${o?"false":"true"}"
                  @click=${o?()=>this.previous():null}
                >
                  <slot name="previous-icon">
                    <sl-icon library="system" name="${a?"chevron-left":"chevron-right"}"></sl-icon>
                  </slot>
                </button>

                <button
                  part="navigation-button navigation-button--next"
                  class=${Lt({"carousel__navigation-button":!0,"carousel__navigation-button--next":!0,"carousel__navigation-button--disabled":!n})}
                  aria-label="${this.localize.term("nextSlide")}"
                  aria-controls="scroll-container"
                  aria-disabled="${n?"false":"true"}"
                  @click=${n?()=>this.next():null}
                >
                  <slot name="next-icon">
                    <sl-icon library="system" name="${a?"chevron-right":"chevron-left"}"></sl-icon>
                  </slot>
                </button>
              </div>
            `:""}
        ${this.pagination?_e`
              <div part="pagination" role="tablist" class="carousel__pagination">
                ${function*(e,t){if(void 0!==e){let i=0;for(const r of e)yield t(r,i++)}}(function*(e,t,i=1){const r=void 0===t?0:e;t??=e;for(let e=r;i>0?e<t:t<e;e+=i)yield e}(i),t=>{const o=t===r;return _e`
                    <button
                      part="pagination-item ${o?"pagination-item--active":""}"
                      class="${Lt({"carousel__pagination-item":!0,"carousel__pagination-item--active":o})}"
                      role="tab"
                      id="tab-${t+1}"
                      aria-controls="slide-${t+1}"
                      aria-selected="${o?"true":"false"}"
                      aria-label="${o?this.localize.term("slideNum",t+1):this.localize.term("goToSlide",t+1,i)}"
                      tabindex=${o?"0":"-1"}
                      @click=${()=>this.goToSlide(t*e)}
                      @keydown=${this.handleKeyDown}
                    ></button>
                  `})}
              </div>
            `:""}
      </div>
    `}};Ca.styles=[st,xa],Ca.dependencies={"sl-icon":Nt},y([ut({type:Boolean,reflect:!0})],Ca.prototype,"loop",2),y([ut({type:Boolean,reflect:!0})],Ca.prototype,"navigation",2),y([ut({type:Boolean,reflect:!0})],Ca.prototype,"pagination",2),y([ut({type:Boolean,reflect:!0})],Ca.prototype,"autoplay",2),y([ut({type:Number,attribute:"autoplay-interval"})],Ca.prototype,"autoplayInterval",2),y([ut({type:Number,attribute:"slides-per-page"})],Ca.prototype,"slidesPerPage",2),y([ut({type:Number,attribute:"slides-per-move"})],Ca.prototype,"slidesPerMove",2),y([ut()],Ca.prototype,"orientation",2),y([ut({type:Boolean,reflect:!0,attribute:"mouse-dragging"})],Ca.prototype,"mouseDragging",2),y([ft(".carousel__slides")],Ca.prototype,"scrollContainer",2),y([ft(".carousel__pagination")],Ca.prototype,"paginationContainer",2),y([ht()],Ca.prototype,"activeSlide",2),y([ht()],Ca.prototype,"scrolling",2),y([ht()],Ca.prototype,"dragging",2),y([pt({passive:!0})],Ca.prototype,"handleScroll",1),y([at("loop",{waitUntilFirstUpdate:!0}),at("slidesPerPage",{waitUntilFirstUpdate:!0})],Ca.prototype,"initializeSlides",1),y([at("activeSlide")],Ca.prototype,"handleSlideChange",1),y([at("slidesPerMove")],Ca.prototype,"updateSlidesSnap",1),y([at("autoplay")],Ca.prototype,"handleAutoplayChange",1),Ca.define("sl-carousel");var Ia=(e,t)=>{let i=0;return function(...r){window.clearTimeout(i),i=window.setTimeout(()=>{e.call(this,...r)},t)}},Na=(e,t,i)=>{const r=e[t];e[t]=function(...e){r.call(this,...e),i.call(this,r,...e)}};(()=>{if("undefined"!=typeof window&&!("onscrollend"in window)){const e=new Set,t=new WeakMap,i=t=>{for(const i of t.changedTouches)e.add(i.identifier)},r=t=>{for(const i of t.changedTouches)e.delete(i.identifier)};document.addEventListener("touchstart",i,!0),document.addEventListener("touchend",r,!0),document.addEventListener("touchcancel",r,!0),Na(EventTarget.prototype,"addEventListener",function(i,r){if("scrollend"!==r)return;const o=Ia(()=>{e.size?o():this.dispatchEvent(new Event("scrollend"))},100);i.call(this,"scroll",o,{passive:!0}),t.set(this,o)}),Na(EventTarget.prototype,"removeEventListener",function(e,i){if("scrollend"!==i)return;const r=t.get(this);r&&e.call(this,"scroll",r,{passive:!0})})}})();var Da=M`
  :host {
    --aspect-ratio: inherit;

    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column;
    width: 100%;
    max-height: 100%;
    aspect-ratio: var(--aspect-ratio);
    scroll-snap-align: start;
    scroll-snap-stop: always;
  }

  ::slotted(img) {
    width: 100% !important;
    height: 100% !important;
    object-fit: cover;
  }
`,Oa=class extends Tt{connectedCallback(){super.connectedCallback()}render(){return _e` <slot></slot> `}};Oa.styles=[st,Da],Oa.define("sl-carousel-item");var La=M`
  :host {
    display: inline-flex;
  }

  .breadcrumb-item {
    display: inline-flex;
    align-items: center;
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-small);
    font-weight: var(--sl-font-weight-semibold);
    color: var(--sl-color-neutral-600);
    line-height: var(--sl-line-height-normal);
    white-space: nowrap;
  }

  .breadcrumb-item__label {
    display: inline-block;
    font-family: inherit;
    font-size: inherit;
    font-weight: inherit;
    line-height: inherit;
    text-decoration: none;
    color: inherit;
    background: none;
    border: none;
    border-radius: var(--sl-border-radius-medium);
    padding: 0;
    margin: 0;
    cursor: pointer;
    transition: var(--sl-transition-fast) --color;
  }

  :host(:not(:last-of-type)) .breadcrumb-item__label {
    color: var(--sl-color-primary-600);
  }

  :host(:not(:last-of-type)) .breadcrumb-item__label:hover {
    color: var(--sl-color-primary-500);
  }

  :host(:not(:last-of-type)) .breadcrumb-item__label:active {
    color: var(--sl-color-primary-600);
  }

  .breadcrumb-item__label:focus {
    outline: none;
  }

  .breadcrumb-item__label:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .breadcrumb-item__prefix,
  .breadcrumb-item__suffix {
    display: none;
    flex: 0 0 auto;
    display: flex;
    align-items: center;
  }

  .breadcrumb-item--has-prefix .breadcrumb-item__prefix {
    display: inline-flex;
    margin-inline-end: var(--sl-spacing-x-small);
  }

  .breadcrumb-item--has-suffix .breadcrumb-item__suffix {
    display: inline-flex;
    margin-inline-start: var(--sl-spacing-x-small);
  }

  :host(:last-of-type) .breadcrumb-item__separator {
    display: none;
  }

  .breadcrumb-item__separator {
    display: inline-flex;
    align-items: center;
    margin: 0 var(--sl-spacing-x-small);
    user-select: none;
    -webkit-user-select: none;
  }
`,Pa=class extends Tt{constructor(){super(...arguments),this.hasSlotController=new Je(this,"prefix","suffix"),this.renderType="button",this.rel="noreferrer noopener"}setRenderType(){const e=this.defaultSlot.assignedElements({flatten:!0}).filter(e=>"sl-dropdown"===e.tagName.toLowerCase()).length>0;this.href?this.renderType="link":this.renderType=e?"dropdown":"button"}hrefChanged(){this.setRenderType()}handleSlotChange(){this.setRenderType()}render(){return _e`
      <div
        part="base"
        class=${Lt({"breadcrumb-item":!0,"breadcrumb-item--has-prefix":this.hasSlotController.test("prefix"),"breadcrumb-item--has-suffix":this.hasSlotController.test("suffix")})}
      >
        <span part="prefix" class="breadcrumb-item__prefix">
          <slot name="prefix"></slot>
        </span>

        ${"link"===this.renderType?_e`
              <a
                part="label"
                class="breadcrumb-item__label breadcrumb-item__label--link"
                href="${this.href}"
                target="${Pt(this.target?this.target:void 0)}"
                rel=${Pt(this.target?this.rel:void 0)}
              >
                <slot @slotchange=${this.handleSlotChange}></slot>
              </a>
            `:""}
        ${"button"===this.renderType?_e`
              <button part="label" type="button" class="breadcrumb-item__label breadcrumb-item__label--button">
                <slot @slotchange=${this.handleSlotChange}></slot>
              </button>
            `:""}
        ${"dropdown"===this.renderType?_e`
              <div part="label" class="breadcrumb-item__label breadcrumb-item__label--drop-down">
                <slot @slotchange=${this.handleSlotChange}></slot>
              </div>
            `:""}

        <span part="suffix" class="breadcrumb-item__suffix">
          <slot name="suffix"></slot>
        </span>

        <span part="separator" class="breadcrumb-item__separator" aria-hidden="true">
          <slot name="separator"></slot>
        </span>
      </div>
    `}};Pa.styles=[st,La],y([ft("slot:not([name])")],Pa.prototype,"defaultSlot",2),y([ht()],Pa.prototype,"renderType",2),y([ut()],Pa.prototype,"href",2),y([ut()],Pa.prototype,"target",2),y([ut()],Pa.prototype,"rel",2),y([at("href",{waitUntilFirstUpdate:!0})],Pa.prototype,"hrefChanged",1),Pa.define("sl-breadcrumb-item"),Fo.define("sl-button-group");var Ra=M`
  :host {
    display: inline-block;

    --size: 3rem;
  }

  .avatar {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    position: relative;
    width: var(--size);
    height: var(--size);
    background-color: var(--sl-color-neutral-400);
    font-family: var(--sl-font-sans);
    font-size: calc(var(--size) * 0.5);
    font-weight: var(--sl-font-weight-normal);
    color: var(--sl-color-neutral-0);
    user-select: none;
    -webkit-user-select: none;
    vertical-align: middle;
  }

  .avatar--circle,
  .avatar--circle .avatar__image {
    border-radius: var(--sl-border-radius-circle);
  }

  .avatar--rounded,
  .avatar--rounded .avatar__image {
    border-radius: var(--sl-border-radius-medium);
  }

  .avatar--square {
    border-radius: 0;
  }

  .avatar__icon {
    display: flex;
    align-items: center;
    justify-content: center;
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }

  .avatar__initials {
    line-height: 1;
    text-transform: uppercase;
  }

  .avatar__image {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    overflow: hidden;
  }
`,Ma=class extends Tt{constructor(){super(...arguments),this.hasError=!1,this.image="",this.label="",this.initials="",this.loading="eager",this.shape="circle"}handleImageChange(){this.hasError=!1}handleImageLoadError(){this.hasError=!0,this.emit("sl-error")}render(){const e=_e`
      <img
        part="image"
        class="avatar__image"
        src="${this.image}"
        loading="${this.loading}"
        alt=""
        @error="${this.handleImageLoadError}"
      />
    `;let t=_e``;return t=this.initials?_e`<div part="initials" class="avatar__initials">${this.initials}</div>`:_e`
        <div part="icon" class="avatar__icon" aria-hidden="true">
          <slot name="icon">
            <sl-icon name="person-fill" library="system"></sl-icon>
          </slot>
        </div>
      `,_e`
      <div
        part="base"
        class=${Lt({avatar:!0,"avatar--circle":"circle"===this.shape,"avatar--rounded":"rounded"===this.shape,"avatar--square":"square"===this.shape})}
        role="img"
        aria-label=${this.label}
      >
        ${this.image&&!this.hasError?e:t}
      </div>
    `}};Ma.styles=[st,Ra],Ma.dependencies={"sl-icon":Nt},y([ht()],Ma.prototype,"hasError",2),y([ut()],Ma.prototype,"image",2),y([ut()],Ma.prototype,"label",2),y([ut()],Ma.prototype,"initials",2),y([ut()],Ma.prototype,"loading",2),y([ut({reflect:!0})],Ma.prototype,"shape",2),y([at("image")],Ma.prototype,"handleImageChange",1),Ma.define("sl-avatar");var Ba=M`
  .breadcrumb {
    display: flex;
    align-items: center;
    flex-wrap: wrap;
  }
`,Ua=class extends Tt{constructor(){super(...arguments),this.localize=new Kt(this),this.separatorDir=this.localize.dir(),this.label=""}getSeparator(){const e=this.separatorSlot.assignedElements({flatten:!0})[0].cloneNode(!0);return[e,...e.querySelectorAll("[id]")].forEach(e=>e.removeAttribute("id")),e.setAttribute("data-default",""),e.slot="separator",e}handleSlotChange(){const e=[...this.defaultSlot.assignedElements({flatten:!0})].filter(e=>"sl-breadcrumb-item"===e.tagName.toLowerCase());e.forEach((t,i)=>{const r=t.querySelector('[slot="separator"]');null===r?t.append(this.getSeparator()):r.hasAttribute("data-default")&&r.replaceWith(this.getSeparator()),i===e.length-1?t.setAttribute("aria-current","page"):t.removeAttribute("aria-current")})}render(){return this.separatorDir!==this.localize.dir()&&(this.separatorDir=this.localize.dir(),this.updateComplete.then(()=>this.handleSlotChange())),_e`
      <nav part="base" class="breadcrumb" aria-label=${this.label}>
        <slot @slotchange=${this.handleSlotChange}></slot>
      </nav>

      <span hidden aria-hidden="true">
        <slot name="separator">
          <sl-icon name=${"rtl"===this.localize.dir()?"chevron-left":"chevron-right"} library="system"></sl-icon>
        </slot>
      </span>
    `}};Ua.styles=[st,Ba],Ua.dependencies={"sl-icon":Nt},y([ft("slot")],Ua.prototype,"defaultSlot",2),y([ft('slot[name="separator"]')],Ua.prototype,"separatorSlot",2),y([ut()],Ua.prototype,"label",2),Ua.define("sl-breadcrumb"),ta.define("sl-button");var $a=M`
  :host {
    --control-box-size: 3rem;
    --icon-size: calc(var(--control-box-size) * 0.625);

    display: inline-flex;
    position: relative;
    cursor: pointer;
  }

  img {
    display: block;
    width: 100%;
    height: 100%;
  }

  img[aria-hidden='true'] {
    display: none;
  }

  .animated-image__control-box {
    display: flex;
    position: absolute;
    align-items: center;
    justify-content: center;
    top: calc(50% - var(--control-box-size) / 2);
    right: calc(50% - var(--control-box-size) / 2);
    width: var(--control-box-size);
    height: var(--control-box-size);
    font-size: var(--icon-size);
    background: none;
    border: solid 2px currentColor;
    background-color: rgb(0 0 0 /50%);
    border-radius: var(--sl-border-radius-circle);
    color: white;
    pointer-events: none;
    transition: var(--sl-transition-fast) opacity;
  }

  :host([play]:hover) .animated-image__control-box {
    opacity: 1;
  }

  :host([play]:not(:hover)) .animated-image__control-box {
    opacity: 0;
  }

  :host([play]) slot[name='play-icon'],
  :host(:not([play])) slot[name='pause-icon'] {
    display: none;
  }
`,Ga=class extends Tt{constructor(){super(...arguments),this.isLoaded=!1}handleClick(){this.play=!this.play}handleLoad(){const e=document.createElement("canvas"),{width:t,height:i}=this.animatedImage;e.width=t,e.height=i,e.getContext("2d").drawImage(this.animatedImage,0,0,t,i),this.frozenFrame=e.toDataURL("image/gif"),this.isLoaded||(this.emit("sl-load"),this.isLoaded=!0)}handleError(){this.emit("sl-error")}handlePlayChange(){this.play&&(this.animatedImage.src="",this.animatedImage.src=this.src)}handleSrcChange(){this.isLoaded=!1}render(){return _e`
      <div class="animated-image">
        <img
          class="animated-image__animated"
          src=${this.src}
          alt=${this.alt}
          crossorigin="anonymous"
          aria-hidden=${this.play?"false":"true"}
          @click=${this.handleClick}
          @load=${this.handleLoad}
          @error=${this.handleError}
        />

        ${this.isLoaded?_e`
              <img
                class="animated-image__frozen"
                src=${this.frozenFrame}
                alt=${this.alt}
                aria-hidden=${this.play?"true":"false"}
                @click=${this.handleClick}
              />

              <div part="control-box" class="animated-image__control-box">
                <slot name="play-icon"><sl-icon name="play-fill" library="system"></sl-icon></slot>
                <slot name="pause-icon"><sl-icon name="pause-fill" library="system"></sl-icon></slot>
              </div>
            `:""}
      </div>
    `}};Ga.styles=[st,$a],Ga.dependencies={"sl-icon":Nt},y([ft(".animated-image__animated")],Ga.prototype,"animatedImage",2),y([ht()],Ga.prototype,"frozenFrame",2),y([ht()],Ga.prototype,"isLoaded",2),y([ut()],Ga.prototype,"src",2),y([ut()],Ga.prototype,"alt",2),y([ut({type:Boolean,reflect:!0})],Ga.prototype,"play",2),y([at("play",{waitUntilFirstUpdate:!0})],Ga.prototype,"handlePlayChange",1),y([at("src")],Ga.prototype,"handleSrcChange",1),Ga.define("sl-animated-image");var Fa=M`
  :host {
    display: inline-flex;
  }

  .badge {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-size: max(12px, 0.75em);
    font-weight: var(--sl-font-weight-semibold);
    letter-spacing: var(--sl-letter-spacing-normal);
    line-height: 1;
    border-radius: var(--sl-border-radius-small);
    border: solid 1px var(--sl-color-neutral-0);
    white-space: nowrap;
    padding: 0.35em 0.6em;
    user-select: none;
    -webkit-user-select: none;
    cursor: inherit;
  }

  /* Variant modifiers */
  .badge--primary {
    background-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  .badge--success {
    background-color: var(--sl-color-success-600);
    color: var(--sl-color-neutral-0);
  }

  .badge--neutral {
    background-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-0);
  }

  .badge--warning {
    background-color: var(--sl-color-warning-600);
    color: var(--sl-color-neutral-0);
  }

  .badge--danger {
    background-color: var(--sl-color-danger-600);
    color: var(--sl-color-neutral-0);
  }

  /* Pill modifier */
  .badge--pill {
    border-radius: var(--sl-border-radius-pill);
  }

  /* Pulse modifier */
  .badge--pulse {
    animation: pulse 1.5s infinite;
  }

  .badge--pulse.badge--primary {
    --pulse-color: var(--sl-color-primary-600);
  }

  .badge--pulse.badge--success {
    --pulse-color: var(--sl-color-success-600);
  }

  .badge--pulse.badge--neutral {
    --pulse-color: var(--sl-color-neutral-600);
  }

  .badge--pulse.badge--warning {
    --pulse-color: var(--sl-color-warning-600);
  }

  .badge--pulse.badge--danger {
    --pulse-color: var(--sl-color-danger-600);
  }

  @keyframes pulse {
    0% {
      box-shadow: 0 0 0 0 var(--pulse-color);
    }
    70% {
      box-shadow: 0 0 0 0.5rem transparent;
    }
    100% {
      box-shadow: 0 0 0 0 transparent;
    }
  }
`,Ha=class extends Tt{constructor(){super(...arguments),this.variant="primary",this.pill=!1,this.pulse=!1}render(){return _e`
      <span
        part="base"
        class=${Lt({badge:!0,"badge--primary":"primary"===this.variant,"badge--success":"success"===this.variant,"badge--neutral":"neutral"===this.variant,"badge--warning":"warning"===this.variant,"badge--danger":"danger"===this.variant,"badge--pill":this.pill,"badge--pulse":this.pulse})}
        role="status"
      >
        <slot></slot>
      </span>
    `}};Ha.styles=[st,Fa],y([ut({reflect:!0})],Ha.prototype,"variant",2),y([ut({type:Boolean,reflect:!0})],Ha.prototype,"pill",2),y([ut({type:Boolean,reflect:!0})],Ha.prototype,"pulse",2),Ha.define("sl-badge");var za=M`
  :host {
    display: contents;

    /* For better DX, we'll reset the margin here so the base part can inherit it */
    margin: 0;
  }

  .alert {
    position: relative;
    display: flex;
    align-items: stretch;
    background-color: var(--sl-panel-background-color);
    border: solid var(--sl-panel-border-width) var(--sl-panel-border-color);
    border-top-width: calc(var(--sl-panel-border-width) * 3);
    border-radius: var(--sl-border-radius-medium);
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-small);
    font-weight: var(--sl-font-weight-normal);
    line-height: 1.6;
    color: var(--sl-color-neutral-700);
    margin: inherit;
    overflow: hidden;
  }

  .alert:not(.alert--has-icon) .alert__icon,
  .alert:not(.alert--closable) .alert__close-button {
    display: none;
  }

  .alert__icon {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    font-size: var(--sl-font-size-large);
    padding-inline-start: var(--sl-spacing-large);
  }

  .alert--has-countdown {
    border-bottom: none;
  }

  .alert--primary {
    border-top-color: var(--sl-color-primary-600);
  }

  .alert--primary .alert__icon {
    color: var(--sl-color-primary-600);
  }

  .alert--success {
    border-top-color: var(--sl-color-success-600);
  }

  .alert--success .alert__icon {
    color: var(--sl-color-success-600);
  }

  .alert--neutral {
    border-top-color: var(--sl-color-neutral-600);
  }

  .alert--neutral .alert__icon {
    color: var(--sl-color-neutral-600);
  }

  .alert--warning {
    border-top-color: var(--sl-color-warning-600);
  }

  .alert--warning .alert__icon {
    color: var(--sl-color-warning-600);
  }

  .alert--danger {
    border-top-color: var(--sl-color-danger-600);
  }

  .alert--danger .alert__icon {
    color: var(--sl-color-danger-600);
  }

  .alert__message {
    flex: 1 1 auto;
    display: block;
    padding: var(--sl-spacing-large);
    overflow: hidden;
  }

  .alert__close-button {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    font-size: var(--sl-font-size-medium);
    margin-inline-end: var(--sl-spacing-medium);
    align-self: center;
  }

  .alert__countdown {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: calc(var(--sl-panel-border-width) * 3);
    background-color: var(--sl-panel-border-color);
    display: flex;
  }

  .alert__countdown--ltr {
    justify-content: flex-end;
  }

  .alert__countdown .alert__countdown-elapsed {
    height: 100%;
    width: 0;
  }

  .alert--primary .alert__countdown-elapsed {
    background-color: var(--sl-color-primary-600);
  }

  .alert--success .alert__countdown-elapsed {
    background-color: var(--sl-color-success-600);
  }

  .alert--neutral .alert__countdown-elapsed {
    background-color: var(--sl-color-neutral-600);
  }

  .alert--warning .alert__countdown-elapsed {
    background-color: var(--sl-color-warning-600);
  }

  .alert--danger .alert__countdown-elapsed {
    background-color: var(--sl-color-danger-600);
  }

  .alert__timer {
    display: none;
  }
`,ja=class e extends Tt{constructor(){super(...arguments),this.hasSlotController=new Je(this,"icon","suffix"),this.localize=new Kt(this),this.open=!1,this.closable=!1,this.variant="primary",this.duration=1/0,this.remainingTime=this.duration}static get toastStack(){return this.currentToastStack||(this.currentToastStack=Object.assign(document.createElement("div"),{className:"sl-toast-stack"})),this.currentToastStack}firstUpdated(){this.base.hidden=!this.open}restartAutoHide(){this.handleCountdownChange(),clearTimeout(this.autoHideTimeout),clearInterval(this.remainingTimeInterval),this.open&&this.duration<1/0&&(this.autoHideTimeout=window.setTimeout(()=>this.hide(),this.duration),this.remainingTime=this.duration,this.remainingTimeInterval=window.setInterval(()=>{this.remainingTime-=100},100))}pauseAutoHide(){var e;null==(e=this.countdownAnimation)||e.pause(),clearTimeout(this.autoHideTimeout),clearInterval(this.remainingTimeInterval)}resumeAutoHide(){var e;this.duration<1/0&&(this.autoHideTimeout=window.setTimeout(()=>this.hide(),this.remainingTime),this.remainingTimeInterval=window.setInterval(()=>{this.remainingTime-=100},100),null==(e=this.countdownAnimation)||e.play())}handleCountdownChange(){if(this.open&&this.duration<1/0&&this.countdown){const{countdownElement:e}=this,t="100%",i="0";this.countdownAnimation=e.animate([{width:t},{width:i}],{duration:this.duration,easing:"linear"})}}handleCloseClick(){this.hide()}async handleOpenChange(){if(this.open){this.emit("sl-show"),this.duration<1/0&&this.restartAutoHide(),await ni(this.base),this.base.hidden=!1;const{keyframes:e,options:t}=ti(this,"alert.show",{dir:this.localize.dir()});await ii(this.base,e,t),this.emit("sl-after-show")}else{zn(this),this.emit("sl-hide"),clearTimeout(this.autoHideTimeout),clearInterval(this.remainingTimeInterval),await ni(this.base);const{keyframes:e,options:t}=ti(this,"alert.hide",{dir:this.localize.dir()});await ii(this.base,e,t),this.base.hidden=!0,this.emit("sl-after-hide")}}handleDurationChange(){this.restartAutoHide()}async show(){if(!this.open)return this.open=!0,Pr(this,"sl-after-show")}async hide(){if(this.open)return this.open=!1,Pr(this,"sl-after-hide")}async toast(){return new Promise(t=>{this.handleCountdownChange(),null===e.toastStack.parentElement&&document.body.append(e.toastStack),e.toastStack.appendChild(this),requestAnimationFrame(()=>{this.clientWidth,this.show()}),this.addEventListener("sl-after-hide",()=>{e.toastStack.removeChild(this),t(),null===e.toastStack.querySelector("sl-alert")&&e.toastStack.remove()},{once:!0})})}render(){return _e`
      <div
        part="base"
        class=${Lt({alert:!0,"alert--open":this.open,"alert--closable":this.closable,"alert--has-countdown":!!this.countdown,"alert--has-icon":this.hasSlotController.test("icon"),"alert--primary":"primary"===this.variant,"alert--success":"success"===this.variant,"alert--neutral":"neutral"===this.variant,"alert--warning":"warning"===this.variant,"alert--danger":"danger"===this.variant})}
        role="alert"
        aria-hidden=${this.open?"false":"true"}
        @mouseenter=${this.pauseAutoHide}
        @mouseleave=${this.resumeAutoHide}
      >
        <div part="icon" class="alert__icon">
          <slot name="icon"></slot>
        </div>

        <div part="message" class="alert__message" aria-live="polite">
          <slot></slot>
        </div>

        ${this.closable?_e`
              <sl-icon-button
                part="close-button"
                exportparts="base:close-button__base"
                class="alert__close-button"
                name="x-lg"
                library="system"
                label=${this.localize.term("close")}
                @click=${this.handleCloseClick}
              ></sl-icon-button>
            `:""}

        <div role="timer" class="alert__timer">${this.remainingTime}</div>

        ${this.countdown?_e`
              <div
                class=${Lt({alert__countdown:!0,"alert__countdown--ltr":"ltr"===this.countdown})}
              >
                <div class="alert__countdown-elapsed"></div>
              </div>
            `:""}
      </div>
    `}};ja.styles=[st,za],ja.dependencies={"sl-icon-button":Qr},y([ft('[part~="base"]')],ja.prototype,"base",2),y([ft(".alert__countdown-elapsed")],ja.prototype,"countdownElement",2),y([ut({type:Boolean,reflect:!0})],ja.prototype,"open",2),y([ut({type:Boolean,reflect:!0})],ja.prototype,"closable",2),y([ut({reflect:!0})],ja.prototype,"variant",2),y([ut({type:Number})],ja.prototype,"duration",2),y([ut({type:String,reflect:!0})],ja.prototype,"countdown",2),y([ht()],ja.prototype,"remainingTime",2),y([at("open",{waitUntilFirstUpdate:!0})],ja.prototype,"handleOpenChange",1),y([at("duration")],ja.prototype,"handleDurationChange",1);var Va=ja;ei("alert.show",{keyframes:[{opacity:0,scale:.8},{opacity:1,scale:1}],options:{duration:250,easing:"ease"}}),ei("alert.hide",{keyframes:[{opacity:1,scale:1},{opacity:0,scale:.8}],options:{duration:250,easing:"ease"}}),Va.define("sl-alert");const Wa=[{offset:0,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)",transform:"translate3d(0, 0, 0)"},{offset:.2,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)",transform:"translate3d(0, 0, 0)"},{offset:.4,easing:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",transform:"translate3d(0, -30px, 0) scaleY(1.1)"},{offset:.43,easing:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",transform:"translate3d(0, -30px, 0) scaleY(1.1)"},{offset:.53,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)",transform:"translate3d(0, 0, 0)"},{offset:.7,easing:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",transform:"translate3d(0, -15px, 0) scaleY(1.05)"},{offset:.8,"transition-timing-function":"cubic-bezier(0.215, 0.61, 0.355, 1)",transform:"translate3d(0, 0, 0) scaleY(0.95)"},{offset:.9,transform:"translate3d(0, -4px, 0) scaleY(1.02)"},{offset:1,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)",transform:"translate3d(0, 0, 0)"}],qa=[{offset:0,opacity:"1"},{offset:.25,opacity:"0"},{offset:.5,opacity:"1"},{offset:.75,opacity:"0"},{offset:1,opacity:"1"}],Ya=[{offset:0,transform:"translateX(0)"},{offset:.065,transform:"translateX(-6px) rotateY(-9deg)"},{offset:.185,transform:"translateX(5px) rotateY(7deg)"},{offset:.315,transform:"translateX(-3px) rotateY(-5deg)"},{offset:.435,transform:"translateX(2px) rotateY(3deg)"},{offset:.5,transform:"translateX(0)"}],Ka=[{offset:0,transform:"scale(1)"},{offset:.14,transform:"scale(1.3)"},{offset:.28,transform:"scale(1)"},{offset:.42,transform:"scale(1.3)"},{offset:.7,transform:"scale(1)"}],Xa=[{offset:0,transform:"translate3d(0, 0, 0)"},{offset:.111,transform:"translate3d(0, 0, 0)"},{offset:.222,transform:"skewX(-12.5deg) skewY(-12.5deg)"},{offset:.33299999999999996,transform:"skewX(6.25deg) skewY(6.25deg)"},{offset:.444,transform:"skewX(-3.125deg) skewY(-3.125deg)"},{offset:.555,transform:"skewX(1.5625deg) skewY(1.5625deg)"},{offset:.6659999999999999,transform:"skewX(-0.78125deg) skewY(-0.78125deg)"},{offset:.777,transform:"skewX(0.390625deg) skewY(0.390625deg)"},{offset:.888,transform:"skewX(-0.1953125deg) skewY(-0.1953125deg)"},{offset:1,transform:"translate3d(0, 0, 0)"}],Ja=[{offset:0,transform:"scale3d(1, 1, 1)"},{offset:.5,transform:"scale3d(1.05, 1.05, 1.05)"},{offset:1,transform:"scale3d(1, 1, 1)"}],Za=[{offset:0,transform:"scale3d(1, 1, 1)"},{offset:.3,transform:"scale3d(1.25, 0.75, 1)"},{offset:.4,transform:"scale3d(0.75, 1.25, 1)"},{offset:.5,transform:"scale3d(1.15, 0.85, 1)"},{offset:.65,transform:"scale3d(0.95, 1.05, 1)"},{offset:.75,transform:"scale3d(1.05, 0.95, 1)"},{offset:1,transform:"scale3d(1, 1, 1)"}],Qa=[{offset:0,transform:"translate3d(0, 0, 0)"},{offset:.1,transform:"translate3d(-10px, 0, 0)"},{offset:.2,transform:"translate3d(10px, 0, 0)"},{offset:.3,transform:"translate3d(-10px, 0, 0)"},{offset:.4,transform:"translate3d(10px, 0, 0)"},{offset:.5,transform:"translate3d(-10px, 0, 0)"},{offset:.6,transform:"translate3d(10px, 0, 0)"},{offset:.7,transform:"translate3d(-10px, 0, 0)"},{offset:.8,transform:"translate3d(10px, 0, 0)"},{offset:.9,transform:"translate3d(-10px, 0, 0)"},{offset:1,transform:"translate3d(0, 0, 0)"}],es=[{offset:0,transform:"translate3d(0, 0, 0)"},{offset:.1,transform:"translate3d(-10px, 0, 0)"},{offset:.2,transform:"translate3d(10px, 0, 0)"},{offset:.3,transform:"translate3d(-10px, 0, 0)"},{offset:.4,transform:"translate3d(10px, 0, 0)"},{offset:.5,transform:"translate3d(-10px, 0, 0)"},{offset:.6,transform:"translate3d(10px, 0, 0)"},{offset:.7,transform:"translate3d(-10px, 0, 0)"},{offset:.8,transform:"translate3d(10px, 0, 0)"},{offset:.9,transform:"translate3d(-10px, 0, 0)"},{offset:1,transform:"translate3d(0, 0, 0)"}],ts=[{offset:0,transform:"translate3d(0, 0, 0)"},{offset:.1,transform:"translate3d(0, -10px, 0)"},{offset:.2,transform:"translate3d(0, 10px, 0)"},{offset:.3,transform:"translate3d(0, -10px, 0)"},{offset:.4,transform:"translate3d(0, 10px, 0)"},{offset:.5,transform:"translate3d(0, -10px, 0)"},{offset:.6,transform:"translate3d(0, 10px, 0)"},{offset:.7,transform:"translate3d(0, -10px, 0)"},{offset:.8,transform:"translate3d(0, 10px, 0)"},{offset:.9,transform:"translate3d(0, -10px, 0)"},{offset:1,transform:"translate3d(0, 0, 0)"}],is=[{offset:.2,transform:"rotate3d(0, 0, 1, 15deg)"},{offset:.4,transform:"rotate3d(0, 0, 1, -10deg)"},{offset:.6,transform:"rotate3d(0, 0, 1, 5deg)"},{offset:.8,transform:"rotate3d(0, 0, 1, -5deg)"},{offset:1,transform:"rotate3d(0, 0, 1, 0deg)"}],rs=[{offset:0,transform:"scale3d(1, 1, 1)"},{offset:.1,transform:"scale3d(0.9, 0.9, 0.9) rotate3d(0, 0, 1, -3deg)"},{offset:.2,transform:"scale3d(0.9, 0.9, 0.9) rotate3d(0, 0, 1, -3deg)"},{offset:.3,transform:"scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, 3deg)"},{offset:.4,transform:"scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, -3deg)"},{offset:.5,transform:"scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, 3deg)"},{offset:.6,transform:"scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, -3deg)"},{offset:.7,transform:"scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, 3deg)"},{offset:.8,transform:"scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, -3deg)"},{offset:.9,transform:"scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, 3deg)"},{offset:1,transform:"scale3d(1, 1, 1)"}],os=[{offset:0,transform:"translate3d(0, 0, 0)"},{offset:.15,transform:"translate3d(-25%, 0, 0) rotate3d(0, 0, 1, -5deg)"},{offset:.3,transform:"translate3d(20%, 0, 0) rotate3d(0, 0, 1, 3deg)"},{offset:.45,transform:"translate3d(-15%, 0, 0) rotate3d(0, 0, 1, -3deg)"},{offset:.6,transform:"translate3d(10%, 0, 0) rotate3d(0, 0, 1, 2deg)"},{offset:.75,transform:"translate3d(-5%, 0, 0) rotate3d(0, 0, 1, -1deg)"},{offset:1,transform:"translate3d(0, 0, 0)"}],ns=[{offset:0,transform:"translateY(-1200px) scale(0.7)",opacity:"0.7"},{offset:.8,transform:"translateY(0px) scale(0.7)",opacity:"0.7"},{offset:1,transform:"scale(1)",opacity:"1"}],as=[{offset:0,transform:"translateX(-2000px) scale(0.7)",opacity:"0.7"},{offset:.8,transform:"translateX(0px) scale(0.7)",opacity:"0.7"},{offset:1,transform:"scale(1)",opacity:"1"}],ss=[{offset:0,transform:"translateX(2000px) scale(0.7)",opacity:"0.7"},{offset:.8,transform:"translateX(0px) scale(0.7)",opacity:"0.7"},{offset:1,transform:"scale(1)",opacity:"1"}],ls=[{offset:0,transform:"translateY(1200px) scale(0.7)",opacity:"0.7"},{offset:.8,transform:"translateY(0px) scale(0.7)",opacity:"0.7"},{offset:1,transform:"scale(1)",opacity:"1"}],cs=[{offset:0,transform:"scale(1)",opacity:"1"},{offset:.2,transform:"translateY(0px) scale(0.7)",opacity:"0.7"},{offset:1,transform:"translateY(700px) scale(0.7)",opacity:"0.7"}],ds=[{offset:0,transform:"scale(1)",opacity:"1"},{offset:.2,transform:"translateX(0px) scale(0.7)",opacity:"0.7"},{offset:1,transform:"translateX(-2000px) scale(0.7)",opacity:"0.7"}],us=[{offset:0,transform:"scale(1)",opacity:"1"},{offset:.2,transform:"translateX(0px) scale(0.7)",opacity:"0.7"},{offset:1,transform:"translateX(2000px) scale(0.7)",opacity:"0.7"}],hs=[{offset:0,transform:"scale(1)",opacity:"1"},{offset:.2,transform:"translateY(0px) scale(0.7)",opacity:"0.7"},{offset:1,transform:"translateY(-700px) scale(0.7)",opacity:"0.7"}],ps=[{offset:0,opacity:"0",transform:"scale3d(0.3, 0.3, 0.3)"},{offset:0,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"},{offset:.2,transform:"scale3d(1.1, 1.1, 1.1)"},{offset:.2,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"},{offset:.4,transform:"scale3d(0.9, 0.9, 0.9)"},{offset:.4,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"},{offset:.6,opacity:"1",transform:"scale3d(1.03, 1.03, 1.03)"},{offset:.6,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"},{offset:.8,transform:"scale3d(0.97, 0.97, 0.97)"},{offset:.8,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"},{offset:1,opacity:"1",transform:"scale3d(1, 1, 1)"},{offset:1,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"}],gs=[{offset:0,opacity:"0",transform:"translate3d(0, -3000px, 0) scaleY(3)"},{offset:0,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"},{offset:.6,opacity:"1",transform:"translate3d(0, 25px, 0) scaleY(0.9)"},{offset:.6,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"},{offset:.75,transform:"translate3d(0, -10px, 0) scaleY(0.95)"},{offset:.75,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"},{offset:.9,transform:"translate3d(0, 5px, 0) scaleY(0.985)"},{offset:.9,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"},{offset:1,transform:"translate3d(0, 0, 0)"},{offset:1,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"}],fs=[{offset:0,opacity:"0",transform:"translate3d(-3000px, 0, 0) scaleX(3)"},{offset:0,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"},{offset:.6,opacity:"1",transform:"translate3d(25px, 0, 0) scaleX(1)"},{offset:.6,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"},{offset:.75,transform:"translate3d(-10px, 0, 0) scaleX(0.98)"},{offset:.75,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"},{offset:.9,transform:"translate3d(5px, 0, 0) scaleX(0.995)"},{offset:.9,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"},{offset:1,transform:"translate3d(0, 0, 0)"},{offset:1,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"}],ms=[{offset:0,opacity:"0",transform:"translate3d(3000px, 0, 0) scaleX(3)"},{offset:0,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"},{offset:.6,opacity:"1",transform:"translate3d(-25px, 0, 0) scaleX(1)"},{offset:.6,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"},{offset:.75,transform:"translate3d(10px, 0, 0) scaleX(0.98)"},{offset:.75,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"},{offset:.9,transform:"translate3d(-5px, 0, 0) scaleX(0.995)"},{offset:.9,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"},{offset:1,transform:"translate3d(0, 0, 0)"},{offset:1,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"}],bs=[{offset:0,opacity:"0",transform:"translate3d(0, 3000px, 0) scaleY(5)"},{offset:0,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"},{offset:.6,opacity:"1",transform:"translate3d(0, -20px, 0) scaleY(0.9)"},{offset:.6,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"},{offset:.75,transform:"translate3d(0, 10px, 0) scaleY(0.95)"},{offset:.75,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"},{offset:.9,transform:"translate3d(0, -5px, 0) scaleY(0.985)"},{offset:.9,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"},{offset:1,transform:"translate3d(0, 0, 0)"},{offset:1,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"}],ys=[{offset:.2,transform:"scale3d(0.9, 0.9, 0.9)"},{offset:.5,opacity:"1",transform:"scale3d(1.1, 1.1, 1.1)"},{offset:.55,opacity:"1",transform:"scale3d(1.1, 1.1, 1.1)"},{offset:1,opacity:"0",transform:"scale3d(0.3, 0.3, 0.3)"}],vs=[{offset:.2,transform:"translate3d(0, 10px, 0) scaleY(0.985)"},{offset:.4,opacity:"1",transform:"translate3d(0, -20px, 0) scaleY(0.9)"},{offset:.45,opacity:"1",transform:"translate3d(0, -20px, 0) scaleY(0.9)"},{offset:1,opacity:"0",transform:"translate3d(0, 2000px, 0) scaleY(3)"}],ws=[{offset:.2,opacity:"1",transform:"translate3d(20px, 0, 0) scaleX(0.9)"},{offset:1,opacity:"0",transform:"translate3d(-2000px, 0, 0) scaleX(2)"}],_s=[{offset:.2,opacity:"1",transform:"translate3d(-20px, 0, 0) scaleX(0.9)"},{offset:1,opacity:"0",transform:"translate3d(2000px, 0, 0) scaleX(2)"}],Ts=[{offset:.2,transform:"translate3d(0, -10px, 0) scaleY(0.985)"},{offset:.4,opacity:"1",transform:"translate3d(0, 20px, 0) scaleY(0.9)"},{offset:.45,opacity:"1",transform:"translate3d(0, 20px, 0) scaleY(0.9)"},{offset:1,opacity:"0",transform:"translate3d(0, -2000px, 0) scaleY(3)"}],As=[{offset:0,opacity:"0"},{offset:1,opacity:"1"}],Es=[{offset:0,opacity:"0",transform:"translate3d(-100%, 100%, 0)"},{offset:1,opacity:"1",transform:"translate3d(0, 0, 0)"}],ks=[{offset:0,opacity:"0",transform:"translate3d(100%, 100%, 0)"},{offset:1,opacity:"1",transform:"translate3d(0, 0, 0)"}],Ss=[{offset:0,opacity:"0",transform:"translate3d(0, -100%, 0)"},{offset:1,opacity:"1",transform:"translate3d(0, 0, 0)"}],xs=[{offset:0,opacity:"0",transform:"translate3d(0, -2000px, 0)"},{offset:1,opacity:"1",transform:"translate3d(0, 0, 0)"}],Cs=[{offset:0,opacity:"0",transform:"translate3d(-100%, 0, 0)"},{offset:1,opacity:"1",transform:"translate3d(0, 0, 0)"}],Is=[{offset:0,opacity:"0",transform:"translate3d(-2000px, 0, 0)"},{offset:1,opacity:"1",transform:"translate3d(0, 0, 0)"}],Ns=[{offset:0,opacity:"0",transform:"translate3d(100%, 0, 0)"},{offset:1,opacity:"1",transform:"translate3d(0, 0, 0)"}],Ds=[{offset:0,opacity:"0",transform:"translate3d(2000px, 0, 0)"},{offset:1,opacity:"1",transform:"translate3d(0, 0, 0)"}],Os=[{offset:0,opacity:"0",transform:"translate3d(-100%, -100%, 0)"},{offset:1,opacity:"1",transform:"translate3d(0, 0, 0)"}],Ls=[{offset:0,opacity:"0",transform:"translate3d(100%, -100%, 0)"},{offset:1,opacity:"1",transform:"translate3d(0, 0, 0)"}],Ps=[{offset:0,opacity:"0",transform:"translate3d(0, 100%, 0)"},{offset:1,opacity:"1",transform:"translate3d(0, 0, 0)"}],Rs=[{offset:0,opacity:"0",transform:"translate3d(0, 2000px, 0)"},{offset:1,opacity:"1",transform:"translate3d(0, 0, 0)"}],Ms=[{offset:0,opacity:"1"},{offset:1,opacity:"0"}],Bs=[{offset:0,opacity:"1",transform:"translate3d(0, 0, 0)"},{offset:1,opacity:"0",transform:"translate3d(-100%, 100%, 0)"}],Us=[{offset:0,opacity:"1",transform:"translate3d(0, 0, 0)"},{offset:1,opacity:"0",transform:"translate3d(100%, 100%, 0)"}],$s=[{offset:0,opacity:"1"},{offset:1,opacity:"0",transform:"translate3d(0, 100%, 0)"}],Gs=[{offset:0,opacity:"1"},{offset:1,opacity:"0",transform:"translate3d(0, 2000px, 0)"}],Fs=[{offset:0,opacity:"1"},{offset:1,opacity:"0",transform:"translate3d(-100%, 0, 0)"}],Hs=[{offset:0,opacity:"1"},{offset:1,opacity:"0",transform:"translate3d(-2000px, 0, 0)"}],zs=[{offset:0,opacity:"1"},{offset:1,opacity:"0",transform:"translate3d(100%, 0, 0)"}],js=[{offset:0,opacity:"1"},{offset:1,opacity:"0",transform:"translate3d(2000px, 0, 0)"}],Vs=[{offset:0,opacity:"1",transform:"translate3d(0, 0, 0)"},{offset:1,opacity:"0",transform:"translate3d(-100%, -100%, 0)"}],Ws=[{offset:0,opacity:"1",transform:"translate3d(0, 0, 0)"},{offset:1,opacity:"0",transform:"translate3d(100%, -100%, 0)"}],qs=[{offset:0,opacity:"1"},{offset:1,opacity:"0",transform:"translate3d(0, -100%, 0)"}],Ys=[{offset:0,opacity:"1"},{offset:1,opacity:"0",transform:"translate3d(0, -2000px, 0)"}],Ks=[{offset:0,transform:"perspective(400px) scale3d(1, 1, 1) translate3d(0, 0, 0) rotate3d(0, 1, 0, -360deg)",easing:"ease-out"},{offset:.4,transform:"perspective(400px) scale3d(1, 1, 1) translate3d(0, 0, 150px)\n      rotate3d(0, 1, 0, -190deg)",easing:"ease-out"},{offset:.5,transform:"perspective(400px) scale3d(1, 1, 1) translate3d(0, 0, 150px)\n      rotate3d(0, 1, 0, -170deg)",easing:"ease-in"},{offset:.8,transform:"perspective(400px) scale3d(0.95, 0.95, 0.95) translate3d(0, 0, 0)\n      rotate3d(0, 1, 0, 0deg)",easing:"ease-in"},{offset:1,transform:"perspective(400px) scale3d(1, 1, 1) translate3d(0, 0, 0) rotate3d(0, 1, 0, 0deg)",easing:"ease-in"}],Xs=[{offset:0,transform:"perspective(400px) rotate3d(1, 0, 0, 90deg)",easing:"ease-in",opacity:"0"},{offset:.4,transform:"perspective(400px) rotate3d(1, 0, 0, -20deg)",easing:"ease-in"},{offset:.6,transform:"perspective(400px) rotate3d(1, 0, 0, 10deg)",opacity:"1"},{offset:.8,transform:"perspective(400px) rotate3d(1, 0, 0, -5deg)"},{offset:1,transform:"perspective(400px)"}],Js=[{offset:0,transform:"perspective(400px) rotate3d(0, 1, 0, 90deg)",easing:"ease-in",opacity:"0"},{offset:.4,transform:"perspective(400px) rotate3d(0, 1, 0, -20deg)",easing:"ease-in"},{offset:.6,transform:"perspective(400px) rotate3d(0, 1, 0, 10deg)",opacity:"1"},{offset:.8,transform:"perspective(400px) rotate3d(0, 1, 0, -5deg)"},{offset:1,transform:"perspective(400px)"}],Zs=[{offset:0,transform:"perspective(400px)"},{offset:.3,transform:"perspective(400px) rotate3d(1, 0, 0, -20deg)",opacity:"1"},{offset:1,transform:"perspective(400px) rotate3d(1, 0, 0, 90deg)",opacity:"0"}],Qs=[{offset:0,transform:"perspective(400px)"},{offset:.3,transform:"perspective(400px) rotate3d(0, 1, 0, -15deg)",opacity:"1"},{offset:1,transform:"perspective(400px) rotate3d(0, 1, 0, 90deg)",opacity:"0"}],el=[{offset:0,transform:"translate3d(-100%, 0, 0) skewX(30deg)",opacity:"0"},{offset:.6,transform:"skewX(-20deg)",opacity:"1"},{offset:.8,transform:"skewX(5deg)"},{offset:1,transform:"translate3d(0, 0, 0)"}],tl=[{offset:0,transform:"translate3d(100%, 0, 0) skewX(-30deg)",opacity:"0"},{offset:.6,transform:"skewX(20deg)",opacity:"1"},{offset:.8,transform:"skewX(-5deg)"},{offset:1,transform:"translate3d(0, 0, 0)"}],il=[{offset:0,opacity:"1"},{offset:1,transform:"translate3d(-100%, 0, 0) skewX(-30deg)",opacity:"0"}],rl=[{offset:0,opacity:"1"},{offset:1,transform:"translate3d(100%, 0, 0) skewX(30deg)",opacity:"0"}],ol=[{offset:0,transform:"rotate3d(0, 0, 1, -200deg)",opacity:"0"},{offset:1,transform:"translate3d(0, 0, 0)",opacity:"1"}],nl=[{offset:0,transform:"rotate3d(0, 0, 1, -45deg)",opacity:"0"},{offset:1,transform:"translate3d(0, 0, 0)",opacity:"1"}],al=[{offset:0,transform:"rotate3d(0, 0, 1, 45deg)",opacity:"0"},{offset:1,transform:"translate3d(0, 0, 0)",opacity:"1"}],sl=[{offset:0,transform:"rotate3d(0, 0, 1, 45deg)",opacity:"0"},{offset:1,transform:"translate3d(0, 0, 0)",opacity:"1"}],ll=[{offset:0,transform:"rotate3d(0, 0, 1, -90deg)",opacity:"0"},{offset:1,transform:"translate3d(0, 0, 0)",opacity:"1"}],cl=[{offset:0,opacity:"1"},{offset:1,transform:"rotate3d(0, 0, 1, 200deg)",opacity:"0"}],dl=[{offset:0,opacity:"1"},{offset:1,transform:"rotate3d(0, 0, 1, 45deg)",opacity:"0"}],ul=[{offset:0,opacity:"1"},{offset:1,transform:"rotate3d(0, 0, 1, -45deg)",opacity:"0"}],hl=[{offset:0,opacity:"1"},{offset:1,transform:"rotate3d(0, 0, 1, -45deg)",opacity:"0"}],pl=[{offset:0,opacity:"1"},{offset:1,transform:"rotate3d(0, 0, 1, 90deg)",opacity:"0"}],gl=[{offset:0,transform:"translate3d(0, -100%, 0)",visibility:"visible"},{offset:1,transform:"translate3d(0, 0, 0)"}],fl=[{offset:0,transform:"translate3d(-100%, 0, 0)",visibility:"visible"},{offset:1,transform:"translate3d(0, 0, 0)"}],ml=[{offset:0,transform:"translate3d(100%, 0, 0)",visibility:"visible"},{offset:1,transform:"translate3d(0, 0, 0)"}],bl=[{offset:0,transform:"translate3d(0, 100%, 0)",visibility:"visible"},{offset:1,transform:"translate3d(0, 0, 0)"}],yl=[{offset:0,transform:"translate3d(0, 0, 0)"},{offset:1,visibility:"hidden",transform:"translate3d(0, 100%, 0)"}],vl=[{offset:0,transform:"translate3d(0, 0, 0)"},{offset:1,visibility:"hidden",transform:"translate3d(-100%, 0, 0)"}],wl=[{offset:0,transform:"translate3d(0, 0, 0)"},{offset:1,visibility:"hidden",transform:"translate3d(100%, 0, 0)"}],_l=[{offset:0,transform:"translate3d(0, 0, 0)"},{offset:1,visibility:"hidden",transform:"translate3d(0, -100%, 0)"}],Tl=[{offset:0,easing:"ease-in-out"},{offset:.2,transform:"rotate3d(0, 0, 1, 80deg)",easing:"ease-in-out"},{offset:.4,transform:"rotate3d(0, 0, 1, 60deg)",easing:"ease-in-out",opacity:"1"},{offset:.6,transform:"rotate3d(0, 0, 1, 80deg)",easing:"ease-in-out"},{offset:.8,transform:"rotate3d(0, 0, 1, 60deg)",easing:"ease-in-out",opacity:"1"},{offset:1,transform:"translate3d(0, 700px, 0)",opacity:"0"}],Al=[{offset:0,opacity:"0",transform:"scale(0.1) rotate(30deg)","transform-origin":"center bottom"},{offset:.5,transform:"rotate(-10deg)"},{offset:.7,transform:"rotate(3deg)"},{offset:1,opacity:"1",transform:"scale(1)"}],El=[{offset:0,opacity:"0",transform:"translate3d(-100%, 0, 0) rotate3d(0, 0, 1, -120deg)"},{offset:1,opacity:"1",transform:"translate3d(0, 0, 0)"}],kl=[{offset:0,opacity:"1"},{offset:1,opacity:"0",transform:"translate3d(100%, 0, 0) rotate3d(0, 0, 1, 120deg)"}],Sl=[{offset:0,opacity:"0",transform:"scale3d(0.3, 0.3, 0.3)"},{offset:.5,opacity:"1"}],xl=[{offset:0,opacity:"0",transform:"scale3d(0.1, 0.1, 0.1) translate3d(0, -1000px, 0)",easing:"cubic-bezier(0.55, 0.055, 0.675, 0.19)"},{offset:.6,opacity:"1",transform:"scale3d(0.475, 0.475, 0.475) translate3d(0, 60px, 0)",easing:"cubic-bezier(0.175, 0.885, 0.32, 1)"}],Cl=[{offset:0,opacity:"0",transform:"scale3d(0.1, 0.1, 0.1) translate3d(-1000px, 0, 0)",easing:"cubic-bezier(0.55, 0.055, 0.675, 0.19)"},{offset:.6,opacity:"1",transform:"scale3d(0.475, 0.475, 0.475) translate3d(10px, 0, 0)",easing:"cubic-bezier(0.175, 0.885, 0.32, 1)"}],Il=[{offset:0,opacity:"0",transform:"scale3d(0.1, 0.1, 0.1) translate3d(1000px, 0, 0)",easing:"cubic-bezier(0.55, 0.055, 0.675, 0.19)"},{offset:.6,opacity:"1",transform:"scale3d(0.475, 0.475, 0.475) translate3d(-10px, 0, 0)",easing:"cubic-bezier(0.175, 0.885, 0.32, 1)"}],Nl=[{offset:0,opacity:"0",transform:"scale3d(0.1, 0.1, 0.1) translate3d(0, 1000px, 0)",easing:"cubic-bezier(0.55, 0.055, 0.675, 0.19)"},{offset:.6,opacity:"1",transform:"scale3d(0.475, 0.475, 0.475) translate3d(0, -60px, 0)",easing:"cubic-bezier(0.175, 0.885, 0.32, 1)"}],Dl=[{offset:0,opacity:"1"},{offset:.5,opacity:"0",transform:"scale3d(0.3, 0.3, 0.3)"},{offset:1,opacity:"0"}],Ol=[{offset:.4,opacity:"1",transform:"scale3d(0.475, 0.475, 0.475) translate3d(0, -60px, 0)",easing:"cubic-bezier(0.55, 0.055, 0.675, 0.19)"},{offset:1,opacity:"0",transform:"scale3d(0.1, 0.1, 0.1) translate3d(0, 2000px, 0)",easing:"cubic-bezier(0.175, 0.885, 0.32, 1)"}],Ll=[{offset:.4,opacity:"1",transform:"scale3d(0.475, 0.475, 0.475) translate3d(42px, 0, 0)"},{offset:1,opacity:"0",transform:"scale(0.1) translate3d(-2000px, 0, 0)"}],Pl=[{offset:.4,opacity:"1",transform:"scale3d(0.475, 0.475, 0.475) translate3d(-42px, 0, 0)"},{offset:1,opacity:"0",transform:"scale(0.1) translate3d(2000px, 0, 0)"}],Rl=[{offset:.4,opacity:"1",transform:"scale3d(0.475, 0.475, 0.475) translate3d(0, 60px, 0)",easing:"cubic-bezier(0.55, 0.055, 0.675, 0.19)"},{offset:1,opacity:"0",transform:"scale3d(0.1, 0.1, 0.1) translate3d(0, -2000px, 0)",easing:"cubic-bezier(0.175, 0.885, 0.32, 1)"}],Ml={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",easeInSine:"cubic-bezier(0.47, 0, 0.745, 0.715)",easeOutSine:"cubic-bezier(0.39, 0.575, 0.565, 1)",easeInOutSine:"cubic-bezier(0.445, 0.05, 0.55, 0.95)",easeInQuad:"cubic-bezier(0.55, 0.085, 0.68, 0.53)",easeOutQuad:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",easeInOutQuad:"cubic-bezier(0.455, 0.03, 0.515, 0.955)",easeInCubic:"cubic-bezier(0.55, 0.055, 0.675, 0.19)",easeOutCubic:"cubic-bezier(0.215, 0.61, 0.355, 1)",easeInOutCubic:"cubic-bezier(0.645, 0.045, 0.355, 1)",easeInQuart:"cubic-bezier(0.895, 0.03, 0.685, 0.22)",easeOutQuart:"cubic-bezier(0.165, 0.84, 0.44, 1)",easeInOutQuart:"cubic-bezier(0.77, 0, 0.175, 1)",easeInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",easeOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",easeInOutQuint:"cubic-bezier(0.86, 0, 0.07, 1)",easeInExpo:"cubic-bezier(0.95, 0.05, 0.795, 0.035)",easeOutExpo:"cubic-bezier(0.19, 1, 0.22, 1)",easeInOutExpo:"cubic-bezier(1, 0, 0, 1)",easeInCirc:"cubic-bezier(0.6, 0.04, 0.98, 0.335)",easeOutCirc:"cubic-bezier(0.075, 0.82, 0.165, 1)",easeInOutCirc:"cubic-bezier(0.785, 0.135, 0.15, 0.86)",easeInBack:"cubic-bezier(0.6, -0.28, 0.735, 0.045)",easeOutBack:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",easeInOutBack:"cubic-bezier(0.68, -0.55, 0.265, 1.55)"};var Bl=M`
  :host {
    display: contents;
  }
`,Ul=class extends Tt{constructor(){super(...arguments),this.hasStarted=!1,this.name="none",this.play=!1,this.delay=0,this.direction="normal",this.duration=1e3,this.easing="linear",this.endDelay=0,this.fill="auto",this.iterations=1/0,this.iterationStart=0,this.playbackRate=1,this.handleAnimationFinish=()=>{this.play=!1,this.hasStarted=!1,this.emit("sl-finish")},this.handleAnimationCancel=()=>{this.play=!1,this.hasStarted=!1,this.emit("sl-cancel")}}get currentTime(){var e,t;return null!=(t=null==(e=this.animation)?void 0:e.currentTime)?t:0}set currentTime(e){this.animation&&(this.animation.currentTime=e)}connectedCallback(){super.connectedCallback(),this.createAnimation()}disconnectedCallback(){super.disconnectedCallback(),this.destroyAnimation()}handleSlotChange(){this.destroyAnimation(),this.createAnimation()}async createAnimation(){var e,t;const r=null!=(e=Ml[this.easing])?e:this.easing,o=null!=(t=this.keyframes)?t:i[this.name],n=(await this.defaultSlot).assignedElements()[0];return!(!n||!o||(this.destroyAnimation(),this.animation=n.animate(o,{delay:this.delay,direction:this.direction,duration:this.duration,easing:r,endDelay:this.endDelay,fill:this.fill,iterationStart:this.iterationStart,iterations:this.iterations}),this.animation.playbackRate=this.playbackRate,this.animation.addEventListener("cancel",this.handleAnimationCancel),this.animation.addEventListener("finish",this.handleAnimationFinish),this.play?(this.hasStarted=!0,this.emit("sl-start")):this.animation.pause(),0))}destroyAnimation(){this.animation&&(this.animation.cancel(),this.animation.removeEventListener("cancel",this.handleAnimationCancel),this.animation.removeEventListener("finish",this.handleAnimationFinish),this.hasStarted=!1)}handleAnimationChange(){this.hasUpdated&&this.createAnimation()}handlePlayChange(){return!!this.animation&&(this.play&&!this.hasStarted&&(this.hasStarted=!0,this.emit("sl-start")),this.play?this.animation.play():this.animation.pause(),!0)}handlePlaybackRateChange(){this.animation&&(this.animation.playbackRate=this.playbackRate)}cancel(){var e;null==(e=this.animation)||e.cancel()}finish(){var e;null==(e=this.animation)||e.finish()}render(){return _e` <slot @slotchange=${this.handleSlotChange}></slot> `}};Ul.styles=[st,Bl],y([yt("slot")],Ul.prototype,"defaultSlot",2),y([ut()],Ul.prototype,"name",2),y([ut({type:Boolean,reflect:!0})],Ul.prototype,"play",2),y([ut({type:Number})],Ul.prototype,"delay",2),y([ut()],Ul.prototype,"direction",2),y([ut({type:Number})],Ul.prototype,"duration",2),y([ut()],Ul.prototype,"easing",2),y([ut({attribute:"end-delay",type:Number})],Ul.prototype,"endDelay",2),y([ut()],Ul.prototype,"fill",2),y([ut({type:Number})],Ul.prototype,"iterations",2),y([ut({attribute:"iteration-start",type:Number})],Ul.prototype,"iterationStart",2),y([ut({attribute:!1})],Ul.prototype,"keyframes",2),y([ut({attribute:"playback-rate",type:Number})],Ul.prototype,"playbackRate",2),y([at(["name","delay","direction","duration","easing","endDelay","fill","iterations","iterationsStart","keyframes"])],Ul.prototype,"handleAnimationChange",1),y([at("play")],Ul.prototype,"handlePlayChange",1),y([at("playbackRate")],Ul.prototype,"handlePlaybackRateChange",1),Ul.define("sl-animation");var $l=a(5395),Gl=a(4772);function Fl(e,t){return Array(t+1).join(e)}function Hl(e){return e.replace(/^\n*/,"")}function zl(e){for(var t=e.length;t>0&&"\n"===e[t-1];)t--;return e.substring(0,t)}function jl(e){return zl(Hl(e))}var Vl=["ADDRESS","ARTICLE","ASIDE","AUDIO","BLOCKQUOTE","BODY","CANVAS","CENTER","DD","DIR","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","FRAMESET","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","HTML","ISINDEX","LI","MAIN","MENU","NAV","NOFRAMES","NOSCRIPT","OL","OUTPUT","P","PRE","SECTION","TABLE","TBODY","TD","TFOOT","TH","THEAD","TR","UL"];function Wl(e){return Xl(e,Vl)}var ql=["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"];function Yl(e){return Xl(e,ql)}var Kl=["A","TABLE","THEAD","TBODY","TFOOT","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"];function Xl(e,t){return t.indexOf(e.nodeName)>=0}function Jl(e,t){return e.getElementsByTagName&&t.some(function(t){return e.getElementsByTagName(t).length})}var Zl={};function Ql(e){return e?e.replace(/(\n+\s*)+/g,"\n"):""}function ec(e){for(var t in this.options=e,this._keep=[],this._remove=[],this.blankRule={replacement:e.blankReplacement},this.keepReplacement=e.keepReplacement,this.defaultRule={replacement:e.defaultReplacement},this.array=[],e.rules)this.array.push(e.rules[t])}function tc(e,t,i){for(var r=0;r<e.length;r++){var o=e[r];if(ic(o,t,i))return o}}function ic(e,t,i){var r=e.filter;if("string"==typeof r){if(r===t.nodeName.toLowerCase())return!0}else if(Array.isArray(r)){if(r.indexOf(t.nodeName.toLowerCase())>-1)return!0}else{if("function"!=typeof r)throw new TypeError("`filter` needs to be a string, array, or function");if(r.call(e,t,i))return!0}}function rc(e){var t=e.nextSibling||e.parentNode;return e.parentNode.removeChild(e),t}function oc(e,t,i){return e&&e.parentNode===t||i(t)?t.nextSibling||t.parentNode:t.firstChild||t.nextSibling||t.parentNode}Zl.paragraph={filter:"p",replacement:function(e){return"\n\n"+e+"\n\n"}},Zl.lineBreak={filter:"br",replacement:function(e,t,i){return i.br+"\n"}},Zl.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(e,t,i){var r=Number(t.nodeName.charAt(1));return"setext"===i.headingStyle&&r<3?"\n\n"+e+"\n"+Fl(1===r?"=":"-",e.length)+"\n\n":"\n\n"+Fl("#",r)+" "+e+"\n\n"}},Zl.blockquote={filter:"blockquote",replacement:function(e){return"\n\n"+(e=jl(e).replace(/^/gm,"> "))+"\n\n"}},Zl.list={filter:["ul","ol"],replacement:function(e,t){var i=t.parentNode;return"LI"===i.nodeName&&i.lastElementChild===t?"\n"+e:"\n\n"+e+"\n\n"}},Zl.listItem={filter:"li",replacement:function(e,t,i){var r=i.bulletListMarker+"   ",o=t.parentNode;if("OL"===o.nodeName){var n=o.getAttribute("start"),a=Array.prototype.indexOf.call(o.children,t);r=(n?Number(n)+a:a+1)+".  "}var s=/\n$/.test(e);return r+(e=(e=jl(e)+(s?"\n":"")).replace(/\n/gm,"\n"+" ".repeat(r.length)))+(t.nextSibling?"\n":"")}},Zl.indentedCodeBlock={filter:function(e,t){return"indented"===t.codeBlockStyle&&"PRE"===e.nodeName&&e.firstChild&&"CODE"===e.firstChild.nodeName},replacement:function(e,t,i){return"\n\n    "+t.firstChild.textContent.replace(/\n/g,"\n    ")+"\n\n"}},Zl.fencedCodeBlock={filter:function(e,t){return"fenced"===t.codeBlockStyle&&"PRE"===e.nodeName&&e.firstChild&&"CODE"===e.firstChild.nodeName},replacement:function(e,t,i){for(var r,o=((t.firstChild.getAttribute("class")||"").match(/language-(\S+)/)||[null,""])[1],n=t.firstChild.textContent,a=i.fence.charAt(0),s=3,l=new RegExp("^"+a+"{3,}","gm");r=l.exec(n);)r[0].length>=s&&(s=r[0].length+1);var c=Fl(a,s);return"\n\n"+c+o+"\n"+n.replace(/\n$/,"")+"\n"+c+"\n\n"}},Zl.horizontalRule={filter:"hr",replacement:function(e,t,i){return"\n\n"+i.hr+"\n\n"}},Zl.inlineLink={filter:function(e,t){return"inlined"===t.linkStyle&&"A"===e.nodeName&&e.getAttribute("href")},replacement:function(e,t){var i=t.getAttribute("href");i&&(i=i.replace(/([()])/g,"\\$1"));var r=Ql(t.getAttribute("title"));return r&&(r=' "'+r.replace(/"/g,'\\"')+'"'),"["+e+"]("+i+r+")"}},Zl.referenceLink={filter:function(e,t){return"referenced"===t.linkStyle&&"A"===e.nodeName&&e.getAttribute("href")},replacement:function(e,t,i){var r,o,n=t.getAttribute("href"),a=Ql(t.getAttribute("title"));switch(a&&(a=' "'+a+'"'),i.linkReferenceStyle){case"collapsed":r="["+e+"][]",o="["+e+"]: "+n+a;break;case"shortcut":r="["+e+"]",o="["+e+"]: "+n+a;break;default:var s=this.references.length+1;r="["+e+"]["+s+"]",o="["+s+"]: "+n+a}return this.references.push(o),r},references:[],append:function(e){var t="";return this.references.length&&(t="\n\n"+this.references.join("\n")+"\n\n",this.references=[]),t}},Zl.emphasis={filter:["em","i"],replacement:function(e,t,i){return e.trim()?i.emDelimiter+e+i.emDelimiter:""}},Zl.strong={filter:["strong","b"],replacement:function(e,t,i){return e.trim()?i.strongDelimiter+e+i.strongDelimiter:""}},Zl.code={filter:function(e){var t=e.previousSibling||e.nextSibling,i="PRE"===e.parentNode.nodeName&&!t;return"CODE"===e.nodeName&&!i},replacement:function(e){if(!e)return"";e=e.replace(/\r?\n|\r/g," ");for(var t=/^`|^ .*?[^ ].* $|`$/.test(e)?" ":"",i="`",r=e.match(/`+/gm)||[];-1!==r.indexOf(i);)i+="`";return i+t+e+t+i}},Zl.image={filter:"img",replacement:function(e,t){var i=Ql(t.getAttribute("alt")),r=t.getAttribute("src")||"",o=Ql(t.getAttribute("title"));return r?"!["+i+"]("+r+(o?' "'+o+'"':"")+")":""}},ec.prototype={add:function(e,t){this.array.unshift(t)},keep:function(e){this._keep.unshift({filter:e,replacement:this.keepReplacement})},remove:function(e){this._remove.unshift({filter:e,replacement:function(){return""}})},forNode:function(e){return e.isBlank?this.blankRule:(t=tc(this.array,e,this.options))||(t=tc(this._keep,e,this.options))||(t=tc(this._remove,e,this.options))?t:this.defaultRule;var t},forEach:function(e){for(var t=0;t<this.array.length;t++)e(this.array[t],t)}};var nc,ac,sc="undefined"!=typeof window?window:{},lc=function(){var e=sc.DOMParser,t=!1;try{(new e).parseFromString("","text/html")&&(t=!0)}catch(e){}return t}()?sc.DOMParser:(nc=function(){},function(){var e=!1;try{document.implementation.createHTMLDocument("").open()}catch(t){sc.ActiveXObject&&(e=!0)}return e}()?nc.prototype.parseFromString=function(e){var t=new window.ActiveXObject("htmlfile");return t.designMode="on",t.open(),t.write(e),t.close(),t}:nc.prototype.parseFromString=function(e){var t=document.implementation.createHTMLDocument("");return t.open(),t.write(e),t.close(),t},nc);function cc(e,t){var i;return function(e){var t=e.element,i=e.isBlock,r=e.isVoid,o=e.isPre||function(e){return"PRE"===e.nodeName};if(t.firstChild&&!o(t)){for(var n=null,a=!1,s=null,l=oc(s,t,o);l!==t;){if(3===l.nodeType||4===l.nodeType){var c=l.data.replace(/[ \r\n\t]+/g," ");if(n&&!/ $/.test(n.data)||a||" "!==c[0]||(c=c.substr(1)),!c){l=rc(l);continue}l.data=c,n=l}else{if(1!==l.nodeType){l=rc(l);continue}i(l)||"BR"===l.nodeName?(n&&(n.data=n.data.replace(/ $/,"")),n=null,a=!1):r(l)||o(l)?(n=null,a=!0):n&&(a=!1)}var d=oc(s,l,o);s=l,l=d}n&&(n.data=n.data.replace(/ $/,""),n.data||rc(n))}}({element:i="string"==typeof e?(ac=ac||new lc).parseFromString('<x-turndown id="turndown-root">'+e+"</x-turndown>","text/html").getElementById("turndown-root"):e.cloneNode(!0),isBlock:Wl,isVoid:Yl,isPre:t.preformattedCode?dc:null}),i}function dc(e){return"PRE"===e.nodeName||"CODE"===e.nodeName}function uc(e,t){return e.isBlock=Wl(e),e.isCode="CODE"===e.nodeName||e.parentNode.isCode,e.isBlank=function(e){return!Yl(e)&&!function(e){return Xl(e,Kl)}(e)&&/^\s*$/i.test(e.textContent)&&!function(e){return Jl(e,ql)}(e)&&!function(e){return Jl(e,Kl)}(e)}(e),e.flankingWhitespace=function(e,t){if(e.isBlock||t.preformattedCode&&e.isCode)return{leading:"",trailing:""};var i=function(e){var t=e.match(/^(([ \t\r\n]*)(\s*))(?:(?=\S)[\s\S]*\S)?((\s*?)([ \t\r\n]*))$/);return{leading:t[1],leadingAscii:t[2],leadingNonAscii:t[3],trailing:t[4],trailingNonAscii:t[5],trailingAscii:t[6]}}(e.textContent);return i.leadingAscii&&hc("left",e,t)&&(i.leading=i.leadingNonAscii),i.trailingAscii&&hc("right",e,t)&&(i.trailing=i.trailingNonAscii),{leading:i.leading,trailing:i.trailing}}(e,t),e}function hc(e,t,i){var r,o,n;return"left"===e?(r=t.previousSibling,o=/ $/):(r=t.nextSibling,o=/^ /),r&&(3===r.nodeType?n=o.test(r.nodeValue):i.preformattedCode&&"CODE"===r.nodeName?n=!1:1!==r.nodeType||Wl(r)||(n=o.test(r.textContent))),n}var pc=Array.prototype.reduce,gc=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]];function fc(e){if(!(this instanceof fc))return new fc(e);var t={rules:Zl,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",preformattedCode:!1,blankReplacement:function(e,t){return t.isBlock?"\n\n":""},keepReplacement:function(e,t){return t.isBlock?"\n\n"+t.outerHTML+"\n\n":t.outerHTML},defaultReplacement:function(e,t){return t.isBlock?"\n\n"+e+"\n\n":e}};this.options=function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])}return e}({},t,e),this.rules=new ec(this.options)}function mc(e){var t=this;return pc.call(e.childNodes,function(e,i){var r="";return 3===(i=new uc(i,t.options)).nodeType?r=i.isCode?i.nodeValue:t.escape(i.nodeValue):1===i.nodeType&&(r=yc.call(t,i)),vc(e,r)},"")}function bc(e){var t=this;return this.rules.forEach(function(i){"function"==typeof i.append&&(e=vc(e,i.append(t.options)))}),e.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}function yc(e){var t=this.rules.forNode(e),i=mc.call(this,e),r=e.flankingWhitespace;return(r.leading||r.trailing)&&(i=i.trim()),r.leading+t.replacement(i,e,this.options)+r.trailing}function vc(e,t){var i=zl(e),r=Hl(t),o=Math.max(e.length-i.length,t.length-r.length);return i+"\n\n".substring(0,o)+r}fc.prototype={turndown:function(e){if(!function(e){return null!=e&&("string"==typeof e||e.nodeType&&(1===e.nodeType||9===e.nodeType||11===e.nodeType))}(e))throw new TypeError(e+" is not a string, or an element/document/fragment node.");if(""===e)return"";var t=mc.call(this,new cc(e,this.options));return bc.call(this,t)},use:function(e){if(Array.isArray(e))for(var t=0;t<e.length;t++)this.use(e[t]);else{if("function"!=typeof e)throw new TypeError("plugin must be a Function or an Array of Functions");e(this)}return this},addRule:function(e,t){return this.rules.add(e,t),this},keep:function(e){return this.rules.keep(e),this},remove:function(e){return this.rules.remove(e),this},escape:function(e){return gc.reduce(function(e,t){return e.replace(t[0],t[1])},e)}};const wc=fc;var _c=a(4872),Tc=a(8288),Ac=Object.defineProperty,Ec=(e,t,i)=>((e,t,i)=>t in e?Ac(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i)(e,"symbol"!=typeof t?t+"":t,i),kc=(e=>(e.chrome="chrome",e.edge="edge",e.firefox="firefox",e))(kc||{}),Sc=(e=>(e.webApp="webApp",e.highlighter="highlighter",e.youtubeHighlighter="youtubeHighlighter",e.reader="reader",e))(Sc||{});const xc={webApp:{title:"Web App - Web Highlights",path:""},highlighter:{title:"PDF & Web Highlighter",path:"pdf-web-highlighter"},youtubeHighlighter:{title:"Youtube Highlighter & AI Summary",path:"youtube-highlighter"},reader:{title:"Reader Mode + AI Summary, Notes & Annotations",path:"reader-mode"}},Cc={...xc.webApp,appId:"webhighlights-webapp",appType:"webApp",browserType:"chrome",appDisplayname:"Web Highlights",isWebApp:!0,isExtension:!1,extensionId:"hldjnlbobkdkghfidgoecgmklcemanhm",uninstallURL:"",uninstallSurveyURL:"",installedRedirectUrl:"https://web-highlights.com/blog/welcome",storePublishUrl:"https://chromewebstore.google.com/detail/web-highlights-pdf-web-hi/hldjnlbobkdkghfidgoecgmklcemanhm",featureIsEnabled:{}},Ic={...xc.highlighter,appId:"webhighlights",appType:"highlighter",browserType:"chrome",appDisplayname:"Web Highlights",isWebApp:!1,isExtension:!0,extensionId:"hldjnlbobkdkghfidgoecgmklcemanhm",uninstallURL:"https://tooltivity.com/extensions/youtube-highlighter/partners?ref=web-highlights",uninstallSurveyURL:"https://forms.gle/VQZnfwAqtEpLQGjB8",installedRedirectUrl:"https://web-highlights.com/blog/welcome",storePublishUrl:"https://chromewebstore.google.com/detail/web-highlights-pdf-web-hi/hldjnlbobkdkghfidgoecgmklcemanhm",featureIsEnabled:{givefreely:!0}},Nc={...xc.highlighter,appId:"webhighlights-edge",appType:"highlighter",browserType:"edge",isWebApp:!1,isExtension:!0,appDisplayname:"Web Highlights",extensionId:"ghdpaajjhmlfkogblgeibaabcpjfgldn",uninstallURL:"https://tooltivity.com/extensions/youtube-highlighter/partners?ref=web-highlights",uninstallSurveyURL:"https://forms.gle/VQZnfwAqtEpLQGjB8",installedRedirectUrl:"https://web-highlights.com/blog/welcome",storePublishUrl:"https://microsoftedge.microsoft.com/addons/detail/web-highlights-pdf-we/ghdpaajjhmlfkogblgeibaabcpjfgldn",featureIsEnabled:{givefreely:!0}},Dc={...xc.highlighter,appId:"webhighlights-firefox",appType:"highlighter",browserType:"firefox",isWebApp:!1,isExtension:!0,appDisplayname:"Web Highlights",extensionId:"firefox@web-highlights.com",uninstallURL:"https://tooltivity.com/extensions/youtube-highlighter/partners?ref=web-highlights",uninstallSurveyURL:"https://forms.gle/VQZnfwAqtEpLQGjB8",installedRedirectUrl:"https://web-highlights.com/blog/welcome",storePublishUrl:"https://addons.mozilla.org/firefox/addon/web-highlights-pdf-web-highlig/",featureIsEnabled:{givefreely:!1}},Oc={...xc.reader,appId:"reader-chrome",appType:"reader",browserType:"chrome",appDisplayname:"Reader Mode",isWebApp:!1,isExtension:!0,extensionId:"cbjbjjgipedbjgbamfodgihnfdlghcaf",extensionIdDev:"fhlkcinmabhnlpdkeffhkpppcinfmnhg",uninstallURL:"https://tooltivity.com/extensions/web-highlights/partners?ref=reader",uninstallSurveyURL:"https://forms.gle/VQZnfwAqtEpLQGjB8",installedRedirectUrl:"https://web-highlights.com/extensions/reader-mode/welcome",storePublishUrl:"https://chromewebstore.google.com/detail/cbjbjjgipedbjgbamfodgihnfdlghcaf",featureIsEnabled:{givefreely:!1}},Lc={...xc.youtubeHighlighter,appId:"youtube-highlighter-chrome",appType:"youtubeHighlighter",browserType:"chrome",appDisplayname:"YouTube Highlighter",isWebApp:!1,isExtension:!0,extensionId:"jipmbenpdoghkhgapoppkjndfmcoechc",extensionIdDev:"cnpofeldfiibfdekdedbpapalneidboo",uninstallURL:"https://tooltivity.com/extensions/web-highlights/partners?ref=youtube-highlighter",uninstallSurveyURL:"https://forms.gle/VQZnfwAqtEpLQGjB8",installedRedirectUrl:"https://web-highlights.com/docs/tutorials/youtube-highlighting",storePublishUrl:"https://chromewebstore.google.com/detail/jipmbenpdoghkhgapoppkjndfmcoechc",featureIsEnabled:{givefreely:!1}},Pc={...xc.reader,appId:"reader-edge",appType:"reader",browserType:"edge",appDisplayname:"Reader Mode",isWebApp:!1,isExtension:!0,extensionId:"reader-edge-id",uninstallURL:"https://tooltivity.com/extensions/web-highlights/partners?ref=reader",uninstallSurveyURL:"https://forms.gle/VQZnfwAqtEpLQGjB8",installedRedirectUrl:"https://web-highlights.com/extensions/reader-mode/welcome",storePublishUrl:"",featureIsEnabled:{givefreely:!1}},Rc={...xc.reader,appId:"reader-firefox",appType:"reader",browserType:"firefox",appDisplayname:"Reader Mode",isWebApp:!1,isExtension:!0,extensionId:"reader@web-highlights.com",uninstallURL:"https://tooltivity.com/extensions/web-highlights/partners?ref=reader",uninstallSurveyURL:"https://forms.gle/VQZnfwAqtEpLQGjB8",installedRedirectUrl:"https://web-highlights.com/extensions/reader-mode/welcome",storePublishUrl:"",featureIsEnabled:{givefreely:!1}},Mc="Not set",Bc=e=>e===Sc.reader?[{description:"Open in reader",name:"open-in-reader",shortcut:"R"},{description:"Toggle Sidebar",name:"toggle-sidebar",shortcut:"W"},{description:"Highlight Text",name:"highlight-text",shortcut:"S"},{description:"Highlight (Same Format)",name:"highlight-last-format",shortcut:"A"}]:[{description:"Highlight Text",name:"highlight-text",shortcut:"S"},{description:"Highlight (Same Format)",name:"highlight-last-format",shortcut:"A"},{description:"Toggle Sidebar",name:"toggle-sidebar",shortcut:"W"},{description:"Bookmark Page",name:"toggle-bookmark",shortcut:"B"},{description:"Open in reader",name:"open-in-reader",shortcut:"R"}];function Uc(e){return e?e.split(/[+]|(|||)/).filter(Boolean):[]}var $c=(e=>(e.COMMANDS="COMMANDS",e))($c||{});function Gc(e){return"string"==typeof e&&Object.values($c).includes(e)}class Fc{sendMessage(e){try{return chrome.tabs.query({active:!0,currentWindow:!0},t=>{var i;null!=(i=t[0])&&i.id&&chrome.tabs.sendMessage(t[0].id,e)}),!0}catch{return!1}}sendRuntimeMessage(e,t){try{return t?chrome.runtime.sendMessage(e,t):chrome.runtime.sendMessage(e),!0}catch{return!1}}async readDataFromBackgroundScript(e){try{return await this.sendRuntimePortMessage(e)}catch{return"COMMANDS"===e?Bc(Sc.highlighter):{}}}async readCommands(){return this.readDataFromBackgroundScript("COMMANDS")}async findSpecificCommand(e){return(await this.readCommands()).find(t=>t.name===e)}async sendRuntimePortMessage(e){return new Promise((t,i)=>{var r,o;(typeof chrome>"u"||null==(r=null==chrome?void 0:chrome.runtime)||!r.connect)&&i("Chrome Runtime API is not available.");try{const r=null==(o=null==chrome?void 0:chrome.runtime)?void 0:o.connect({name:e}),n=e=>{r.onMessage.removeListener(n),r.disconnect(),t(e)},a=()=>{i("Port disconnected unexpectedly.")};r.onMessage.addListener(n),r.onDisconnect.addListener(a)}catch(e){i(e)}})}}const Hc=new Fc;function zc(e){return JSON.stringify(e)}function jc(e){try{return JSON.parse(e)}catch{return null}}async function Vc(e){const t=zc(e);return Hc.sendRuntimePortMessage(t)}function Wc(e,t){return"string"==typeof(null==t?void 0:t.method)&&typeof e[null==t?void 0:t.method]<"u"}class qc{async createOrUpdateActions(e){return Vc({method:"createOrUpdateActions",payload:e})}async clearDatabases(){return Vc({method:"clearDatabases"})}async getAllUniqueUserIds(){return Vc({method:"getAllUniqueUserIds"})}async getActionIdsForUser(e){return Vc({method:"getActionIdsForUser",payload:e})}async deleteActionsInTransaction(e){return Vc({method:"deleteActionsInTransaction",payload:e})}async getDeprecatedChromeSettings(){return Vc({method:"getDeprecatedChromeSettings"})}async runMigrationGarbageCollector(e){return Vc({method:"runMigrationGarbageCollector",payload:e})}async dbHasDeprecatedObjectStores(){return Vc({method:"dbHasDeprecatedObjectStores"})}async createOrUpdateContents(e){return Vc({method:"createOrUpdateContents",payload:e})}async getContentEntity(e){return Vc({method:"getContentEntity",payload:e})}async getContentEntitiesThatNeedSync(){return Vc({method:"getContentEntitiesThatNeedSync"})}async getAllEntitiesFromDeprecatedObjectStores(){return Vc({method:"getAllEntitiesFromDeprecatedObjectStores"})}async getContentEntities(e){return Vc({method:"getContentEntities",payload:e})}async getAllFromObjectStore(e){return Vc({method:"getAllFromObjectStore",payload:e})}}function Yc(e){this.message=e}Yc.prototype=new Error,Yc.prototype.name="InvalidCharacterError";var Kc=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new Yc("'atob' failed: The string to be decoded is not correctly encoded.");for(var i,r,o=0,n=0,a="";r=t.charAt(n++);~r&&(i=o%4?64*i+r:r,o++%4)?a+=String.fromCharCode(255&i>>(-2*o&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return a};function Xc(e){this.message=e}Xc.prototype=new Error,Xc.prototype.name="InvalidTokenError";const Jc="jwt_webmarker";function Zc(e){try{return function(e,t){if("string"!=typeof e)throw new Xc("Invalid token specified");var i=!0===(t=t||{}).header?0:1;try{return JSON.parse(function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(Kc(e).replace(/(.)/g,function(e,t){var i=t.charCodeAt(0).toString(16).toUpperCase();return i.length<2&&(i="0"+i),"%"+i}))}(t)}catch{return Kc(t)}}(e.split(".")[i]))}catch(e){throw new Xc("Invalid token specified: "+e.message)}}(e)||void 0}catch{return}}function Qc(e=Jc){try{return Zc(localStorage[e])}catch{return}}class ed{constructor(e=Jc){this.key=e}async getJwt(){return typeof window>"u"?"":localStorage[this.key]}async getJwtPayload(){return Qc(this.key)}setJwt(e){try{localStorage[this.key]=e}catch{}}}const td="https://web-highlights.com/legal/privacy-policy",id={production:!0,mode:"prod",MISC_SERVER_URL:"https://web-highlights-misc-server.herokuapp.com",BACKEND_URL:"https://api.web-highlights.com",BACKEND_URL_FALLBACK:"https://web-highlights-a56e6dd216b0.herokuapp.com",BLOG_URL:"https://web-highlights.com/blog",WEBSITE_URL:"https://web-highlights.com",DOCS_URL:"https://web-highlights.com/docs/",FRONTEND_URL:"https://app.web-highlights.com",PRIVACY_URL:td,EXTENSION_ID:"hldjnlbobkdkghfidgoecgmklcemanhm",PADDLE_VENDOR_ID:169421},rd={production:!0,mode:"pre",MISC_SERVER_URL:"https://web-highlights-misc-server.herokuapp.com",BACKEND_URL:"https://api.web-highlights.com",BACKEND_URL_FALLBACK:"https://web-highlights-a56e6dd216b0.herokuapp.com",BLOG_URL:"https://web-highlights.com/blog",WEBSITE_URL:"https:/web-highlights.com",DOCS_URL:"https://pre.web-highlights.com/docs/",FRONTEND_URL:"https://pre-app.web-highlights.com",PRIVACY_URL:td,EXTENSION_ID:"hldjnlbobkdkghfidgoecgmklcemanhm",PADDLE_VENDOR_ID:11822},od={production:!1,mode:"dev",MISC_SERVER_URL:"http://localhost:4000",BACKEND_URL:"http://localhost:3000",BACKEND_URL_FALLBACK:"http://localhost:3000",BLOG_URL:"https://web-highlights.com/blog",WEBSITE_URL:"http://localhost:2000",DOCS_URL:"http://localhost:5100/docs/",FRONTEND_URL:"http://localhost:5173",PRIVACY_URL:td,EXTENSION_ID:"mnjhhninaaaldmcgodimaadhpkaigbpp",PADDLE_VENDOR_ID:11822};function nd(){var e;const t=(null==(e=mk())?void 0:e.environment)??id,i="https://app.web-highlights.com/oauth/notion";return{LINKED_IN_URL:"https://www.linkedin.com/company/86328566",FACEBOOK_URL:"https://www.facebook.com/webhighlightscom/",INSTAGRAM_URL:"https://www.instagram.com/web_highlights/",LINKED_IN_URL_PRIVATE:"https://www.linkedin.com/in/marius-bongarts-6b3638171",TWITTER_URL:"https://twitter.com/WebHighlights_",TWITTER_URL_PRIVATE:"https://twitter.com/MariusBongarts",GITHUB_LINK_PRIVATE:"https://github.com/MariusBongarts",LINK_TREE_PRIVATE:"https://linktr.ee/MariusBongarts",GITHUB_LINK:"https://github.com/Web-Highlights",AVATAR_MARIUS_B:"https://avatars.githubusercontent.com/u/38838885?s=256&v=4",AVATAR_WEB_HIGHLIGHTS:"https://avatars.githubusercontent.com/u/110981256?s=256&v=4",MEDIUM_URL_PRIVATE:"https://medium.com/@mariusbongarts",LEGAL_TOS_LINK:`${t.WEBSITE_URL}/legal/terms-of-service`,DISCOVER_LINK:`${t.WEBSITE_URL}/discover`,LEGAL_PRIVACY_LINK:`${t.WEBSITE_URL}/legal/privacy-policy`,LEGAL_IMPRINT_LINK:`${t.WEBSITE_URL}/legal/imprint`,FAQ_LINK:`${t.WEBSITE_URL}/faq`,BLOG_LINK:`${t.WEBSITE_URL}/blog`,RELEASE_NOTES_LINK:`${t.WEBSITE_URL}/blog/release-notes`,markIdAttrKey:"markid",markMediatypeAttrKey:"media-type",TOOLBOX_CONTAINS_HIGHLIGHT_CLASS:"contains-highlight",HIGHLIGHT_CLASS:"webhighlights-highlight",CONTAINS_TAGS_CLASS:"webhighlight-with-tags",CONTAINS_NOTES_CLASS:"webhighlight-with-notes",CHROME_EXTENSION_LINK:"https://chromewebstore.google.com/detail/web-highlights-pdf-web-hi/hldjnlbobkdkghfidgoecgmklcemanhm",EDGE_EXTENSION_LINK:"https://microsoftedge.microsoft.com/addons/detail/web-highlights-pdf-we/ghdpaajjhmlfkogblgeibaabcpjfgldn",SIDEBAR_HTML_ATTRS:{ALIGNMENT:"alignment",SIDEBAR_WIDTH:"sidebar-width"},NOTION_REDIRECT_URL:i,NOTION_AUTH_URL:`https://api.notion.com/v1/oauth/authorize?client_id=4f5934df-e74b-4318-b381-604df7b3e06d&response_type=code&owner=user&redirect_uri=${encodeURIComponent(i)}`,DAILY_NOTION_API_EXPORT_LIMIT:1,DAILY_CAPACITIES_API_EXPORT_LIMIT:1,DAILY_YOUTUBE_VIDEO_LIMIT:1,DAILY_AI_SUMMARY_LIMIT:1,DAILY_AI_CHATS_LIMIT:1,GLOBAL_STYLE_VARIABLES_ID:"web-highlights-global-style-variables",HISTORY_OVERVIEW_PAGINATION_STEP:35}}const ad=nd();function sd(e,t){t.forEach(t=>{null!=e&&e.style&&e.style.setProperty(t.property,t.value)})}function ld(e){return`:root { ${e.map(({property:e,value:t})=>`${e.startsWith("--")?e:`--${e}`}: ${t};`).join("")} }`}function cd(e){const t=ld(e);pd(ad.GLOBAL_STYLE_VARIABLES_ID,t)}function dd(){return typeof window>"u"||"function"!=typeof window.matchMedia?"light":window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function ud(e){return document.getElementById(e)}function hd(e){const t=ud(e);if(t)return t;const i=document.createElement("style");return i.id=e,document.body.append(i),i}function pd(e,t){const i=hd(e);i.innerHTML!==t&&(i.innerHTML=t)}const gd={slate:{50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a",950:"#020617"},primary:{50:"rgb(188, 220, 205)",100:"rgb(154, 208, 185)",200:"rgb(120, 197, 164)",300:"rgb(86, 186, 144)",400:"rgb(53, 176, 125)",500:"rgb(0, 179, 122)",600:"hsl(161, 100%, 33%)",700:"hsl(161, 100%, 31%)",800:"hsl(161, 100%, 29%)",900:"hsl(161, 100%, 25%)",950:"hsl(161, 100%, 20%)"},secondary:{50:"hsl(218, 22%, 27%)",100:"hsl(218, 22%, 23%)",200:"hsl(218, 22%, 22%)",300:"hsl(218, 22%, 19%)",400:"hsl(218, 22%, 17%)",500:"hsl(218, 22%, 15%)",600:"hsl(218, 22%, 13%)",700:"hsl(218, 22%, 11%)",800:"hsl(218, 22%, 9%)",900:"hsl(218, 22%, 5%)",950:"hsl(218, 22%, 3%)"},gray:{50:"#f9fafb",100:"#f3f4f6",200:"#e5e7eb",300:"#d1d5db",400:"#9ca3af",500:"#6b7280",600:"#4b5563",700:"#374151",800:"#1f2937",900:"#111827",950:"#030712"},zinc:{50:"#fafafa",100:"#f4f4f5",200:"#e4e4e7",300:"#d4d4d8",400:"#a1a1aa",500:"#71717a",600:"#52525b",700:"#3f3f46",800:"#27272a",900:"#18181b",950:"#09090b"},neutral:{50:"#fafafa",100:"#f5f5f5",200:"#e5e5e5",300:"#d4d4d4",400:"#a3a3a3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717",950:"#0a0a0a"},stone:{50:"#fafaf9",100:"#f5f5f4",200:"#e7e5e4",300:"#d6d3d1",400:"#a8a29e",500:"#78716c",600:"#57534e",700:"#44403c",800:"#292524",900:"#1c1917",950:"#0c0a09"},red:{50:"#fef2f2",100:"#fee2e2",200:"#fecaca",300:"#fca5a5",400:"#f87171",500:"#ef4444",600:"#dc2626",700:"#b91c1c",800:"#991b1b",900:"#7f1d1d",950:"#450a0a"},orange:{50:"#fff7ed",100:"#ffedd5",200:"#fed7aa",300:"#fdba74",400:"#fb923c",500:"#f97316",600:"#ea580c",700:"#c2410c",800:"#9a3412",900:"#7c2d12",950:"#431407"},amber:{50:"#fffbeb",100:"#fef3c7",200:"#fde68a",300:"#fcd34d",400:"#fbbf24",500:"#f59e0b",600:"#d97706",700:"#b45309",800:"#92400e",900:"#78350f",950:"#451a03"},yellow:{50:"#fefce8",100:"#fef9c3",200:"#fef08a",300:"#fde047",400:"#facc15",500:"#eab308",600:"#ca8a04",700:"#a16207",800:"#854d0e",900:"#713f12",950:"#422006"},lime:{50:"#f7fee7",100:"#ecfccb",200:"#d9f99d",300:"#bef264",400:"#a3e635",500:"#84cc16",600:"#65a30d",700:"#4d7c0f",800:"#3f6212",900:"#365314",950:"#1a2e05"},green:{50:"#f0fdf4",100:"#dcfce7",200:"#bbf7d0",300:"#86efac",400:"#4ade80",500:"#22c55e",600:"#16a34a",700:"#15803d",800:"#166534",900:"#14532d",950:"#052e16"},emerald:{50:"#ecfdf5",100:"#d1fae5",200:"#a7f3d0",300:"#6ee7b7",400:"#34d399",500:"#10b981",600:"#059669",700:"#047857",800:"#065f46",900:"#064e3b",950:"#022c22"},teal:{50:"#f0fdfa",100:"#ccfbf1",200:"#99f6e4",300:"#5eead4",400:"#2dd4bf",500:"#14b8a6",600:"#0d9488",700:"#0f766e",800:"#115e59",900:"#134e4a",950:"#042f2e"},cyan:{50:"#ecfeff",100:"#cffafe",200:"#a5f3fc",300:"#67e8f9",400:"#22d3ee",500:"#06b6d4",600:"#0891b2",700:"#0e7490",800:"#155e75",900:"#164e63",950:"#083344"},sky:{50:"#f0f9ff",100:"#e0f2fe",200:"#bae6fd",300:"#7dd3fc",400:"#38bdf8",500:"#0ea5e9",600:"#0284c7",700:"#0369a1",800:"#075985",900:"#0c4a6e",950:"#082f49"},blue:{50:"#eff6ff",100:"#dbeafe",200:"#bfdbfe",300:"#93c5fd",400:"#60a5fa",500:"#3b82f6",600:"#2563eb",700:"#1d4ed8",800:"#1e40af",900:"#1e3a8a",950:"#172554"},indigo:{50:"#eef2ff",100:"#e0e7ff",200:"#c7d2fe",300:"#a5b4fc",400:"#818cf8",500:"#6366f1",600:"#4f46e5",700:"#4338ca",800:"#3730a3",900:"#312e81",950:"#1e1b4b"},violet:{50:"#f5f3ff",100:"#ede9fe",200:"#ddd6fe",300:"#c4b5fd",400:"#a78bfa",500:"#8b5cf6",600:"#7c3aed",700:"#6d28d9",800:"#5b21b6",900:"#4c1d95",950:"#2e1065"},purple:{50:"#faf5ff",100:"#f3e8ff",200:"#e9d5ff",300:"#d8b4fe",400:"#c084fc",500:"#a855f7",600:"#9333ea",700:"#7e22ce",800:"#6b21a8",900:"#581c87",950:"#3b0764"},fuchsia:{50:"#fdf4ff",100:"#fae8ff",200:"#f5d0fe",300:"#f0abfc",400:"#e879f9",500:"#d946ef",600:"#c026d3",700:"#a21caf",800:"#86198f",900:"#701a75",950:"#4a044e"},pink:{50:"#fdf2f8",100:"#fce7f3",200:"#fbcfe8",300:"#f9a8d4",400:"#f472b6",500:"#ec4899",600:"#db2777",700:"#be185d",800:"#9d174d",900:"#831843",950:"#500724"},rose:{50:"#fff1f2",100:"#ffe4e6",200:"#fecdd3",300:"#fda4af",400:"#fb7185",500:"#f43f5e",600:"#e11d48",700:"#be123c",800:"#9f1239",900:"#881337",950:"#4c0519"}},fd={"wh-primary-color":"var(--wh-primary-500)","wh-primary-color-hover":"#00a16e","wh-primary-color-transparent":"#00aa7424","wh-primary-color-transparent-light":"#00a8730f","wh-primary-color-transparent-strong":"#00a87340","wh-primary-light":"#53e3a6","wh-primary-dark":"#007f4b","wh-primary-dark-hover":"#017444","wh-primary-shadow":"#00b07841","wh-primary-shadow-2":"#00b07870","wh-primary-border-color":"#c8c8c870","wh-warning-color":"#ff5a1f","wh-warning-color-light":"#feecdc","wh-ai-primary-decimal":"167, 139, 250","wh-ai-secondary-decimal  ":"147, 51, 234","wh-ai-accent-decimal":"244, 114, 182","wh-ai-primary":"rgba(var(--wh-ai-primary-decimal), 1)","wh-ai-secondary":"rgba(var(--wh-ai-secondary-decimal), 1)","wh-ai-accent":"rgba(var(--wh-ai-accent-decimal), 1)","secondary-color":"#3d4455","secondary-color-hover":"#3a4052","secondary-color-transparent":"#3d44556b","secondary-light":"#4c556d","secondary-dark":"#252934","secondary-dark-hover":"#191b22","secondary-dark-transparent":"#2e2d2d46","highlight-color":"#92ffaa","error-color":"#d62d4c","error-color-light":"#fde8e8","error-info":"#14854e","success-color":"#0e9f6e","success-color-light":"#def7ec","font-color":"#2f3237","font-color-light":"#626364","font-color-dark":"#252525","wh-font-family":'\'SF Pro Display\', \'Inter\', ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"',"font-family":"var(--wh-font-family)","font-size":"12px","webhighlights-font-size":"12px","wh-link-color":"#1d9bf0","wh-form-active-color":"#3b82f6","wh-accent-blue":"#1f6feb","wh-mobile-breakpoint":"767px",BREAKPOINT_XS:"575px",BREAKPOINT_S:"767px",BREAKPOINT_M:"991px",BREAKPOINT_L:"1199px",BREAKPOINT_XL:"1399px",BREAKPOINT_XXL:"1699px","wh-danger-color":"var(--wh-red-600)","wh-danger-color-hover":"var(--wh-red-700)","wh-font-size":"13px","wh-blockquote-line-height":"1.3"};function md(){return Object.keys(fd).map(e=>({property:e,value:{dark:fd[e],light:fd[e]}}))}const bd=[...Object.keys(gd).map(e=>Object.keys(gd[e]).map(t=>{const i=gd[e][t];return{property:`wh-${e}-${t}`,value:{dark:i,light:i}}})).flat(),...md(),{property:"wh-bg-base",value:{dark:"var(--wh-secondary-600)",light:"hsl(0, 0%, 100%)"}},{property:"wh-bg-base-hover",value:{dark:"var(--wh-secondary-500)",light:"var(--wh-gray-50)"}},{property:"wh-border-base",value:{dark:"var(--wh-secondary-200)",light:"hsl(20, 6%, 94%)"}},{property:"wh-border-base-hover",value:{dark:"var(--wh-secondary-100)",light:"hsl(20, 6%, 90%)"}},{property:"wh-border-base-strong",value:{dark:"var(--wh-secondary-100)",light:"hsl(24, 6%, 85%)"}},{property:"wh-border-base-strong-hover",value:{dark:"var(--wh-secondary-50)",light:"hsl(24, 6%, 70%)"}},{property:"wh-bg-base-hover-strong",value:{dark:"var(--wh-secondary-300)",light:"var(--wh-gray-100)"}},{property:"wh-bg-back",value:{dark:"var(--wh-secondary-700)",light:"hsl(0, 0%, 100%)"}},{property:"wh-bg-back-strong",value:{dark:"var(--wh-secondary-800)",light:"var(--wh-gray-100)"}},{property:"wh-bg-back-strong-hover",value:{dark:"var(--wh-secondary-900)",light:"var(--wh-gray-200)"}},{property:"wh-bg-back-hover",value:{dark:"var(--wh-secondary-600)",light:"var(--wh-neutral-50)"}},{property:"wh-bg-back-hover-strong",value:{dark:"var(--wh-secondary-800)",light:"var(--wh-neutral-100)"}},{property:"wh-border-back",value:{dark:"var(--wh-secondary-100)",light:"#e7e5e4"}},{property:"wh-border-back-strong",value:{dark:"var(--wh-secondary-50)",light:"#d6d3d1"}},{property:"wh-bg-front",value:{dark:"var(--wh-secondary-400)",light:"hsl(0, 0%, 100%)"}},{property:"wh-bg-front-strong",value:{dark:"var(--wh-secondary-200)",light:"var(--wh-neutral-100)"}},{property:"wh-bg-front-strong-hover",value:{dark:"var(--wh-secondary-50)",light:"var(--wh-neutral-200)"}},{property:"wh-bg-front-hover",value:{dark:"var(--wh-secondary-300)",light:"hsl(0, 0%, 98%)"}},{property:"wh-bg-front-hover-strong",value:{dark:"var(--wh-secondary-200)",light:"hsl(0, 0%, 95%)"}},{property:"wh-border-front",value:{dark:"hsl(227, 20%, 25%)",light:"#e7e5e4"}},{property:"wh-border-front-strong",value:{dark:"hsl(227, 20%, 35%)",light:"#d6d3d1"}},{property:"wh-text-stronger",value:{dark:"hsla(0, 0%, 100%, 0.95)",light:"hsl(45, 8%, 25%)"}},{property:"wh-text-strongest",value:{dark:"hsla(0, 0%, 100%, 1)",light:"hsl(45, 8%, 20%)"}},{property:"wh-text-strong",value:{dark:"rgba(255, 255, 255, 0.9)",light:"rgb(55, 53, 47)"}},{property:"wh-text",value:{dark:"rgba(255, 255, 255, 0.85)",light:"rgb(55, 53, 47)"}},{property:"wh-text-hover",value:{dark:"var(--wh-text-strong)",light:"var(--wh-text-strong)"}},{property:"wh-text-light",value:{dark:"rgba(255, 255, 255, 0.78)",light:"rgb(55, 53, 47, 0.9)"}},{property:"wh-text-lighter",value:{dark:"rgba(255, 255, 255, 0.66)",light:"rgb(55, 53, 47, 0.7)"}},{property:"wh-text-lightest",value:{dark:"rgba(255, 255, 255, 0.55)",light:"rgb(55, 53, 47, 0.5)"}},{property:"wh-border-color",value:{dark:"hsla(0, 0%, 100%, 0.15)",light:"var(--wh-gray-300)"}},{property:"wh-border-color-strong",value:{dark:"hsla(0, 0%, 100%, 0.25)",light:"var(--wh-gray-400)"}},{property:"wh-note-editor-bg-color",value:{dark:"hsl(221, 27%, 17%)",light:"rgb(247, 246, 243)"}},{property:"wh-note-editor-bg-color-preview",value:{dark:"hsl(221, 27%, 15%)",light:"rgba(247, 246, 243, 0.85)"}},{property:"wh-bg-tags",value:{dark:"var(--wh-secondary-300)",light:"var(--wh-bg-front-strong)"}},{property:"wh-bg-tags-hover",value:{dark:"var(--wh-secondary-200)",light:"var(--wh-bg-front-strong-hover)"}},{property:"wh-syntax-bg-color",value:{dark:"rgba(255, 255, 255, 0.05)",light:"rgb(230, 230, 230)"}},{property:"wh-fallback-img-color",value:{dark:"var(--wh-secondary-600)",light:"var(--wh-gray-100)"}},{property:"wh-bg-disabled",value:{dark:"hsl(220, 22%, 18%)",light:"#e7e9ec"}},{property:"wh-bg-notification-unread",value:{dark:"hsla(161, 100%, 20%, 0.15)",light:"rgba(187, 219, 204, 0.2)"}},{property:"wh-bg-notification-unread-hover",value:{dark:"hsla(161, 100%, 20%, 0.05)",light:"rgba(187, 219, 204, 0.1)"}},{property:"wh-subtle-gray",value:{dark:"rgb(255, 255, 255, 0.1)",light:"rgb(128, 128, 128, 0.15)"}},{property:"wh-shadow",value:{dark:"inset 0 0 0.5px 1px hsla(0, 0%, 100%, 0.1),\n      /* 2. shadow ring  */ 0 0 0 1px hsla(230, 13%, 9%, 0.075),\n      /* 3. multiple soft shadows  */ 0 0.3px 0.4px hsla(230, 13%, 9%, 0.02),\n      0 0.9px 1.5px hsla(230, 13%, 9%, 0.045),\n      0 3.5px 6px hsla(230, 13%, 9%, 0.09)",light:"inset 0 0 0.5px 1px hsla(0, 0%, 100%, 0.1),\n      /* 2. shadow ring  */ 0 0 0 1px hsla(230, 13%, 9%, 0.075),\n      /* 3. multiple soft shadows  */ 0 0.3px 0.4px hsla(230, 13%, 9%, 0.02),\n      0 0.9px 1.5px hsla(230, 13%, 9%, 0.045),\n      0 3.5px 6px hsla(230, 13%, 9%, 0.09)"}},{property:"wh-shadow-primary",value:{dark:"var(--wh-primary-500) 0px 0px 0px 1px inset,\n      var(--wh-primary-500) 0px 0px 1px",light:"var(--wh-primary-500) 0px 0px 0px 1px inset,\n      var(--wh-primary-500) 0px 0px 1px"}},{property:"wh-skeleton-bg",value:{dark:"var(--wh-secondary-300)",light:"var(--wh-gray-200)"}},{property:"wh-skeleton-bg-hover",value:{dark:"var(--wh-secondary-200)",light:"var(--wh-gray-300)"}},{property:"wh-skeleton-bg-strong",value:{dark:"var(--wh-secondary-200)",light:"var(--wh-gray-300)"}},{property:"wh-skeleton-bg-strong-hover",value:{dark:"var(--wh-secondary-100)",light:"var(--wh-gray-400)"}}],yd=(e,t)=>({property:e.property,value:e.value[t]});function vd(e){const t=e??dd(),i=bd.map(e=>yd(e,t));cd(i)}async function wd(){try{const e=await NA.getJwtPayload();return e?{_id:e._id}:null}catch(e){return console.warn("Failed to get current user for action recording:",e),null}}class _d{constructor(e){this.dbQueries=e}get db(){var e;const t=null==(e=mk())?void 0:e.db;return t||console.error("Db not found in DbActions"),t}clearDataCache(){this.dbQueries.clearDataCache()}async clearDatabases(){var e;await(null==(e=this.db)?void 0:e.clearDatabases()),this.clearDataCache()}async importBackupData(e,t){if(!wb(e))throw new Error("Invalid import backup data");const i=await this.dbQueries.getAllActions(),r=await this.dbQueries.getAllEntities();try{const i=Eb(e),o=[...i.bookmarks,...i.marks,...i.pagecontents??[],...i.aichats??[]],n=[...i.pagecontents??[],...i.aichats??[]].map(e=>uv(e)).filter(Sm)??[],a=qm(o);if(await Promise.all([this.createOrUpdateContents(n),this.createOrUpdateActions(a),b_(e.chromeSettings)]),null!=t&&t.removeExistingData){const e=r.filter(e=>!o.some(t=>t._id===e._id));await this.createEntityDeleteActions(e.map(e=>({entityType:e._objectStore,entityId:e._id,userId:e._user})))}}catch(e){console.log(e),BT({content:"Something went wrong, restoring old data...",variant:"error",uniqueId:"general-error"}),await this.createOrUpdateActions(i)}}async createEntityCreateAction(e){const t=e.map(Fm).filter(Sm);await this.createOrUpdateActions(t)}async createEntityUpdateAction(e){const t=e.map(Hm).filter(Sm);await this.createOrUpdateActions(t)}async createEntityDeleteActions(e){const t=e.map(zm);await this.createOrUpdateActions(t)}async markEntitiesAsDeleted({entityType:e,entities:t}){const i=await wd();await this.createEntityDeleteActions(t.map(t=>({entityType:e,entityId:t._id,userId:null==i?void 0:i._id})))}async createOrUpdateEntities({entityType:e,entities:t}){if(yp(e)){if(yp(e)){const i=await wd(),r=Wm(await this.dbQueries.getAllActionsForEntityType(e)),o=t.filter(e=>!r.some(t=>t._id===e._id)),n=o.map(e=>({entity:e,userId:null==i?void 0:i._id})),a=t.filter(e=>r.some(t=>t._id===e._id)),s=a.map(t=>{const o=r.find(e=>e._id===t._id);return o?{entityType:e,entityId:t._id,updates:t,previousValues:o,userId:null==i?void 0:i._id}:null}).filter(Sm),l=[...o,...a].map(e=>nk(e)?uv(e):null).filter(Sm);await Promise.allSettled([this.createEntityCreateAction(n),this.createEntityUpdateAction(s),this.createOrUpdateContents(l)])}}else console.warn(`Entity type {${e}} is not syncable!`)}async createOrUpdateActions(e){var t;await(null==(t=this.db)?void 0:t.createOrUpdateActions(e)),await this.dbQueries.addActionsToCache(e),await this.dbQueries.isActionCompactionNeeded()&&await this.runActionCompaction()}async runActionCompaction(){var e,t,i;const r=Km(await this.dbQueries.getAllActions(),!1===(null==(e=mk())?void 0:e.environment.production)?Ym.dev:Ym.prod);r.compactedCreateActions.length&&await(null==(t=this.db)?void 0:t.createOrUpdateActions(r.compactedCreateActions)),r.deletedUpdateActionIds.length&&await(null==(i=this.db)?void 0:i.deleteActionsInTransaction(r.deletedUpdateActionIds)),this.clearDataCache()}async deleteDataFromOtherUsers(){var e,t;const i=await wd();if(!i)return{deletedActions:0};const r=(await(null==(e=this.db)?void 0:e.getAllUniqueUserIds())??[]).filter(e=>e!==i._id);if(0===r.length)return{deletedActions:0};this.clearDataCache();const o=await Rp.getChromeSettings();null!=o&&o._user&&o._user!==i._id&&await Rp.updateChromeSettings(Dp);const n=[];for(const e of r){const i=await(null==(t=this.db)?void 0:t.getActionIdsForUser(e))??[];n.push(...i)}return await this.deleteActionsInTransaction(n),this.clearDataCache(),{deletedActions:n.length}}async createOrUpdateContents(e){var t;await(null==(t=this.db)?void 0:t.createOrUpdateContents(e))}async deleteActionsInTransaction(e){var t;e.length&&(await(null==(t=this.db)?void 0:t.deleteActionsInTransaction(e)),this.clearDataCache())}async deleteActions(e){e.length&&(await this.deleteActionsInTransaction(e.map(e=>e.id)),this.clearDataCache())}async doMigration(e){var t,i,r,o;try{if(!await(null==(t=this.db)?void 0:t.dbHasDeprecatedObjectStores()))return;const n=await(null==(i=this.db)?void 0:i.getAllEntitiesFromDeprecatedObjectStores());if(null==n||!n.length)return;const a=await this.dbQueries.getAllEntities(),s=n.filter(e=>!a.some(t=>t._id===e._id)),l=await(null==(r=this.db)?void 0:r.getDeprecatedChromeSettings());l&&await Rp.updateChromeSettings(l);const c=qm(s);await this.createOrUpdateActions(c);const d=s.map(e=>nk(e)?uv(e):null).filter(Sm);await this.createOrUpdateContents(d),this.clearDataCache();const u=await this.dbQueries.getAllEntities();await(null==(o=this.db)?void 0:o.runMigrationGarbageCollector(u)),await e.chromeSyncService.executeSyncPromise(),this.clearDataCache()}catch(e){console.error("Error during migration:",e)}}}var Td=(e=>(e.BASIC="BASIC",e.EXPERT="EXPERT",e))(Td||{});const Ad="BASIC",Ed={BASIC:"Standard",EXPERT:"Advanced"};var kd=(e=>(e.PUBLIC="PUBLIC",e.PUBLIC_LINK="PUBLIC_LINK",e.PRIVATE="PRIVATE",e))(kd||{});function Sd(e){return"kindle"===(null==e?void 0:e.type)}function xd(e){if(Sd(e))return{author:e.author,image:{url:e.coverImageUrl,alt:e.title,type:"URL"},title:e.coverTitle}}function Cd(e,t){return{bookmark:e,hideIfZero:!1,...t}}var Id=(e=>(e.BLOCKQUOTE="blockquote",e.PARAGRAPH="paragraph",e.HEADING_1="heading1",e.HEADING_2="heading2",e.HEADING_3="heading3",e.BULLET_LIST_ITEM="bulletListItem",e.IMAGE="image",e.CODE="code",e))(Id||{});const Nd=Object.values(Id);function Dd(e){return Nd.includes(e)}const Od="blockquote",Ld=["paragraph","heading1","heading2","heading3","bulletListItem","bulletListItem","code"];function Pd(e){return Bd(e)||Ld.includes(e.mediaType??"")}function Rd(e){return Ld.includes(e)}function Md(e){return Pd(e)}function Bd(e){return!(null!=e&&e.mediaType)||"blockquote"===e.mediaType}function Ud(e){return"image"===(null==e?void 0:e.mediaType)&&!(null==e||!e.imageSrc)}function $d(e){return"kindle"===(null==e?void 0:e.type)}const Gd=()=>document.querySelector(kv.NotificationsPdf.TAG);function Fd(e){const t=Gd();"function"==typeof(null==t?void 0:t.setNotification)&&(null==t||t.setNotification(e))}const Hd={compact:[{property:"--bookmark-details-header-padding",value:"0 6px 0 6px"},{property:"--bookmark-details-main-padding",value:"0 0 0 0"},{property:"--bookmark-details-grid-item-padding",value:"0 6px"},{property:"--bookmark-details-drag-btn-left-position",value:"-8px"},{property:"--bookmark-details-sort-btn-right-position",value:"-12px"},{property:"--mark-blockquote-padding",value:"2px 4px 0px 6px"}],extended:[{property:"--bookmark-details-header-padding",value:"0 8px 0 8px"},{property:"--bookmark-details-main-padding",value:"0 0 0 0"},{property:"--bookmark-details-grid-item-padding",value:"0 8px"},{property:"--bookmark-details-drag-btn-left-position",value:"-2px"},{property:"--bookmark-details-sort-btn-right-position",value:"-8px"},{property:"--mark-blockquote-padding",value:"6px 0px 8px 12px"}]},zd=(e,t,i)=>({id:`${e}_${t}`,type:e,layout:Hd[e],highlightsView:i});var jd=(e=>(e.trash="trash",e["copy-file"]="copy-file",e.blockquote="blockquote",e["file-pdf"]="file-pdf",e["file-html"]="file-html",e.settings="settings",e.rocket="rocket",e.search="search",e.bulb="bulb",e.star="star",e["delete-x"]="delete-x",e.twitter="twitter",e.box="box",e["mark-icon"]="mark-icon",e.linkedin="linkedin",e.facebook="facebook",e.clock="clock",e.calendar="calendar",e["external-link"]="external-link",e["cloud-off"]="cloud-off",e.cloud="cloud",e["cloud-check"]="cloud-check",e["plus-circle"]="plus-circle",e["minus-circle"]="minus-circle",e.info="info",e["x-circle"]="x-circle",e["check-circle"]="check-circle",e["thumbs-up"]="thumbs-up",e["thumbs-down"]="thumbs-down",e.brain="brain",e["arrow-right"]="arrow-right",e.eye="eye",e["eye-off"]="eye-off",e["feather-edit-3"]="feather-edit-3",e.tag="tag",e.home="home",e.bookmark="bookmark",e["align-left"]="align-left",e["align-right"]="align-right",e["push-right"]="push-right",e["sidebar-overlay"]="sidebar-overlay",e["sidebar-expand"]="sidebar-expand",e.sun="sun",e.moon="moon",e.power="power",e.image="image",e["book-open"]="book-open",e.bell="bell",e["minimize-2"]="minimize-2",e["maximize-2"]="maximize-2",e["lock-icon"]="lock-icon",e.link="link",e["unlock-icon"]="unlock-icon",e.menu="menu",e.list="list",e.logout="logout",e["chevron-right"]="chevron-right",e["chevron-left"]="chevron-left",e.history="history",e.globe="globe",e.grid="grid",e["arrows-down-up"]="arrows-down-up",e.filter="filter",e["filter-2"]="filter-2",e.groups="groups",e["size-small"]="size-small",e["size-medium"]="size-medium",e["size-large"]="size-large",e["alert-circle"]="alert-circle",e.save="save",e.user="user",e["arrow-up-circle"]="arrow-up-circle",e.compass="compass",e.zap="zap",e.smartphone="smartphone",e.capacities="capacities",e.notion="notion",e.obsidian="obsidian",e.book="book",e.colorPalette="colorPalette",e.type="type",e.crown="crown",e.command="command",e.circle="circle",e.dragDots="dragDots",e.weava="weava",e.pocket="pocket",e.mail="mail",e.repeat="repeat",e.inbox="inbox",e.flame="flame",e.medal="medal",e["check-badge"]="check-badge",e.check="check",e.dot="dot",e["curved-arrow-left"]="curved-arrow-left",e["buyer-pay-icon"]="buyer-pay-icon",e["save-plant"]="save-plant",e.reader="reader",e.download="download",e.font="font",e["auto-color-mode"]="auto-color-mode",e["paint-brush"]="paint-brush",e.width="width",e.height="height",e.plus="plus",e.pause="pause",e["reader-extension-icon"]="reader-extension-icon",e.gift="gift",e.notebook="notebook",e.share="share",e["ai-stars"]="ai-stars",e["chevron-down"]="chevron-down",e.collapse="collapse",e.expand="expand",e.clipboard="clipboard",e.target="target",e.pin="pin",e.play="play",e.youtube="youtube",e.diigo="diigo",e["stop-circle"]="stop-circle",e["rotate-ccw"]="rotate-ccw",e))(jd||{});const Vd='\n<svg\nclass="icon markerSvg"\nxmlns="http://www.w3.org/2000/svg"\nviewBox="0 0 544 512"\n>\n<path\n  d="M0 479.98L99.92 512l35.45-35.45-67.04-67.04L0 479.98zm124.61-240.01a36.592 36.592 0 0 0-10.79 38.1l13.05 42.83-50.93 50.94 96.23 96.23 50.86-50.86 42.74 13.08c13.73 4.2 28.65-.01 38.15-10.78l35.55-41.64-173.34-173.34-41.52 35.44zm403.31-160.7l-63.2-63.2c-20.49-20.49-53.38-21.52-75.12-2.35L190.55 183.68l169.77 169.78L530.27 154.4c19.18-21.74 18.15-54.63-2.35-75.13z"\n/>\n</svg>\n',Wd='\n<svg xmlns="http://www.w3.org/2000/svg" \nclass="icon linkSvg"\nviewBox="0 0 24 24" \nfill="none" \nstroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg>\n',qd="web-highlights-pdf-hint",Yd="web-highlights-global-styles";var Kd;function Xd(e){const t=null==e?void 0:e.sidebarWidth;return t?t>400?14:t>350?13.5:t>300?13:t>250?12:t>200?11.5:12:12}(e=>{e.WEB_HIGHLIGHT="web-highlight"})(Kd||(Kd={}));const Jd=()=>Math.round(window.innerWidth/1.5),Zd=()=>340;function Qd(e){const t=Jd(),i=Zd();return e>=t?t:e<i?i:e}const eu={OPEN:"web-highlights-open",ANIMATE:"web-highlights-animate"};function tu(){var e,t;null==(t=null==(e=null==document?void 0:document.body)?void 0:e.classList)||t.toggle(eu.ANIMATE)}function iu({open:e}){var t,i,r,o;e?null==(i=null==(t=null==document?void 0:document.body)?void 0:t.classList)||i.add(eu.OPEN):null==(o=null==(r=null==document?void 0:document.body)?void 0:r.classList)||o.remove(eu.OPEN)}const ru=0;async function ou(){return wg(location.href)?async function(){const e=()=>{Bk.dispatch("pdfIsRendered",{detail:{}}),Fd({type:"text",canClose:!0,durationInMillis:2500,text:"PDF is ready! Enjoy highlighting."})};if(!function(){var e,t;return(null==(e=window.PDFViewerApplication)?void 0:e.renderedPages)===(null==(t=window.PDFViewerApplication)?void 0:t.pagesCount)}())return new Promise(t=>{const i=({detail:{numPages:r,pageNumber:o}})=>{const n=o===r;(function({pageNumber:e,numPages:t}){Fd({type:"text",canClose:!1,text:`Preparing PDF file: ${e}/${t}`})})({pageNumber:o,numPages:r}),n&&(document.body.removeEventListener("pdfPagerendered",i),console.log("Pdf rendering complete!"),e(),setTimeout(()=>t(),ru))};document.body.addEventListener("pdfPagerendered",i)});e()}():async function(){return await async function(){return new Promise(e=>{if("complete"===document.readyState||"interactive"===document.readyState)setTimeout(()=>e(),ru);else{const t=()=>{document.removeEventListener("DOMContentLoaded",t),setTimeout(()=>e(),ru)};document.addEventListener("DOMContentLoaded",t)}})}(),new Promise(e=>{setTimeout(()=>{requestIdleCallback(()=>e())},ru)})}()}function nu(e){const t=_g(location.href),i=IS()||t||"overlay"===(null==e?void 0:e.sidebarBehavior)?"0":Qd((null==e?void 0:e.sidebarWidth)??Dp.sidebarOptions.sidebarWidth),r=sf()?" .reader-content":"",o=Xf(location.href)?" ytd-app":"",n=`\n  webhighlights-sidebar {\n    --webhighlights-font-size: ${Xd(e)}px;\n  }\n\n  body.web-highlights-animate${r}${o} {\n    transition: all 300ms linear;\n    transition-property: margin-left, margin-right;\n  }\n\n  body.web-highlights-open${r}${o} {\n    margin-${(null==e?void 0:e.sidebarAlignment)||"left"}: ${i}px !important;\n  }\n\n  ${Kd.WEB_HIGHLIGHT}.${ad.HIGHLIGHT_CLASS} {\n    background-color: #92ffaa;\n    cursor: pointer;\n    visibility: visible !important;\n  }\n\n  ${Kd.WEB_HIGHLIGHT}.${ad.HIGHLIGHT_CLASS}.${ad.CONTAINS_TAGS_CLASS},\n  ${Kd.WEB_HIGHLIGHT}.${ad.HIGHLIGHT_CLASS}.${ad.CONTAINS_NOTES_CLASS} {\n    border-bottom: 2.8px solid gray;\n    border-radius: 0px;\n  }\n\n  ${Kd.WEB_HIGHLIGHT} > *:not(${Sv.PopupToolbox.TAG}) {\n    background-color: #92ffaa;\n  }\n\n  ${Sv.PopupToolbox.TAG}.${ad.TOOLBOX_CONTAINS_HIGHLIGHT_CLASS} {\n    transform: translate(-63px, -10px);\n    position: fixed;\n  }\n`;pd(Yd,n)}const au={TITLE:"reader:title",DESCRIPTION:"reader:description",IMAGE:"reader:image",URL:"reader:url"};function su({title:e,description:t,image:i,url:r,favicon:o}){cu(`${location.origin}${location.pathname}`),du(`${location.origin}${location.pathname}`),Yf()||(document.title=`Reader: ${e}`);const n=document.querySelector(`meta[name="${au.URL}"]`);if(n)n.setAttribute("content",r||"");else{const e=document.createElement("meta");e.setAttribute("name",au.URL),e.setAttribute("content",r||""),document.head.appendChild(e)}const a=document.querySelector(`meta[name="${au.TITLE}"]`);if(a)a.setAttribute("content",e||"");else{const t=document.createElement("meta");t.setAttribute("name",au.TITLE),t.setAttribute("content",e||""),document.head.appendChild(t)}const s=document.querySelector(`meta[name="${au.DESCRIPTION}"]`);if(s)s.setAttribute("content",t||"");else{const e=document.createElement("meta");e.setAttribute("name",au.DESCRIPTION),e.setAttribute("content",t||""),document.head.appendChild(e)}if(null!=i&&i.url){const e=document.querySelector(`meta[name="${au.IMAGE}"]`);if(e)e.setAttribute("content",i.url);else{const e=document.createElement("meta");e.setAttribute("name",au.IMAGE),e.setAttribute("content",i.url),document.head.appendChild(e)}}if(o){const e=document.querySelector('link[rel="icon"]');if(e)e.setAttribute("href",o);else{const e=document.createElement("link");e.setAttribute("rel","icon"),e.setAttribute("href",o),document.head.appendChild(e)}}}function lu(){var e,t,i,r;return{title:(null==(e=document.querySelector(`meta[name="${au.TITLE}"]`))?void 0:e.getAttribute("content"))||document.title,url:(null==(t=document.querySelector(`meta[name="${au.URL}"]`))?void 0:t.getAttribute("content"))||Og(Mp.url)||"",description:(null==(i=document.querySelector(`meta[name="${au.DESCRIPTION}"]`))?void 0:i.getAttribute("content"))||"",image:(null==(r=document.querySelector(`meta[name="${au.IMAGE}"]`))?void 0:r.getAttribute("content"))||""}}function cu(e){const t=document.querySelector('link[rel="canonical"]');if(t)t.setAttribute("href",e);else{const t=document.createElement("link");t.setAttribute("rel","canonical"),t.setAttribute("href",e),document.head.appendChild(t)}}function du(e){const t=document.querySelector('link[rel="alternate"]');if(t)t.setAttribute("href",e);else{const t=document.createElement("link");t.setAttribute("rel","alternate"),t.setAttribute("href",e),document.head.appendChild(t)}}function uu(){return document.querySelector(Sv.Sidebar.TAG)}function hu(e){if(!_g(location.href)&&!uu()){const t=document.createElement(Sv.Sidebar.TAG);t.isBlacklisted=(null==e?void 0:e.isBlacklisted)??!1,t.isDefaultOpen=(null==e?void 0:e.isDefaultOpen)??!1,document.documentElement.appendChild(t)}}function pu(){const e=uu();e&&e.remove()}function gu(){return document.querySelector(Sv.PopupToolbox.TAG)}function fu(){const e=gu();e&&e.remove()}function mu(){if(!gu()){const e=document.createElement(Sv.PopupToolbox.TAG);document.body.appendChild(e)}}function bu(){return document.querySelector(Sv.Marker.TAG)}function yu(){const e=bu();e&&e.remove()}function vu(){if(!bu()){const e=document.createElement(Sv.Marker.TAG);document.body.appendChild(e)}}async function wu(){if(af(location.href)&&!sf())return;await am(20);const e=bu();if("function"==typeof(null==e?void 0:e.init))try{await e.init()}catch(e){console.error("currentWebMarker is not initialized",e)}else console.error("currentWebMarker is not initialized")}function _u(){if(!document.querySelector(Sv.Reader.TAG)){const e=document.createElement(Sv.Reader.TAG);document.body.appendChild(e)}}function Tu(e,t){e=Mu(e);let{R:i,G:r,B:o}=Su(e);const n=Eu({R:i,G:r,B:o});return Au(e)?t+=100*(1-n):t*=-1,i=parseInt(""+i*(100+t)/100),r=parseInt(""+r*(100+t)/100),o=parseInt(""+o*(100+t)/100),i=i<255?i:255,r=r<255?r:255,o=o<255?o:255,"#"+(1==i.toString(16).length?"0"+i.toString(16):i.toString(16))+(1==r.toString(16).length?"0"+r.toString(16):r.toString(16))+(1==o.toString(16).length?"0"+o.toString(16):o.toString(16))}function Au(e){return ku(Su(Mu(e)))}function Eu({R:e,G:t,B:i}){return(.299*e+.587*t+.114*i)/255}function ku(e){return Eu(e)<.5}function Su(e){return{R:parseInt(e.substring(1,3),16),G:parseInt(e.substring(3,5),16),B:parseInt(e.substring(5,7),16)}}function xu(e){const t=e.match(/\d+/g);if(!t||t.length<3)return e;const[i,r,o]=t;return`#${parseInt(i||"0",10).toString(16).padStart(2,"0")}${parseInt(r||"0",10).toString(16).padStart(2,"0")}${parseInt(o||"0",10).toString(16).padStart(2,"0")}`}const Cu=e=>{const t=e.match(/\d+/g);if(!t||t.length<3)throw new Error("Invalid HSL format");const[i,r,o]=t.map(Number),[n,a,s]=((e,t,i)=>{const r=(1-Math.abs(2*i-1))*t,o=r*(1-Math.abs(e/60%2-1)),n=i-r/2;let a=0,s=0,l=0;return 0<=e&&e<60?[a,s,l]=[r,o,0]:60<=e&&e<120?[a,s,l]=[o,r,0]:120<=e&&e<180?[a,s,l]=[0,r,o]:180<=e&&e<240?[a,s,l]=[0,o,r]:240<=e&&e<300?[a,s,l]=[o,0,r]:300<=e&&e<360&&([a,s,l]=[r,0,o]),[Math.round(255*(a+n)),Math.round(255*(s+n)),Math.round(255*(l+n))]})(i||0,(r||0)/100,(o||0)/100);return((e,t,i)=>`#${((1<<24)+(e<<16)+(t<<8)+i).toString(16).slice(1)}`)(n,a,s)},Iu=e=>{const t=e.match(/\d+(\.\d+)?/g);if(!t||t.length<4)throw new Error("Invalid RGBA format");const[i,r,o,n]=t.map(Number),a=Math.round(255*(n||1));return`#${(i||0).toString(16).padStart(2,"0")}${(r||0).toString(16).padStart(2,"0")}${(o||0).toString(16).padStart(2,"0")}${a.toString(16).padStart(2,"0")}`},Nu=e=>/rgba\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*,\s*(0(\.\d+)?|1(\.0+)?)\s*\)/i.test(e),Du=e=>/hsla\(\s*\d+(\.\d+)?\s*,\s*\d+(\.\d+)?%?\s*,\s*\d+(\.\d+)?%?\s*,\s*(0(\.\d+)?|1(\.0+)?)\s*\)/i.test(e),Ou=e=>/^#([0-9A-F]{3}){1,2}(\w{2})?$/i.test(e),Lu=e=>/hsl\(\s*\d+(\.\d+)?\s*,\s*\d+(\.\d+)?%?\s*,\s*\d+(\.\d+)?%?\s*\)/i.test(e),Pu=e=>!!e.match(/^rgb\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*\)$/i),Ru=e=>{const t=e.match(/\d+(\.\d+)?/g);if(!t||t.length<4)throw new Error("Invalid HSLA format");const[i,r,o,n]=t.map(Number),a=Math.round(255*(n||1)),[s,l,c]=((e,t,i)=>{const r=(1-Math.abs(2*i-1))*t,o=r*(1-Math.abs(e/60%2-1)),n=i-r/2;let a=0,s=0,l=0;return 0<=e&&e<60?[a,s,l]=[r,o,0]:60<=e&&e<120?[a,s,l]=[o,r,0]:120<=e&&e<180?[a,s,l]=[0,r,o]:180<=e&&e<240?[a,s,l]=[0,o,r]:240<=e&&e<300?[a,s,l]=[o,0,r]:300<=e&&e<360&&([a,s,l]=[r,0,o]),[Math.round(255*(a+n)),Math.round(255*(s+n)),Math.round(255*(l+n))]})(i||0,(r||0)/100,(o||0)/100);return((e,t,i,r)=>{const o=r.toString(16).padStart(2,"0");return`#${((1<<24)+(e<<16)+(t<<8)+i).toString(16).slice(1)}${o}`})(s,l,c,a||1)};function Mu(e){return Ou(e)?e:Nu(e)?Iu(e):Pu(e)?xu(e):Du(e)?Ru(e):Lu(e)?Cu(e):e}function Bu(e,t){var i=parseInt(e.substring(1,3),16),r=parseInt(e.substring(3,5),16),o=parseInt(e.substring(5,7),16);return"#"+(1==i.toString(16).length?"0"+i.toString(16):i.toString(16))+(1==r.toString(16).length?"0"+r.toString(16):r.toString(16))+(1==o.toString(16).length?"0"+o.toString(16):o.toString(16))+Math.round(255*t).toString(16)}const Uu=["#f8fc46","#ffad2a","#92ffaa","#fb83b3","#9d64e2","#3cbefc"],$u=["#fdffb4","#f8b6a8","#a7e8c8","#f7c2d6","#c3bbec","#c3effc"];for(var Gu=[],Fu=[],Hu=typeof Uint8Array<"u"?Uint8Array:Array,zu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ju=0;ju<64;++ju)Gu[ju]=zu[ju],Fu[zu.charCodeAt(ju)]=ju;function Vu(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=e.indexOf("=");return-1===i&&(i=t),[i,i===t?0:4-i%4]}function Wu(e){return Gu[e>>18&63]+Gu[e>>12&63]+Gu[e>>6&63]+Gu[63&e]}function qu(e,t,i){for(var r,o=[],n=t;n<i;n+=3)r=(e[n]<<16&16711680)+(e[n+1]<<8&65280)+(255&e[n+2]),o.push(Wu(r));return o.join("")}Fu[45]=62,Fu[95]=63;var Yu=function(e){var t,i,r=Vu(e),o=r[0],n=r[1],a=new Hu(function(e,t,i){return 3*(t+i)/4-i}(0,o,n)),s=0,l=n>0?o-4:o;for(i=0;i<l;i+=4)t=Fu[e.charCodeAt(i)]<<18|Fu[e.charCodeAt(i+1)]<<12|Fu[e.charCodeAt(i+2)]<<6|Fu[e.charCodeAt(i+3)],a[s++]=t>>16&255,a[s++]=t>>8&255,a[s++]=255&t;return 2===n&&(t=Fu[e.charCodeAt(i)]<<2|Fu[e.charCodeAt(i+1)]>>4,a[s++]=255&t),1===n&&(t=Fu[e.charCodeAt(i)]<<10|Fu[e.charCodeAt(i+1)]<<4|Fu[e.charCodeAt(i+2)]>>2,a[s++]=t>>8&255,a[s++]=255&t),a},Ku=function(e){for(var t,i=e.length,r=i%3,o=[],n=16383,a=0,s=i-r;a<s;a+=n)o.push(qu(e,a,a+n>s?s:a+n));return 1===r?(t=e[i-1],o.push(Gu[t>>2]+Gu[t<<4&63]+"==")):2===r&&(t=(e[i-2]<<8)+e[i-1],o.push(Gu[t>>10]+Gu[t>>4&63]+Gu[t<<2&63]+"=")),o.join("")},Xu=function(e,t,i,r,o){var n,a,s=8*o-r-1,l=(1<<s)-1,c=l>>1,d=-7,u=i?o-1:0,h=i?-1:1,p=e[t+u];for(u+=h,n=p&(1<<-d)-1,p>>=-d,d+=s;d>0;n=256*n+e[t+u],u+=h,d-=8);for(a=n&(1<<-d)-1,n>>=-d,d+=r;d>0;a=256*a+e[t+u],u+=h,d-=8);if(0===n)n=1-c;else{if(n===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),n-=c}return(p?-1:1)*a*Math.pow(2,n-r)},Ju=function(e,t,i,r,o,n){var a,s,l,c=8*n-o-1,d=(1<<c)-1,u=d>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:n-1,g=r?1:-1,f=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=d):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+u>=1?h/l:h*Math.pow(2,1-u))*l>=2&&(a++,l/=2),a+u>=d?(s=0,a=d):a+u>=1?(s=(t*l-1)*Math.pow(2,o),a+=u):(s=t*Math.pow(2,u-1)*Math.pow(2,o),a=0));o>=8;e[i+p]=255&s,p+=g,s/=256,o-=8);for(a=a<<o|s,c+=o;c>0;e[i+p]=255&a,p+=g,a/=256,c-=8);e[i+p-g]|=128*f},Zu=function(e,t){return function(e,t){var i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=n,t.SlowBuffer=function(e){return+e!=e&&(e=0),n.alloc(+e)},t.INSPECT_MAX_BYTES=50;var r=2147483647;function o(e){if(e>r)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,n.prototype),t}function n(e,t,i){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return l(e)}return a(e,t,i)}function a(e,t,i){if("string"==typeof e)return function(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!n.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var i=0|h(e,t),r=o(i),a=r.write(e,t);return a!==i&&(r=r.slice(0,a)),r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(U(e,Uint8Array)){var t=new Uint8Array(e);return d(t.buffer,t.byteOffset,t.byteLength)}return c(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+babelHelpers.typeof(e));if(U(e,ArrayBuffer)||e&&U(e.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(U(e,SharedArrayBuffer)||e&&U(e.buffer,SharedArrayBuffer)))return d(e,t,i);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return n.from(r,t,i);var a=function(e){if(n.isBuffer(e)){var t=0|u(e.length),i=o(t);return 0===i.length||e.copy(i,0,0,t),i}return void 0!==e.length?"number"!=typeof e.length||$(e.length)?o(0):c(e):"Buffer"===e.type&&Array.isArray(e.data)?c(e.data):void 0}(e);if(a)return a;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return n.from(e[Symbol.toPrimitive]("string"),t,i);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+babelHelpers.typeof(e))}function s(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function l(e){return s(e),o(e<0?0:0|u(e))}function c(e){for(var t=e.length<0?0:0|u(e.length),i=o(t),r=0;r<t;r+=1)i[r]=255&e[r];return i}function d(e,t,i){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(i||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===t&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,t):new Uint8Array(e,t,i),Object.setPrototypeOf(r,n.prototype),r}function u(e){if(e>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return 0|e}function h(e,t){if(n.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||U(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+babelHelpers.typeof(e));var i=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===i)return 0;for(var o=!1;;)switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return R(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return M(e).length;default:if(o)return r?-1:R(e).length;t=(""+t).toLowerCase(),o=!0}}function p(e,t,i){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===i||i>this.length)&&(i=this.length),i<=0)||(i>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return x(this,t,i);case"utf8":case"utf-8":return A(this,t,i);case"ascii":return k(this,t,i);case"latin1":case"binary":return S(this,t,i);case"base64":return T(this,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,i);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,i){var r=e[t];e[t]=e[i],e[i]=r}function f(e,t,i,r,o){if(0===e.length)return-1;if("string"==typeof i?(r=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),$(i=+i)&&(i=o?0:e.length-1),i<0&&(i=e.length+i),i>=e.length){if(o)return-1;i=e.length-1}else if(i<0){if(!o)return-1;i=0}if("string"==typeof t&&(t=n.from(t,r)),n.isBuffer(t))return 0===t.length?-1:m(e,t,i,r,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,i):Uint8Array.prototype.lastIndexOf.call(e,t,i):m(e,[t],i,r,o);throw new TypeError("val must be string, number or Buffer")}function m(e,t,i,r,o){var n,a=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,i/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){var d=-1;for(n=i;n<s;n++)if(c(e,n)===c(t,-1===d?0:n-d)){if(-1===d&&(d=n),n-d+1===l)return d*a}else-1!==d&&(n-=n-d),d=-1}else for(i+l>s&&(i=s-l),n=i;n>=0;n--){for(var u=!0,h=0;h<l;h++)if(c(e,n+h)!==c(t,h)){u=!1;break}if(u)return n}return-1}function b(e,t,i,r){i=Number(i)||0;var o=e.length-i;r?(r=Number(r))>o&&(r=o):r=o;var n=t.length;r>n/2&&(r=n/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if($(s))return a;e[i+a]=s}return a}function y(e,t,i,r){return B(R(t,e.length-i),e,i,r)}function v(e,t,i,r){return B(function(e){for(var t=[],i=0;i<e.length;++i)t.push(255&e.charCodeAt(i));return t}(t),e,i,r)}function w(e,t,i,r){return B(M(t),e,i,r)}function _(e,t,i,r){return B(function(e,t){for(var i,r,o,n=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(i=e.charCodeAt(a))>>8,o=i%256,n.push(o),n.push(r);return n}(t,e.length-i),e,i,r)}function T(e,t,i){return 0===t&&i===e.length?Ku(e):Ku(e.slice(t,i))}function A(e,t,i){i=Math.min(e.length,i);for(var r=[],o=t;o<i;){var n,a,s,l,c=e[o],d=null,u=c>239?4:c>223?3:c>191?2:1;if(o+u<=i)switch(u){case 1:c<128&&(d=c);break;case 2:128==(192&(n=e[o+1]))&&(l=(31&c)<<6|63&n)>127&&(d=l);break;case 3:n=e[o+1],a=e[o+2],128==(192&n)&&128==(192&a)&&(l=(15&c)<<12|(63&n)<<6|63&a)>2047&&(l<55296||l>57343)&&(d=l);break;case 4:n=e[o+1],a=e[o+2],s=e[o+3],128==(192&n)&&128==(192&a)&&128==(192&s)&&(l=(15&c)<<18|(63&n)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(d=l)}null===d?(d=65533,u=1):d>65535&&(d-=65536,r.push(d>>>10&1023|55296),d=56320|1023&d),r.push(d),o+=u}return function(e){var t=e.length;if(t<=E)return String.fromCharCode.apply(String,e);for(var i="",r=0;r<t;)i+=String.fromCharCode.apply(String,e.slice(r,r+=E));return i}(r)}t.kMaxLength=r,n.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch{return!1}}(),!n.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(n.prototype,"parent",{enumerable:!0,get:function(){if(n.isBuffer(this))return this.buffer}}),Object.defineProperty(n.prototype,"offset",{enumerable:!0,get:function(){if(n.isBuffer(this))return this.byteOffset}}),n.poolSize=8192,n.from=function(e,t,i){return a(e,t,i)},Object.setPrototypeOf(n.prototype,Uint8Array.prototype),Object.setPrototypeOf(n,Uint8Array),n.alloc=function(e,t,i){return function(e,t,i){return s(e),e<=0?o(e):void 0!==t?"string"==typeof i?o(e).fill(t,i):o(e).fill(t):o(e)}(e,t,i)},n.allocUnsafe=function(e){return l(e)},n.allocUnsafeSlow=function(e){return l(e)},n.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==n.prototype},n.compare=function(e,t){if(U(e,Uint8Array)&&(e=n.from(e,e.offset,e.byteLength)),U(t,Uint8Array)&&(t=n.from(t,t.offset,t.byteLength)),!n.isBuffer(e)||!n.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var i=e.length,r=t.length,o=0,a=Math.min(i,r);o<a;++o)if(e[o]!==t[o]){i=e[o],r=t[o];break}return i<r?-1:r<i?1:0},n.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},n.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return n.alloc(0);var i;if(void 0===t)for(t=0,i=0;i<e.length;++i)t+=e[i].length;var r=n.allocUnsafe(t),o=0;for(i=0;i<e.length;++i){var a=e[i];if(U(a,Uint8Array))o+a.length>r.length?n.from(a).copy(r,o):Uint8Array.prototype.set.call(r,a,o);else{if(!n.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,o)}o+=a.length}return r},n.byteLength=h,n.prototype._isBuffer=!0,n.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},n.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},n.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},n.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?A(this,0,e):p.apply(this,arguments)},n.prototype.toLocaleString=n.prototype.toString,n.prototype.equals=function(e){if(!n.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===n.compare(this,e)},n.prototype.inspect=function(){var e="",i=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,i).replace(/(.{2})/g,"$1 ").trim(),this.length>i&&(e+=" ... "),"<Buffer "+e+">"},i&&(n.prototype[i]=n.prototype.inspect),n.prototype.compare=function(e,t,i,r,o){if(U(e,Uint8Array)&&(e=n.from(e,e.offset,e.byteLength)),!n.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+babelHelpers.typeof(e));if(void 0===t&&(t=0),void 0===i&&(i=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||i>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=i)return 0;if(r>=o)return-1;if(t>=i)return 1;if(this===e)return 0;for(var a=(o>>>=0)-(r>>>=0),s=(i>>>=0)-(t>>>=0),l=Math.min(a,s),c=this.slice(r,o),d=e.slice(t,i),u=0;u<l;++u)if(c[u]!==d[u]){a=c[u],s=d[u];break}return a<s?-1:s<a?1:0},n.prototype.includes=function(e,t,i){return-1!==this.indexOf(e,t,i)},n.prototype.indexOf=function(e,t,i){return f(this,e,t,i,!0)},n.prototype.lastIndexOf=function(e,t,i){return f(this,e,t,i,!1)},n.prototype.write=function(e,t,i,r){if(void 0===t)r="utf8",i=this.length,t=0;else if(void 0===i&&"string"==typeof t)r=t,i=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(i)?(i>>>=0,void 0===r&&(r="utf8")):(r=i,i=void 0)}var o=this.length-t;if((void 0===i||i>o)&&(i=o),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var n=!1;;)switch(r){case"hex":return b(this,e,t,i);case"utf8":case"utf-8":return y(this,e,t,i);case"ascii":case"latin1":case"binary":return v(this,e,t,i);case"base64":return w(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,e,t,i);default:if(n)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),n=!0}},n.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var E=4096;function k(e,t,i){var r="";i=Math.min(e.length,i);for(var o=t;o<i;++o)r+=String.fromCharCode(127&e[o]);return r}function S(e,t,i){var r="";i=Math.min(e.length,i);for(var o=t;o<i;++o)r+=String.fromCharCode(e[o]);return r}function x(e,t,i){var r=e.length;(!t||t<0)&&(t=0),(!i||i<0||i>r)&&(i=r);for(var o="",n=t;n<i;++n)o+=G[e[n]];return o}function C(e,t,i){for(var r=e.slice(t,i),o="",n=0;n<r.length-1;n+=2)o+=String.fromCharCode(r[n]+256*r[n+1]);return o}function I(e,t,i){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>i)throw new RangeError("Trying to access beyond buffer length")}function N(e,t,i,r,o,a){if(!n.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<a)throw new RangeError('"value" argument is out of bounds');if(i+r>e.length)throw new RangeError("Index out of range")}function D(e,t,i,r,o,n){if(i+r>e.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function O(e,t,i,r,o){return t=+t,i>>>=0,o||D(e,0,i,4),Ju(e,t,i,r,23,4),i+4}function L(e,t,i,r,o){return t=+t,i>>>=0,o||D(e,0,i,8),Ju(e,t,i,r,52,8),i+8}n.prototype.slice=function(e,t){var i=this.length;(e=~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),(t=void 0===t?i:~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),t<e&&(t=e);var r=this.subarray(e,t);return Object.setPrototypeOf(r,n.prototype),r},n.prototype.readUintLE=n.prototype.readUIntLE=function(e,t,i){e>>>=0,t>>>=0,i||I(e,t,this.length);for(var r=this[e],o=1,n=0;++n<t&&(o*=256);)r+=this[e+n]*o;return r},n.prototype.readUintBE=n.prototype.readUIntBE=function(e,t,i){e>>>=0,t>>>=0,i||I(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},n.prototype.readUint8=n.prototype.readUInt8=function(e,t){return e>>>=0,t||I(e,1,this.length),this[e]},n.prototype.readUint16LE=n.prototype.readUInt16LE=function(e,t){return e>>>=0,t||I(e,2,this.length),this[e]|this[e+1]<<8},n.prototype.readUint16BE=n.prototype.readUInt16BE=function(e,t){return e>>>=0,t||I(e,2,this.length),this[e]<<8|this[e+1]},n.prototype.readUint32LE=n.prototype.readUInt32LE=function(e,t){return e>>>=0,t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},n.prototype.readUint32BE=n.prototype.readUInt32BE=function(e,t){return e>>>=0,t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},n.prototype.readIntLE=function(e,t,i){e>>>=0,t>>>=0,i||I(e,t,this.length);for(var r=this[e],o=1,n=0;++n<t&&(o*=256);)r+=this[e+n]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},n.prototype.readIntBE=function(e,t,i){e>>>=0,t>>>=0,i||I(e,t,this.length);for(var r=t,o=1,n=this[e+--r];r>0&&(o*=256);)n+=this[e+--r]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*t)),n},n.prototype.readInt8=function(e,t){return e>>>=0,t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},n.prototype.readInt16LE=function(e,t){e>>>=0,t||I(e,2,this.length);var i=this[e]|this[e+1]<<8;return 32768&i?4294901760|i:i},n.prototype.readInt16BE=function(e,t){e>>>=0,t||I(e,2,this.length);var i=this[e+1]|this[e]<<8;return 32768&i?4294901760|i:i},n.prototype.readInt32LE=function(e,t){return e>>>=0,t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},n.prototype.readInt32BE=function(e,t){return e>>>=0,t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},n.prototype.readFloatLE=function(e,t){return e>>>=0,t||I(e,4,this.length),Xu(this,e,!0,23,4)},n.prototype.readFloatBE=function(e,t){return e>>>=0,t||I(e,4,this.length),Xu(this,e,!1,23,4)},n.prototype.readDoubleLE=function(e,t){return e>>>=0,t||I(e,8,this.length),Xu(this,e,!0,52,8)},n.prototype.readDoubleBE=function(e,t){return e>>>=0,t||I(e,8,this.length),Xu(this,e,!1,52,8)},n.prototype.writeUintLE=n.prototype.writeUIntLE=function(e,t,i,r){e=+e,t>>>=0,i>>>=0,r||N(this,e,t,i,Math.pow(2,8*i)-1,0);var o=1,n=0;for(this[t]=255&e;++n<i&&(o*=256);)this[t+n]=e/o&255;return t+i},n.prototype.writeUintBE=n.prototype.writeUIntBE=function(e,t,i,r){e=+e,t>>>=0,i>>>=0,r||N(this,e,t,i,Math.pow(2,8*i)-1,0);var o=i-1,n=1;for(this[t+o]=255&e;--o>=0&&(n*=256);)this[t+o]=e/n&255;return t+i},n.prototype.writeUint8=n.prototype.writeUInt8=function(e,t,i){return e=+e,t>>>=0,i||N(this,e,t,1,255,0),this[t]=255&e,t+1},n.prototype.writeUint16LE=n.prototype.writeUInt16LE=function(e,t,i){return e=+e,t>>>=0,i||N(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},n.prototype.writeUint16BE=n.prototype.writeUInt16BE=function(e,t,i){return e=+e,t>>>=0,i||N(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},n.prototype.writeUint32LE=n.prototype.writeUInt32LE=function(e,t,i){return e=+e,t>>>=0,i||N(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},n.prototype.writeUint32BE=n.prototype.writeUInt32BE=function(e,t,i){return e=+e,t>>>=0,i||N(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},n.prototype.writeIntLE=function(e,t,i,r){if(e=+e,t>>>=0,!r){var o=Math.pow(2,8*i-1);N(this,e,t,i,o-1,-o)}var n=0,a=1,s=0;for(this[t]=255&e;++n<i&&(a*=256);)e<0&&0===s&&0!==this[t+n-1]&&(s=1),this[t+n]=(e/a|0)-s&255;return t+i},n.prototype.writeIntBE=function(e,t,i,r){if(e=+e,t>>>=0,!r){var o=Math.pow(2,8*i-1);N(this,e,t,i,o-1,-o)}var n=i-1,a=1,s=0;for(this[t+n]=255&e;--n>=0&&(a*=256);)e<0&&0===s&&0!==this[t+n+1]&&(s=1),this[t+n]=(e/a|0)-s&255;return t+i},n.prototype.writeInt8=function(e,t,i){return e=+e,t>>>=0,i||N(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},n.prototype.writeInt16LE=function(e,t,i){return e=+e,t>>>=0,i||N(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},n.prototype.writeInt16BE=function(e,t,i){return e=+e,t>>>=0,i||N(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},n.prototype.writeInt32LE=function(e,t,i){return e=+e,t>>>=0,i||N(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},n.prototype.writeInt32BE=function(e,t,i){return e=+e,t>>>=0,i||N(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},n.prototype.writeFloatLE=function(e,t,i){return O(this,e,t,!0,i)},n.prototype.writeFloatBE=function(e,t,i){return O(this,e,t,!1,i)},n.prototype.writeDoubleLE=function(e,t,i){return L(this,e,t,!0,i)},n.prototype.writeDoubleBE=function(e,t,i){return L(this,e,t,!1,i)},n.prototype.copy=function(e,t,i,r){if(!n.isBuffer(e))throw new TypeError("argument should be a Buffer");if(i||(i=0),!r&&0!==r&&(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<i&&(r=i),r===i||0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-i&&(r=e.length-t+i);var o=r-i;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,i,r):Uint8Array.prototype.set.call(e,this.subarray(i,r),t),o},n.prototype.fill=function(e,t,i,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,i=this.length):"string"==typeof i&&(r=i,i=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!n.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var o=e.charCodeAt(0);("utf8"===r&&o<128||"latin1"===r)&&(e=o)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;var a;if(t>>>=0,i=void 0===i?this.length:i>>>0,e||(e=0),"number"==typeof e)for(a=t;a<i;++a)this[a]=e;else{var s=n.isBuffer(e)?e:n.from(e,r),l=s.length;if(0===l)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<i-t;++a)this[a+t]=s[a%l]}return this};var P=/[^+/0-9A-Za-z-_]/g;function R(e,t){t=t||1/0;for(var i,r=e.length,o=null,n=[],a=0;a<r;++a){if((i=e.charCodeAt(a))>55295&&i<57344){if(!o){if(i>56319){(t-=3)>-1&&n.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&n.push(239,191,189);continue}o=i;continue}if(i<56320){(t-=3)>-1&&n.push(239,191,189),o=i;continue}i=65536+(o-55296<<10|i-56320)}else o&&(t-=3)>-1&&n.push(239,191,189);if(o=null,i<128){if((t-=1)<0)break;n.push(i)}else if(i<2048){if((t-=2)<0)break;n.push(i>>6|192,63&i|128)}else if(i<65536){if((t-=3)<0)break;n.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;n.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return n}function M(e){return Yu(function(e){if((e=(e=e.split("=")[0]).trim().replace(P,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function B(e,t,i,r){for(var o=0;o<r&&!(o+i>=t.length||o>=e.length);++o)t[o+i]=e[o];return o}function U(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function $(e){return e!=e}var G=function(){for(var e="0123456789abcdef",t=new Array(256),i=0;i<16;++i)for(var r=16*i,o=0;o<16;++o)t[r+o]=e[i]+e[o];return t}()}(t={exports:{}},t.exports),t.exports}(),Qu=Zu.Buffer;Zu.SlowBuffer,Zu.INSPECT_MAX_BYTES,Zu.kMaxLength;var eh=function(e,t){return eh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},eh(e,t)};function th(e,t){function i(){this.constructor=e}eh(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var ih=function(e){function t(i){var r=e.call(this,i)||this;return Object.setPrototypeOf(r,t.prototype),r}return th(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"BSONError"},enumerable:!1,configurable:!0}),t}(Error),rh=function(e){function t(i){var r=e.call(this,i)||this;return Object.setPrototypeOf(r,t.prototype),r}return th(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"BSONTypeError"},enumerable:!1,configurable:!0}),t}(TypeError);function oh(e){return e&&e.Math==Math&&e}function nh(){return oh("object"==typeof globalThis&&globalThis)||oh("object"==typeof window&&window)||oh("object"==typeof self&&self)||oh("object"==typeof a.g&&a.g)||Function("return this")()}var ah=function(e){var t=function(){var e=nh();return"object"==typeof e.navigator&&"ReactNative"===e.navigator.product}()?"BSON: For React Native please polyfill crypto.getRandomValues, e.g. using: https://www.npmjs.com/package/react-native-get-random-values.":"BSON: No cryptographic implementation for random bytes present, falling back to a less secure implementation.";console.warn(t);for(var i=Qu.alloc(e),r=0;r<e;++r)i[r]=Math.floor(256*Math.random());return i},sh=function(){if(typeof window<"u"){var e=window.crypto||window.msCrypto;if(e&&e.getRandomValues)return function(t){return e.getRandomValues(Qu.alloc(t))}}return typeof a.g<"u"&&a.g.crypto&&a.g.crypto.getRandomValues?function(e){return a.g.crypto.getRandomValues(Qu.alloc(e))}:ah}();function lh(e){return"[object Uint8Array]"===Object.prototype.toString.call(e)}function ch(e){return"object"==typeof e&&null!==e}function dh(e,t){var i=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return i||(console.warn(t),i=!0),e.apply(this,r)}}function uh(e){if(ArrayBuffer.isView(e))return Qu.from(e.buffer,e.byteOffset,e.byteLength);if(function(e){return["[object ArrayBuffer]","[object SharedArrayBuffer]"].includes(Object.prototype.toString.call(e))}(e))return Qu.from(e);throw new rh("Must use either Buffer or TypedArray")}var hh=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|[0-9a-f]{12}4[0-9a-f]{3}[89ab][0-9a-f]{15})$/i,ph=function(e){return"string"==typeof e&&hh.test(e)},gh=function(e){if(!ph(e))throw new rh('UUID string representations must be a 32 or 36 character hex string (dashes excluded/included). Format: "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx" or "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx".');var t=e.replace(/-/g,"");return Qu.from(t,"hex")},fh=function(e,t){return void 0===t&&(t=!0),t?e.toString("hex",0,4)+"-"+e.toString("hex",4,6)+"-"+e.toString("hex",6,8)+"-"+e.toString("hex",8,10)+"-"+e.toString("hex",10,16):e.toString("hex")},mh=Math.pow(2,53),bh=-Math.pow(2,53),yh=function(){function e(t,i){if(!(this instanceof e))return new e(t,i);if(!(null==t||"string"==typeof t||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||Array.isArray(t)))throw new rh("Binary can only be constructed from string, Buffer, TypedArray, or Array<number>");this.sub_type=i??e.BSON_BINARY_SUBTYPE_DEFAULT,null==t?(this.buffer=Qu.alloc(e.BUFFER_SIZE),this.position=0):("string"==typeof t?this.buffer=Qu.from(t,"binary"):Array.isArray(t)?this.buffer=Qu.from(t):this.buffer=uh(t),this.position=this.buffer.byteLength)}return e.prototype.put=function(t){if("string"==typeof t&&1!==t.length)throw new rh("only accepts single character String");if("number"!=typeof t&&1!==t.length)throw new rh("only accepts single character Uint8Array or Array");var i;if((i="string"==typeof t?t.charCodeAt(0):"number"==typeof t?t:t[0])<0||i>255)throw new rh("only accepts number in a valid unsigned byte range 0-255");if(this.buffer.length>this.position)this.buffer[this.position++]=i;else{var r=Qu.alloc(e.BUFFER_SIZE+this.buffer.length);this.buffer.copy(r,0,0,this.buffer.length),this.buffer=r,this.buffer[this.position++]=i}},e.prototype.write=function(e,t){if(t="number"==typeof t?t:this.position,this.buffer.length<t+e.length){var i=Qu.alloc(this.buffer.length+e.length);this.buffer.copy(i,0,0,this.buffer.length),this.buffer=i}ArrayBuffer.isView(e)?(this.buffer.set(uh(e),t),this.position=t+e.byteLength>this.position?t+e.length:this.position):"string"==typeof e&&(this.buffer.write(e,t,e.length,"binary"),this.position=t+e.length>this.position?t+e.length:this.position)},e.prototype.read=function(e,t){return t=t&&t>0?t:this.position,this.buffer.slice(e,e+t)},e.prototype.value=function(e){return(e=!!e)&&this.buffer.length===this.position?this.buffer:e?this.buffer.slice(0,this.position):this.buffer.toString("binary",0,this.position)},e.prototype.length=function(){return this.position},e.prototype.toJSON=function(){return this.buffer.toString("base64")},e.prototype.toString=function(e){return this.buffer.toString(e)},e.prototype.toExtendedJSON=function(e){e=e||{};var t=this.buffer.toString("base64"),i=Number(this.sub_type).toString(16);return e.legacy?{$binary:t,$type:1===i.length?"0"+i:i}:{$binary:{base64:t,subType:1===i.length?"0"+i:i}}},e.prototype.toUUID=function(){if(this.sub_type===e.SUBTYPE_UUID)return new vh(this.buffer.slice(0,this.position));throw new ih('Binary sub_type "'.concat(this.sub_type,'" is not supported for converting to UUID. Only "').concat(e.SUBTYPE_UUID,'" is currently supported.'))},e.fromExtendedJSON=function(t,i){var r,o;if(i=i||{},"$binary"in t?i.legacy&&"string"==typeof t.$binary&&"$type"in t?(o=t.$type?parseInt(t.$type,16):0,r=Qu.from(t.$binary,"base64")):"string"!=typeof t.$binary&&(o=t.$binary.subType?parseInt(t.$binary.subType,16):0,r=Qu.from(t.$binary.base64,"base64")):"$uuid"in t&&(o=4,r=gh(t.$uuid)),!r)throw new rh("Unexpected Binary Extended JSON format ".concat(JSON.stringify(t)));return 4===o?new vh(r):new e(r,o)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){var e=this.value(!0);return'new Binary(Buffer.from("'.concat(e.toString("hex"),'", "hex"), ').concat(this.sub_type,")")},e.BSON_BINARY_SUBTYPE_DEFAULT=0,e.BUFFER_SIZE=256,e.SUBTYPE_DEFAULT=0,e.SUBTYPE_FUNCTION=1,e.SUBTYPE_BYTE_ARRAY=2,e.SUBTYPE_UUID_OLD=3,e.SUBTYPE_UUID=4,e.SUBTYPE_MD5=5,e.SUBTYPE_ENCRYPTED=6,e.SUBTYPE_COLUMN=7,e.SUBTYPE_USER_DEFINED=128,e}();Object.defineProperty(yh.prototype,"_bsontype",{value:"Binary"});var vh=function(e){function t(i){var r,o,n=this;if(null==i)r=t.generate();else if(i instanceof t)r=Qu.from(i.buffer),o=i.__id;else if(ArrayBuffer.isView(i)&&16===i.byteLength)r=uh(i);else{if("string"!=typeof i)throw new rh("Argument passed in UUID constructor must be a UUID, a 16 byte Buffer or a 32/36 character hex string (dashes excluded/included, format: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).");r=gh(i)}return(n=e.call(this,r,4)||this).__id=o,n}return th(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this.buffer},set:function(e){this.buffer=e,t.cacheHexString&&(this.__id=fh(e))},enumerable:!1,configurable:!0}),t.prototype.toHexString=function(e){if(void 0===e&&(e=!0),t.cacheHexString&&this.__id)return this.__id;var i=fh(this.id,e);return t.cacheHexString&&(this.__id=i),i},t.prototype.toString=function(e){return e?this.id.toString(e):this.toHexString()},t.prototype.toJSON=function(){return this.toHexString()},t.prototype.equals=function(e){if(!e)return!1;if(e instanceof t)return e.id.equals(this.id);try{return new t(e).id.equals(this.id)}catch{return!1}},t.prototype.toBinary=function(){return new yh(this.id,yh.SUBTYPE_UUID)},t.generate=function(){var e=sh(16);return e[6]=15&e[6]|64,e[8]=63&e[8]|128,Qu.from(e)},t.isValid=function(e){return!!e&&(e instanceof t||("string"==typeof e?ph(e):!(!lh(e)||16!==e.length||64!=(240&e[6])||128&~e[8])))},t.createFromHexString=function(e){return new t(gh(e))},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return'new UUID("'.concat(this.toHexString(),'")')},t}(yh),wh=function(){function e(t,i){if(!(this instanceof e))return new e(t,i);this.code=t,this.scope=i}return e.prototype.toJSON=function(){return{code:this.code,scope:this.scope}},e.prototype.toExtendedJSON=function(){return this.scope?{$code:this.code,$scope:this.scope}:{$code:this.code}},e.fromExtendedJSON=function(t){return new e(t.$code,t.$scope)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){var e=this.toJSON();return'new Code("'.concat(String(e.code),'"').concat(e.scope?", ".concat(JSON.stringify(e.scope)):"",")")},e}();Object.defineProperty(wh.prototype,"_bsontype",{value:"Code"});var _h=function(){function e(t,i,r,o){if(!(this instanceof e))return new e(t,i,r,o);var n=t.split(".");2===n.length&&(r=n.shift(),t=n.shift()),this.collection=t,this.oid=i,this.db=r,this.fields=o||{}}return Object.defineProperty(e.prototype,"namespace",{get:function(){return this.collection},set:function(e){this.collection=e},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){var e=Object.assign({$ref:this.collection,$id:this.oid},this.fields);return null!=this.db&&(e.$db=this.db),e},e.prototype.toExtendedJSON=function(e){e=e||{};var t={$ref:this.collection,$id:this.oid};return e.legacy||(this.db&&(t.$db=this.db),t=Object.assign(t,this.fields)),t},e.fromExtendedJSON=function(t){var i=Object.assign({},t);return delete i.$ref,delete i.$id,delete i.$db,new e(t.$ref,t.$id,t.$db,i)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){var e=void 0===this.oid||void 0===this.oid.toString?this.oid:this.oid.toString();return'new DBRef("'.concat(this.namespace,'", new ObjectId("').concat(String(e),'")').concat(this.db?', "'.concat(this.db,'"'):"",")")},e}();Object.defineProperty(_h.prototype,"_bsontype",{value:"DBRef"});var Th=void 0;try{Th=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}var Ah=4294967296,Eh=Ah*Ah,kh=Eh/2,Sh={},xh={},Ch=function(){function e(t,i,r){if(void 0===t&&(t=0),!(this instanceof e))return new e(t,i,r);"bigint"==typeof t?Object.assign(this,e.fromBigInt(t,!!i)):"string"==typeof t?Object.assign(this,e.fromString(t,!!i)):(this.low=0|t,this.high=0|i,this.unsigned=!!r),Object.defineProperty(this,"__isLong__",{value:!0,configurable:!1,writable:!1,enumerable:!1})}return e.fromBits=function(t,i,r){return new e(t,i,r)},e.fromInt=function(t,i){var r,o,n;return i?(n=0<=(t>>>=0)&&t<256)&&(o=xh[t])?o:(r=e.fromBits(t,(0|t)<0?-1:0,!0),n&&(xh[t]=r),r):(n=-128<=(t|=0)&&t<128)&&(o=Sh[t])?o:(r=e.fromBits(t,t<0?-1:0,!1),n&&(Sh[t]=r),r)},e.fromNumber=function(t,i){if(isNaN(t))return i?e.UZERO:e.ZERO;if(i){if(t<0)return e.UZERO;if(t>=Eh)return e.MAX_UNSIGNED_VALUE}else{if(t<=-kh)return e.MIN_VALUE;if(t+1>=kh)return e.MAX_VALUE}return t<0?e.fromNumber(-t,i).neg():e.fromBits(t%Ah|0,t/Ah|0,i)},e.fromBigInt=function(t,i){return e.fromString(t.toString(),i)},e.fromString=function(t,i,r){if(0===t.length)throw Error("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return e.ZERO;if("number"==typeof i?(r=i,i=!1):i=!!i,(r=r||10)<2||36<r)throw RangeError("radix");var o;if((o=t.indexOf("-"))>0)throw Error("interior hyphen");if(0===o)return e.fromString(t.substring(1),i,r).neg();for(var n=e.fromNumber(Math.pow(r,8)),a=e.ZERO,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),c=parseInt(t.substring(s,s+l),r);if(l<8){var d=e.fromNumber(Math.pow(r,l));a=a.mul(d).add(e.fromNumber(c))}else a=(a=a.mul(n)).add(e.fromNumber(c))}return a.unsigned=i,a},e.fromBytes=function(t,i,r){return r?e.fromBytesLE(t,i):e.fromBytesBE(t,i)},e.fromBytesLE=function(t,i){return new e(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,i)},e.fromBytesBE=function(t,i){return new e(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],i)},e.isLong=function(e){return ch(e)&&!0===e.__isLong__},e.fromValue=function(t,i){return"number"==typeof t?e.fromNumber(t,i):"string"==typeof t?e.fromString(t,i):e.fromBits(t.low,t.high,"boolean"==typeof i?i:t.unsigned)},e.prototype.add=function(t){e.isLong(t)||(t=e.fromValue(t));var i=this.high>>>16,r=65535&this.high,o=this.low>>>16,n=65535&this.low,a=t.high>>>16,s=65535&t.high,l=t.low>>>16,c=0,d=0,u=0,h=0;return u+=(h+=n+(65535&t.low))>>>16,h&=65535,d+=(u+=o+l)>>>16,u&=65535,c+=(d+=r+s)>>>16,d&=65535,c+=i+a,c&=65535,e.fromBits(u<<16|h,c<<16|d,this.unsigned)},e.prototype.and=function(t){return e.isLong(t)||(t=e.fromValue(t)),e.fromBits(this.low&t.low,this.high&t.high,this.unsigned)},e.prototype.compare=function(t){if(e.isLong(t)||(t=e.fromValue(t)),this.eq(t))return 0;var i=this.isNegative(),r=t.isNegative();return i&&!r?-1:!i&&r?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},e.prototype.comp=function(e){return this.compare(e)},e.prototype.divide=function(t){if(e.isLong(t)||(t=e.fromValue(t)),t.isZero())throw Error("division by zero");if(Th){if(!this.unsigned&&-2147483648===this.high&&-1===t.low&&-1===t.high)return this;var i=(this.unsigned?Th.div_u:Th.div_s)(this.low,this.high,t.low,t.high);return e.fromBits(i,Th.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?e.UZERO:e.ZERO;var r,o,n;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return e.UZERO;if(t.gt(this.shru(1)))return e.UONE;n=e.UZERO}else{if(this.eq(e.MIN_VALUE))return t.eq(e.ONE)||t.eq(e.NEG_ONE)?e.MIN_VALUE:t.eq(e.MIN_VALUE)?e.ONE:(r=this.shr(1).div(t).shl(1)).eq(e.ZERO)?t.isNegative()?e.ONE:e.NEG_ONE:(o=this.sub(t.mul(r)),n=r.add(o.div(t)));if(t.eq(e.MIN_VALUE))return this.unsigned?e.UZERO:e.ZERO;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();n=e.ZERO}for(o=this;o.gte(t);){r=Math.max(1,Math.floor(o.toNumber()/t.toNumber()));for(var a=Math.ceil(Math.log(r)/Math.LN2),s=a<=48?1:Math.pow(2,a-48),l=e.fromNumber(r),c=l.mul(t);c.isNegative()||c.gt(o);)r-=s,c=(l=e.fromNumber(r,this.unsigned)).mul(t);l.isZero()&&(l=e.ONE),n=n.add(l),o=o.sub(c)}return n},e.prototype.div=function(e){return this.divide(e)},e.prototype.equals=function(t){return e.isLong(t)||(t=e.fromValue(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&this.high===t.high&&this.low===t.low},e.prototype.eq=function(e){return this.equals(e)},e.prototype.getHighBits=function(){return this.high},e.prototype.getHighBitsUnsigned=function(){return this.high>>>0},e.prototype.getLowBits=function(){return this.low},e.prototype.getLowBitsUnsigned=function(){return this.low>>>0},e.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.eq(e.MIN_VALUE)?64:this.neg().getNumBitsAbs();var t,i=0!==this.high?this.high:this.low;for(t=31;t>0&&!(i&1<<t);t--);return 0!==this.high?t+33:t+1},e.prototype.greaterThan=function(e){return this.comp(e)>0},e.prototype.gt=function(e){return this.greaterThan(e)},e.prototype.greaterThanOrEqual=function(e){return this.comp(e)>=0},e.prototype.gte=function(e){return this.greaterThanOrEqual(e)},e.prototype.ge=function(e){return this.greaterThanOrEqual(e)},e.prototype.isEven=function(){return!(1&this.low)},e.prototype.isNegative=function(){return!this.unsigned&&this.high<0},e.prototype.isOdd=function(){return!(1&~this.low)},e.prototype.isPositive=function(){return this.unsigned||this.high>=0},e.prototype.isZero=function(){return 0===this.high&&0===this.low},e.prototype.lessThan=function(e){return this.comp(e)<0},e.prototype.lt=function(e){return this.lessThan(e)},e.prototype.lessThanOrEqual=function(e){return this.comp(e)<=0},e.prototype.lte=function(e){return this.lessThanOrEqual(e)},e.prototype.modulo=function(t){if(e.isLong(t)||(t=e.fromValue(t)),Th){var i=(this.unsigned?Th.rem_u:Th.rem_s)(this.low,this.high,t.low,t.high);return e.fromBits(i,Th.get_high(),this.unsigned)}return this.sub(this.div(t).mul(t))},e.prototype.mod=function(e){return this.modulo(e)},e.prototype.rem=function(e){return this.modulo(e)},e.prototype.multiply=function(t){if(this.isZero())return e.ZERO;if(e.isLong(t)||(t=e.fromValue(t)),Th){var i=Th.mul(this.low,this.high,t.low,t.high);return e.fromBits(i,Th.get_high(),this.unsigned)}if(t.isZero())return e.ZERO;if(this.eq(e.MIN_VALUE))return t.isOdd()?e.MIN_VALUE:e.ZERO;if(t.eq(e.MIN_VALUE))return this.isOdd()?e.MIN_VALUE:e.ZERO;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(e.TWO_PWR_24)&&t.lt(e.TWO_PWR_24))return e.fromNumber(this.toNumber()*t.toNumber(),this.unsigned);var r=this.high>>>16,o=65535&this.high,n=this.low>>>16,a=65535&this.low,s=t.high>>>16,l=65535&t.high,c=t.low>>>16,d=65535&t.low,u=0,h=0,p=0,g=0;return p+=(g+=a*d)>>>16,g&=65535,h+=(p+=n*d)>>>16,p&=65535,h+=(p+=a*c)>>>16,p&=65535,u+=(h+=o*d)>>>16,h&=65535,u+=(h+=n*c)>>>16,h&=65535,u+=(h+=a*l)>>>16,h&=65535,u+=r*d+o*c+n*l+a*s,u&=65535,e.fromBits(p<<16|g,u<<16|h,this.unsigned)},e.prototype.mul=function(e){return this.multiply(e)},e.prototype.negate=function(){return!this.unsigned&&this.eq(e.MIN_VALUE)?e.MIN_VALUE:this.not().add(e.ONE)},e.prototype.neg=function(){return this.negate()},e.prototype.not=function(){return e.fromBits(~this.low,~this.high,this.unsigned)},e.prototype.notEquals=function(e){return!this.equals(e)},e.prototype.neq=function(e){return this.notEquals(e)},e.prototype.ne=function(e){return this.notEquals(e)},e.prototype.or=function(t){return e.isLong(t)||(t=e.fromValue(t)),e.fromBits(this.low|t.low,this.high|t.high,this.unsigned)},e.prototype.shiftLeft=function(t){return e.isLong(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?e.fromBits(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):e.fromBits(0,this.low<<t-32,this.unsigned)},e.prototype.shl=function(e){return this.shiftLeft(e)},e.prototype.shiftRight=function(t){return e.isLong(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?e.fromBits(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):e.fromBits(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},e.prototype.shr=function(e){return this.shiftRight(e)},e.prototype.shiftRightUnsigned=function(t){if(e.isLong(t)&&(t=t.toInt()),0==(t&=63))return this;var i=this.high;if(t<32){var r=this.low;return e.fromBits(r>>>t|i<<32-t,i>>>t,this.unsigned)}return 32===t?e.fromBits(i,0,this.unsigned):e.fromBits(i>>>t-32,0,this.unsigned)},e.prototype.shr_u=function(e){return this.shiftRightUnsigned(e)},e.prototype.shru=function(e){return this.shiftRightUnsigned(e)},e.prototype.subtract=function(t){return e.isLong(t)||(t=e.fromValue(t)),this.add(t.neg())},e.prototype.sub=function(e){return this.subtract(e)},e.prototype.toInt=function(){return this.unsigned?this.low>>>0:this.low},e.prototype.toNumber=function(){return this.unsigned?(this.high>>>0)*Ah+(this.low>>>0):this.high*Ah+(this.low>>>0)},e.prototype.toBigInt=function(){return BigInt(this.toString())},e.prototype.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},e.prototype.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},e.prototype.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},e.prototype.toSigned=function(){return this.unsigned?e.fromBits(this.low,this.high,!1):this},e.prototype.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(e.MIN_VALUE)){var i=e.fromNumber(t),r=this.div(i),o=r.mul(i).sub(this);return r.toString(t)+o.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var n=e.fromNumber(Math.pow(t,6),this.unsigned),a=this,s="";;){var l=a.div(n),c=(a.sub(l.mul(n)).toInt()>>>0).toString(t);if((a=l).isZero())return c+s;for(;c.length<6;)c="0"+c;s=""+c+s}},e.prototype.toUnsigned=function(){return this.unsigned?this:e.fromBits(this.low,this.high,!0)},e.prototype.xor=function(t){return e.isLong(t)||(t=e.fromValue(t)),e.fromBits(this.low^t.low,this.high^t.high,this.unsigned)},e.prototype.eqz=function(){return this.isZero()},e.prototype.le=function(e){return this.lessThanOrEqual(e)},e.prototype.toExtendedJSON=function(e){return e&&e.relaxed?this.toNumber():{$numberLong:this.toString()}},e.fromExtendedJSON=function(t,i){var r=e.fromString(t.$numberLong);return i&&i.relaxed?r.toNumber():r},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return'new Long("'.concat(this.toString(),'"').concat(this.unsigned?", true":"",")")},e.TWO_PWR_24=e.fromInt(16777216),e.MAX_UNSIGNED_VALUE=e.fromBits(-1,-1,!0),e.ZERO=e.fromInt(0),e.UZERO=e.fromInt(0,!0),e.ONE=e.fromInt(1),e.UONE=e.fromInt(1,!0),e.NEG_ONE=e.fromInt(-1),e.MAX_VALUE=e.fromBits(-1,2147483647,!1),e.MIN_VALUE=e.fromBits(0,-2147483648,!1),e}();Object.defineProperty(Ch.prototype,"__isLong__",{value:!0}),Object.defineProperty(Ch.prototype,"_bsontype",{value:"Long"});var Ih=/^(\+|-)?(\d+|(\d*\.\d*))?(E|e)?([-+])?(\d+)?$/,Nh=/^(\+|-)?(Infinity|inf)$/i,Dh=/^(\+|-)?NaN$/i,Oh=6111,Lh=-6176,Ph=[124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),Rh=[248,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),Mh=[120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),Bh=/^([-+])?(\d+)?$/;function Uh(e){return!isNaN(parseInt(e,10))}function $h(e){var t=Ch.fromNumber(1e9),i=Ch.fromNumber(0);if(!(e.parts[0]||e.parts[1]||e.parts[2]||e.parts[3]))return{quotient:e,rem:i};for(var r=0;r<=3;r++)i=(i=i.shiftLeft(32)).add(new Ch(e.parts[r],0)),e.parts[r]=i.div(t).low,i=i.modulo(t);return{quotient:e,rem:i}}function Gh(e,t){throw new rh('"'.concat(e,'" is not a valid Decimal128 string - ').concat(t))}var Fh=function(){function e(t){if(!(this instanceof e))return new e(t);if("string"==typeof t)this.bytes=e.fromString(t).bytes;else{if(!lh(t))throw new rh("Decimal128 must take a Buffer or string");if(16!==t.byteLength)throw new rh("Decimal128 must take a Buffer of 16 bytes");this.bytes=t}}return e.fromString=function(t){var i,r=!1,o=!1,n=!1,a=0,s=0,l=0,c=0,d=0,u=[0],h=0,p=0,g=0,f=0,m=0,b=0,y=new Ch(0,0),v=new Ch(0,0),w=0;if(t.length>=7e3)throw new rh(t+" not a valid Decimal128 string");var _=t.match(Ih),T=t.match(Nh),A=t.match(Dh);if(!_&&!T&&!A||0===t.length)throw new rh(t+" not a valid Decimal128 string");if(_){var E=_[2],k=_[4],S=_[5],x=_[6];k&&void 0===x&&Gh(t,"missing exponent power"),k&&void 0===E&&Gh(t,"missing exponent base"),void 0===k&&(S||x)&&Gh(t,"missing e before exponent")}if(("+"===t[w]||"-"===t[w])&&(r="-"===t[w++]),!Uh(t[w])&&"."!==t[w]){if("i"===t[w]||"I"===t[w])return new e(Qu.from(r?Rh:Mh));if("N"===t[w])return new e(Qu.from(Ph))}for(;Uh(t[w])||"."===t[w];)"."!==t[w]?(h<34&&("0"!==t[w]||n)&&(n||(d=s),n=!0,u[p++]=parseInt(t[w],10),h+=1),n&&(l+=1),o&&(c+=1),s+=1,w+=1):(o&&Gh(t,"contains multiple periods"),o=!0,w+=1);if(o&&!s)throw new rh(t+" not a valid Decimal128 string");if("e"===t[w]||"E"===t[w]){var C=t.substr(++w).match(Bh);if(!C||!C[2])return new e(Qu.from(Ph));m=parseInt(C[0],10),w+=C[0].length}if(t[w])return new e(Qu.from(Ph));if(g=0,h){if(f=h-1,1!==(a=l))for(;0===u[d+a-1];)a-=1}else g=0,f=0,u[0]=0,l=1,h=1,a=0;for(m<=c&&c-m>16384?m=Lh:m-=c;m>Oh;){if((f+=1)-g>34){if(u.join("").match(/^0+$/)){m=Oh;break}Gh(t,"overflow")}m-=1}for(;m<Lh||h<l;){if(0===f&&a<h){m=Lh,a=0;break}if(h<l?l-=1:f-=1,m<Oh)m+=1;else{if(u.join("").match(/^0+$/)){m=Oh;break}Gh(t,"overflow")}}if(f-g+1<a){var I=s;o&&(d+=1,I+=1),r&&(d+=1,I+=1);var N=parseInt(t[d+f+1],10),D=0;if(N>=5&&(D=1,5===N))for(D=u[f]%2==1?1:0,b=d+f+2;b<I;b++)if(parseInt(t[b],10)){D=1;break}if(D)for(var O=f;O>=0;O--)if(++u[O]>9&&(u[O]=0,0===O)){if(!(m<Oh))return new e(Qu.from(r?Rh:Mh));m+=1,u[O]=1}}if(y=Ch.fromNumber(0),v=Ch.fromNumber(0),0===a)y=Ch.fromNumber(0),v=Ch.fromNumber(0);else if(f-g<17)for(O=g,v=Ch.fromNumber(u[O++]),y=new Ch(0,0);O<=f;O++)v=(v=v.multiply(Ch.fromNumber(10))).add(Ch.fromNumber(u[O]));else{for(O=g,y=Ch.fromNumber(u[O++]);O<=f-17;O++)y=(y=y.multiply(Ch.fromNumber(10))).add(Ch.fromNumber(u[O]));for(v=Ch.fromNumber(u[O++]);O<=f;O++)v=(v=v.multiply(Ch.fromNumber(10))).add(Ch.fromNumber(u[O]))}var L=function(e,t){if(!e&&!t)return{high:Ch.fromNumber(0),low:Ch.fromNumber(0)};var i=e.shiftRightUnsigned(32),r=new Ch(e.getLowBits(),0),o=t.shiftRightUnsigned(32),n=new Ch(t.getLowBits(),0),a=i.multiply(o),s=i.multiply(n),l=r.multiply(o),c=r.multiply(n);return a=a.add(s.shiftRightUnsigned(32)),s=new Ch(s.getLowBits(),0).add(l).add(c.shiftRightUnsigned(32)),{high:a=a.add(s.shiftRightUnsigned(32)),low:c=s.shiftLeft(32).add(new Ch(c.getLowBits(),0))}}(y,Ch.fromString("100000000000000000"));L.low=L.low.add(v),function(e,t){var i=e.high>>>0,r=t.high>>>0;return i<r||i===r&&e.low>>>0<t.low>>>0}(L.low,v)&&(L.high=L.high.add(Ch.fromNumber(1))),i=m+6176;var P={low:Ch.fromNumber(0),high:Ch.fromNumber(0)};L.high.shiftRightUnsigned(49).and(Ch.fromNumber(1)).equals(Ch.fromNumber(1))?(P.high=P.high.or(Ch.fromNumber(3).shiftLeft(61)),P.high=P.high.or(Ch.fromNumber(i).and(Ch.fromNumber(16383).shiftLeft(47))),P.high=P.high.or(L.high.and(Ch.fromNumber(0x7fffffffffff)))):(P.high=P.high.or(Ch.fromNumber(16383&i).shiftLeft(49)),P.high=P.high.or(L.high.and(Ch.fromNumber(562949953421311)))),P.low=L.low,r&&(P.high=P.high.or(Ch.fromString("9223372036854775808")));var R=Qu.alloc(16);return w=0,R[w++]=255&P.low.low,R[w++]=P.low.low>>8&255,R[w++]=P.low.low>>16&255,R[w++]=P.low.low>>24&255,R[w++]=255&P.low.high,R[w++]=P.low.high>>8&255,R[w++]=P.low.high>>16&255,R[w++]=P.low.high>>24&255,R[w++]=255&P.high.low,R[w++]=P.high.low>>8&255,R[w++]=P.high.low>>16&255,R[w++]=P.high.low>>24&255,R[w++]=255&P.high.high,R[w++]=P.high.high>>8&255,R[w++]=P.high.high>>16&255,R[w++]=P.high.high>>24&255,new e(R)},e.prototype.toString=function(){for(var e,t=0,i=new Array(36),r=0;r<i.length;r++)i[r]=0;var o,n,a,s=0,l=!1,c={parts:[0,0,0,0]},d=[];s=0;var u=this.bytes,h=u[s++]|u[s++]<<8|u[s++]<<16|u[s++]<<24,p=u[s++]|u[s++]<<8|u[s++]<<16|u[s++]<<24,g=u[s++]|u[s++]<<8|u[s++]<<16|u[s++]<<24,f=u[s++]|u[s++]<<8|u[s++]<<16|u[s++]<<24;s=0,(new Ch(h,p),new Ch(g,f)).lessThan(Ch.ZERO)&&d.push("-");var m=f>>26&31;if(m>>3==3){if(30===m)return d.join("")+"Infinity";if(31===m)return"NaN";e=f>>15&16383,o=8+(f>>14&1)}else o=f>>14&7,e=f>>17&16383;var b=e-6176;if(c.parts[0]=(16383&f)+((15&o)<<14),c.parts[1]=g,c.parts[2]=p,c.parts[3]=h,0===c.parts[0]&&0===c.parts[1]&&0===c.parts[2]&&0===c.parts[3])l=!0;else for(a=3;a>=0;a--){var y=0,v=$h(c);if(c=v.quotient,y=v.rem.low)for(n=8;n>=0;n--)i[9*a+n]=y%10,y=Math.floor(y/10)}if(l)t=1,i[s]=0;else for(t=36;!i[s];)t-=1,s+=1;var w=t-1+b;if(w>=34||w<=-7||b>0){if(t>34)return d.push("".concat(0)),b>0?d.push("E+".concat(b)):b<0&&d.push("E".concat(b)),d.join("");for(d.push("".concat(i[s++])),(t-=1)&&d.push("."),r=0;r<t;r++)d.push("".concat(i[s++]));d.push("E"),w>0?d.push("+".concat(w)):d.push("".concat(w))}else if(b>=0)for(r=0;r<t;r++)d.push("".concat(i[s++]));else{var _=t+b;if(_>0)for(r=0;r<_;r++)d.push("".concat(i[s++]));else d.push("0");for(d.push(".");_++<0;)d.push("0");for(r=0;r<t-Math.max(_-1,0);r++)d.push("".concat(i[s++]))}return d.join("")},e.prototype.toJSON=function(){return{$numberDecimal:this.toString()}},e.prototype.toExtendedJSON=function(){return{$numberDecimal:this.toString()}},e.fromExtendedJSON=function(t){return e.fromString(t.$numberDecimal)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return'new Decimal128("'.concat(this.toString(),'")')},e}();Object.defineProperty(Fh.prototype,"_bsontype",{value:"Decimal128"});var Hh=function(){function e(t){if(!(this instanceof e))return new e(t);t instanceof Number&&(t=t.valueOf()),this.value=+t}return e.prototype.valueOf=function(){return this.value},e.prototype.toJSON=function(){return this.value},e.prototype.toString=function(e){return this.value.toString(e)},e.prototype.toExtendedJSON=function(e){return e&&(e.legacy||e.relaxed&&isFinite(this.value))?this.value:Object.is(Math.sign(this.value),-0)?{$numberDouble:"-".concat(this.value.toFixed(1))}:{$numberDouble:Number.isInteger(this.value)?this.value.toFixed(1):this.value.toString()}},e.fromExtendedJSON=function(t,i){var r=parseFloat(t.$numberDouble);return i&&i.relaxed?r:new e(r)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){var e=this.toExtendedJSON();return"new Double(".concat(e.$numberDouble,")")},e}();Object.defineProperty(Hh.prototype,"_bsontype",{value:"Double"});var zh=function(){function e(t){if(!(this instanceof e))return new e(t);t instanceof Number&&(t=t.valueOf()),this.value=0|+t}return e.prototype.valueOf=function(){return this.value},e.prototype.toString=function(e){return this.value.toString(e)},e.prototype.toJSON=function(){return this.value},e.prototype.toExtendedJSON=function(e){return e&&(e.relaxed||e.legacy)?this.value:{$numberInt:this.value.toString()}},e.fromExtendedJSON=function(t,i){return i&&i.relaxed?parseInt(t.$numberInt,10):new e(t.$numberInt)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return"new Int32(".concat(this.valueOf(),")")},e}();Object.defineProperty(zh.prototype,"_bsontype",{value:"Int32"});var jh=function(){function e(){if(!(this instanceof e))return new e}return e.prototype.toExtendedJSON=function(){return{$maxKey:1}},e.fromExtendedJSON=function(){return new e},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return"new MaxKey()"},e}();Object.defineProperty(jh.prototype,"_bsontype",{value:"MaxKey"});var Vh=function(){function e(){if(!(this instanceof e))return new e}return e.prototype.toExtendedJSON=function(){return{$minKey:1}},e.fromExtendedJSON=function(){return new e},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return"new MinKey()"},e}();Object.defineProperty(Vh.prototype,"_bsontype",{value:"MinKey"});var Wh=new RegExp("^[0-9a-fA-F]{24}$"),qh=null,Yh=Symbol("id"),Kh=function(){function e(t){if(!(this instanceof e))return new e(t);var i;if("object"==typeof t&&t&&"id"in t){if("string"!=typeof t.id&&!ArrayBuffer.isView(t.id))throw new rh("Argument passed in must have an id that is of type string or Buffer");i="toHexString"in t&&"function"==typeof t.toHexString?Qu.from(t.toHexString(),"hex"):t.id}else i=t;if(null==i||"number"==typeof i)this[Yh]=e.generate("number"==typeof i?i:void 0);else if(ArrayBuffer.isView(i)&&12===i.byteLength)this[Yh]=i instanceof Qu?i:uh(i);else{if("string"!=typeof i)throw new rh("Argument passed in does not match the accepted types");if(12===i.length){var r=Qu.from(i);if(12!==r.byteLength)throw new rh("Argument passed in must be a string of 12 bytes");this[Yh]=r}else{if(24!==i.length||!Wh.test(i))throw new rh("Argument passed in must be a string of 12 bytes or a string of 24 hex characters or an integer");this[Yh]=Qu.from(i,"hex")}}e.cacheHexString&&(this.__id=this.id.toString("hex"))}return Object.defineProperty(e.prototype,"id",{get:function(){return this[Yh]},set:function(t){this[Yh]=t,e.cacheHexString&&(this.__id=t.toString("hex"))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"generationTime",{get:function(){return this.id.readInt32BE(0)},set:function(e){this.id.writeUInt32BE(e,0)},enumerable:!1,configurable:!0}),e.prototype.toHexString=function(){if(e.cacheHexString&&this.__id)return this.__id;var t=this.id.toString("hex");return e.cacheHexString&&!this.__id&&(this.__id=t),t},e.getInc=function(){return e.index=(e.index+1)%16777215},e.generate=function(t){"number"!=typeof t&&(t=Math.floor(Date.now()/1e3));var i=e.getInc(),r=Qu.alloc(12);return r.writeUInt32BE(t,0),null===qh&&(qh=sh(5)),r[4]=qh[0],r[5]=qh[1],r[6]=qh[2],r[7]=qh[3],r[8]=qh[4],r[11]=255&i,r[10]=i>>8&255,r[9]=i>>16&255,r},e.prototype.toString=function(e){return e?this.id.toString(e):this.toHexString()},e.prototype.toJSON=function(){return this.toHexString()},e.prototype.equals=function(t){if(null==t)return!1;if(t instanceof e)return this[Yh][11]===t[Yh][11]&&this[Yh].equals(t[Yh]);if("string"==typeof t&&e.isValid(t)&&12===t.length&&lh(this.id))return t===Qu.prototype.toString.call(this.id,"latin1");if("string"==typeof t&&e.isValid(t)&&24===t.length)return t.toLowerCase()===this.toHexString();if("string"==typeof t&&e.isValid(t)&&12===t.length)return Qu.from(t).equals(this.id);if("object"==typeof t&&"toHexString"in t&&"function"==typeof t.toHexString){var i=t.toHexString(),r=this.toHexString().toLowerCase();return"string"==typeof i&&i.toLowerCase()===r}return!1},e.prototype.getTimestamp=function(){var e=new Date,t=this.id.readUInt32BE(0);return e.setTime(1e3*Math.floor(t)),e},e.createPk=function(){return new e},e.createFromTime=function(t){var i=Qu.from([0,0,0,0,0,0,0,0,0,0,0,0]);return i.writeUInt32BE(t,0),new e(i)},e.createFromHexString=function(t){if(typeof t>"u"||null!=t&&24!==t.length)throw new rh("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");return new e(Qu.from(t,"hex"))},e.isValid=function(t){if(null==t)return!1;try{return new e(t),!0}catch{return!1}},e.prototype.toExtendedJSON=function(){return this.toHexString?{$oid:this.toHexString()}:{$oid:this.toString("hex")}},e.fromExtendedJSON=function(t){return new e(t.$oid)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return'new ObjectId("'.concat(this.toHexString(),'")')},e.index=Math.floor(16777215*Math.random()),e}();Object.defineProperty(Kh.prototype,"generate",{value:dh(function(e){return Kh.generate(e)},"Please use the static `ObjectId.generate(time)` instead")}),Object.defineProperty(Kh.prototype,"getInc",{value:dh(function(){return Kh.getInc()},"Please use the static `ObjectId.getInc()` instead")}),Object.defineProperty(Kh.prototype,"get_inc",{value:dh(function(){return Kh.getInc()},"Please use the static `ObjectId.getInc()` instead")}),Object.defineProperty(Kh,"get_inc",{value:dh(function(){return Kh.getInc()},"Please use the static `ObjectId.getInc()` instead")}),Object.defineProperty(Kh.prototype,"_bsontype",{value:"ObjectID"});var Xh=function(){function e(t,i){if(!(this instanceof e))return new e(t,i);if(this.pattern=t,this.options=function(e){return e.split("").sort().join("")}(i??""),-1!==this.pattern.indexOf("\0"))throw new ih("BSON Regex patterns cannot contain null bytes, found: ".concat(JSON.stringify(this.pattern)));if(-1!==this.options.indexOf("\0"))throw new ih("BSON Regex options cannot contain null bytes, found: ".concat(JSON.stringify(this.options)));for(var r=0;r<this.options.length;r++)if("i"!==this.options[r]&&"m"!==this.options[r]&&"x"!==this.options[r]&&"l"!==this.options[r]&&"s"!==this.options[r]&&"u"!==this.options[r])throw new ih("The regular expression option [".concat(this.options[r],"] is not supported"))}return e.parseOptions=function(e){return e?e.split("").sort().join(""):""},e.prototype.toExtendedJSON=function(e){return(e=e||{}).legacy?{$regex:this.pattern,$options:this.options}:{$regularExpression:{pattern:this.pattern,options:this.options}}},e.fromExtendedJSON=function(t){if("$regex"in t){if("string"==typeof t.$regex)return new e(t.$regex,e.parseOptions(t.$options));if("BSONRegExp"===t.$regex._bsontype)return t}if("$regularExpression"in t)return new e(t.$regularExpression.pattern,e.parseOptions(t.$regularExpression.options));throw new rh("Unexpected BSONRegExp EJSON object form: ".concat(JSON.stringify(t)))},e}();Object.defineProperty(Xh.prototype,"_bsontype",{value:"BSONRegExp"});var Jh=function(){function e(t){if(!(this instanceof e))return new e(t);this.value=t}return e.prototype.valueOf=function(){return this.value},e.prototype.toString=function(){return this.value},e.prototype.inspect=function(){return'new BSONSymbol("'.concat(this.value,'")')},e.prototype.toJSON=function(){return this.value},e.prototype.toExtendedJSON=function(){return{$symbol:this.value}},e.fromExtendedJSON=function(t){return new e(t.$symbol)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e}();Object.defineProperty(Jh.prototype,"_bsontype",{value:"Symbol"});var Zh=function(e){function t(i,r){var o=this;return o instanceof t?(o=Ch.isLong(i)?e.call(this,i.low,i.high,!0)||this:ch(i)&&typeof i.t<"u"&&typeof i.i<"u"?e.call(this,i.i,i.t,!0)||this:e.call(this,i,r,!0)||this,Object.defineProperty(o,"_bsontype",{value:"Timestamp",writable:!1,configurable:!1,enumerable:!1}),o):new t(i,r)}return th(t,e),t.prototype.toJSON=function(){return{$timestamp:this.toString()}},t.fromInt=function(e){return new t(Ch.fromInt(e,!0))},t.fromNumber=function(e){return new t(Ch.fromNumber(e,!0))},t.fromBits=function(e,i){return new t(e,i)},t.fromString=function(e,i){return new t(Ch.fromString(e,!0,i))},t.prototype.toExtendedJSON=function(){return{$timestamp:{t:this.high>>>0,i:this.low>>>0}}},t.fromExtendedJSON=function(e){return new t(e.$timestamp)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return"new Timestamp({ t: ".concat(this.getHighBits(),", i: ").concat(this.getLowBits()," })")},t.MAX_VALUE=Ch.MAX_UNSIGNED_VALUE,t}(Ch),Qh=2147483647,ep=-2147483648,tp=0x8000000000000000,ip=-0x8000000000000000,rp={$oid:Kh,$binary:yh,$uuid:yh,$symbol:Jh,$numberInt:zh,$numberDecimal:Fh,$numberDouble:Hh,$numberLong:Ch,$minKey:Vh,$maxKey:jh,$regex:Xh,$regularExpression:Xh,$timestamp:Zh};function op(e,t){if(void 0===t&&(t={}),"number"==typeof e){if(t.relaxed||t.legacy)return e;if(Math.floor(e)===e){if(e>=ep&&e<=Qh)return new zh(e);if(e>=ip&&e<=tp)return Ch.fromNumber(e)}return new Hh(e)}if(null==e||"object"!=typeof e)return e;if(e.$undefined)return null;for(var i=Object.keys(e).filter(function(t){return t.startsWith("$")&&null!=e[t]}),r=0;r<i.length;r++){var o=rp[i[r]];if(o)return o.fromExtendedJSON(e,t)}if(null!=e.$date){var n=e.$date,a=new Date;return t.legacy?"number"==typeof n?a.setTime(n):"string"==typeof n&&a.setTime(Date.parse(n)):"string"==typeof n?a.setTime(Date.parse(n)):Ch.isLong(n)?a.setTime(n.toNumber()):"number"==typeof n&&t.relaxed&&a.setTime(n),a}if(null!=e.$code){var s=Object.assign({},e);return e.$scope&&(s.$scope=op(e.$scope)),wh.fromExtendedJSON(e)}if(function(e){return ch(e)&&null!=e.$id&&"string"==typeof e.$ref&&(null==e.$db||"string"==typeof e.$db)}(e)||e.$dbPointer){var l=e.$ref?e:e.$dbPointer;if(l instanceof _h)return l;var c=Object.keys(l).filter(function(e){return e.startsWith("$")}),d=!0;if(c.forEach(function(e){-1===["$ref","$id","$db"].indexOf(e)&&(d=!1)}),d)return _h.fromExtendedJSON(l)}return e}function np(e){var t=e.toISOString();return 0!==e.getUTCMilliseconds()?t:t.slice(0,-5)+"Z"}function ap(e,t){if(("object"==typeof e||"function"==typeof e)&&null!==e){var i=t.seenObjects.findIndex(function(t){return t.obj===e});if(-1!==i){var r=t.seenObjects.map(function(e){return e.propertyName}),o=r.slice(0,i).map(function(e){return"".concat(e," -> ")}).join(""),n=r[i],a=" -> "+r.slice(i+1,r.length-1).map(function(e){return"".concat(e," -> ")}).join(""),s=r[r.length-1],l=" ".repeat(o.length+n.length/2),c="-".repeat(a.length+(n.length+s.length)/2-1);throw new rh("Converting circular structure to EJSON:\n"+"    ".concat(o).concat(n).concat(a).concat(s,"\n")+"    ".concat(l,"\\").concat(c,"/"))}t.seenObjects[t.seenObjects.length-1].obj=e}if(Array.isArray(e))return function(e,t){return e.map(function(e,i){t.seenObjects.push({propertyName:"index ".concat(i),obj:null});try{return ap(e,t)}finally{t.seenObjects.pop()}})}(e,t);if(void 0===e)return null;if(e instanceof Date||function(e){return ch(e)&&"[object Date]"===Object.prototype.toString.call(e)}(e)){var d=e.getTime(),u=d>-1&&d<2534023188e5;return t.legacy?t.relaxed&&u?{$date:e.getTime()}:{$date:np(e)}:t.relaxed&&u?{$date:np(e)}:{$date:{$numberLong:e.getTime().toString()}}}if(!("number"!=typeof e||t.relaxed&&isFinite(e))){if(Math.floor(e)===e){var h=e>=ip&&e<=tp;if(e>=ep&&e<=Qh)return{$numberInt:e.toString()};if(h)return{$numberLong:e.toString()}}return{$numberDouble:e.toString()}}if(e instanceof RegExp||function(e){return"[object RegExp]"===Object.prototype.toString.call(e)}(e)){var p=e.flags;if(void 0===p){var g=e.toString().match(/[gimuy]*$/);g&&(p=g[0])}return new Xh(e.source,p).toExtendedJSON(t)}return null!=e&&"object"==typeof e?function(e,t){if(null==e||"object"!=typeof e)throw new ih("not an object instance");var i=e._bsontype;if(typeof i>"u"){var r={};for(var o in e){t.seenObjects.push({propertyName:o,obj:null});try{var n=ap(e[o],t);"__proto__"===o?Object.defineProperty(r,o,{value:n,writable:!0,enumerable:!0,configurable:!0}):r[o]=n}finally{t.seenObjects.pop()}}return r}if(function(e){return ch(e)&&Reflect.has(e,"_bsontype")&&"string"==typeof e._bsontype}(e)){var a=e;if("function"!=typeof a.toExtendedJSON){var s=lp[e._bsontype];if(!s)throw new rh("Unrecognized or invalid _bsontype: "+e._bsontype);a=s(a)}return"Code"===i&&a.scope?a=new wh(a.code,ap(a.scope,t)):"DBRef"===i&&a.oid&&(a=new _h(ap(a.collection,t),ap(a.oid,t),ap(a.db,t),ap(a.fields,t))),a.toExtendedJSON(t)}throw new ih("_bsontype must be a string, but was: "+typeof i)}(e,t):e}var sp,lp={Binary:function(e){return new yh(e.value(),e.sub_type)},Code:function(e){return new wh(e.code,e.scope)},DBRef:function(e){return new _h(e.collection||e.namespace,e.oid,e.db,e.fields)},Decimal128:function(e){return new Fh(e.bytes)},Double:function(e){return new Hh(e.value)},Int32:function(e){return new zh(e.value)},Long:function(e){return Ch.fromBits(null!=e.low?e.low:e.low_,null!=e.low?e.high:e.high_,null!=e.low?e.unsigned:e.unsigned_)},MaxKey:function(){return new jh},MinKey:function(){return new Vh},ObjectID:function(e){return new Kh(e)},ObjectId:function(e){return new Kh(e)},BSONRegExp:function(e){return new Xh(e.pattern,e.options)},Symbol:function(e){return new Jh(e.value)},Timestamp:function(e){return Zh.fromBits(e.low,e.high)}};!function(e){function t(e,t){var i=Object.assign({},{relaxed:!0,legacy:!1},t);return"boolean"==typeof i.relaxed&&(i.strict=!i.relaxed),"boolean"==typeof i.strict&&(i.relaxed=!i.strict),JSON.parse(e,function(e,t){if(-1!==e.indexOf("\0"))throw new ih("BSON Document field names cannot contain null bytes, found: ".concat(JSON.stringify(e)));return op(t,i)})}function i(e,t,i,r){null!=i&&"object"==typeof i&&(r=i,i=0),null!=t&&"object"==typeof t&&!Array.isArray(t)&&(r=t,t=void 0,i=0);var o=ap(e,Object.assign({relaxed:!0,legacy:!1},r,{seenObjects:[{propertyName:"(root)",obj:null}]}));return JSON.stringify(o,t,i)}e.parse=t,e.stringify=i,e.serialize=function(e,t){return t=t||{},JSON.parse(i(e,t))},e.deserialize=function(e,i){return i=i||{},t(JSON.stringify(e),i)}}(sp||(sp={}));var cp=nh();cp.Map?cp.Map:function(){function e(e){void 0===e&&(e=[]),this._keys=[],this._values={};for(var t=0;t<e.length;t++)if(null!=e[t]){var i=e[t],r=i[0],o=i[1];this._keys.push(r),this._values[r]={v:o,i:this._keys.length-1}}}e.prototype.clear=function(){this._keys=[],this._values={}},e.prototype.delete=function(e){var t=this._values[e];return null!=t&&(delete this._values[e],this._keys.splice(t.i,1),!0)},e.prototype.entries=function(){var e=this,t=0;return{next:function(){var i=e._keys[t++];return{value:void 0!==i?[i,e._values[i].v]:void 0,done:void 0===i}}}},e.prototype.forEach=function(e,t){t=t||this;for(var i=0;i<this._keys.length;i++){var r=this._keys[i];e.call(t,this._values[r].v,r,t)}},e.prototype.get=function(e){return this._values[e]?this._values[e].v:void 0},e.prototype.has=function(e){return null!=this._values[e]},e.prototype.keys=function(){var e=this,t=0;return{next:function(){var i=e._keys[t++];return{value:void 0!==i?i:void 0,done:void 0===i}}}},e.prototype.set=function(e,t){return this._values[e]?(this._values[e].v=t,this):(this._keys.push(e),this._values[e]={v:t,i:this._keys.length-1},this)},e.prototype.values=function(){var e=this,t=0;return{next:function(){var i=e._keys[t++];return{value:void 0!==i?e._values[i].v:void 0,done:void 0===i}}}},Object.defineProperty(e.prototype,"size",{get:function(){return this._keys.length},enumerable:!1,configurable:!0})}(),Ch.fromNumber(mh),Ch.fromNumber(bh);var dp=new Uint8Array(8);function up(){return(new Kh).toString()}function hp(e){return e.replaceAll("\n","").trim()}function pp({displayName:e,email:t}){return e||(null==t?void 0:t.split("@")[0])||t||""}new DataView(dp.buffer,dp.byteOffset,dp.byteLength),Qu.alloc(17825792);const gp={CONTEXT_MENU_SAVE_TEXT:"CONTEXT_MENU_SAVE_TEXT",CONTEXT_MENU_SAVE_BOOKMARK:"CONTEXT_MENU_SAVE_BOOKMARK",CONTEXT_MENU_SAVE_IMAGE:"CONTEXT_MENU_SAVE_IMAGE",CONTEXT_OPEN_IN_READER:"CONTEXT_OPEN_IN_READER"};function fp(e,t){return e.id===t}var mp=(e=>(e.showLeftSidebarWidget="showLeftSidebarWidget",e.showMarkerPopup="showMarkerPopup",e.showToolboxAutomatically="showToolboxAutomatically",e.defaultHighlightColor="defaultHighlightColor",e.blacklistedUrls="blacklistedUrls",e))(mp||{}),bp=(e=>(e.marks="marks",e.bookmarks="bookmarks",e.chromesettings="chromesettings",e.pagecontents="pagecontents",e.aichats="aichats",e))(bp||{});function yp(e){return Object.values(bp).includes(e)&&"chromesettings"!==e}const vp={pagecontents:"text/html",aichats:"application/json",marks:null,bookmarks:null,chromesettings:null};function wp(e){return null!==vp[e]}function _p(e){return vp[e]??null}const Tp=Object.values(bp);var Ap=(e=>(e.marks="marks",e.bookmarks="bookmarks",e.chromesettings="chromesettings",e.pagecontents="pagecontents",e.aichats="aichats",e))(Ap||{}),Ep=(e=>(e.actions="actions",e.contents="contents",e))(Ep||{});const kp="ref",Sp="install";function xp(e){return{_id:up(),createdAt:Date.now(),updatedAt:0,_objectStore:e}}function Cp(e){return`backup_prompt_dismissed_${e}`}const Ip={sidebarWidth:400,sidebarAlignment:"left",sidebarBehavior:"push"},Np={enableAutoscrolling:!0,enableStickyPlayer:!1},Dp={...xp(bp.chromesettings),showMarkerPopup:!0,showLeftSidebarWidget:!1,showToolboxAutomatically:!1,defaultHighlightColor:$u[0]||"#fdffb4",recentColors:[$u[0]||"#fdffb4"],blacklistedUrls:[],showLearningTeaser:!1,chromeRatingPromptDismissed:!1,sidebarOptions:Ip,preferredColorMode:"dark",showBackupDialogPrompt:!0,backupDialogPromptInterval:100,autoDownloadPageContent:!0,youtubeOptions:Np},Op={jwt_webmarker:"",lastSyncDateInMillis:0,lastServerFetchInMillis:0,notionOAuthToken:null,capacitiesToken:null,signUpPromptDismissed:!1,chromeRatingPromptDismissed:!1,upgradeDealPromptDismissed:!1,lastUserPromptShownAtInMillis:0,lastUpdatedKey:null,isEmailActivated:!1,readerFontSize:20,readerColorMode:"auto",readerLayoutWidth:700,readerLineHeight:1.6,spreadTheWordPromptDismissed:!1,serverConfigJsonString:null,clientId:"",chromeSettingsJsonString:JSON.stringify(Dp)};function Lp(){var e;return typeof chrome<"u"&&!(null==(e=null==chrome?void 0:chrome.storage)||!e.sync)}class Pp{async getStorage(){return new Promise(e=>{try{chrome.storage.sync.get(t=>{const i={...Op,...t};e(i)})}catch{e(Op)}})}async getValue(e){const t=Op[e];return new Promise(i=>{try{chrome.storage.sync.get(r=>{i(r[e]??t)})}catch{i(t)}})}setValue(e,t){try{const i={[e]:t};chrome.storage.sync.set(i);const r={lastUpdatedKey:e};chrome.storage.sync.set(r),this.getStorage().then(i=>{Bk.dispatch("chromeStorageChanged",{detail:{...i,[e]:t}})})}catch{}return Lp()}clear(){var e,t;try{if(typeof chrome>"u")return;null==(t=null==(e=null==chrome?void 0:chrome.storage)?void 0:e.sync)||t.clear()}catch{}}parseToJsonObject(e){if("object"==typeof e)return e;try{return JSON.parse(e)}catch{return null}}async getChromeSettings(){try{const e=await this.getValue("chromeSettingsJsonString");if(!e)return Dp;const t=this.parseToJsonObject(e);if("object"!=typeof t||!t)return Dp;const i=await NA.getJwtPayload();return(null==i?void 0:i._id)&&(null==t?void 0:t._user)&&t._user!==(null==i?void 0:i._id)?Dp:t}catch(e){return console.error("Error getting chrome settings",e),Dp}}async updateChromeSettings(e,{skipSync:t}={}){const[i,r]=await Promise.all([NA.getJwtPayload(),this.getChromeSettings()]);let o;return o=(null==i?void 0:i._id)&&(null==e?void 0:e._user)&&e._user!==(null==i?void 0:i._id)?{...Dp,...e,...xp(bp.chromesettings),_user:null==i?void 0:i._id}:{...r,...e,_user:(null==i?void 0:i._id)||(null==r?void 0:r._user)},o.sidebarOptions.sidebarWidth||(o.sidebarOptions.sidebarWidth=Dp.sidebarOptions.sidebarWidth),o.sidebarOptions.sidebarAlignment||(o.sidebarOptions.sidebarAlignment=Dp.sidebarOptions.sidebarAlignment),o.sidebarOptions.sidebarBehavior||(o.sidebarOptions.sidebarBehavior=Dp.sidebarOptions.sidebarBehavior),t||(o.needsSync=!0),o.updatedAt=Date.now(),this.setValue("chromeSettingsJsonString",JSON.stringify(o)),o}}const Rp=new Pp,Mp={url:"url",pageContent:"pageContent"},Bp=["auto","light","dark","sepia","contrast"],Up={fontSize:Op.readerFontSize??20,colorMode:Op.readerColorMode??"auto",layoutWidth:Op.readerLayoutWidth??700,lineHeight:Op.readerLineHeight??1.6};async function $p(){const e=await Rp.getValue("readerFontSize"),t=await Rp.getValue("readerColorMode"),i=await Rp.getValue("readerLayoutWidth"),r=await Rp.getValue("readerLineHeight");return{fontSize:!e||Number.isNaN(e)?Up.fontSize:e,colorMode:t||Up.colorMode,layoutWidth:!i||Number.isNaN(i)?Up.layoutWidth:i,lineHeight:!r||Number.isNaN(r)?Up.lineHeight:r}}async function Gp(e){e.fontSize&&Rp.setValue("readerFontSize",e.fontSize),e.colorMode&&Rp.setValue("readerColorMode",e.colorMode),e.layoutWidth&&Rp.setValue("readerLayoutWidth",e.layoutWidth),e.lineHeight&&Rp.setValue("readerLineHeight",e.lineHeight)}const Fp={"--wh-reader-bg-color":"#ffffff","--wh-reader-bg-color-hover":"hsl(0, 0%, 97%)","--wh-reader-bg-color-hover-strong":"hsl(0, 0%, 93%)","--wh-reader-color":"#333333","--wh-reader-color-light":"hsl(0, 0%, 25%)","--wh-reader-color-lighter":"hsl(0, 0%, 35%)","--wh-reader-code-bg-color":"#f5f5f5","--wh-reader-link-color":"#1a73e8","--wh-reader-blockquote-color":"#666666","--wh-reader-blockquote-border-color":"#dddddd","--wh-reader-table-border-color":"#dddddd","--wh-reader-table-header-bg-color":"#f5f5f5","--wh-reader-hr-color":"#dddddd","--wh-reader-figcaption-color":"#666666"},Hp={"--wh-reader-bg-color":"hsl(218, 22%, 11%)","--wh-reader-bg-color-hover":"hsl(218, 22%, 17%)","--wh-reader-bg-color-hover-strong":"hsl(218, 22%, 23%)","--wh-reader-color":"#e8eaed","--wh-reader-color-light":"hsl(216, 12%, 80%)","--wh-reader-color-lighter":"hsl(216, 12%, 60%)","--wh-reader-code-bg-color":"#201a1a","--wh-reader-link-color":"#1d9bf0","--wh-reader-blockquote-color":"#bbbbbb","--wh-reader-blockquote-border-color":"#444444","--wh-reader-table-border-color":"#444444","--wh-reader-table-header-bg-color":"#2d2d2d","--wh-reader-hr-color":"#444444","--wh-reader-figcaption-color":"#bbbbbb"},zp={"--wh-reader-bg-color":"hsl(43, 56%, 90%)","--wh-reader-bg-color-hover":"hsl(43, 56%, 85%)","--wh-reader-bg-color-hover-strong":"hsl(43, 56%, 78%)","--wh-reader-color":"hsl(26, 26%, 28%)","--wh-reader-color-light":"hsl(26, 26%, 38%)","--wh-reader-color-lighter":"hsl(26, 26%, 48%)","--wh-reader-code-bg-color":"#e8e0cc","--wh-reader-link-color":"#0b4be1","--wh-reader-blockquote-color":"#786b5e","--wh-reader-blockquote-border-color":"#d3c4a9","--wh-reader-table-border-color":"#d3c4a9","--wh-reader-table-header-bg-color":"#ebe3d1","--wh-reader-hr-color":"#d3c4a9","--wh-reader-figcaption-color":"#786b5e"},jp={"--wh-reader-bg-color":"#000000","--wh-reader-bg-color-hover":"hsl(0, 0%, 10%)","--wh-reader-bg-color-hover-strong":"hsl(0, 0%, 17%)","--wh-reader-color":"#ffffff","--wh-reader-color-light":"hsl(0, 0%, 90%)","--wh-reader-color-lighter":"hsl(0, 0%, 80%)","--wh-reader-code-bg-color":"#1a1a1a","--wh-reader-link-color":"#99ccff","--wh-reader-blockquote-color":"#ffffff","--wh-reader-blockquote-border-color":"#666666","--wh-reader-table-border-color":"#666666","--wh-reader-table-header-bg-color":"#1a1a1a","--wh-reader-hr-color":"#666666","--wh-reader-figcaption-color":"#ffffff"},Vp=()=>({light:Fp,dark:Hp,contrast:jp,sepia:zp,auto:"dark"===dd()?Hp:Fp}),Wp={light:jd.circle,sepia:jd.circle,dark:jd.circle,auto:jd["auto-color-mode"],contrast:jd.circle};async function qp(){const e=await $p();document.documentElement.style.setProperty("--wh-reader-font-size",`${e.fontSize}px`),document.documentElement.style.setProperty("--wh-reader-layout-width",`${e.layoutWidth}px`),document.documentElement.style.setProperty("--wh-reader-line-height",`${e.lineHeight}`),Object.entries(Vp()[e.colorMode]).forEach(([e,t])=>{document.documentElement.style.setProperty(e,t)})}function Yp(e){try{return decodeURIComponent(e)}catch(t){if(t instanceof URIError){let t=e;t=t.replace(/%[0-9A-Fa-f]?%?/g,e=>{if(3===e.length)try{return decodeURIComponent(e)}catch{return e}return e.replace(/%/g,"%25")}),t=t.replace(/%[Dd][0-9A-Fa-f]{2}/g,e=>{try{return decodeURIComponent(e)}catch{return e.replace(/%/g,"%25")}}),t=t.replace(/%[0-9A-Fa-f]{2}/g,e=>{try{return decodeURIComponent(e)}catch{return e.replace(/%/g,"%25")}}),t=t.replace(/%%+/g,e=>e.replace(/%/g,"%25")),t.endsWith("%")&&(t=t.slice(0,-1)+"%25"),t=t.replace(/%[^0-9A-Fa-f]/g,e=>e.replace(/%/g,"%25"));try{return decodeURIComponent(t)}catch{try{const e=t.replace(/%/g,"%25");return decodeURIComponent(e)}catch{return e}}}return e}}function Kp(e){try{const t=JSON.stringify(e);return encodeURIComponent(t)}catch(t){return console.error("Error encoding page content:",t),encodeURIComponent(JSON.stringify(e))}}function Xp(e){try{return encodeURIComponent(JSON.stringify(e))}catch(t){return console.error("Error encoding object:",t),encodeURIComponent(JSON.stringify(e))}}function Jp(){const e=Og(Mp.url);return e?Yp(e):null}function Zp(){try{const e=Og(Mp.pageContent);return e?Qp(e):null}catch(e){return console.error("Error decoding page content:",e),null}}function Qp(e){if(e)try{const t=Yp(e);return JSON.parse(t)}catch(t){return console.error("Error decoding object:",t),JSON.parse(Yp(e))}return null}function eg(){HT({dialogName:FT["add-content"],options:{props:{defaultType:"text",onNavigateToBookmark:e=>{Bk.dispatch("openInReader",{detail:[{url:e.url}]})}}}})}const tg=["http://","https://","http://www.","https://www.","www."],ig=["http://localhost:8080/reader.html","http://localhost:9070/reader.html","http://localhost:8080/viewer.html"],rg=["http://localhost:8080","http://localhost:9090","http://localhost:9080","http://localhost:9070","http://localhost:9040"],og=["web-highlights.com","pre.web-highlights.com","localhost:2000"],ng=["app.web-highlights.com","pre-app.web-highlights.com","localhost:5173"],ag=tg.map(e=>og.map(t=>`${e}${t}/discover`)).flat(1),sg=["guid","bookguid","openid.claimed_id","ref_","page","jk","vjk","file","uri","pageId","pageid","url","term"],lg=["#/epubreader?bookguid=","#/notes/","#/lessons/"],cg=["/watch","/search"],dg=tg.map(e=>ng.map(t=>`${e}${t}`)).flat(1),ug=tg.map(e=>og.map(t=>`${e}${t}`)).flat(1),hg="localhost:8080/defaultblacklisted",pg="localhost:8080/defaultblacklistedWildcard",gg=[hg,`${pg}/*`,"newtab/*","extensions/*","drive.google.com/*","docs.google.com/*","medium.com/new-story/*","medium.com/p/[^/]+/edit","photos.google.com/*","accounts.google.com/*","calendar.google.com/*","chrome.google.com/webstore/*","webhighlights.firebaseapp.com/*","paypal.com/*","slack.com/*","office.com/*","onedrive.live.com/*","yahoo.com/*","firebase.google.com/*","feedly.com/*","typeform.com/*","pornhub.com/*","redtube.com/*","youporn.com/*","com/*","com/*","com/*","tube8.com/*","xvideos.com/*","xnxx.com/*","google.com/maps/*"];function fg(e){var t;let i=e;return mg(i)?gf(i):yg(i)?i:(i=(null==(t=null==i?void 0:i.split("#")[0])?void 0:t.split("?")[0])||"",i.endsWith("/")&&(i=i.slice(0,-1)),`(${i})(\\/?)(?:\\s|#|\\?[\\w]{1,}|\\/(\\s)|\\/(#)|($))`)}function mg(e){try{const t=new URL(e);return wg(t.href)||sg.some(e=>t.searchParams.has(e))}catch{return!1}}function bg(e){try{const t=new URL(e);return lg.some(e=>t.hash.includes(e))}catch{return!1}}function yg(e){try{const t=new URL(e);return cg.some(e=>t.href.toLowerCase().includes(e.toLowerCase()))}catch{return cg.some(t=>e.toLowerCase().includes(t.toLowerCase()))}}function vg(e){return decodeURIComponent(e).split("?file=")[1]??""}function wg(e){return!(!Tg(e)&&!Ag(e))&&_g(e)}function _g(e){const t=e.includes("viewer.html?file="),i=!!vg(e);return t&&i}function Tg(e){return(null==e?void 0:e.startsWith("chrome-extension://"))||e.startsWith("http://localhost:8080/viewer.html")}function Ag(e){return null==e?void 0:e.startsWith("moz-extension://")}function Eg(){var e;if(typeof window>"u"||typeof document>"u")return!1;const t=null==(e=null==document?void 0:document.body)?void 0:e.firstChild;return"EMBED"===(null==t?void 0:t.tagName)&&"application/pdf"===(null==t?void 0:t.getAttribute("type"))}function kg(e){Tg(e)&&(e=e.split("?file=")[1]??"");try{const t=new URL(e);return((null==t?void 0:t.pathname)||"").endsWith(".pdf")||Eg()}catch{return!1}}function Sg(e){return e&&"string"==typeof e&&!(null==e||!e.length)&&kg(e)&&!wg(e)}const xg=()=>{var e,t;return typeof chrome>"u"?id.EXTENSION_ID:bm()?(null==(e=null==chrome?void 0:chrome.i18n)?void 0:e.getMessage("@@extension_id"))??id.EXTENSION_ID:(null==(t=null==chrome?void 0:chrome.runtime)?void 0:t.id)??id.EXTENSION_ID};function Cg(e){return`${bm()?"moz-extension":"chrome-extension"}://${xg()}/${e}`}function Ig(e){return Cg(`viewer.html?file=${encodeURIComponent(e)}`)}function Ng(e){const t=typeof window<"u"&&!_m()&&rf()?`${window.location.origin}/reader.html`:Cg("reader.html");return e.url?`${t}?${Mp.url}=${encodeURIComponent(e.url)}`:t}function Dg(e,t){return new URLSearchParams(t).get(e)}function Og(e){return new URLSearchParams(window.location.search).get(e)}function Lg(e,t){if("URLSearchParams"in window){const i=new URLSearchParams(window.location.search);i.set(e,t);const r=window.location.pathname+"?"+i.toString();history.replaceState(history.state,"",r)}}function Pg(e){const t=new URLSearchParams(window.location.search);return t.delete(e),t}const Rg="WEB_HIGHLIGHTS_SERVER";function Mg(){return Og(Rg)}function Bg(e){return wg(e)?e.split("?file=")[1]:e.split("//")[1]}function Ug(e,t,i){const r=(i={truncateSymbol:"...",reverse:!1,...i}).reverse?e.length-t:0,o=i.reverse?e.length:t;return(null==e?void 0:e.length)<=t?e:`${i.reverse?i.truncateSymbol:""}${null==e?void 0:e.substring(r,o)}${i.reverse?"":i.truncateSymbol}`}function $g(e){const t=(null==e?void 0:e.replace(/https:\/\/|http:\/\/|www.|/gi,""))??"";return t.endsWith("/")?t.slice(0,-1):t}function Gg(e){return(e=null==(e=$g(e))?void 0:e.split("/")[0])??""}function Fg(e){return encodeURIComponent(JSON.stringify(e))}function Hg(e){if(e)return JSON.parse(decodeURIComponent(e))}const zg=e=>(e||location.href).startsWith("chrome-extension://")||(e||location.href).startsWith("moz-extension://")||(e||location.href).startsWith("extension://"),jg="WEBHIGHLIGHTS_OPEN_AUTH",Vg="TRUE";function Wg(){return Og(jg)===Vg}function qg(e){var t;null==(t=null==window?void 0:window.history)||t.pushState({path:e.toString()},"",e.toString())}function Yg(){if(Wg())return;const e=new URL(location.href);e.searchParams.append(jg,Vg),qg(e)}function Kg(){const e=new URL(location.href);e.searchParams.delete(jg),qg(e)}function Xg(e,t){window.open(e,t?"_blank":void 0)}function Jg(e,t){var i;const r=null==(i=mk())?void 0:i.appConfig;return(!sf()||null==r||!r.isWebApp)&&([...t,...gg].some(t=>of(e,t))||af(e))}function Zg(e){return rg.some(t=>e.startsWith(t))&&!fm()}function Qg(e){return ig.some(t=>e.startsWith(t))&&!fm()}function ef(e){return null==e?void 0:e.endsWith(".xml")}function tf(e,t){return Jg(e,t)}function rf(){return!(typeof window>"u")&&window.location.href.startsWith("http://localhost")}function of(e,t){try{const i=t.endsWith("/*");return t=`^(?:www.|(?:http|https|ftp|ftps|chrome|file|)://(?:www.|))${t}`,i||(t=`${t}(?:$|/$)`),RegExp(t).test(e)}catch{return!1}}const nf=e=>ag.some(t=>e.startsWith(t)),af=e=>dg.some(t=>e.startsWith(t))||nf(e),sf=()=>!(typeof window>"u"||typeof document>"u"||!document.querySelector(Sv.Reader.TAG)),lf=e=>ug.some(t=>e.startsWith(t));function cf(){return Gg(location.href)}function df(){return`${cf()}/*`}async function uf(){const e=await Rp.getChromeSettings();await b_({blacklistedUrls:[...new Set([...e.blacklistedUrls,df()])]}),fk().chromeSyncService.executeSync(()=>{location.reload()})}async function hf(){const e=await Rp.getChromeSettings();await b_({blacklistedUrls:e.blacklistedUrls.filter(e=>e!==df())}),fk().chromeSyncService.executeSync(()=>{location.reload()})}function pf(e,t){return null==e?void 0:e.replaceAll(" ","+").replaceAll("%20",t)}function gf(e){try{const t=new URL(e),i=new URLSearchParams(t.search);return Array.from(i.keys()).filter(e=>!sg.includes(e)).forEach(e=>i.delete(e)),t.search=i.toString(),t.toString().toLowerCase()}catch{return e.toLowerCase()}}function ff(e,t){try{if(!e||!t||"string"!=typeof e||"string"!=typeof t)return!1;const i=e=>e.toLowerCase();if(e=i(e),t=i(t),_g(e)){const i=vg(e);if(null!=i&&i.startsWith("file:")){const e=decodeURIComponent(i).split("/"),r=pf(e[e.length-1]||"","+");return pf(decodeURIComponent(t),"+").endsWith(r)}const r=fg(decodeURIComponent(i)),o=new RegExp(r),n=decodeURIComponent(vg(t));return o.test(n)}if(yg(e)||yg(t))return e===t;if(mg(e)||mg(t))return gf(e)===gf(t);if(bg(e)||bg(t))return e===t;const r=fg(decodeURIComponent(e));return new RegExp(r).test(decodeURIComponent(t))}catch(e){return console.error(e),!1}}function mf(e,t,i){var r,o;if(!mg(t)&&!mg(e.url)){const t=sf();if(i&&e.canonicalLink&&!t)return(null==i?void 0:i.toLowerCase())===(null==(r=e.canonicalLink)?void 0:r.toLowerCase());if((null==i?void 0:i.toLowerCase())===(null==(o=e.url)?void 0:o.toLowerCase()))return!0}return ff(null==e?void 0:e.url,t)}const bf="chrome://extensions/shortcuts";function yf(){bm()?window.open("https://support.mozilla.org/kb/manage-extension-shortcuts-firefox","_blank"):Hc.sendRuntimeMessage({id:"navigateToFromBackground",detail:bf})||BT({content:`Copy & paste this url into your address bar: ${bf}`,variant:"neutral",uniqueId:"copy-paste-manually",duration:1e4})}function vf(e=location.href){return Jg(e,gg)}function wf(e){return encodeURIComponent((null==e?void 0:e.replaceAll(" ","-"))??"")}function _f(e){return Af(e)}function Tf(e){return Af(e)}function Af(e){const t=e.split("-");return t[t.length-1]||""}function Ef(e){return _g(e.url)?vg(e.url):e.url}const kf="redirectPath",Sf="google-sso",xf=["/login","/sign-up","/auth","/legal","/explore","/sharing","/reset-password","/unsubscribe","/pricing","/unsubscribe","/oauth/notion","/email-confirmation-success","/reader"],Cf="page",If="type",Nf="sortBy",Df="sortDirection",Of="groupBy";function Lf(e,t=48){return`${e.startsWith("https:")?"":"https:"}${e.split("=s")[0]}=s${t}-w${t}-h${t}`}function Pf(e){zg()?Hc.sendRuntimeMessage({id:"navigateToFromBackground",detail:e}):location.href=e}function Rf(){return Pf(fk().environment.FRONTEND_URL)}function Mf(){return Pf(`${fk().environment.FRONTEND_URL}/auth?${Sf}=${function(){if(zg()){const e=Jp();return Hf(location.href)&&e?encodeURIComponent(e):encodeURIComponent(`${id.WEBSITE_URL}/successfully-logged-in`)}return encodeURIComponent(location.href)}()}`)}function Bf(e,t){return e.filter(e=>{var i,r,o,n;if(null==t||!t.name)return!1;const a=(null==(i=e.name)?void 0:i.toLowerCase())===(null==t?void 0:t.name.toLowerCase()),s=t.name.split(".");let l=!1;if(s.length>2){const t=null==(r=s.slice(s.length-2,s.length+1))?void 0:r.join(".");l=null==(o=e.name)?void 0:o.toLowerCase().includes(null==t?void 0:t.toLowerCase())}return!a&&(e.name.toLowerCase().includes(null==(n=null==t?void 0:t.name)?void 0:n.toLowerCase())||l)})}function Uf(){return sf()?lu().url:location.href}function $f(e,t){const i=new URL(window.location.href);i.search="",i.searchParams.set(e,t),window.history.pushState({},"",i.toString())}const Gf=dg.map(e=>`${e}/reader`);function Ff(e){return Gf.some(t=>e.startsWith(t))}const Hf=e=>(zg(e)||Qg(e))&&e.includes("reader.html");function zf(e,t){return"reader"===t?{chrome:Oc.storePublishUrl,edge:Pc.storePublishUrl,firefox:Rc.storePublishUrl}[e]:"youtubeHighlighter"===t?{chrome:Lc.storePublishUrl,edge:"",firefox:""}[e]:{chrome:Ic.storePublishUrl,edge:Nc.storePublishUrl,firefox:Dc.storePublishUrl}[e]}const jf={HIGHLIGHT_WEBSITE:"highlight-website",OPEN_WEBSITE_IN_READER_MODE:"open-website-in-reader-mode",HIGHLIGHT_NOTES:"highlight-in-notes",HIGHLIGHT_YOUTUBE_VIDEO:"highlight-youtube-video",YOUTUBE_AI_SUMMARY:"youtube-ai-summary",WEBSITE_AI_SUMMARY:"website-ai-summary",YOUTUBE_TRANSCRIPT_GENERATOR:"youtube-transcript-generator",YOUTUBE_TRANSCRIPT_READER:"youtube-transcript-reader"},Vf=Object.values(jf);function Wf(e){return void 0!==(null==Vf?void 0:Vf.find(t=>(null==t?void 0:t.toLowerCase())===(null==e?void 0:e.toLowerCase())))}function qf(e){return Ff(location.href)&&location.href.includes(`/${e}`)}function Yf(){return Ff(location.href)&&Vf.some(e=>location.href.includes(`/${e}`))}function Kf(e){var t,i=e.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?)|(shorts\/))\??v?=?([^#&?]*).*/);return i&&11===(null==(t=i[8])?void 0:t.length)?i[8]:null}function Xf(e){try{if(!e)return!1;const t=new URL(e);return(t.hostname.includes("youtube.com")||t.hostname.includes("youtu.be"))&&null!==Kf(e)}catch{return!1}}async function Jf(e){var t;return(null==(t=e.text)?void 0:t.length)>0?Zf({value:e.text}):Ud(e)?Qf(e.imageSrc):void 0}async function Zf({value:e,toast:t,fallback:i}){try{await navigator.clipboard.writeText(e),BT(t??{content:"Copied to clipboard ",variant:"success",uniqueId:"copied-to-clipboard"})}catch{"function"==typeof i?i():BT({content:"Sorry, copying text is not possible here.",variant:"warn",uniqueId:"copied-to-clipboard-error"})}}async function Qf(e,t){try{const t=await(await fetch(e)).blob(),i=[new ClipboardItem({[`${t.type}`]:t})];await navigator.clipboard.write(i),BT({content:"Successfully copied image ",variant:"success",uniqueId:"copied-image-success"})}catch{"function"==typeof t?t():BT({content:"Sorry, copying image is not possible here. Please copy it manually!",variant:"error",uniqueId:"copied-image-error"})}}const em=767;function tm(e,t){const i=[...(null==e?void 0:e.tags)??[],...(t??[]).map(e=>e.tags??[]).flat(1)];return Array.from(new Set(i))}function im(e){return e.replace(/[ &\/\\#,+()$~%.'":*?<>{}]/g,"")}function rm(e){e.stopPropagation(),e.stopImmediatePropagation()}function om(e){e.stopPropagation(),e.preventDefault()}function nm(e,t){return JSON.stringify(e)===JSON.stringify(t)}async function am(e){return new Promise(t=>setTimeout(()=>t(),e))}function sm(e){return 0!==e&&(!e||e<=1)?"":"s"}function lm(e){return!!e&&"string"==typeof e}const cm=e=>"Enter"===e.key,dm=e=>!!e&&e._id&&[kd.PUBLIC,kd.PUBLIC_LINK].includes(e.permission??kd.PRIVATE);function um(){var e,t;return null==(t=null==(e=document.querySelector(Sv.Sidebar.TAG))?void 0:e.shadowRoot)?void 0:t.firstElementChild}function hm(){var e;return(null==(e=um())?void 0:e.clientWidth)??0}const pm=()=>Number(hm())>0;function gm(){var e;return(null==(e=document.querySelector(Sv.Sidebar.TAG))?void 0:e.getAttribute("alignment"))??"left"}function fm(){var e;return"chrome"in window&&typeof chrome<"u"&&!(null==(e=null==chrome?void 0:chrome.runtime)||!e.id)}function mm(){var e,t;try{return typeof chrome<"u"&&((null==(e=null==chrome?void 0:chrome.runtime)?void 0:e.id)===Dc.extensionId||(null==(t=null==chrome?void 0:chrome.runtime)?void 0:t.id)===Rc.extensionId)}catch(e){return console.error("Error in isFirefoxExtensionEnvironment",e),!1}}function bm(){var e;return!(typeof globalThis>"u")&&"navigator"in globalThis&&wm(null==(e=globalThis.navigator)?void 0:e.userAgent)}const ym=e=>null==e?void 0:e.toLowerCase().includes("edg/"),vm=e=>(null==e?void 0:e.toLowerCase().includes("chrome"))&&!ym(e),wm=e=>null==e?void 0:e.toLowerCase().includes("firefox");function _m(){return fm()||mm()}function Tm(e,t){var i;return e instanceof HTMLElement&&(null==(i=e.tagName)?void 0:i.toLowerCase())===t.toLowerCase()}function Am(e){const t=["B","KB","MB","GB","TB"];if(0===e)return"0 B";const i=Math.abs(e),r=Math.min(Math.floor(Math.log(i)/Math.log(1e3)),t.length-1),o=i/Math.pow(1e3,r),n=t[r];let a=Math.round(10*o)/10;return("B"===n||"KB"===n)&&(a=Number(a.toFixed(0))),`${a} ${n}`}function Em(e,t){return"fulfilled"===e.status?e.value:t}function km(e){return!af(e)}const Sm=e=>null!==e,xm=e=>{try{let t=e;return t=t.replace(/\n/gi,""),t=t.replace(/<style([\s\S]*?)<\/style>/gi,""),t=t.replace(/<script([\s\S]*?)<\/script>/gi,""),t=t.replace(/<a.*?href="(.*?)[\?\"].*?>(.*?)<\/a.*?>/gi," $2 $1 "),t=t.replace(/<\/div>/gi,"\n\n"),t=t.replace(/<\/li>/gi,"\n"),t=t.replace(/<li.*?>/gi,"  *  "),t=t.replace(/<\/ul>/gi,"\n\n"),t=t.replace(/<\/p>/gi,"\n\n"),t=t.replace(/<br\s*[\/]?>/gi,"\n"),t=t.replace(/<[^>]+>/gi,""),t=t.replace(/^\s*/gim,""),t=t.replace(/ ,/gi,","),t=t.replace(/ +/gi," "),t=t.replace(/\n+/gi,"\n\n"),t.trim()}catch(t){return console.error("Error in htmlToText",t),e}},Cm=e=>e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#39;/g,"'").replace(/&#34;/g,'"').replace(/&#38;/g,"&").replace(/&#60;/g,"<").replace(/&#62;/g,">").replace(/&#160;/g," ").replace(/&#163;/g,"").replace(/&#164;/g,"").replace(/&#165;/g,"").replace(/&#166;/g,"").replace(/&#167;/g,"").replace(/&#168;/g,"").replace(/&#169;/g,"").replace(/&#170;/g,"").replace(/&#171;/g,"").replace(/&#172;/g,"").replace(/&#173;/g,"").replace(/&#174;/g,"").replace(/&#175;/g,"").replace(/&#176;/g,"").replace(/&#177;/g,"").replace(/&#178;/g,"").replace(/&#179;/g,"").replace(/&#180;/g,"").replace(/&#181;/g,"").replace(/&#182;/g,"").replace(/&#183;/g,"").replace(/&#184;/g,"").replace(/&#185;/g,"").replace(/&#186;/g,"").replace(/&#187;/g,"").replace(/&#188;/g,"").replace(/&#189;/g,"").replace(/&#190;/g,"").replace(/&#191;/g,"").replace(/&#192;/g,"").replace(/&#193;/g,"").replace(/&#194;/g,"").replace(/&#195;/g,"").replace(/&#196;/g,"").replace(/&#197;/g,"").replace(/&#198;/g,"").replace(/&#199;/g,"").replace(/&#200;/g,"").replace(/&#201;/g,"").replace(/&#202;/g,"").replace(/&#203;/g,"").replace(/&#204;/g,"").replace(/&#205;/g,"").replace(/&#206;/g,"").replace(/&#207;/g,"").replace(/&#208;/g,"").replace(/&#209;/g,"").replace(/&#210;/g,"").replace(/&#211;/g,"").replace(/&#212;/g,"").replace(/&#213;/g,"").replace(/&#214;/g,"").replace(/&#215;/g,"").replace(/&#216;/g,"").replace(/&#217;/g,"").replace(/&#218;/g,"").replace(/&#219;/g,"").replace(/&#220;/g,"").replace(/&#221;/g,"").replace(/&#222;/g,"").replace(/&#223;/g,"").replace(/&#224;/g,"").replace(/&#225;/g,"").replace(/&#226;/g,"").replace(/&#227;/g,"").replace(/&#228;/g,"").replace(/&#229;/g,"").replace(/&#230;/g,"").replace(/&#231;/g,"").replace(/&#232;/g,"").replace(/&#233;/g,"").replace(/&#234;/g,"").replace(/&#235;/g,"").replace(/&#236;/g,"").replace(/&#237;/g,"").replace(/&#238;/g,"").replace(/&#239;/g,"").replace(/&#240;/g,"").replace(/&#241;/g,"").replace(/&#242;/g,"").replace(/&#243;/g,"").replace(/&#244;/g,"").replace(/&#245;/g,"").replace(/&#246;/g,"").replace(/&#247;/g,"").replace(/&#248;/g,"").replace(/&#249;/g,"").replace(/&#250;/g,"").replace(/&#251;/g,"").replace(/&#252;/g,"").replace(/&#253;/g,"").replace(/&#254;/g,"").replace(/&#255;/g,"");function Im(e){const t=Math.round(e);return`${Math.floor(t%3600/60)}:${(t%60).toString().padStart(2,"0")}`}var Nm=(e=>(e.CREATE="CREATE",e.UPDATE="UPDATE",e.DELETE="DELETE",e))(Nm||{});const Dm=Object.values(Nm);function Om(e){return"CREATE"===e.type}function Lm(e){return"UPDATE"===e.type}function Pm(e){return"DELETE"===e.type}function Rm(e){return e&&"string"==typeof e.id&&Dm.includes(e.type)&&"string"==typeof e.entityType&&"string"==typeof e.entityId&&"number"==typeof e.timestamp&&"string"==typeof e.clientId}function Mm(e){return e.entityType===bp.pagecontents&&(Om(e)||Lm(e))}function Bm(e){return e.entityType===bp.aichats&&(Om(e)||Lm(e))}const Um=()=>{var e;return(null==(e=mk())?void 0:e.clientId)??"server"};function $m(e,t){const i=`${e.type}-${e.entityType}-${e.entityId}`.toLowerCase();return e.type===Nm.UPDATE?`${i}-${t}`:i}function Gm(){const e=Date.now();return{timestamp:e,clientId:Um(),createdAt:e,updatedAt:e,_objectStore:Ep.actions}}function Fm({entity:e,userId:t}){const i=Nm.CREATE;return{...Gm(),id:$m({type:i,entityType:e._objectStore,entityId:e._id},void 0),type:i,entityType:e._objectStore,entityId:e._id,_user:t,payload:ak(e,e._objectStore)}}function Hm({entityType:e,entityId:t,updates:i,previousValues:r,userId:o}){const n=Nm.UPDATE,a={},s={};if(Object.keys(i).forEach(e=>{const t=e,o=r[t],n=i[t];nm(o,n)||(a[t]=n,s[t]=o)}),0===Object.keys(a).length)return null;const l=Date.now(),c={updatedAt:l,...a};return{...Gm(),id:$m({type:n,entityType:e,entityId:t},l),type:n,entityType:e,entityId:t,_user:o,payload:ak(c,e),previousValues:ak(s,e)}}function zm({entityType:e,entityId:t,userId:i}){const r=Nm.DELETE;return{...Gm(),type:r,id:$m({type:r,entityType:e,entityId:t},void 0),entityType:e,entityId:t,_user:i}}function jm(e,t){return e.timestamp-t.timestamp}function Vm(e){return!(!e||"object"!=typeof e)&&"_id"in e&&"_objectStore"in e}function Wm(e){const t=[],i=[],r=new Map;for(const o of e.sort(jm))if(Om(o))t.push(o);else if(Lm(o))i.push(o);else if(Pm(o)){const e=r.get(o.entityId);(void 0===e||o.timestamp>e)&&r.set(o.entityId,o.timestamp)}const o=new Map;for(const e of i){const t=o.get(e.entityId)??{};o.set(e.entityId,{...t,...e.payload})}const n=[];for(const e of t){e._id&&(e._id=e._id.toString()),e._user&&(e._user=e._user.toString());const t=e.payload,i=e.entityId;if(!i)continue;const a=r.get(i);if(void 0!==a&&a>=e.timestamp)continue;const s={_id:i,_objectStore:e.entityType,_user:e._user},l={...t},c=o.get(i),d={...c?{...l,...c}:l,...s};Vm(d)&&n.push(d)}return n}function qm(e){return e.map(e=>({...Fm({entity:e,userId:e._user}),lastSync:e.lastSync}))}const Ym={dev:{UPDATE_ACTIONS_THRESHOLD:8,COMPACTION_AMOUNT:4},prod:{UPDATE_ACTIONS_THRESHOLD:200,COMPACTION_AMOUNT:100}};function Km(e,{UPDATE_ACTIONS_THRESHOLD:t,COMPACTION_AMOUNT:i}){const r=e.sort(jm),o=r.filter(Lm);if(o.length<t)return{compactedCreateActions:[],deletedUpdateActionIds:[]};const n=r.filter(Om),a=new Map,s=o.slice(0,i),l=[];for(const e of s){const t=a.get(e.entityId)||n.find(t=>t.entityId===e.entityId);t&&(l.push(e.id),a.set(e.entityId,{...t,timestamp:t.timestamp>e.timestamp?t.timestamp:e.timestamp,payload:{...t.payload,...e.payload}}))}return{compactedCreateActions:Array.from(a.values()).sort(jm),deletedUpdateActionIds:l}}const Xm="en-US",Jm=1e3,Zm=60*Jm,Qm=60*Zm,eb=24*Qm,tb=eb/1e3,ib=10*Zm;function rb(e){let t=((new Date).getTime()-e)/1e3,i=t/60;t=Math.round(t%60);let r=i/60;i=Math.round(i%60);const o=Math.round(r/24);return r=Math.round(r%24),o<1?`${o>=1?o+"d ":""} ${r>=1?r+"h ":""}\n    ${i>=1?i+"m ":""} ${t>=0?t+"s":""} ago`:o<7?`${o>=1?o<2?o+" day":o+" days":""} ${r>=1?r+"h ":""} ago`:`${new Date(e).getMonth()+1}/${new Date(e).getDate()}/${new Date(e).getFullYear()}`}const ob=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"],nb=["January","February","March","April","May","June","July","August","September","October","November","December"];function ab(e,t){const i=new Date(e),r=new Date(Date.now()),o=i.getFullYear();return`${(null==t?void 0:t.alwaysShowYear)||r.getFullYear()!==o?`${i.getFullYear()}`:""} ${ob[i.getMonth()]} ${i.getDate()}`.trim()}function sb(e){const t=new Date(Date.now());return new Date((null==e?void 0:e.dateAndTimeString)??0)<t}const lb={disableTodayOrTomorrow:!1,useWeekDay:!1,hideHoursAndMinutes:!1};function cb(e,t={}){t={...lb,...t};const i=new Date(Date.parse(e)),r=new Date(Date.now()),o=r.getFullYear(),n=i.getFullYear(),a=i.toLocaleString(Xm,{weekday:"short"}),s=i.toLocaleString(Xm,{month:"short"}),l=i.toLocaleString(Xm,{day:"numeric"});let c=i.toLocaleString(Xm,{hour:"2-digit",minute:"2-digit"});return t.useWeekDay?`${a}${t.hideHoursAndMinutes?"":`, ${c}`}`:i.toDateString()!==r.toDateString()||t.disableTodayOrTomorrow?(r.setDate(r.getDate()+1),i.toDateString()!==r.toDateString()||null!=t&&t.disableTodayOrTomorrow?`${s} ${l}${n!==o?`, ${n}`:""}${t.hideHoursAndMinutes?"":`, ${c}`}`:"Tomorrow"+(t.hideHoursAndMinutes?"":`, ${c}`)):"Today"+(t.hideHoursAndMinutes?"":`, ${c}`)}function db(e,t=!0){const i=new Date(e);return 0===i.getMinutes()&&0===i.getMilliseconds()&&0===i.getSeconds()||(t&&i.setHours(i.getHours()+1),i.setMinutes(0),i.setMilliseconds(0),i.setSeconds(0)),i}function ub(){const e=new Date(Date.now());return`${e.getFullYear()}${String(e.getMonth()+1).padStart(2,"0")}${String(e.getDate()).padStart(2,"0")}-${String(e.getHours()).padStart(2,"0")}${String(e.getMinutes()).padStart(2,"0")}${String(e.getSeconds()).padStart(2,"0")}`}function hb(e,{timeZone:t,todayOffset:i}={}){const r=new Date(Date.now()+(i??0)*eb);try{return e.toLocaleDateString(void 0,{timeZone:t})===r.toLocaleDateString(void 0,{timeZone:t})}catch{return e.toLocaleDateString()===r.toLocaleDateString()}}function pb(e){try{return new Date(e)}catch{return new Date(Date.now())}}function gb(e,t){const i=Math.abs(e-t);return Math.ceil(i/eb)}function fb(e){return e<10?`0${e}`:`${e}`}function mb(e){const t=new Date(Date.now()),i=new Date(e);if(i.getDate()===t.getDate()&&i.getMonth()===t.getMonth()&&i.getFullYear()===t.getFullYear())return{sortPrio:10,title:"Today"};if(t.setDate(t.getDate()-1),i.getDate()===t.getDate()&&i.getMonth()===t.getMonth()&&i.getFullYear()===t.getFullYear())return{sortPrio:9,title:"Yesterday"};if(t.setDate(t.getDate()+1),t.setDate(t.getDate()-7),i>=t)return{sortPrio:8,title:"Last 7 days"};if(t.setDate(t.getDate()+7),i.getMonth()===t.getMonth()&&i.getFullYear()===t.getFullYear())return{sortPrio:7,title:"This month"};t.setDate(t.getDate()-t.getDate()+1);const r=e=>{const t=+`0.${e.getFullYear()}${fb(e.getMonth())}1`;return isNaN(t)?4:t};return i.getFullYear()===t.getFullYear()?{sortPrio:r(i),title:`${nb[i.getMonth()]}`}:{sortPrio:r(i),title:`${nb[i.getMonth()]} ${i.getFullYear()}`}}function bb(){const e=new Date("2024-06-30T23:59:59-07:00");return new Date(Date.now())<e}function yb(e){const t=new Date(e);return`${t.getFullYear()}-${t.getMonth()+1}-${t.getDate()}`}function vb(e,t){try{return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}catch{return!1}}function wb(e){return!(null===e||"object"!=typeof e||!Array.isArray(null==e?void 0:e.bookmarks)||!Array.isArray(null==e?void 0:e.marks)||typeof e.chromeSettings>"u")}function _b(){BT({content:`Invalid file. Try to upload a file in this format: E.g. 'webhighlights-backup-${ub()}.json'`,variant:"error",uniqueId:"invalid-backup-file",duration:5e3})}function Tb({_user:e,lastSync:t,...i}){return i}function Ab({marks:e,bookmarks:t,chromeSettings:i,pagecontents:r,aichats:o}){return{bookmarks:t.map(Tb),marks:e.map(Tb),chromeSettings:Tb(i),pagecontents:(null==r?void 0:r.map(Tb))??[],aichats:(null==o?void 0:o.map(Tb))??[]}}function Eb(e){const t=Ab(e);return{bookmarks:t.bookmarks.map(ek),marks:t.marks.map(QE),chromeSettings:tk(t.chromeSettings),pagecontents:(t.pagecontents??[]).map(ik),aichats:(t.aichats??[]).map(rk)}}function kb(e){return encodeURIComponent(JSON.stringify(e))}function Sb(e){try{return JSON.parse(decodeURIComponent(e))}catch{throw new Error("Invalid 'passThroughObject' object")}}function xb(e){var t,i,r,o,n,a,s,l,c,d,u;return{type:(null==e?void 0:e[0])??"review",extensionURL:(null==(t=null==e?void 0:e[1])?void 0:t[0])??"",reviewer:{id:(null==(i=null==e?void 0:e[2])?void 0:i[0])??"",name:(null==(r=null==e?void 0:e[2])?void 0:r[1])??"",avatarURL:(null==(o=null==e?void 0:e[2])?void 0:o[2])??"",unknownField:(null==(n=null==e?void 0:e[2])?void 0:n[3])??null,role:(null==(a=null==e?void 0:e[2])?void 0:a[4])??0},rating:(null==e?void 0:e[3])??0,reviewText:(null==e?void 0:e[4])??"",tags:(null==e?void 0:e[5])??[],createdAt:(null==e?void 0:e[6])??0,updatedAt:(null==e?void 0:e[7])??0,missingField:(null==e?void 0:e[8])??null,metaData:{itemType:(null==(s=null==e?void 0:e[9])?void 0:s[0])??"",field2:(null==(l=null==e?void 0:e[9])?void 0:l[1])??null,field3:(null==(c=null==e?void 0:e[9])?void 0:c[2])??null,field4:(null==(d=null==e?void 0:e[9])?void 0:d[3])??null,tags:(null==(u=null==e?void 0:e[9])?void 0:u[4])??[]},token:(null==e?void 0:e[10])??"",additionalTags:(null==e?void 0:e[11])??[]}}function Cb(e){var t,i,r;return{nextToken:(null==(i=null==(t=null==e?void 0:e[1])?void 0:t[3])?void 0:i[2])??"",items:((null==(r=null==e?void 0:e[1])?void 0:r[4])??[]).map(xb)}}const Ib="nextPage",Nb={isLifetimeDealEnabled:!0,isGfEnabled:!0,isYoutubeControlEnabled:!0,isAiChatEnabled:!1,cacheTtlInMillis:Qm,youtubeEmbedUrl:null};var Db=(e=>e)(Db||{});const Ob="wh-timezone",Lb="wh-browser-type",Pb="wh-app-type";function Rb({rangyObject:e}){var t,i;const r={start:0,end:0};if(!e)return r;const o=Number((null==(t=/\|(.*?)\$/g.exec(e))?void 0:t[1])??0),n=Number((null==(i=/\$(.*?)\$/g.exec(e))?void 0:i[1])??0);try{return{start:o,end:n}}catch{return r}}const Mb="createdAt";function Bb(e){var t,i;return 1e3*((null==(t=null==e?void 0:e.startMeta)?void 0:t.parentIndex)??0)+((null==(i=null==e?void 0:e.startMeta)?void 0:i.textOffset)??0)/1e3}function Ub(e,t){return typeof e.domElementOffsetTop<"u"&&typeof t.domElementOffsetTop<"u"?function(e,t){return Fb(e)-Fb(t)}(e,t):e.highlightSource&&t.highlightSource?function(e,t){return Bb(e.highlightSource)-Bb(t.highlightSource)}(e,t):e.rangyObject&&t.rangyObject?Rb(e).start-Rb(t).start:$b(e,t,"asc","createdAt")}function $b(e,t,i="asc",r){return((t[r]??t[Mb]??0)-(e[r]??e[Mb]??0))*("desc"===i?-1:1)}function Gb(e,t){try{return new Date(t.created_at).getTime()-new Date(e.created_at).getTime()}catch{return 1}}const Fb=e=>+`${e.domElementOffsetTop??0}.${Math.max(e.domElementOffsetLeft??0,0)}`;function Hb(e,t){const i=(null==e?void 0:e.sort(Ub))??[];return t&&"object"==typeof t.marksSortIndexMap?i.sort((e,r)=>{const o=e=>{var r;return(null==(r=null==t?void 0:t.marksSortIndexMap)?void 0:r[e._id])??i.findIndex(t=>t._id===e._id)??1/0};return o(e)-o(r)}):i}function zb(e,t){return e.localeCompare(t,"en",{sensitivity:"base"})}function jb(e,t){return zb(e.name,t.name)}function Vb(e,t){return zb(e.name,t.name)}function Wb(e){const t=[...e];for(let e=t.length-1;e>0;e--){const i=Math.floor(Math.random()*(e+1)),r=t[e],o=t[i];void 0!==r&&void 0!==o&&(t[e]=o,t[i]=r)}return t}const qb=["asc","desc"],Yb=["createdAt","modifiedAt","openedAt","updatedAt"],Kb={page:1,step:1/0},Xb=(e,t)=>t.count-e.count,Jb=(e,t)=>t.matchScore!==e.matchScore?t.matchScore-e.matchScore:t.matchScore<60||e.matchScore<60?Xb(e,t):0;function Zb({allTags:e,searchValue:t,existingTags:i}){if(!Array.isArray(e))return[];const r=e.filter(e=>!(null!=i&&i.some(t=>t.toLowerCase()===e.name.toLowerCase())));if("string"!=typeof t||null==t||!t.length)return r.sort(Xb);const o=t.toLowerCase();return r.filter(e=>e.name.toLowerCase().includes(o)).map(e=>{const i=function(e,t){if(e.toLowerCase()===t.toLowerCase())return 100;if(e.toLowerCase().startsWith(t.toLowerCase()))return 90;if(e.toLowerCase().includes(t.toLowerCase()))return 70;const i=function(e,t){var i;const r=[];if(0===e.length)return t.length;if(0===t.length)return e.length;for(let i=0;i<=t.length;i++)r[i]=new Array(e.length+1).fill(0),r[i]&&(r[i][0]=i);for(let t=0;t<=e.length;t++)r[0]&&(r[0][t]=t);for(let i=1;i<=t.length;i++)for(let o=1;o<=e.length;o++)t.charAt(i-1)===e.charAt(o-1)?r[i]&&r[i-1]&&(r[i][o]=r[i-1][o-1]||0):r[i]&&r[i-1]&&(r[i][o]=Math.min((r[i-1][o-1]||0)+1,(r[i][o-1]||0)+1,(r[i-1][o]||0)+1));return(null==(i=r[t.length])?void 0:i[e.length])||0}(e.toLowerCase(),t.toLowerCase());return Math.max(50-i,0)}(e.name,t),r=e.count>=5?5:e.count%5;return{...e,matchScore:i+r}}).sort(Jb)}const Qb={easinessFactor:2.5,interval:1,repetitions:0,lastLearned:0,nextReviewInMillis:0},ey=1.3,ty=3.2;var iy=(e=>(e[e.DONT_KNOW=0]="DONT_KNOW",e[e.NEUTRAL=2.5]="NEUTRAL",e[e.I_KNOW=5]="I_KNOW",e))(iy||{});const ry=10,oy=10;function ny(e,t){const i=t<2.5?e.repetitions?Math.ceil(e.repetitions/3*e.easinessFactor):Qb.interval:Math.ceil(e.interval*e.easinessFactor);let r=+(e.easinessFactor+.12-(5-t)*(.08+.02*(5-t))).toFixed(2);r<ey&&(r=ey);const o=e.repetitions+1;let n=Math.ceil(Math.min(i,360));const a=ay({easinessFactor:r,repetitions:o});n>100&&a<85&&(n=100+a/2);const s=Date.now()+n*eb,l=Date.now();return{...e,nextReviewInMillis:s,repetitions:o,easinessFactor:r,interval:i,lastLearned:l,lastLearnedHistory:[...e.lastLearnedHistory??[],l]}}function ay(e){if(!e)return-1;if(0===e.repetitions)return 3;if(e.disableLearning)return 0;const t=(e.easinessFactor-ey)/(ty-ey),i=(0===t?0:.1)*(6-Math.min(e.repetitions,6)),r=Math.abs(i-t),o=i>t&&e.repetitions>1?t-i/e.repetitions:r<.08?t/2.5:t-i,n=Math.max(o,0),a=Math.round(100*n);return Math.min(a,100)}function sy(e,t){var i,r,o;const n=!e.learningItem,a=!hb(new Date((null==(i=e.learningItem)?void 0:i.lastLearned)??0),{timeZone:t}),s=((null==(r=e.learningItem)?void 0:r.nextReviewInMillis)??0)<Date.now();return a&&!(null!=(o=e.learningItem)&&o.disableLearning)&&(n||s)}function ly(e,t){return+!!t.learningItem-+!!e.learningItem}function cy(e,t=ry){const i=e.filter(e=>!!e.learningItem).map(e=>{var t;return new Date((null==(t=e.learningItem)?void 0:t.lastLearned)??0)});let r=0,o=new Date(Date.now());const n=()=>{var e;return((null==(e=null==i?void 0:i.filter(e=>e.toDateString()===o.toDateString()))?void 0:e.length)??0)>=t};for(;n();)r+=1,o=new Date(o.getTime()-eb);return r}function dy(e,t){const i=e.filter(e=>{var i;return hb(new Date((null==(i=e.learningItem)?void 0:i.lastLearned)??0),{timeZone:null==t?void 0:t.timezone})}),r=cy(e),o=e.filter(e=>sy(e,null==t?void 0:t.timezone)),n=ry-i.length%ry,a=Wb(o).sort(ly).slice(0,Math.round(n/2)),s=Wb(e).filter(e=>!(e.learningItem||null!=a&&a.some(t=>t._id===e._id))),l=[...a,...s];return{marks:Wb([...l,...e.filter(e=>!l.some(t=>t._id===e._id))].filter(e=>sy(e,null==t?void 0:t.timezone)).slice(0,n)),cardsLearnedToday:i.length,currentStreak:r}}function uy({learntTodayCount:e,marksToLearnCount:t},i){if(null==i||!i.showLearningTeaser)return!1;const r=new Date(Date.now()),o=new Date(i.lastTeaserClosedDateInMillis??0);return e<ry&&t>0&&(null==i?void 0:i.showLearningTeaser)&&r.toLocaleDateString()!==o.toLocaleDateString()}const hy=(e,t)=>{HT({dialogName:FT["learning-reminder"],dialogClosedCallback:()=>(async()=>{await b_({lastTeaserClosedDateInMillis:Date.now()}),e()})(),options:{closable:!0},keepCurrentDialog:!0,...t})};var py=(e=>(e.LONG_TERM_MEMORY="Long-Term Memory",e.CONFIDENT_RECALL="Confident Recall",e.MODERATE_RECALL="Moderate Recall",e.SHORT_TERM_MEMORY="Short-Term Memory",e.NEW_KNOWLEDGE="New Knowledge",e.NOT_YET_LEARNED="Not Yet Learned",e.DISCARDED="Discarded",e))(py||{});function gy(e){return e>=80?"Long-Term Memory":e>=60&&e<80?"Confident Recall":e>=40&&e<60?"Moderate Recall":e>=20&&e<40?"Short-Term Memory":e>=0&&e<20?"New Knowledge":"Not Yet Learned"}const fy={"Long-Term Memory":{id:"Long-Term Memory",isActive:e=>!(null!=e&&e.disableLearning)&&"Long-Term Memory"===gy(ay(e)),label:"Long-Term Memory",color:"#46B446"},"Confident Recall":{id:"Confident Recall",isActive:e=>!(null!=e&&e.disableLearning)&&"Confident Recall"===gy(ay(e)),label:"Confident Recall",color:"#A9B935"},"Moderate Recall":{id:"Moderate Recall",isActive:e=>!(null!=e&&e.disableLearning)&&"Moderate Recall"===gy(ay(e)),label:"Good Recall",color:"#E9C63A"},"Short-Term Memory":{id:"Short-Term Memory",isActive:e=>!(null!=e&&e.disableLearning)&&"Short-Term Memory"===gy(ay(e)),label:"Moderate Recall",color:"#E79E3D"},"New Knowledge":{id:"New Knowledge",isActive:e=>!(null!=e&&e.disableLearning)&&"New Knowledge"===gy(ay(e)),label:"Likely to forget",color:"#DB4646"},"Not Yet Learned":{id:"Not Yet Learned",isActive:e=>!(null!=e&&e.disableLearning)&&"Not Yet Learned"===gy(ay(e)),label:"Not Yet Learned",color:"#ccc"},Discarded:{id:"Discarded",isActive:e=>!(null==e||!e.disableLearning),label:"Discarded",color:"#555555"}},my=Object.values(fy);function by(e){return my.find(t=>t.isActive(e))??fy["Not Yet Learned"]}function yy(e){const t={};for(const i of e){const e=Gg(i.url).toLowerCase();t[e]||(t[e]={marks:[],confidenceSum:0});const r=t[e];r&&(r.marks.push(i),Oy(i)&&(r.confidenceSum+=Math.max(ay(i.learningItem),0)))}return Object.entries(t).map(([e,{marks:t,confidenceSum:i}])=>{const r=wy(t.filter(Oy),i);return{name:e,learningsMarks:t,confidence:r,type:"origins"}}).sort((e,t)=>(t.learningsMarks.length??0)-(e.learningsMarks.length??0))}async function vy(e,t){if("learningStatusGroup"===(null==e?void 0:e.type)){const i=my.find(t=>t.label===e.name),r=t.filter(e=>null==i?void 0:i.isActive(e.learningItem));return{...e,learningsMarks:r}}return("origins"===(null==e?void 0:e.type)?yy(t):await Ay(t)).find(t=>t.name===(null==e?void 0:e.name))??null}function wy(e,t){return e.length>0?Number((t/e.length).toFixed(1)):100}function _y(e){const t=e.filter(Oy);if(0===t.length)return 100;let i=0;for(const e of t)i+=Math.max(ay(e.learningItem),0);return wy(t,i)}function Ty(e){var t,i,r,o;const n=new Date(Date.now()),a=new Date((null==(t=e.learningItem)?void 0:t.nextReviewInMillis)??0),s=new Date((null==(i=e.learningItem)?void 0:i.lastLearned)??0);return!(null!=(r=null==e?void 0:e.learningItem)&&r.disableLearning)&&!(null==(o=null==e?void 0:e.learningItem)||!o.nextReviewInMillis)&&a.getTime()<n.getTime()&&s.toDateString()!==n.toDateString()}async function Ay(e){const[t,i]=await Promise.all([s_.getTags(),s_.getBookmarks()]),r={};for(const o of t){const t=e.filter(e=>{var t;return null==(t=e.tags)?void 0:t.includes(o.name)}),n=i.filter(e=>{var t;return null==(t=e.tags)?void 0:t.includes(o.name)}),a=e.filter(e=>n.some(t=>t._id===e._bookmark)).filter(e=>!t.some(t=>t._id===e._id)),s=[...t,...a];r[o.name]={marks:s,confidence:_y(s)}}return Object.entries(r).map(([e,{marks:t,confidence:i}])=>({name:e,learningsMarks:t,confidence:i,type:"tags"})).sort((e,t)=>(t.learningsMarks.length??0)-(e.learningsMarks.length??0))}const Ey=350;function ky(e){const t=new Date(Date.now());let i=0;for(let r=0;r<9999;r++){const o=new Date(t.getTime()-eb*r);if(!(e.filter(e=>(e.lastLearnedHistory??[e.lastLearned]).some(e=>{const t=new Date(e);return o.toDateString()===t.toDateString()})).length>=oy))break;i++}return i}function Sy(e){return e.filter(e=>!!e.learningItem).map(e=>e.learningItem)}function xy(e,t=oy){const i=e.map(e=>e.lastLearnedHistory??[e.lastLearned]).flat().sort((e,t)=>e-t).map(yb);return Cy(i,t)}function Cy(e,t=oy){const i=new Date(Date.now()),r=gb(new Date(e[0]??Date.now()).getTime(),i.getTime());let o=0,n=0,a=0,s=!1;for(let l=0;l<r;l++){const r=yb(new Date(i.getTime()-eb*l).getTime());e.filter(e=>e===r).length>=t?n++:0!==l&&(s=!0,n=0),s||(o=n),n>a&&(a=n)}return{currentStreak:o,longestStreak:a,learningDates:e}}function Iy(e){const t=e>0?[`Don't lose your ${e}-day streak! Learn today to keep it going `,`You're doing great! Make sure to learn today to extend your ${e}-day streak `,`Keep the momentum going! Learn today to maintain your ${e}-day streak `,`You're on fire! Let's keep this ${e}-day streak alivelearn today! `,`You're making it happen! Learn today to ensure your ${e}-day streak continues `,`Consistency is key! Learn today to keep your ${e}-day streak alive `]:[`Start a new streak  Learn ${oy} cards daily!`,`Kick off a new streak  Learn ${oy} cards and stay consistent!`,`Kick off a new streak  Learn ${oy} cards to build a learning habit!`];return t[Math.floor(Math.random()*t.length)]||t[0]||"Start learning today!"}function Ny(e){const t=["Don't lose your streak! Learn today to keep it going!","You're doing great! Make sure to learn today to extend your streak!","Keep the momentum going! Learn today to maintain your streak!","You're building a habit! Don't break itlearn today!","You're making progress! Keep it up by learning today!","You're on fire! Let's keep this streak alivelearn today!","Every day counts! Learn today to keep your streak intact!","You're making it happen! Learn today to ensure your streak continues!","Consistency is key! Learn today to keep your streak alive!"],i=[`Start a new streak and beat your longest! Learn ${oy} cards daily!`,`Kick off a new streak! Learn ${oy} cards and stay consistent!`,`Today is the day! Learn ${oy} cards to build a habit!`,`You can do it! Learn ${oy} cards today and start your journey!`,`Don't wait! Learn ${oy} cards to begin your daily learning!`],r=t[Math.floor(Math.random()*t.length)],o=i[Math.floor(Math.random()*i.length)];return e?1===e?`Great, you have a 1-day streak! ${r} `:2===e?`Awesome! You've completed ${e} days! ${r} `:3===e?`Wow, ${e} days in a row! ${r} `:e<=7?`Great job! You've kept your streak for ${e} days! ${r} `:e<=14?`Incredible! ${e} days and counting! ${r} `:e<=30?`You're a streak master! ${e} days in a row! ${r} `:`Unbelievable! ${e} days! You're an inspiration! ${r} `:`${o} `}function Dy(e){const t=["Keep going! You're doing great!","You're on fire! Don't stop now!","Amazing job! Every day counts!","You're building a habit! Keep it up!","Fantastic! You're making progress!","You're on fire! Let's keep this streak alive!","Every day is a step closer to your goals!","You're making it happen! Keep it up!","Consistency is key! You're nailing it!"],i=t[Math.floor(Math.random()*t.length)];return e?1===e?`Congrats, you started a streak! ${i} `:2===e?`You've completed ${e} days! Keep it going! ${i} `:3===e?`Wow, ${e} days in a row! You're doing awesome! ${i} `:e<=7?`Great job! You've kept your streak for ${e} days! ${i} `:e<=14?`Incredible! ${e} days and counting! ${i} `:e<=30?`You're a streak master! ${e} days in a row! Keep it up! ${i} `:`Unbelievable! ${e} days! You're an inspiration! ${i} `:`Learn ${oy} cards to start your streak!`}const Oy=e=>{var t;return!0!==(null==(t=e.learningItem)?void 0:t.disableLearning)};function Ly(e){var t,i,r,o,n;let a=0,s=0,l=0,c=0,d=0,u=0;for(const h of e)try{if(!h.learningItem){u++;continue}if(null!=(t=h.learningItem)&&t.lastLearned&&hb(new Date((null==(i=h.learningItem)?void 0:i.lastLearned)??0))&&a++,null!=(r=h.learningItem)&&r.lastLearned&&hb(new Date((null==(o=h.learningItem)?void 0:o.lastLearned)??0),{todayOffset:-1})&&s++,null!=(n=h.learningItem)&&n.disableLearning){l++;continue}h.learningItem&&Ty(h)&&c++,h.learningItem.nextReviewInMillis&&hb(new Date(h.learningItem.nextReviewInMillis),{todayOffset:1})&&d++,h.learningItem&&Ty(h)}catch(e){console.error(e)}return{learntTodayCount:a,dueCount:c,unlearnedCount:u,disabledCount:l,learntYesterdayCount:s,dueTomorrowCount:d,marksToLearnCount:c+u}}function Py(e){return{currentStreak:e.currentStreak,longestStreak:e.longestStreak,daysLearntCount:e.learningDates.length}}function Ry(){BT({content:"Discarded! This highlight will no longer show up in your learning sessions.",variant:"neutral",uniqueId:"learnign-item-discarded"})}function My(e,t){return{...e.learningItem??Qb,...t}}const By={title:"Web Highlights: PDF & Web Highlighter + Notes & Annotations ",description:"Best highlighter for the web. Just like you do on books, highlight on any web page or PDF, and take notes. Organize with tags and find your research in the app.",image:{url:"https://web-highlights.com/images/wh-thumbnail.png",type:"url",alt:"Web Highlights: PDF & Web Highlighter + Notes & Annotations"}};function Uy(){var e,t,i,r;const o=$y(),n={url:(null==(e=document.querySelector('meta[property="og:image"], meta[name="og:image"]'))?void 0:e.content)||(null==o?void 0:o.thumbnailUrl)||"",alt:(null==(t=document.querySelector('meta[property="og:image:alt"], meta[name="og:image:alt"]'))?void 0:t.content)??void 0,type:(null==(i=document.querySelector('meta[property="og:image:type"], meta[name="og:image:type"]'))?void 0:i.content)??void 0,width:Number(document.querySelector('meta[property="og:image:width"], meta[name="og:image:width"]'))??void 0,height:Number(document.querySelector('meta[property="og:image:height"], meta[name="og:image:height"]')??void 0)};return Xf(window.location.href)?{...n,url:o.thumbnailUrl||((null==(r=document.querySelector('link[as="image"]'))?void 0:r.getAttribute("href"))??"")||n.url,alt:"Youtube Video"}:n}function $y(){var e,t;const i=document.querySelector('script[type="application/ld+json"]');if(!i)return{};try{const r=JSON.parse(i.textContent||"{}"),o=Array.isArray(r)?r[0]:r;return{type:o["@type"],publishedTime:o.datePublished,modifiedTime:o.dateModified,author:"object"==typeof o.author?null==(e=o.author)?void 0:e.name:o.author,publisher:"object"==typeof o.publisher?null==(t=o.publisher)?void 0:t.name:o.publisher,description:o.description,thumbnailUrl:o.thumbnailUrl}}catch{return{}}}function Gy(){var e;const t=(null==(e=document.querySelector('meta[name="description"], meta[property="og:description"]'))?void 0:e.content)??"";return Xf(window.location.href)?hp($y().description??t):hp(t)}function Fy(){var e,t,i,r,o,n,a,s,l,c;if(typeof window>"u")return{};const d=$y()??{},u={title:hp((null==document?void 0:document.title)??""),description:Gy(),image:Uy(),url:window.location.href??void 0,type:(null==(e=document.querySelector('meta[property="og:type"], meta[name="og:type"]'))?void 0:e.content)??d.type??void 0,author:(null==(t=document.querySelector('meta[name="author"], meta[property="og:author"]'))?void 0:t.content)??void 0,authorUrl:(null==(i=document.querySelector('meta[property="article:author"], meta[name="article:author"]'))?void 0:i.content)??void 0,favicon:(null==(r=document.querySelector('link[rel="icon"], link[rel="shortcut icon"]'))?void 0:r.href)??void 0,date:(null==(o=document.querySelector('meta[name="date"], meta[property="article:published_time"]'))?void 0:o.content)??void 0,publishedTime:(null==(n=document.querySelector('meta[property="article:published_time"], meta[name="article:published_time"], meta[property="datePublished"]'))?void 0:n.content)??d.publishedTime??void 0,modifiedTime:(null==(a=document.querySelector('meta[property="article:modified_time"], meta[name="article:modified_time"], meta[property="dateModified"]'))?void 0:a.content)??d.modifiedTime??void 0};return sf()&&(u.url=lu().url||u.url,u.title=lu().title||u.title,u.description=lu().description||u.description,u.image={...u.image,url:lu().image||(null==(s=u.image)?void 0:s.url)||"",type:(null==(l=u.image)?void 0:l.type)||"url",alt:(null==(c=u.image)?void 0:c.alt)||""}),u}function Hy(){var e;if(typeof window>"u")return null;const t=zy(),i="true"===(null==t?void 0:t.getAttribute(jy));return!t||i?null:(null==(e=zy())?void 0:e.getAttribute("href"))??null}function zy(){return typeof window>"u"?null:document.querySelector('link[rel="canonical"]')}const jy="outdated";function Vy(e,t){var i,r,o,n,a,s,l,c;const d=xd(e??void 0)??{};return{title:(null==d?void 0:d.title)||(null==t?void 0:t.title)||(null==e?void 0:e.title),description:(null==e?void 0:e.description)||(null==d?void 0:d.description)||(null==t?void 0:t.description)||"",image:(null==(i=null==d?void 0:d.image)?void 0:i.url)||(null==(r=null==t?void 0:t.image)?void 0:r.url),url:null==e?void 0:e.url,author:(null==(o=null==e?void 0:e.meta)?void 0:o.author)||(null==t?void 0:t.author),authorUrl:(null==(n=null==e?void 0:e.meta)?void 0:n.authorUrl)||(null==t?void 0:t.authorUrl),webhighlightsDeeplink:`https://app.web-highlights.com/page/${null==e?void 0:e._id}`,favicon:(null==(a=null==e?void 0:e.meta)?void 0:a.favicon)||(null==t?void 0:t.favicon),contentType:(null==(s=null==e?void 0:e.meta)?void 0:s.contentType)||(null==t?void 0:t.contentType),publishedTime:(null==(l=null==e?void 0:e.meta)?void 0:l.publishedTime)||(null==t?void 0:t.publishedTime),modifiedTime:(null==(c=null==e?void 0:e.meta)?void 0:c.modifiedTime)||(null==t?void 0:t.modifiedTime)}}function Wy(e){const t=new Map;for(const i of e){const e=Gg(i.url);if(!e)continue;const r=e.toLowerCase(),o=t.get(r);o?o.count+=1:t.set(r,{name:e,count:1})}return Array.from(t.values(),({name:e,count:t})=>({name:e,count:t})).sort(Vb)}function qy(e){return e?e.transcripts.map(e=>e.text).join(" "):""}function Yy(e){var t;return e?{textLength:(null==(t=e.text)?void 0:t.length)??0,duration:e.duration,offset:e.offset}:{textLength:0,duration:0,offset:0}}function Ky(e){return e?{url:e.url,transcriptMarkers:e.transcripts.map(Yy),availableLanguages:e.availableLanguages}:{url:"",transcriptMarkers:[],availableLanguages:[]}}var Xy=(e=>(e.ALL="ALL",e.NONE="NONE",e))(Xy||{});const Jy={emailSettings:"ALL",isLearningReminderEmailEnabled:!0};var Zy=(e=>(e.YOUTUBE_HIGHLIGHTING_CAMPAIGN="YOUTUBE_HIGHLIGHTING_CAMPAIGN",e))(Zy||{});const Qy=["andrebedendo@gmail.com","xyzgcd123@gmail.com"].map(e=>e.toLowerCase());var ev=(e=>(e.NOT_STARTED="NOT_STARTED",e.IN_PROGRESS="IN_PROGRESS",e.NOT_COMPLETE="NOT_COMPLETE",e.SUCCESS="SUCCESS",e.ERROR="ERROR",e))(ev||{}),tv=(e=>(e.OFFLINE="OFFLINE",e.FREE="FREE",e.FREE_TRIAL="FREE_TRIAL",e.PREMIUM="PREMIUM",e.ULTIMATE="ULTIMATE",e))(tv||{}),iv=(e=>(e.ONE_MONTH="1M",e.ONE_YEAR="1Y",e.LIFETIME="Lifetime",e))(iv||{});const rv={"1M":"month","1Y":"year",Lifetime:" forever"},ov={OFFLINE:"Offline",FREE:"Basic",FREE_TRIAL:"Ultimate Trial",PREMIUM:"Premium",ULTIMATE:"Ultimate"},nv="entityId",av=e=>e===bp.aichats||e===bp.pagecontents;function sv(e){return e.entityType===bp.pagecontents}function lv(e){return e.entityType===bp.aichats}function cv(e){var t;return{entityId:e._id,body:e.messages??[],entityType:bp.aichats,contentType:"application/json",contentLength:(null==(t=e.messages)?void 0:t.length)??0,needsSync:e.lastSync?0:1}}function dv(e){var t;return{entityId:e._id,body:e.content??"",entityType:bp.pagecontents,contentType:"text/html",contentLength:(null==(t=e.content)?void 0:t.length)??0,needsSync:e.lastSync?0:1}}function uv(e){return JE(e)?cv(e):XE(e)?dv(e):null}var hv=(e=>(e.FREE_MONTH="free_month",e.HALF_PRICE_NEXT_YEAR="half_price_next_year",e))(hv||{});const pv=e=>e===iv.ONE_MONTH?"free_month":e===iv.ONE_YEAR?"half_price_next_year":null,gv=(e,t)=>{const i=new Map,r=e=>{const t=e??[];for(const e of t){if(!e)continue;const t=e.toLowerCase(),r=i.get(t);r?r.count+=1:i.set(t,{name:e,count:1})}};for(const t of e)r(t.tags);for(const e of t)r(e.tags);return Array.from(i.values(),({name:e,count:t})=>({name:e,count:t})).sort(jb)},fv="data-testid";function mv(e,t){return(Array.isArray(t)?t:[]).reduce((t,i)=>{if("string"!=typeof i)return t;try{return t[i=i.split(" ").join("")]=`${e}-${i}`,t}catch{return t}},{})}function bv(e){return{_id:"641aecab0cc82afc36cc58a8",createdAt:1679486123028,updatedAt:1679570763039,_objectStore:bp.marks,mediaType:"blockquote",_bookmark:"641aecab0cc82afc36cc58a9",url:"http://localhost:8080/",text:"ing elit. Maecenas sit amet consectetur ",tags:["Neu"],highlightSource:{startMeta:{parentTagName:"P",parentIndex:1,textOffset:47},endMeta:{parentTagName:"P",parentIndex:1,textOffset:87},text:"ing elit. Maecenas sit amet consectetur ",id:"e71f6af6-ec78-4c46-b340-8d317337ed45"},color:"#92ffaa",_user:"63dcf5ced9c9d5ce93d186de",richText:{ops:[{insert:"Some Note\n"}]},...e}}function yv(e){return{_id:"641aecab0cc82afc36cc58a9",createdAt:1679486123034,updatedAt:1679486123034,isStarred:!1,origin:"localhost:8080",tags:[],title:"Dev Page - /",url:"http://localhost:8080/",language:"en",permission:kd.PRIVATE,likes:[],_objectStore:bp.bookmarks,_user:"63dcf5ced9c9d5ce93d186de",...e}}function vv(e){return{...Dp,_id:"63fe32bd953b3e933b044e66",createdAt:1677601511610,updatedAt:1679416751961,_objectStore:bp.chromesettings,_user:"63dcf5ced9c9d5ce93d186de",showLeftSidebarWidget:!0,showToolboxAutomatically:!0,showMarkerPopup:!0,showBackupDialogPrompt:!0,defaultHighlightColor:"#fbbdff",recentColors:["#fbbdff","#92ffaa","#ffec70","#8ffdff","#ffec70","#92ffaa","#ffec70","#fbbdff","#92ffaa","#fbbdff"],blacklistedUrls:[],sidebarOptions:{sidebarAlignment:"left",sidebarBehavior:"push",sidebarWidth:410,...null==e?void 0:e.sidebarOptions},preferredColorMode:"light",highlighterMode:Td.BASIC,...e}}const wv={clearDatabases:()=>Promise.resolve(),getAllFromObjectStore:e=>Promise.resolve([]),dbHasDeprecatedObjectStores:()=>Promise.resolve(!1),getAllEntitiesFromDeprecatedObjectStores:()=>Promise.resolve([]),runMigrationGarbageCollector:e=>Promise.resolve(),getContentEntities:e=>Promise.resolve([]),getContentEntity:()=>Promise.resolve(null),getActionIdsForUser:()=>Promise.resolve([]),deleteActionsInTransaction:e=>Promise.resolve(),createOrUpdateActions:e=>Promise.resolve(),createOrUpdateContents:e=>Promise.resolve(),getContentEntitiesThatNeedSync:()=>Promise.resolve([]),getAllUniqueUserIds:()=>Promise.resolve([]),getDeprecatedChromeSettings:()=>Promise.resolve(null)},_v=e=>hk({appConfig:Ic,highlighter:{},db:wv,environment:{},httpFacade:{},lastSyncDateInMillis:0,...e});var Tv,Av,Ev,kv,Sv;function xv(e,t){const i=Cv(e,t);Bk.dispatch("defineComponent",{detail:{componentDefinitions:i}})}function Cv(e,t){return e.map(e=>({tagName:e,options:t}))}function Iv(e){return[...new Set(e.map(e=>e.tagName))].map(t=>{var i;return{tagName:null==t?void 0:t.toLowerCase(),options:null==(i=e.find(e=>e.tagName===t))?void 0:i.options}}).filter(e=>"string"==typeof e.tagName&&e.tagName.startsWith("webhighlights-"))}(e=>{const t=class{};Ec(t,"TAG","AppSidebar"),Ec(t,"TEST_IDS",{...mv(t.TAG,["SIDEBAR_CONTAINER","MAIN_NAV_DASHBOARD_BTN","MAIN_NAV_LEARNING_BTN","MAIN_NAV_SEARCH_BTN","MAIN_NAV_DISCOVER_BTN","MAIN_NAV_UPGRADE_BTN","FOOTER_NAV_SETTINGS_BTN","FOOTER_NAV_CHANGE_COLOR","FOOTER_NAV_LEARNING","FOOTER_NAV_LOGOUT","TAGS_VIEW","ORIGINS_VIEW","COLORS_VIEW","IMAGES_VIEW","TRIAL_WARNING","TRIAL_INFO","DOCUMENTS_VIEW"]),GRID_VIEW_BTN:e=>`GRID_VIEW_BTN-${e}`,GRID_VIEW_BTN_BADGE:e=>`GRID_VIEW_BTN_BADGE-${e}`});let i=t;e.AppSidebar=i;const r=class{};Ec(r,"TAG","AppLayout"),Ec(r,"TEST_IDS",mv(r.TAG,["MOBILE_NAV","SIDEBAR_NAV","MOBILE_MENU_SIDEBAR_BTN","MOBILE_MENU_SEARCH_BTN","MOBILE_MENU_LEARNING_BTN","MOBILE_MENU_HOME_BTN"]));let o=r;e.AppLayout=o;const n=class{};Ec(n,"TAG","ImportView"),Ec(n,"TEST_IDS",{...mv(n.TAG,["NO_URL","ERROR_TITLE","ERROR_DESCRIPTION","LOADING"])});let a=n;e.ImportView=a;const s=class{};Ec(s,"TAG","TagsOverviewComponent"),Ec(s,"TEST_IDS",{...mv(s.TAG,["TAG"])});let l=s;e.TagsOverviewComponent=l;const c=class{};Ec(c,"TAG","WebsitesOverviewComponent"),Ec(c,"TEST_IDS",{...mv(c.TAG,["TAG"])});let d=c;e.WebsitesOverviewComponent=d})(Tv||(Tv={})),(e=>{const t=class{};Ec(t,"TAG","ExtensionDevPage"),Ec(t,"TEST_IDS",{...mv(t.TAG,["TOGGLE_SIDEBAR_BTN","HIGHLIGHT_IMAGE_1","HIGHLIGHT_IMAGE_2","TEST_TOO_LARGE_ENTITY","ADD_NEW_DOM_ELEMENT","BROWSER_ACTION_OPEN_READER_BTN","TEST_YOUTUBE_VIDEO_1","TEST_YOUTUBE_VIDEO_2","TEST_DATA_FROM_DEPRECATED_ENDPOINTS"]),SHORTCUT_BTN:e=>`${t.TAG}_shortcut_btn_${e}`}),Ec(t,"LATER_ADDED_TEXT","This text was added programmatically");let i=t;e.ExtensionDevPage=i;const r=class{};Ec(r,"TAG","webhighlights-demo"),Ec(r,"TEST_IDS",mv(r.TAG,[""]));let o=r;e.Demo=o})(Av||(Av={})),(e=>{const t=class{};Ec(t,"TAG","webhighlights-element-registry"),Ec(t,"TEST_IDS",mv(t.TAG,[""]));let i=t;e.ElementRegistry=i;const r=class{};Ec(r,"TAG","webhighlights-image-indicator"),Ec(r,"TEST_IDS",mv(r.TAG,[])),Ec(r,"CLASSES",{IMAGE_HIGHLIGHT_INDICATOR_CLASS:"webhighlights-image-indicator"});let o=r;e.ImageIndicator=o})(Ev||(Ev={})),(e=>{const t=class{};Ec(t,"TAG","webhighlights-browser-action-mock"),Ec(t,"TEST_IDS",mv(t.TAG,["HIGHLIGHT_IMAGE_2"]));let i=t;e.BrowserActionMock=i;const r=class{};Ec(r,"TAG","webhighlights-kindle-import-helper"),Ec(r,"TEST_IDS",mv(r.TAG,[]));let o=r;e.KindleImportHelper=o;const n=class{};Ec(n,"TAG","webhighlights-youtube-highlight-button"),Ec(n,"TEST_IDS",mv(n.TAG,[]));let a=n;e.YoutubeHighlightButton=a;const s=class{};Ec(s,"TAG","webhighlights-notifications-pdf"),Ec(s,"TEST_IDS",mv(s.TAG,[]));let l=s;e.NotificationsPdf=l;const c=class{};Ec(c,"TAG","webhighlights-pdf-local-file-info"),Ec(c,"TEST_IDS",mv(c.TAG,[]));let d=c;e.PdfLocalFileInfo=d;const u=class{};Ec(u,"TAG","webhighlights-text-notification"),Ec(u,"TEST_IDS",mv(u.TAG,[]));let h=u;e.TextNotification=h})(kv||(kv={})),(e=>{const t=class{};Ec(t,"TAG","webhighlights-add-content"),Ec(t,"CONTENT_BOX_ID","add-content-html-box"),Ec(t,"URL_INPUT_ID","url-input-url"),Ec(t,"TEST_IDS",mv(t.TAG,["URL_INPUT","TEXT_INPUT","CREATE_BTN","CLOSE_BTN","SEARCH_BTN","text_TAB","URL_TAB","PDF_TAB"]));let i=t;e.AddContent=i;const r=class{};Ec(r,"TAG","webhighlights-create-bookmark"),Ec(r,"TEST_IDS",mv(r.TAG,["TITLE_INPUT","URL_INPUT","DESCRIPTION_INPUT","IMAGE"]));let o=r;e.CreateBookmark=o;const n=class{};Ec(n,"TAG","webhighlights-account-info"),Ec(n,"TEST_IDS",{...mv(n.TAG,["ACCOUNT_INFO","USER_NAME","AVATAR","EMAIL","SIGN_UP_CTA_BTN"])});let a=n;e.AccountInfo=a;const s=class{};Ec(s,"TAG","webhighlights-auth"),Ec(s,"TEST_IDS",mv(s.TAG,["AUTH_TYPE_SWITCH_BTN","TOS_PRIVACY_INFO","TITLE"]));let l=s;e.Auth=l;const c=class{};Ec(c,"TAG","webhighlights-avatar"),Ec(c,"TEST_IDS",mv(c.TAG,["POPUP_TOOLBOX"]));let d=c;e.Avatar=d;const u=class{};Ec(u,"TAG","webhighlights-backup-or-sync-prompt"),Ec(u,"TEST_IDS",{...mv(u.TAG,["CTA_BACKUP","CTA_SYNC","BACKUP_INTERVAL_INPUT","DISMISS_CHECKBOX_INPUT"])});let h=u;e.BackupOrSyncPrompt=h;const p=class{};Ec(p,"TAG","webhighlights-blacklisted-urls"),Ec(p,"TEST_IDS",{...mv(p.TAG,["ADD_URL_INPUT","ADD_URL_BTN"]),LIST_ENTRY:e=>`${p.TAG}-LIST_ENTRY_${e}`,INPUT_VALUE:e=>`${p.TAG}-INPUT_VALUE_${e}`,DELETE_BTN:e=>`${p.TAG}-DELETE_BTN_${e}`});let g=p;e.BlacklistesUrls=g;const f=class{};Ec(f,"TAG","webhighlights-cancel-subscription"),Ec(f,"TEST_IDS",{...mv(f.TAG,["STEP_TITLE","STEP_DESCRIPTION","ERROR_MESSAGE","PROCEED_BTN","BACK_BTN","KEEP_SUBSCRIPTION_BTN","CANCEL_NOW_BTN","CLOSE_BUBBLE_BTN","FEEDBACK_TEXTAREA","CHAR_COUNT","LOADING","NO_SUBSCRIPTION_MESSAGE","CONTINUE_CANCEL_BTN","FOUNDER_BUBBLE"]),RADIO_OPTION:e=>`${f.TAG}-RADIO_OPTION-${e}`});let m=f;e.CancelSubscription=m;const b=class{};Ec(b,"TAG","webhighlights-reader"),Ec(b,"TEST_IDS",mv(b.TAG,[]));let y=b;e.Reader=y;const v=class{};Ec(v,"TAG","webhighlights-bookmark-details"),Ec(v,"TEST_IDS",mv(v.TAG,[]));let w=v;e.BookmarkDetails=w;const _=class{};Ec(_,"TAG","webhighlights-bookmark-preview"),Ec(_,"TEST_IDS",mv(_.TAG,["PREVIEW_ITEM"]));let T=_;e.BookmarkPreview=T;const A=class{};Ec(A,"TAG","webhighlights-bookmark-preview-highlights-notes-info"),Ec(A,"TEST_IDS",{...mv(A.TAG,["BADGE_HIGHLIGHTS","BADGE_NOTES"])});let E=A;e.BookmarkPreviewHighlightsNotesInfo=E;const k=class{};Ec(k,"TAG","webhighlights-change-color-mode"),Ec(k,"TEST_IDS",mv(k.TAG,[]));let S=k;e.ChangeColorMode=S;const x=class{};Ec(x,"TAG","webhighlights-chrome-rating-prompt"),Ec(x,"TEST_IDS",{...mv(x.TAG,["DECLINE_BTN","CONFIRM_BTN","CHROME_STORE_LINK"])});let C=x;e.ChromeRatingPrompt=C;const I=class{};Ec(I,"TAG","webhighlights-chrome-settings"),Ec(I,"TEST_IDS",{...mv(I.TAG,[])});let N=I;e.ChromeSettings=N;const D=class{};Ec(D,"TAG","webhighlights-clipboard-button"),Ec(D,"TEST_IDS",mv(D.TAG,[""]));let O=D;e.ClipboardButton=O;const L=class{};Ec(L,"TAG","webhighlights-color-picker"),Ec(L,"TEST_IDS",mv(L.TAG,[""]));let P=L;e.ColorPicker=P;const R=class{};Ec(R,"TAG","webhighlights-datetimepicker"),Ec(R,"TEST_IDS",mv(R.TAG,["PREVIEW_TEXT","DATE_INPUT","HOUR_INPUT","MINUTE_INPUT","CANCEL_BTN","CONFIRM_BTN"]));let M=R;e.DatetimePicker=M;const B=class{};Ec(B,"TAG","webhighlights-dialog"),Ec(B,"TEST_IDS",{...mv(B.TAG,[])});let U=B;e.Dialog=U;const $=class{};Ec($,"TAG","webhighlights-discount-info"),Ec($,"TEST_IDS",mv($.TAG,["TEXT","AVATAR"]));let G=$;e.DiscountInfo=G;const F=class{};Ec(F,"TAG","webhighlights-dots-menu"),Ec(F,"TEST_IDS",{...mv(F.TAG,["BTN"]),DROPDOWN_ITEM:e=>`${F.TAG}-dropdown-item-${e}`});let H=F;e.DotsMenu=H;const z=class{};Ec(z,"TAG","webhighlights-entity-grid"),Ec(z,"TEST_IDS",mv(z.TAG,[]));let j=z;e.EntityGrid=j;const V=class{};Ec(V,"TAG","webhighlights-expiry-info"),Ec(V,"TEST_IDS",mv(V.TAG,["EXPIRY_INFO","CTA_TEXT","CTA_BTN","BEFORE_MARCH_25_INFO"]));let W=V;e.ExpiryInfo=W;const q=class{};Ec(q,"TAG","webhighlights-fallback-img"),Ec(q,"TEST_IDS",{...mv(q.TAG,[])});let Y=q;e.FallbackImage=Y;const K=class{};Ec(K,"TAG","webhighlights-favicon"),Ec(K,"TEST_IDS",mv(K.TAG,["image"]));let X=K;e.Favicon=X;const J=class{};Ec(J,"TAG","webhighlights-image-with-fallback"),Ec(J,"TEST_IDS",mv(J.TAG,["IMAGE","FALLBACK_IMAGE"]));let Z=J;e.ImageWithFallback=Z;const Q=class{};Ec(Q,"TAG","webhighlights-ai-summary"),Ec(Q,"TEST_IDS",{...mv(Q.TAG,["SKELETON","CONTENT","ERROR","TOOLBAR","TOGGLE_SUMMARY_DETAILS_BTN","SUMMARY_TYPE","DETAILS","AI_SUMMARY_CONTAINER","REGENERATE_SUMMARY_BTN","DELETE_SUMMARY_BTN","AI_SUMMARY_DOTS_MENU","SUMMARY_TYPE_DOTS_MENU","LENGTH_SLIDER"]),SUMMARY_TYPE_OPTION:e=>`${Q.TAG}-SUMMARY_TYPE_OPTION-${e}`});let ee=Q;e.AiSummary=ee;const te=class{};Ec(te,"TAG","webhighlights-ai-chat"),Ec(te,"TEST_IDS",mv(te.TAG,["EMPTY_STATE_UPGRADE_BTN","RESTART_BTN","SEND_MESSAGE_BTN","STOP_STREAMING_BTN","INPUT","SESSION_ERROR"]));let ie=te;e.AiChat=ie;const re=class{};Ec(re,"TAG","webhighlights-ai-summary-btn"),Ec(re,"TEST_IDS",mv(re.TAG,["BTN","TOOLTIP"]));let oe=re;e.AiSummaryBtn=oe;const ne=class{};Ec(ne,"TAG","webhighlights-grid"),Ec(ne,"TEST_IDS",mv(ne.TAG,["PAGES_COUNT_BADGE","HIGHLIGHTS_COUNT_BADGE","SWITCH_TO_HIGHLIGHTS","SWITCH_TO_PAGES","PAGINATION_STEP_BTN","PAGINATION_STEP_PREV_BTN","PAGINATION_STEP_NEXT_BTN","PAGINATION_INFO","EMPTY_STATE"]));let ae=ne;e.Grid=ae;const se=class{};Ec(se,"TAG","webhighlights-grid-toolbar"),Ec(se,"TEST_IDS",mv(se.TAG,[]));let le=se;e.GridToolbar=le;const ce=class{};Ec(ce,"TAG","webhighlights-highlighter-mode-selector"),Ec(ce,"TEST_IDS",{...mv(ce.TAG,[]),HIGHLIGHTER_MODE_OPTION_INPUT:e=>`highlighter-mode-option-input-${e}`,HIGHLIGHTER_MODE_OPTION_CONTAINER:e=>`highlighter-mode-option-container-${e}`});let de=ce;e.HighlighterModeSelector=de;const ue=class{};Ec(ue,"TAG","webhighlights-icon"),Ec(ue,"TEST_IDS",mv(ue.TAG,[""]));let he=ue;e.Icon=he;const pe=class{};Ec(pe,"TAG","webhighlights-image-viewer"),Ec(pe,"TEST_IDS",{...mv(pe.TAG,["IMG","OUTSIDE_CONTAINER"])});let ge=pe;e.ImageViewer=ge;const fe=class{};Ec(fe,"TAG","webhighlights-imprint"),Ec(fe,"TEST_IDS",mv(fe.TAG,[""]));let me=fe;e.Imprint=me;const be=class{};Ec(be,"TAG","webhighlights-invoices"),Ec(be,"TEST_IDS",{...mv(be.TAG,[""])});let ye=be;e.Invoices=ye;const ve=class{};Ec(ve,"TAG","webhighlights-learning-btn"),Ec(ve,"TEST_IDS",mv(ve.TAG,[]));let we=ve;e.LearningBtn=we;const _e=class{};Ec(_e,"TAG","webhighlights-learning-dashboard"),Ec(_e,"TEST_IDS",mv(_e.TAG,["POPOVER","BOOKMARK_DETAILS_POPOVER","CONFIDENCE_MAIN","GO_BACK_BTN","SELECTED_CATEGORY"]));let Te=_e;e.LearningDashboard=Te;const Ae=class{};Ec(Ae,"TAG","webhighlights-learning-reminder"),Ec(Ae,"TEST_IDS",mv(Ae.TAG,["CONTINUE_LEARNING_BTN"]));let Ee=Ae;e.LearningReminder=Ee;const ke=class{};Ec(ke,"TAG","webhighlights-learning-settings"),Ec(ke,"TEST_IDS",{...mv(ke.TAG,["SHOW_TEASER_CHECKBOX"])});let Se=ke;e.LearningSettings=Se;const xe=class{};Ec(xe,"TAG","webhighlights-learning-streak-overview"),Ec(xe,"TEST_IDS",{...mv(xe.TAG,["MAX_STREAK","CURRENT_STREAK","DAYS_LEARNT"]),DAY_CHECK_ICON:e=>`${xe.TAG}-DAY_CHECK_ICON-${e}`});let Ce=xe;e.LearningStreakOverview=Ce;const Ie=class{};Ec(Ie,"TAG","webhighlights-legal-footer"),Ec(Ie,"TEST_IDS",mv(Ie.TAG,["FAQ_LINK","BLOG_LINK","TOS_LINK","PRIVACY_LINK","IMPRINT_LINK","COOKIE_LINK"]));let Ne=Ie;e.LegalFooter=Ne;const De=class{};Ec(De,"TAG","webhighlights-like-button"),Ec(De,"TEST_IDS",{...mv(De.TAG,["INPUT_CHECKBOX"])});let Oe=De;e.LikeButton=Oe;const Le=class{};Ec(Le,"TAG","webhighlights-link-preview"),Ec(Le,"TEST_IDS",mv(Le.TAG,["TITLE","URL","DESCRIPTION","IMAGE"]));let Pe=Le;e.LinkPreview=Pe;const Re=class{};Ec(Re,"TAG","webhighlights-loading"),Ec(Re,"TEST_IDS",mv(Re.TAG,[]));let Me=Re;e.Loading=Me;const Be=class{};Ec(Be,"TAG","webhighlights-loading-text"),Ec(Be,"TEST_IDS",mv(Be.TAG,[""]));let Ue=Be;e.LoadingText=Ue;const $e=class{};Ec($e,"TAG","webhighlights-lobby-container"),Ec($e,"TEST_IDS",mv($e.TAG,[""]));let Ge=$e;e.LobbyContainer=Ge;const Fe=class{};Ec(Fe,"TAG","webhighlights-lobby-container-extension"),Ec(Fe,"TEST_IDS",mv(Fe.TAG,[""]));let He=Fe;e.LobbyContainerExtension=He;const ze=class{};Ec(ze,"TAG","webhighlights-logo"),Ec(ze,"TEST_IDS",mv(ze.TAG,[]));let je=ze;e.Logo=je;const Ve=class{};Ec(Ve,"TAG","webhighlights-logo-animated"),Ec(Ve,"TEST_IDS",mv(Ve.TAG,[""]));let We=Ve;e.LogoAnimated=We;const qe=class{};Ec(qe,"TAG","webhighlights-mark-blockquotes-teaser"),Ec(qe,"TEST_IDS",mv(qe.TAG,[""]));let Ye=qe;e.MarkBlockQuotesTeaser=Ye;const Ke=class{};Ec(Ke,"TAG","webhighlights-mark-element"),Ec(Ke,"TEST_IDS",mv(Ke.TAG,["TOOLBAR","RICH_EDITOR","TAGS","CONTAINER"]));let Xe=Ke;e.MarkElement=Xe;const Je=class{static preload(){xv([this.TAG,he.TAG,P.TAG,O.TAG,at.TAG])}};Ec(Je,"TAG","webhighlights-mark-element-toolbar"),Ec(Je,"TEST_IDS",mv(Je.TAG,["CONTAINER","TOGGLE_NOTES_BTN","TOGGLE_TAGS_BTN","COLOR_PICKER","COPY_BTN","DELETE_BTN","TOGGLE_SIDEBAR_BTN","OPEN_MEDIA_TYPE_DROPDOWN_BTN"]));let Ze=Je;e.MarkElementToolbar=Ze;const Qe=class{};Ec(Qe,"TAG","webhighlights-mark-media-item"),Ec(Qe,"TEST_IDS",{...mv(Qe.TAG,["DELETE_BTN","EXPAND_IMG"])});let et=Qe;e.MarkMediaItem=et;const tt=class{};Ec(tt,"TAG","webhighlights-mark-preview"),Ec(tt,"TEST_IDS",mv(tt.TAG,[]));let it=tt;e.MarkPreview=it;const rt=class{};Ec(rt,"TAG","webhighlights-media-type-dropdown"),Ec(rt,"TEST_IDS",{...mv(rt.TAG,[])});let ot=rt;e.MediaTypeDropdown=ot;const nt=class{};Ec(nt,"TAG","webhighlights-media-type-dropdown-item"),Ec(nt,"TEST_IDS",{...mv(nt.TAG,[]),HIGHLIGHT_BTN:e=>`${nt.TAG}_DROPDOWN_ITEM-${e}`});let at=nt;e.MediaTypeDropdownItem=at;const st=class{};Ec(st,"TAG","webhighlights-media-type-menu"),Ec(st,"TEST_IDS",{...mv(st.TAG,["ENABLE_MODE_OVERLAY","ENABLE_MODE_BTN"]),HIGHLIGHT_BTN:e=>`${st.TAG}_HIGHLIGHT_BTN-${e}`});let lt=st;e.MediaTypeMenu=lt;const ct=class{};Ec(ct,"TAG","webhighlights-modal"),Ec(ct,"TEST_IDS",mv(ct.TAG,["CONTAINER","CLOSE_BTN"]));let dt=ct;e.Modal=dt;const ut=class{};Ec(ut,"TAG","webhighlights-notes-editor"),Ec(ut,"TEST_IDS",{...mv(ut.TAG,["NOTES_CONTAINER"])});let ht=ut;e.NotesEditor=ht;const pt=class{};Ec(pt,"TAG","webhighlights-notifications-btn"),Ec(pt,"TEST_IDS",mv(pt.TAG,["BTN","BADGE"]));let gt=pt;e.NotificationsBtn=gt;const ft=class{};Ec(ft,"TAG","webhighlights-notifications-list"),Ec(ft,"TEST_IDS",mv(ft.TAG,[]));let mt=ft;e.NotificationsList=mt;const bt=class{};Ec(bt,"TAG","webhighlights-payment-method"),Ec(bt,"TEST_IDS",{...mv(bt.TAG,[""])});let yt=bt;e.PaymentMethod=yt;const vt=class{};Ec(vt,"TAG","webhighlights-pdf-hint"),Ec(vt,"TEST_IDS",mv(vt.TAG,[]));let wt=vt;e.PdfHint=wt;const _t=class{};Ec(_t,"TAG","webhighlights-popover"),Ec(_t,"TEST_IDS",{...mv(_t.TAG,["CLOSE_BTN"])});let Tt=_t;e.Popover=Tt;const At=class{};Ec(At,"TAG","webhighlights-premium-benefits"),Ec(At,"TEST_IDS",{...mv(At.TAG,[""])});let Et=At;e.PremiumBenefits=Et;const kt=class{};Ec(kt,"TAG","webhighlights-pricing"),Ec(kt,"TEST_IDS",mv(kt.TAG,["SWITCH_TO_YEARLY_BTN","SWITCH_TO_MONTHLY_BTN","SWITCH_TO_LIFETIME","YEARLY_SAVE_INFO"]));let St=kt;e.Pricing=St;const xt=class{};Ec(xt,"TAG","webhighlights-privacy-policy"),Ec(xt,"TEST_IDS",mv(xt.TAG,[""]));let Ct=xt;e.PrivacyPolicy=Ct;const It=class{};Ec(It,"TAG","webhighlights-recent-colors"),Ec(It,"TEST_IDS",mv(It.TAG,[""]));let Nt=It;e.RecentColors=Nt;const Dt=class{};Ec(Dt,"TAG","webhighlights-reminder"),Ec(Dt,"TEST_IDS",mv(Dt.TAG,["SNOOZE_BTN","CLOCK_ICON","DOTS_MENU","LABEL","LOADING","DELETE_BTN"]));let Ot=Dt;e.Reminder=Ot;const Lt=class{};Ec(Lt,"TAG","webhighlights-reset-password"),Ec(Lt,"TEST_IDS",{...mv(Lt.TAG,["NEW_PASSWORD_INPUT","SUBMIT_BTN","ERROR_MSG","SUCCESSS_MSG"])});let Pt=Lt;e.ResetPassword=Pt;const Rt=class{};Ec(Rt,"TAG","webhighlights-search"),Ec(Rt,"TEST_IDS",{...mv(Rt.TAG,["LOADING","SEARCH_ENTITY","NO_RESULTS_INFO"]),SEARCH_TYPE_FILTER:e=>`SEARCH_TYPE_FILTER_${Rt.TAG}-${e}`});let Mt=Rt;e.Search=Mt;const Bt=class{};Ec(Bt,"TAG","webhighlights-searchbar"),Ec(Bt,"TEST_IDS",{...mv(Bt.TAG,["INPUT","SUBMIT_BTN","CLEAR_BTN","CANCEL_BTN"])});let Ut=Bt;e.SearchBar=Ut;const $t=class{};Ec($t,"TAG","webhighlights-settings"),Ec($t,"TEST_IDS",{...mv($t.TAG,["ACCOUNT_INFO"]),VIEW_BTN:e=>`${$t.TAG}_${e}-VIEW_BTN`});let Gt=$t;e.Settings=Gt;const Ft=class{};Ec(Ft,"TAG","webhighlights-share-button"),Ec(Ft,"TEST_IDS",{...mv(Ft.TAG,["SHARE_BUTTON","UNSHARE_BUTTON","CONTAINER","SOCIAL_CONTAINER","SOCIAL_FACEBOOK","SOCIAL_LINKEDIN","SOCIAL_TWITTER","SHARE_TO_FEED_CHECKBOX"])});let Ht=Ft;e.ShareButton=Ht;const zt=class{};Ec(zt,"TAG","webhighlights-share-social"),Ec(zt,"TEST_IDS",mv(zt.TAG,[""]));let jt=zt;e.ShareSocial=jt;const Vt=class{};Ec(Vt,"TAG","webhighlights-shortcut"),Ec(Vt,"TEST_IDS",mv(Vt.TAG,[""]));let Wt=Vt;e.Shortcut=Wt;const qt=class{};Ec(qt,"TAG","webhighlights-sign-up-prompt"),Ec(qt,"TEST_IDS",{...mv(qt.TAG,["CTA","CANCEL_BTN"])});let Yt=qt;e.SignUpPrompt=Yt;const Kt=class{};Ec(Kt,"TAG","webhighlights-sync-indicator"),Ec(Kt,"CLASSES",{hasTooLargeEntities:"has-too-large-payload-entities"}),Ec(Kt,"TEST_IDS",mv(Kt.TAG,["SYNC_BTN","UNSYNCED_ENTITIES_BADGE","TOOLTIP","SYNC_PROGRESS_INFO","CLOUD_OFF_ICON","CLOUD_CHECK_ICON","UPDATING_LOADING_SPINNER"]));let Xt=Kt;e.SyncIndicator=Xt;const Jt=class{};Ec(Jt,"TAG","webhighlights-tag"),Ec(Jt,"TEST_IDS",{...mv(Jt.TAG,["DELETE_BTN","BADGE","SELECT_BTN"])});let Zt=Jt;e.Tag=Zt;const Qt=class{};Ec(Qt,"TAG","webhighlights-tags"),Ec(Qt,"TEST_IDS",{...mv(Qt.TAG,["INPUT","EXISTING_TAG"])});let ei=Qt;e.Tags=ei;const ti=class{};Ec(ti,"TAG","webhighlights-terms-of-service"),Ec(ti,"TEST_IDS",mv(ti.TAG,[""]));let ii=ti;e.TermsOfService=ii;const ri=class{};Ec(ri,"TAG","webhighlights-testimonial-item"),Ec(ri,"TEST_IDS",{...mv(ri.TAG,[])});let oi=ri;e.TestimonialItem=oi;const ni=class{};Ec(ni,"TAG","webhighlights-testimonials-grid"),Ec(ni,"TEST_IDS",{...mv(ni.TAG,[])});let ai=ni;e.TestimonialsGrid=ai;const si=class{};Ec(si,"TAG","webhighlights-toasts"),Ec(si,"TEST_IDS",mv(si.TAG,[""]));let li=si;e.Toasts=li;const ci=class{};Ec(ci,"TAG","webhighlights-toggle-button"),Ec(ci,"TEST_IDS",mv(ci.TAG,[""]));let di=ci;e.ToggleButton=di;const ui=class{};Ec(ui,"TAG","webhighlights-tooltip"),Ec(ui,"TEST_IDS",mv(ui.TAG,[""]));let hi=ui;e.Tooltip=hi;const pi=class{};Ec(pi,"TAG","webhighlights-upgrade-deal-prompt"),Ec(pi,"TEST_IDS",{...mv(pi.TAG,["CTA","CANCEL_BTN"])});let gi=pi;e.UpgradeDealPrompt=gi;const fi=class{};Ec(fi,"TAG","webhighlights-upgrade-needed"),Ec(fi,"TEST_IDS",{...mv(fi.TAG,["CTA_BTN","HEADLINE"])});let mi=fi;e.UpgradeNeeded=mi;const bi=class{};Ec(bi,"TAG","webhighlights-marker"),Ec(bi,"TEST_IDS",mv(bi.TAG,["POPUP_TOOLBOX"]));let yi=bi;e.Marker=yi;class vi{}Ec(vi,"TAG","webhighlights-popup-toolbox"),Ec(vi,"TEST_IDS",{}),e.PopupToolbox=vi;const wi=class{};Ec(wi,"TAG","webhighlights-sidebar"),Ec(wi,"TEST_IDS",mv(wi.TAG,["MAIN_COMPONENT"]));let _i=wi;e.Sidebar=_i;const Ti=class{};Ec(Ti,"TAG","webhighlights-page-content-preview"),Ec(Ti,"TEST_IDS",mv(Ti.TAG,["OPEN_IN_READER_BUTTON","SKELETON","CONTENT_MISSING_TITLE"]));let Ai=Ti;e.PageContentPreview=Ai;const Ei=class{};Ec(Ei,"TAG","webhighlights-documents-list"),Ec(Ei,"TEST_IDS",mv(Ei.TAG,["DOCUMENT_ITEM","DOCUMENT_DOWNLOAD_BUTTON","DOCUMENT_URL","STORAGE_USAGE_TEXT","GET_MORE_STORAGE_BTN","AUTO_DOWNLOAD_ALERT_ICON","DOCUMENT_DELETE_BUTTON"]));let ki=Ei;e.DocumentsList=ki;const Si=class{};Ec(Si,"TAG","webhighlights-delete-entity-list"),Ec(Si,"TEST_IDS",mv(Si.TAG,["ENTITY_URL","DELETE_ENTITY_BTN","DELETE_ALL_ENTITIES_BTN"]));let xi=Si;e.DeleteEntityList=xi;const Ci=class{};Ec(Ci,"TAG","webhighlights-dropdown"),Ec(Ci,"TEST_IDS",{...mv(Ci.TAG,["TRIGGER","CONTENT"])});let Ii=Ci;e.Dropdown=Ii;const Ni=class{};Ec(Ni,"TAG","webhighlights-spread-the-word-prompt"),Ec(Ni,"TEST_IDS",mv(Ni.TAG,["CTA","CANCEL_BTN","EMAIL_INPUT","URL_INPUT","LINKED_IN_SHARE_BTN","X_SHARE_BTN","FACEBOOK_SHARE_BTN","CLOSE_BTN","JOIN_GIVEAWAY_BTN","NO_THANKS_BTN","DONE_CONTAINER","POST_URL","WINNER_CHANCE_INFO","INPUT_ERROR"]));let Di=Ni;e.SpreadTheWordPrompt=Di;const Oi=class{};Ec(Oi,"TAG","webhighlights-skeleton"),Ec(Oi,"TEST_IDS",mv(Oi.TAG,["CONTAINER"]));let Li=Oi;e.Skeleton=Li;const Pi=class{};Ec(Pi,"TAG","webhighlights-youtube-loading"),Ec(Pi,"TEST_IDS",mv(Pi.TAG,["LOADING_TEXT"]));let Ri=Pi;e.YoutubeLoading=Ri})(Sv||(Sv={}));const Nv=mv("webhighlights-bookmark-preview-item",["FAVICON","IMAGE","TITLE","DESCRIPTION","URL"]);var Dv,Ov;(e=>{const t=class{};Ec(t,"TAG","webhighlights-ai-chat-message"),Ec(t,"TEST_IDS",mv(t.TAG,[]));let i=t;e.AiChatMessageComponent=i;const r=class{};Ec(r,"TAG","webhighlights-ai-chat-empty-state"),Ec(r,"TEST_IDS",mv(r.TAG,["UPGRADE_BTN","SUB_TEXT"]));let o=r;e.AiChatEmptyState=o;const n=class{};Ec(n,"TAG","webhighlights-bookmark-details-dots-menu"),Ec(n,"TEST_IDS",mv(n.TAG,[]));let a=n;e.BookmarkDetailsDotsMenu=a;const s=class{};Ec(s,"TAG","webhighlights-add-content-btn"),Ec(s,"TEST_IDS",mv(s.TAG,["ADD_CONTENT_BTN"]));let l=s;e.AddContentBtn=l;const c=class{};Ec(c,"TAG","webhighlights-bookmark-details-preview"),Ec(c,"TEST_IDS",{...mv(c.TAG,["URL_LINK","IMAGE","TITLE_INPUT","DESCRIPTION_INPUT","TOGGLE_BOOKMARK_BTN","OPEN_APP_BTN","OPEN_PAGE_BTN","REMINDER","DOTS_MENU","SHARE_BTN"]),INTEGRATION_LINK:e=>`INTEGRATION_LINK-${e}`});let d=c;e.BookmarkDetailsPreview=d;const u=class{};Ec(u,"TAG","webhighlights-bookmark-details-sub-toolbar"),Ec(u,"TEST_IDS",{...mv(u.TAG,["TAGS","AI_SUMMARY","SHARE_BTN"]),INTEGRATION_LINK:e=>`INTEGRATION_LINK-${e}`});let h=u;e.BookmarkDetailsSubToolbar=h;const p=class{};Ec(p,"TAG","webhighlights-toast"),Ec(p,"TEST_IDS",mv(p.TAG,["CONTAINER","VARIANT_ICON","CONTENT","CLOSE_BTN","CTA_BTN"]));let g=p;e.Toast=g;const f=class{};Ec(f,"TAG","webhighlights-backup-export-btn"),Ec(f,"TEST_IDS",{...mv(f.TAG,["LOADING","DOWNLOAD_ANCHOR_ELEMENT","EXPORT_BTN"])});let m=f;e.BackupExportBtn=m;const b=class{};Ec(b,"TAG","webhighlights-backup-import"),Ec(b,"TEST_IDS",{...mv(b.TAG,["IMPORT_BTN","UPLOADED_BACKUP_FILE_INFO","CHOOSE_FILE_BTN","FILE_INPUT","IMPORT_BTN","KEEP_EXISTING_DATA_CHECKBOX"])});let y=b;e.BackupImport=y;const v=class{};Ec(v,"TAG","webhighlights-bookmark-details-grid"),Ec(v,"TEST_IDS",mv(v.TAG,["EMPTY_STATE"]));let w=v;e.BookmarkDetailsGrid=w;const _=class{};Ec(_,"TAG","webhighlights-bookmark-details-main"),Ec(_,"TEST_IDS",mv(_.TAG,["NOTEBOOK_TAB","READER_TAB","AI_CHAT_TAB"]));let T=_;e.BookmarkDetailsMain=T;const A=class{};Ec(A,"TAG","webhighlights-bookmark-preview-grid"),Ec(A,"TEST_IDS",{...Nv,...mv(A.TAG,[])});let E=A;e.BookmarkPreviewGrid=E;const k=class{};Ec(k,"TAG","webhighlights-bookmark-preview-list"),Ec(k,"TEST_IDS",{...Nv,...mv(k.TAG,[])});let S=k;e.BookmarkPreviewList=S;const x=class{};Ec(x,"TAG","webhighlights-bookmark-preview-tags"),Ec(x,"TEST_IDS",{...mv(x.TAG,[""])});let C=x;e.BookmarkPreviewTags=C;const I=class{};Ec(I,"TAG","webhighlights-capacities-api-integration"),Ec(I,"TEST_IDS",{...mv(I.TAG,["TOKEN_INPUT"])});let N=I;e.CapacitiesApiIntegration=N;const D=class{};Ec(D,"TAG","webhighlights-change-password-form"),Ec(D,"TEST_IDS",{...mv(D.TAG,["OLD_PASSWORD","NEW_PASSWORD","SUBMIT_BTN","ERROR_MSG","SUCCESSS_MSG"])});let O=D;e.ChangePasswordForm=O;const L=class{};Ec(L,"TAG","webhighlights-color-tile"),Ec(L,"TEST_IDS",mv(L.TAG,[""]));let P=L;e.ColorTile=P;const R=class{};Ec(R,"TAG","webhighlights-forgot-password"),Ec(R,"TEST_IDS",mv(R.TAG,[""]));let M=R;e.ForgotPassword=M;const B=class{};Ec(B,"TAG","webhighlights-forgot-password-form"),Ec(B,"TEST_IDS",{...mv(B.TAG,["EMAIL","GO_BACK_BTN","SUBMIT_BTN","ERROR_MSG","SUCCESSS_MSG"])});let U=B;e.ForgotPasswordForm=U;const $=class{};Ec($,"TAG","webhighlights-google-sign-in"),Ec($,"TEST_IDS",mv($.TAG,[""]));let G=$;e.GoogleSignIn=G;const F=class{};Ec(F,"TAG","webhighlights-grid-filters"),Ec(F,"TEST_IDS",mv(F.TAG,["FILTER_TAG"]));let H=F;e.GridFilters=H;const z=class{};Ec(z,"TAG","webhighlights-grid-toolbar-selector"),Ec(z,"TEST_IDS",mv(z.TAG,[]));let j=z;e.GridToolbarSelector=j;const V=class{};Ec(V,"TAG","webhighlights-learning-categories"),Ec(V,"TEST_IDS",mv(V.TAG,["CATEGORY_CARD"]));let W=V;e.LearningCategories=W;const q=class{};Ec(q,"TAG","webhighlights-learning-confidence"),Ec(q,"TEST_IDS",mv(q.TAG,["CONFIDENCE"]));let Y=q;e.LearningConfidence=Y;const K=class{};Ec(K,"TAG","webhighlights-learning-confidence-bar"),Ec(K,"TEST_IDS",mv(K.TAG,[]));let X=K;e.LearningConfidenceBar=X;const J=class{};Ec(J,"TAG","webhighlights-learning-marks-list"),Ec(J,"TEST_IDS",mv(J.TAG,["MARK_LIST_ITEM","MARK_LIST_ITEM_HEADER_ROW","MARK_LIST_ITEM_TEXT","UN_DISCARD_BTN","DISCARD_BTN"]));let Z=J;e.LearningMarksList=Z;const Q=class{};Ec(Q,"TAG","webhighlights-learning-pagination"),Ec(Q,"TEST_IDS",mv(Q.TAG,["PAGINATION_INFO","PAGINATION_PREV_BTN","PAGINATION_NEXT_BTN"]));let ee=Q;e.LearningPagination=ee;const te=class{};Ec(te,"TAG","webhighlights-learning-schedule"),Ec(te,"TEST_IDS",mv(te.TAG,["LEARNED_YESTERDAY_COUNT","LEARNED_TODAY_COUNT","DUE_TOMORROW_COUNT","TODAY_LEARN_BTN"]));let ie=te;e.LearningSchedule=ie;const re=class{};Ec(re,"TAG","webhighlights-learning-session"),Ec(re,"TEST_IDS",mv(re.TAG,["CURRENT_CARD_INFO"]));let oe=re;e.LearningSession=oe;const ne=class{};Ec(ne,"TAG","webhighlights-learning-session-card"),Ec(ne,"TEST_IDS",mv(ne.TAG,["KNOW_IT_BTN","DONT_KNOW_IT_BTN","DISCARD_BTN"]));let ae=ne;e.LearningSessionCard=ae;const se=class{};Ec(se,"TAG","webhighlights-learning-session-result"),Ec(se,"TEST_IDS",mv(se.TAG,["CONTINUE_LEARNING_BTN","KNOWN_CARDS_COUNT","NOT_KNOWN_CARDS_COUNT","DISCARDED_CARDS_COUNT","STREAK_FIGURE","STREAK_TEXT","TOTAL_CARDS_COUNT","GO_TO_DASHBOARD_BTN"]));let le=se;e.LearningSessionResult=le;const ce=class{};Ec(ce,"TAG","webhighlights-learning-status"),Ec(ce,"TEST_IDS",{...mv(ce.TAG,[]),ROW:e=>`${ce.TAG}-ROW-${e.split(" ").join("-")}`,COUNT:e=>`${ce.TAG}-COUNT-${e.split(" ").join("-")}`,COUNT_RELATIVE:e=>`${ce.TAG}-PROGRESS-${e.split(" ").join("-")}`});let de=ce;e.LearningStatus=de;const ue=class{};Ec(ue,"TAG","webhighlights-mark-preview-list"),Ec(ue,"TEST_IDS",mv(ue.TAG,["URL"]));let he=ue;e.MarkPreviewList=he;const pe=class{};Ec(pe,"TAG","webhighlights-notifications-list-item"),Ec(pe,"TEST_IDS",mv(pe.TAG,["TITLE","CTA_LINK"]));let ge=pe;e.NotificationsListItem=ge;const fe=class{};Ec(fe,"TAG","webhighlights-notion-api-integration"),Ec(fe,"TEST_IDS",{...mv(fe.TAG,["AUTHORIZE_LINK"])});let me=fe;e.NotionApiIntegration=me;const be=class{};Ec(be,"TAG","webhighlights-price"),Ec(be,"TEST_IDS",mv(be.TAG,["PRICE","INTERVAL_INFO","HINT"]));let ye=be;e.Price=ye;const ve=class{};Ec(ve,"TAG","webhighlights-pricing-plan-container"),Ec(ve,"TEST_IDS",{...mv(ve.TAG,["HEADLINE","FEATURE_LIST"]),CHECKOUT_BTN:e=>`${ve.TAG}-${e}_BTN`,CONTAINER:e=>`${ve.TAG}-${e}`});let we=ve;e.PricingPlanContainer=we;const _e=class{};Ec(_e,"TAG","webhighlights-search-entity"),Ec(_e,"TEST_IDS",{...mv(_e.TAG,["CONTAINER","SEARCH_TYPE_INDICATOR","SEARCH_ENTITY_CONTENT","SEARCH_ENTITY_DETAILS","SEARCH_ENTITY_DATE","SEARCH_ENTITY_URL"]),SEARCH_TYPE_INDICATOR:e=>`SEARCH_TYPE_INDICATOR_${_e.TAG}-${e}`});let Te=_e;e.SearchEntity=Te;const Ae=class{};Ec(Ae,"TAG","webhighlights-share-link"),Ec(Ae,"TEST_IDS",{...mv(Ae.TAG,["INPUT","COPY_BTN"])});let Ee=Ae;e.ShareLink=Ee;const ke=class{};Ec(ke,"TAG","webhighlights-sign-in-form"),Ec(ke,"TEST_IDS",{...mv(ke.TAG,["EMAIL","PASSWORD","PASSWORD_2","SIGN_IN_BTN","GOOGLE_SIGN_IN","ERROR_MSG","RESEND_EMAIL_BTN","FORGOT_PASSWORD_BTN"])});let Se=ke;e.SignInForm=Se;const xe=class{};Ec(xe,"TAG","webhighlights-sign-up"),Ec(xe,"TEST_IDS",{...mv(xe.TAG,["EMAIL","PASSWORD_1","PASSWORD_2","PRIVACY_CHECKBOX","SIGN_UP_BTN","GOOGLE_SIGN_UP","ERROR_MSG"])});let Ce=xe;e.SignUp=Ce;const Ie=class{};Ec(Ie,"TAG","webhighlights-sign-up-form"),Ec(Ie,"TEST_IDS",{...mv(Ie.TAG,["EMAIL","PASSWORD","PASSWORD_1","PASSWORD_2","PRIVACY_CHECKBOX","SIGN_UP_BTN","GOOGLE_SIGN_UP","ERROR_MSG"])});let Ne=Ie;e.SignUpForm=Ne;const De=class{};Ec(De,"TAG","webhighlights-social-auth"),Ec(De,"TEST_IDS",{...mv(De.TAG,["GOOGLE_AUTH_BTN"])});let Oe=De;e.SocialAuth=Oe;const Le=class{};Ec(Le,"TAG","webhighlights-settings-account"),Ec(Le,"TEST_IDS",{...mv(Le.TAG,["CHANGE_PASSWORD_BTN","EMAIL_ADDRESS","DELETE_ACCOUNT_BTN","LOGOUT_BTN","LINKED_ACCOUNT_LABEL"])});let Pe=Le;e.SettingsAccount=Pe;const Re=class{};Ec(Re,"TAG","webhighlights-settings-backup"),Ec(Re,"TEST_IDS",{...mv(Re.TAG,[""])});let Me=Re;e.SettingsBackup=Me;const Be=class{};Ec(Be,"TAG","webhighlights-settings-billing"),Ec(Be,"TEST_IDS",{...mv(Be.TAG,["CURRENT_PLAN_INFO","CHANGE_PAYMENT_METHOD_LINK","USERPLAN_INFO","EXPIRY_INFO","CANCEL_NOW_BTN"])});let Ue=Be;e.SettingsBilling=Ue;const $e=class{};Ec($e,"TAG","webhighlights-settings-integrations"),Ec($e,"TEST_IDS",{...mv($e.TAG,[]),INTEGRATION_ITEM:e=>`${$e.TAG}INTEGRATION_ITEM-${e}`});let Ge=$e;e.SettingsIntegrations=Ge;const Fe=class{};Ec(Fe,"TAG","webhighlights-settings-integration-item"),Ec(Fe,"TEST_IDS",{...mv(Fe.TAG,[])});let He=Fe;e.SettingsIntegrationItem=He;const ze=class{};Ec(ze,"TAG","webhighlights-settings-integration-preview"),Ec(ze,"TEST_IDS",{...mv(ze.TAG,[])});let je=ze;e.SettingsIntegrationPreview=je;const Ve=class{};Ec(Ve,"TAG","webhighlights-settings-notifications"),Ec(Ve,"TEST_IDS",{...mv(Ve.TAG,["BACKUP_INTERVAL_INPUT"])});let We=Ve;e.SettingsNotifications=We;const qe=class{};Ec(qe,"TAG","webhighlights-settings-documents"),Ec(qe,"TEST_IDS",{...mv(qe.TAG,[""])});let Ye=qe;e.SettingsDocuments=Ye;const Ke=class{};Ec(Ke,"TAG","webhighlights-settings-settings"),Ec(Ke,"TEST_IDS",{...mv(Ke.TAG,[""])});let Xe=Ke;e.SettingsSettings=Xe;const Je=class{};Ec(Je,"TAG","webhighlights-sign-in"),Ec(Je,"TEST_IDS",{...mv(Je.TAG,["EMAIL","PASSWORD","PASSWORD_2","SIGN_IN_BTN","GOOGLE_SIGN_IN","ERROR_MSG","RESEND_EMAIL_BTN"])});let Ze=Je;e.SignIn=Ze;const Qe=class{};Ec(Qe,"TAG","webhighlights-tag-suggestions"),Ec(Qe,"TEST_IDS",{...mv(Qe.TAG,["SUGGESTION_TAG","PREVIEW_TAG"])});let et=Qe;e.TagSuggestions=et;const tt=class{};Ec(tt,"TAG","webhighlights-file-import"),Ec(tt,"TEST_IDS",{...mv(tt.TAG,["FILE_INPUT","UPLOADED_FILE_INFO","CHOOSE_FILE_BTN","IMPORT_BTN"])});let it=tt;e.FileImport=it;const rt=class{};Ec(rt,"TAG","webhighlights-highlighter"),Ec(rt,"TEST_IDS",mv(rt.TAG,["HIGHLIGHT_BTN","HIGHLIGHT_ICON","HIDE_POPUP_BTN","HIDE_POPUP_ALWAYS","HIDE_POPUP_UNTIL_NEXT_VISIT","HIDE_POPUP_ON_CURRENT_WEBSITE"]));let ot=rt;e.Highlighter=ot;const nt=class{};Ec(nt,"TAG","webhighlights-reader-content"),Ec(nt,"TEST_IDS",mv(nt.TAG,[])),Ec(nt,"EVENTS",{READY:`${nt.TAG}-ready`});let at=nt;e.ReaderContent=at;const st=class{};Ec(st,"TAG","webhighlights-youtube-player"),Ec(st,"TEST_IDS",mv(st.TAG,[]));let lt=st;e.YoutubePlayer=lt;const ct=class{};Ec(ct,"TAG","webhighlights-youtube-transcript"),Ec(ct,"TEST_IDS",mv(ct.TAG,[]));let dt=ct;e.YoutubeTranscript=dt;const ut=class{};Ec(ut,"TAG","webhighlights-reader-controls"),Ec(ut,"TEST_IDS",{...mv(ut.TAG,["TOGGLE_SIDEBAR_BTN","FONT_SIZE_BTN_PLUS","FONT_SIZE_BTN_MINUS","CHANGE_COLOR_MODE_BTN","LINE_HEIGHT_BTN_PLUS","LINE_HEIGHT_BTN_MINUS","LAYOUT_WIDTH_BTN_PLUS","LAYOUT_WIDTH_BTN_MINUS","TEXT_LAYOUT_BTN","COLOR_MODE_DROPDOWN","ADD_CONTENT_BTN","PLAY_PAUSE_BTN"]),COLOR_MODE_BTN:e=>`COLOR_MODE_BTN_${ut.TAG}-${e}`});let ht=ut;e.ReaderControls=ht;const pt=class{};Ec(pt,"TAG","webhighlights-reader-control-dropdown"),Ec(pt,"TEST_IDS",mv(pt.TAG,[]));let gt=pt;e.ReaderControlDropdown=gt;const ft=class{};Ec(ft,"TAG","webhighlights-popup-toolbox-menu"),Ec(ft,"TEST_IDS",mv(ft.TAG,["MENU_CONTAINER","MARK_ELEMENT_TOOLBAR"]));let mt=ft;e.PopupToolboxMenu=mt;const bt=class{};Ec(bt,"TAG","webhighlights-action-toolbar"),Ec(bt,"TEST_IDS",mv(bt.TAG,["DELETE_BTN"]));let yt=bt;e.ActionToolbar=yt;const vt=class{};Ec(vt,"TAG","webhighlights-column-resizer"),Ec(vt,"TEST_IDS",mv(vt.TAG,[]));let wt=vt;e.ColumnResizerComponent=wt;const _t=class{};Ec(_t,"TAG","webhighlights-domains-view"),Ec(_t,"TEST_IDS",{...mv(_t.TAG,["SEARCH_INPUT"])});let Tt=_t;e.DomainsView=Tt;const At=class{};Ec(At,"TAG","webhighlights-filtered-overview"),Ec(At,"TEST_IDS",{...mv(At.TAG,["TAGS_CONTAINER","BOOKMARKS_CONTAINER","MARKS_CONTAINER","RELATED_TAGS"])});let Et=At;e.FilteredOverview=Et;const kt=class{};Ec(kt,"TAG","webhighlights-header-toggle"),Ec(kt,"TEST_IDS",{...mv(kt.TAG,["CONTAINER","ACCORDIAN_VIEW_BTN","TAGS_VIEW_BTN","DOMAINS_VIEW_BTN","MARK_VIEW_BTN","SEARCH_BTN"])});let St=kt;e.HeaderToggle=St;const xt=class{};Ec(xt,"TAG","webhighlights-header-toolbox"),Ec(xt,"TEST_IDS",{...mv(xt.TAG,["CONTAINER","NOTIFICATIONS_BTN","NOTIFICATIONS_BADGE"])});let Ct=xt;e.HeaderToolbox=Ct;const It=class{};Ec(It,"TAG","webhighlights-history-view"),Ec(It,"TEST_IDS",{...mv(It.TAG,["SEARCH_INPUT"])});let Nt=It;e.HistoryOverviewView=Nt;const Dt=class{};Ec(Dt,"TAG","webhighlights-main-component"),Ec(Dt,"TEST_IDS",mv(Dt.TAG,["IS_BLACKLISTED_INFO","SIGN_UP_EMPTY_INFO","BOOKMARK_DETAILS","BOOKMARK_DETAILS_POPOVER","POPOVER","EMPTY_STATE_CONTAINER","TOGGLE_SIDEBAR_BTN","BADGE_INDICATOR","RECENTLY_UPDATED_CONTAINER"]));let Ot=Dt;e.MainComponentPage=Ot;const Lt=class{};Ec(Lt,"TAG","webhighlights-mark-badge"),Ec(Lt,"TEST_IDS",mv(Lt.TAG,[]));let Pt=Lt;e.MarkBadge=Pt;const Rt=class{};Ec(Rt,"TAG","webhighlights-overview-empty-state"),Ec(Rt,"TEST_IDS",mv(Rt.TAG,[]));let Mt=Rt;e.MarkOverviewEmptyState=Mt;const Bt=class{};Ec(Bt,"TAG","webhighlights-shortcut-overview"),Ec(Bt,"TEST_IDS",mv(Bt.TAG,[]));let Ut=Bt;e.ShortcutOverview=Ut;const $t=class{};Ec($t,"TAG","webhighlights-sidebar-footer"),Ec($t,"TEST_IDS",mv($t.TAG,["SETTINGS_ICON","LEARN_BTN","SHORTCUT_BTN","LEARN_BTN_BADGE","DASHBOARD_LINK","BLACKLIST_TOGGLE_BTN","UPGRADE_BTN","GIFT_BTN"]));let Gt=$t;e.SidebarFooter=Gt;const Ft=class{};Ec(Ft,"TAG","webhighlights-sidebar-options"),Ec(Ft,"TEST_IDS",mv(Ft.TAG,[]));let Ht=Ft;e.SidebarOptions=Ht;const zt=class{};Ec(zt,"TAG","webhighlights-tags-view"),Ec(zt,"TEST_IDS",{...mv(zt.TAG,["SEARCH_INPUT"])});let jt=zt;e.TagsView=jt;const Vt=class{};Ec(Vt,"TAG","webhighlights-selected-tag-view"),Ec(Vt,"TEST_IDS",{...mv(Vt.TAG,["SELECTED_TAG_INFO"])});let Wt=Vt;e.SelectedTagView=Wt;const qt=class{};Ec(qt,"TAG","webhighlights-selected-domain-view"),Ec(qt,"TEST_IDS",{...mv(qt.TAG,["SELECTED_TAG_INFO"])});let Yt=qt;e.SelectedDomainView=Yt;const Kt=class{};Ec(Kt,"TAG","webhighlights-show-popup-selector"),Ec(Kt,"TEST_IDS",{...mv(Kt.TAG,["HIDE_POPUP_BTN"]),SHOW_POPUP_OPTION:e=>`highlighter-mode-option-input-${e}`,SHOW_POPUP_OPTION_CONTAINER:e=>`highlighter-mode-option-container-${e}`});let Xt=Kt;e.ShowPopupSelector=Xt})(Dv||(Dv={})),(e=>{const t=class{};Ec(t,"TAG","WebsiteLikeBtn"),Ec(t,"TEST_IDS",{...mv(t.TAG,["BTN"])});let i=t;e.WebsiteLikeBtn=i;const r=class{};Ec(r,"TAG","webhighlights-legal-footer"),Ec(r,"TEST_IDS",mv(r.TAG,["FAQ_LINK","BLOG_LINK","TOS_LINK","PRIVACY_LINK","IMPRINT_LINK","COOKIE_LINK","TOOLS_LINK"]));let o=r;e.WebsiteFooter=o;const n=class{};Ec(n,"TAG","WebsiteNavbar"),Ec(n,"TEST_IDS",{...mv(n.TAG,["BTN"]),NAV_ITEM_LINK:e=>`NAV_ITEM_LINK-${e}`});let a=n;e.WebsiteNavbar=a;const s=class{};Ec(s,"TAG","WebsiteDiscoverFeed"),Ec(s,"TEST_IDS",{...mv(s.TAG,["BTN"]),FEED_TYPE_LINK:e=>`FEED_TYPE_LINK-${e}`});let l=s;e.WebsiteDiscoverFeed=l;const c=class{};Ec(c,"TAG","WebsitePageNotFound"),Ec(c,"TEST_IDS",{...mv(c.TAG,["CONTAINER","TITLE","DESCRIPTION","LINK"])});let d=c;e.WebsitePageNotFound=d;const u=class{};Ec(u,"TAG","WebsiteLegalDisclaimer"),Ec(u,"TEST_IDS",{...mv(u.TAG,["DISCLAIMER"])});let h=u;e.WebsiteLegalDisclaimer=h;const p=class{};Ec(p,"TAG","AddToBrowserCta"),Ec(p,"TEST_IDS",{...mv(p.TAG,[]),LABEL:e=>`LABEL-${e}`,LINK:e=>`LINK-${e}`});let g=p;e.AddToBrowserCta=g;const f=class{};Ec(f,"TAG","WebsiteFinderTool"),Ec(f,"TEST_IDS",{...mv(f.TAG,["EXAMPLE_WEBSITES","CTA_LINK"])});let m=f;e.WebsiteFinderTool=m;const b=class{};Ec(b,"TAG","ReaderView"),Ec(b,"TEST_IDS",{...mv(b.TAG,[]),INSTALL_CTA_DIALOG:e=>`INSTALL_CTA_DIALOG-${e}`});let y=b;e.ReaderView=y})(Ov||(Ov={}));const Lv="kp-notebook-library",Pv="kp-notebook-library-each-book",Rv="kp-notebook-annotations-pane",Mv="kp-notebook-annotations-asin",Bv="a-color-base-background",Uv="kp-notebook-spinner";function $v(){return!!document.getElementById(Lv)}function Gv(){var e;return(null==(e=document.querySelector(`.${Pv}.${Bv}`))?void 0:e.id)??""}function Fv(){var e,t,i,r;const o=Gv(),n=document.getElementById(o);if(!o||!n)return null;const a=n.querySelector(".kp-notebook-cover-image").src??"",s=n.querySelectorAll(".kp-notebook-searchable");return{asin:o,coverImageUrl:a,coverTitle:(null==(e=s[0])?void 0:e.textContent)??"",author:(null==(r=null==(i=null==(t=s[1])?void 0:t.textContent)?void 0:i.split(":")[1])?void 0:r.trim())??""}}function Hv(){var e,t;if(!$v())return;if(xv([kv.KindleImportHelper.TAG],{lazy:!1}),function(){const e=document.getElementById(Uv);return e&&!!e.style.display&&"none"!==e.style.display}())return void setTimeout(()=>{Hv()},1e3);null==(e=document.querySelector(kv.KindleImportHelper.TAG))||e.remove();const i=null==(t=document.getElementById(Rv))?void 0:t.querySelector(".kp-notebook-row-separator");if(!i)return;i.style.display="flex",i.style.flexWrap="wrap",i.style.justifyContent="space-between",i.style.alignItems="center";const r=document.createElement(kv.KindleImportHelper.TAG);i.prepend(r),zv()}function zv(){document.querySelectorAll(`.${Pv}`).forEach(e=>e.onclick=()=>{setTimeout(()=>{Hv()},0)})}const jv=(e,t={auto:"format",w:"600",fm:"auto"})=>{try{const i=new URL(e);return i.searchParams.set("auto",t.auto),i.searchParams.set("w",t.w),i.searchParams.set("fm",t.fm),i.href}catch{return e}};function Vv(e){var t;return typeof e.notes<"u"?`<div class="notes">${e.notes}</div>`:qv(e)?`<div class="notes">${function(e){try{return e?new $l.Ss(e,{}).convert():""}catch(e){return console.error(e),""}}(null==(t=null==e?void 0:e.richText)?void 0:t.ops)}</div>`:""}function Wv(e){return`${function(e){var t;return e.mediaType===Id.PARAGRAPH?`<p class="media-type-${Id.PARAGRAPH}">${e.text}</p>`:e.mediaType===Id.HEADING_1?`<h1 class="media-type-${Id.HEADING_1}">${e.text}</h1>`:e.mediaType===Id.HEADING_2?`<h2 class="media-type-${Id.HEADING_2}">${e.text}</h2>`:e.mediaType===Id.HEADING_3?`<h3 class="media-type-${Id.HEADING_3}">${e.text}</h3>`:e.mediaType===Id.BULLET_LIST_ITEM?`<li class="media-type-${Id.BULLET_LIST_ITEM}">${e.text}</li>`:e.mediaType===Id.CODE?`<code class="media-type-${Id.CODE}">${e.text.trim()}</code>`:Ud(e)?`<img class="media-type-${Id.IMAGE}" src="${jv(e.imageSrc,{auto:"format",fm:"auto",w:"300"})}" alt="${e.imageAlt??"Highlighted image"}" />`:`<blockquote class="media-type-${Id.BLOCKQUOTE}" style="border-color: ${e.color};">${null==(t=e.text)?void 0:t.trim()}</blockquote>`}(e)}${fw(e.mediaType)?"\n":""}${Vv(e)}`}const qv=e=>{var t,i,r,o,n;return(null==e?void 0:e.richText)&&(e.richText&&(null==(i=null==(t=e.richText)?void 0:t.ops)?void 0:i.length)>1||e.richText&&"\n"!==(null==(n=null==(o=null==(r=e.richText)?void 0:r.ops)?void 0:o[0])?void 0:n.insert))},Yv=e=>!!e&&(null!=e&&e.notes?!(null==e||!e.notes)&&"<p></p>"!==e.notes:!(null==e||!e.richText)&&qv(e));function Kv(e){return e.replaceAll("\n","")}function Xv(e){return e.replaceAll(" ","")}function Jv(e){return"find"in window&&window.find(Kv(e),!1,!0)}const Zv=Kd.WEB_HIGHLIGHT;function Qv(e){return document.body.querySelectorAll(`${Zv}[${ad.markIdAttrKey}="${e}"]`)}function ew(e,t){Qv(e._id).forEach(e=>{gw(e,t)})}function tw(e,t=5){ew(e,Tu(e.color??Dp.defaultHighlightColor,t))}function iw(e){return e||(e=Dp.defaultHighlightColor),kg(location.href)?e:Ou(e)?Bu(e,1):e}function rw(e){ew(e,iw(e.color))}function ow(e){setTimeout(()=>{tw(e,20),setTimeout(()=>{rw(e)},800)},0)}function nw(e,t){e.preventDefault();const i=document.querySelector(`[${ad.markIdAttrKey}="${null==t?void 0:t._id}"]`);i&&(null==i||i.scrollIntoView({behavior:"auto",block:"center"}),setTimeout(()=>{ow(t)},100)),i||aw(t)}function aw(e){var t,i;const r=Jv(e.text),o=()=>BT({content:"Highlight only visible in sidebar",uniqueId:"highlight-only-in-sidebar",variant:"neutral",ctaBtn:{fn:()=>Xg("https://web-highlights.com/blog/why-are-my-highlights-not-visible-on-the-page",!0),text:"Learn More",ariaLabel:"Learn More"}});if(r){const e=null==(i=null==(t=null==window?void 0:window.getSelection())?void 0:t.anchorNode)?void 0:i.parentElement;r&&e?e.scrollIntoView({behavior:"smooth",block:"center"}):o()}else o()}const sw=e=>{const t=e;return(null==t?void 0:t.tagName)===Sv.Tags.TAG.toUpperCase()||(null==t?void 0:t.tagName)===Sv.NotesEditor.TAG.toUpperCase()};async function lw(e,t,i){const r=null==i?void 0:i.composedPath();if(null!=r&&r.some(sw))return;const o=await s_.getBookmark({_id:e._bookmark??""});o?Bk.dispatch("bookmarkSelected",{detail:[o,{location:"bookmark-preview",openAs:"popup",...t.bookmarkSelectionOptions??{},bookmarkProps:{focusedMarkId:e._id}}]}):BT({content:"Could not open the page. Page not found.",variant:"error",uniqueId:"page-not-found"})}function cw(e,t){e.onmouseenter=()=>{tw(t)},e.onmouseleave=()=>{rw(t)}}function dw(e,t){var i;const r=()=>{if(t.color){const i="#0f0f0f";e.style.borderBottomColor=Au(t.color)?i:`${Tu(t.color,20)}`}};"tags"in t&&(null!=(i=null==t?void 0:t.tags)&&i.length?(e.classList.add(ad.CONTAINS_TAGS_CLASS),r()):e.classList.remove(ad.CONTAINS_TAGS_CLASS)),Yv(t)?(e.classList.add(ad.CONTAINS_NOTES_CLASS),r()):e.classList.remove(ad.CONTAINS_NOTES_CLASS)}function uw(e,t){const i=null==e?void 0:e.querySelector(`.${Ev.ImageIndicator.CLASSES.IMAGE_HIGHLIGHT_INDICATOR_CLASS}`);i&&i instanceof HTMLElement&&(i.style.backgroundColor=t)}function hw(e){Qv(e._id).forEach(t=>{pw(t,e)})}function pw(e,t){gw(e,iw(t.color)),cw(e,t),dw(e,t),e.style.cursor="pointer"}function gw(e,t){const i=iw(t);e.style.backgroundColor=i;const r=Au(window.getComputedStyle(e).getPropertyValue("color")),o=Au(i);!o&&!r&&(e.style.color="#000000"),o&&r&&(e.style.color="#ffffff"),uw(e,t)}const fw=e=>({[Id.BULLET_LIST_ITEM]:!1,[Id.BLOCKQUOTE]:!0,[Id.CODE]:!0,[Id.HEADING_1]:!0,[Id.HEADING_2]:!0,[Id.HEADING_3]:!0,[Id.IMAGE]:!0,[Id.PARAGRAPH]:!0}[e??Od]??!0);function mw(e){return e?typeof e.notes<"u"?e.notes:e.richText?Vv(e):"":""}var bw={exports:{}};!function(e){function t(e,t){if(t&&t.documentElement)e=t,t=arguments[2];else if(!e||!e.documentElement)throw new Error("First argument to Readability constructor should be a document object.");if(t=t||{},this._doc=e,this._docJSDOMParser=this._doc.firstChild.__JSDOMParser__,this._articleTitle=null,this._articleByline=null,this._articleDir=null,this._articleSiteName=null,this._attempts=[],this._metadata={},this._debug=!!t.debug,this._maxElemsToParse=t.maxElemsToParse||this.DEFAULT_MAX_ELEMS_TO_PARSE,this._nbTopCandidates=t.nbTopCandidates||this.DEFAULT_N_TOP_CANDIDATES,this._charThreshold=t.charThreshold||this.DEFAULT_CHAR_THRESHOLD,this._classesToPreserve=this.CLASSES_TO_PRESERVE.concat(t.classesToPreserve||[]),this._keepClasses=!!t.keepClasses,this._serializer=t.serializer||function(e){return e.innerHTML},this._disableJSONLD=!!t.disableJSONLD,this._allowedVideoRegex=t.allowedVideoRegex||this.REGEXPS.videos,this._linkDensityModifier=t.linkDensityModifier||0,this._flags=this.FLAG_STRIP_UNLIKELYS|this.FLAG_WEIGHT_CLASSES|this.FLAG_CLEAN_CONDITIONALLY,this._debug){let e=function(e){if(e.nodeType==e.TEXT_NODE)return`${e.nodeName} ("${e.textContent}")`;let t=Array.from(e.attributes||[],function(e){return`${e.name}="${e.value}"`}).join(" ");return`<${e.localName} ${t}>`};this.log=function(){if(typeof console<"u"){let t=Array.from(arguments,t=>t&&t.nodeType==this.ELEMENT_NODE?e(t):t);t.unshift("Reader: (Readability)"),console.log(...t)}else if(typeof dump<"u"){var t=Array.prototype.map.call(arguments,function(t){return t&&t.nodeName?e(t):t}).join(" ");dump("Reader: (Readability) "+t+"\n")}}}else this.log=function(){}}t.prototype={FLAG_STRIP_UNLIKELYS:1,FLAG_WEIGHT_CLASSES:2,FLAG_CLEAN_CONDITIONALLY:4,ELEMENT_NODE:1,TEXT_NODE:3,DEFAULT_MAX_ELEMS_TO_PARSE:0,DEFAULT_N_TOP_CANDIDATES:5,DEFAULT_TAGS_TO_SCORE:"section,h2,h3,h4,h5,h6,p,td,pre".toUpperCase().split(","),DEFAULT_CHAR_THRESHOLD:500,REGEXPS:{unlikelyCandidates:/-ad-|ai2html|banner|breadcrumbs|combx|comment|community|cover-wrap|disqus|extra|footer|gdpr|header|legends|menu|related|remark|replies|rss|shoutbox|sidebar|skyscraper|social|sponsor|supplemental|ad-break|agegate|pagination|pager|popup|yom-remote/i,okMaybeItsACandidate:/and|article|body|column|content|main|shadow/i,positive:/article|body|content|entry|hentry|h-entry|main|page|pagination|post|text|blog|story/i,negative:/-ad-|hidden|^hid$| hid$| hid |^hid |banner|combx|comment|com-|contact|footer|gdpr|masthead|media|meta|outbrain|promo|related|scroll|share|shoutbox|sidebar|skyscraper|sponsor|shopping|tags|widget/i,extraneous:/print|archive|comment|discuss|e[\-]?mail|share|reply|all|login|sign|single|utility/i,byline:/byline|author|dateline|writtenby|p-author/i,replaceFonts:/<(\/?)font[^>]*>/gi,normalize:/\s{2,}/g,videos:/\/\/(www\.)?((dailymotion|youtube|youtube-nocookie|player\.vimeo|v\.qq)\.com|(archive|upload\.wikimedia)\.org|player\.twitch\.tv)/i,shareElements:/(\b|_)(share|sharedaddy)(\b|_)/i,nextLink:/(next|weiter|continue|>([^\|]|$)|([^\|]|$))/i,prevLink:/(prev|earl|old|new|<|)/i,tokenize:/\W+/g,whitespace:/^\s*$/,hasContent:/\S$/,hashUrl:/^#.+/,srcsetUrl:/(\S+)(\s+[\d.]+[xw])?(\s*(?:,|$))/g,b64DataUrl:/^data:\s*([^\s;,]+)\s*;\s*base64\s*,/i,commas:/\u002C|\u060C|\uFE50|\uFE10|\uFE11|\u2E41|\u2E34|\u2E32|\uFF0C/g,jsonLdArticleTypes:/^Article|AdvertiserContentArticle|NewsArticle|AnalysisNewsArticle|AskPublicNewsArticle|BackgroundNewsArticle|OpinionNewsArticle|ReportageNewsArticle|ReviewNewsArticle|Report|SatiricalArticle|ScholarlyArticle|MedicalScholarlyArticle|SocialMediaPosting|BlogPosting|LiveBlogPosting|DiscussionForumPosting|TechArticle|APIReference$/,adWords:/^(ad(vertising|vertisement)?|pub(licit)?|werb(ung)?|||Anuncio)$/iu,loadingWords:/^((loading|||chargement|cargando)(|\.\.\.)?)$/iu},UNLIKELY_ROLES:["menu","menubar","complementary","navigation","alert","alertdialog","dialog"],DIV_TO_P_ELEMS:new Set(["BLOCKQUOTE","DL","DIV","IMG","OL","P","PRE","TABLE","UL"]),ALTER_TO_DIV_EXCEPTIONS:["DIV","ARTICLE","SECTION","P","OL","UL"],PRESENTATIONAL_ATTRIBUTES:["align","background","bgcolor","border","cellpadding","cellspacing","frame","hspace","rules","style","valign","vspace"],DEPRECATED_SIZE_ATTRIBUTE_ELEMS:["TABLE","TH","TD","HR","PRE"],PHRASING_ELEMS:["ABBR","AUDIO","B","BDO","BR","BUTTON","CITE","CODE","DATA","DATALIST","DFN","EM","EMBED","I","IMG","INPUT","KBD","LABEL","MARK","MATH","METER","NOSCRIPT","OBJECT","OUTPUT","PROGRESS","Q","RUBY","SAMP","SCRIPT","SELECT","SMALL","SPAN","STRONG","SUB","SUP","TEXTAREA","TIME","VAR","WBR"],CLASSES_TO_PRESERVE:["page"],HTML_ESCAPE_MAP:{lt:"<",gt:">",amp:"&",quot:'"',apos:"'"},_postProcessContent(e){this._fixRelativeUris(e),this._simplifyNestedElements(e),this._keepClasses||this._cleanClasses(e)},_removeNodes(e,t){if(this._docJSDOMParser&&e._isLiveNodeList)throw new Error("Do not pass live node lists to _removeNodes");for(var i=e.length-1;i>=0;i--){var r=e[i],o=r.parentNode;o&&(!t||t.call(this,r,i,e))&&o.removeChild(r)}},_replaceNodeTags(e,t){if(this._docJSDOMParser&&e._isLiveNodeList)throw new Error("Do not pass live node lists to _replaceNodeTags");for(const i of e)this._setNodeTag(i,t)},_forEachNode(e,t){Array.prototype.forEach.call(e,t,this)},_findNode(e,t){return Array.prototype.find.call(e,t,this)},_someNode(e,t){return Array.prototype.some.call(e,t,this)},_everyNode(e,t){return Array.prototype.every.call(e,t,this)},_getAllNodesWithTag:(e,t)=>e.querySelectorAll?e.querySelectorAll(t.join(",")):[].concat.apply([],t.map(function(t){var i=e.getElementsByTagName(t);return Array.isArray(i)?i:Array.from(i)})),_cleanClasses(e){var t=this._classesToPreserve,i=(e.getAttribute("class")||"").split(/\s+/).filter(e=>t.includes(e)).join(" ");for(i?e.setAttribute("class",i):e.removeAttribute("class"),e=e.firstElementChild;e;e=e.nextElementSibling)this._cleanClasses(e)},_isUrl(e){try{return new URL(e),!0}catch{return!1}},_fixRelativeUris(e){var t=this._doc.baseURI,i=this._doc.documentURI;function r(e){if(t==i&&"#"==e.charAt(0))return e;try{return new URL(e,t).href}catch{}return e}var o=this._getAllNodesWithTag(e,["a"]);this._forEachNode(o,function(e){var t=e.getAttribute("href");if(t)if(0===t.indexOf("javascript:"))if(1===e.childNodes.length&&e.childNodes[0].nodeType===this.TEXT_NODE){var i=this._doc.createTextNode(e.textContent);e.parentNode.replaceChild(i,e)}else{for(var o=this._doc.createElement("span");e.firstChild;)o.appendChild(e.firstChild);e.parentNode.replaceChild(o,e)}else e.setAttribute("href",r(t))});var n=this._getAllNodesWithTag(e,["img","picture","figure","video","audio","source"]);this._forEachNode(n,function(e){var t=e.getAttribute("src"),i=e.getAttribute("poster"),o=e.getAttribute("srcset");if(t&&e.setAttribute("src",r(t)),i&&e.setAttribute("poster",r(i)),o){var n=o.replace(this.REGEXPS.srcsetUrl,function(e,t,i,o){return r(t)+(i||"")+o});e.setAttribute("srcset",n)}})},_simplifyNestedElements(e){for(var t=e;t;){if(t.parentNode&&["DIV","SECTION"].includes(t.tagName)&&(!t.id||!t.id.startsWith("readability"))){if(this._isElementWithoutContent(t)){t=this._removeAndGetNext(t);continue}if(this._hasSingleTagInsideElement(t,"DIV")||this._hasSingleTagInsideElement(t,"SECTION")){for(var i=t.children[0],r=0;r<t.attributes.length;r++)i.setAttributeNode(t.attributes[r].cloneNode());t.parentNode.replaceChild(i,t),t=i;continue}}t=this._getNextNode(t)}},_getArticleTitle(){var e=this._doc,t="",i="";try{"string"!=typeof(t=i=e.title.trim())&&(t=i=this._getInnerText(e.getElementsByTagName("title")[0]))}catch{}var r=!1;function o(e){return e.split(/\s+/).length}if(/ [\|\-\\\/>] /.test(t)){r=/ [\\\/>] /.test(t);let e=Array.from(i.matchAll(/ [\|\-\\\/>] /gi));o(t=i.substring(0,e.pop().index))<3&&(t=i.replace(/^[^\|\-\\\/>]*[\|\-\\\/>]/gi,""))}else if(t.includes(": ")){var n=this._getAllNodesWithTag(e,["h1","h2"]),a=t.trim(),s=this._someNode(n,function(e){return e.textContent.trim()===a});s||(o(t=i.substring(i.lastIndexOf(":")+1))<3?t=i.substring(i.indexOf(":")+1):o(i.substr(0,i.indexOf(":")))>5&&(t=i))}else if(t.length>150||t.length<15){var l=e.getElementsByTagName("h1");1===l.length&&(t=this._getInnerText(l[0]))}var c=o(t=t.trim().replace(this.REGEXPS.normalize," "));return c<=4&&(!r||c!=o(i.replace(/[\|\-\\\/>]+/g,""))-1)&&(t=i),t},_prepDocument(){var e=this._doc;this._removeNodes(this._getAllNodesWithTag(e,["style"])),e.body&&this._replaceBrs(e.body),this._replaceNodeTags(this._getAllNodesWithTag(e,["font"]),"SPAN")},_nextNode(e){for(var t=e;t&&t.nodeType!=this.ELEMENT_NODE&&this.REGEXPS.whitespace.test(t.textContent);)t=t.nextSibling;return t},_replaceBrs(e){this._forEachNode(this._getAllNodesWithTag(e,["br"]),function(e){for(var t=e.nextSibling,i=!1;(t=this._nextNode(t))&&"BR"==t.tagName;){i=!0;var r=t.nextSibling;t.remove(),t=r}if(i){var o=this._doc.createElement("p");for(e.parentNode.replaceChild(o,e),t=o.nextSibling;t;){if("BR"==t.tagName){var n=this._nextNode(t.nextSibling);if(n&&"BR"==n.tagName)break}if(!this._isPhrasingContent(t))break;var a=t.nextSibling;o.appendChild(t),t=a}for(;o.lastChild&&this._isWhitespace(o.lastChild);)o.lastChild.remove();"P"===o.parentNode.tagName&&this._setNodeTag(o.parentNode,"DIV")}})},_setNodeTag(e,t){if(this.log("_setNodeTag",e,t),this._docJSDOMParser)return e.localName=t.toLowerCase(),e.tagName=t.toUpperCase(),e;for(var i=e.ownerDocument.createElement(t);e.firstChild;)i.appendChild(e.firstChild);e.parentNode.replaceChild(i,e),e.readability&&(i.readability=e.readability);for(var r=0;r<e.attributes.length;r++)i.setAttributeNode(e.attributes[r].cloneNode());return i},_prepArticle(e){this._cleanStyles(e),this._markDataTables(e),this._fixLazyImages(e),this._cleanConditionally(e,"form"),this._cleanConditionally(e,"fieldset"),this._clean(e,"object"),this._clean(e,"embed"),this._clean(e,"footer"),this._clean(e,"link"),this._clean(e,"aside");var t=this.DEFAULT_CHAR_THRESHOLD;this._forEachNode(e.children,function(e){this._cleanMatchedNodes(e,function(e,i){return this.REGEXPS.shareElements.test(i)&&e.textContent.length<t})}),this._clean(e,"iframe"),this._clean(e,"input"),this._clean(e,"textarea"),this._clean(e,"select"),this._clean(e,"button"),this._cleanHeaders(e),this._cleanConditionally(e,"table"),this._cleanConditionally(e,"ul"),this._cleanConditionally(e,"div"),this._replaceNodeTags(this._getAllNodesWithTag(e,["h1"]),"h2"),this._removeNodes(this._getAllNodesWithTag(e,["p"]),function(e){return 0===this._getAllNodesWithTag(e,["img","embed","object","iframe"]).length&&!this._getInnerText(e,!1)}),this._forEachNode(this._getAllNodesWithTag(e,["br"]),function(e){var t=this._nextNode(e.nextSibling);t&&"P"==t.tagName&&e.remove()}),this._forEachNode(this._getAllNodesWithTag(e,["table"]),function(e){var t=this._hasSingleTagInsideElement(e,"TBODY")?e.firstElementChild:e;if(this._hasSingleTagInsideElement(t,"TR")){var i=t.firstElementChild;if(this._hasSingleTagInsideElement(i,"TD")){var r=i.firstElementChild;r=this._setNodeTag(r,this._everyNode(r.childNodes,this._isPhrasingContent)?"P":"DIV"),e.parentNode.replaceChild(r,e)}}})},_initializeNode(e){switch(e.readability={contentScore:0},e.tagName){case"DIV":e.readability.contentScore+=5;break;case"PRE":case"TD":case"BLOCKQUOTE":e.readability.contentScore+=3;break;case"ADDRESS":case"OL":case"UL":case"DL":case"DD":case"DT":case"LI":case"FORM":e.readability.contentScore-=3;break;case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"TH":e.readability.contentScore-=5}e.readability.contentScore+=this._getClassWeight(e)},_removeAndGetNext(e){var t=this._getNextNode(e,!0);return e.remove(),t},_getNextNode(e,t){if(!t&&e.firstElementChild)return e.firstElementChild;if(e.nextElementSibling)return e.nextElementSibling;do{e=e.parentNode}while(e&&!e.nextElementSibling);return e&&e.nextElementSibling},_textSimilarity(e,t){var i=e.toLowerCase().split(this.REGEXPS.tokenize).filter(Boolean),r=t.toLowerCase().split(this.REGEXPS.tokenize).filter(Boolean);if(!i.length||!r.length)return 0;var o=r.filter(e=>!i.includes(e));return 1-o.join(" ").length/r.join(" ").length},_isValidByline(e,t){var i=e.getAttribute("rel"),r=e.getAttribute("itemprop"),o=e.textContent.trim().length;return("author"===i||r&&r.includes("author")||this.REGEXPS.byline.test(t))&&!!o&&o<100},_getNodeAncestors(e,t){t=t||0;for(var i=0,r=[];e.parentNode&&(r.push(e.parentNode),!t||++i!==t);)e=e.parentNode;return r},_grabArticle(e){this.log("**** grabArticle ****");var t=this._doc,i=null!==e;if(!(e=e||this._doc.body))return this.log("No body found in document. Abort."),null;for(var r=e.innerHTML;;){this.log("Starting grabArticle loop");var o=this._flagIsActive(this.FLAG_STRIP_UNLIKELYS),n=[],a=this._doc.documentElement;let K=!0;for(;a;){"HTML"===a.tagName&&(this._articleLang=a.getAttribute("lang"));var s=a.className+" "+a.id;if(this._isProbablyVisible(a))if("true"!=a.getAttribute("aria-modal")||"dialog"!=a.getAttribute("role"))if(this._articleByline||this._metadata.byline||!this._isValidByline(a,s))if(K&&this._headerDuplicatesTitle(a))this.log("Removing header: ",a.textContent.trim(),this._articleTitle.trim()),K=!1,a=this._removeAndGetNext(a);else{if(o){if(this.REGEXPS.unlikelyCandidates.test(s)&&!this.REGEXPS.okMaybeItsACandidate.test(s)&&!this._hasAncestorTag(a,"table")&&!this._hasAncestorTag(a,"code")&&"BODY"!==a.tagName&&"A"!==a.tagName){this.log("Removing unlikely candidate - "+s),a=this._removeAndGetNext(a);continue}if(this.UNLIKELY_ROLES.includes(a.getAttribute("role"))){this.log("Removing content with role "+a.getAttribute("role")+" - "+s),a=this._removeAndGetNext(a);continue}}if("DIV"!==a.tagName&&"SECTION"!==a.tagName&&"HEADER"!==a.tagName&&"H1"!==a.tagName&&"H2"!==a.tagName&&"H3"!==a.tagName&&"H4"!==a.tagName&&"H5"!==a.tagName&&"H6"!==a.tagName||!this._isElementWithoutContent(a)){if(this.DEFAULT_TAGS_TO_SCORE.includes(a.tagName)&&n.push(a),"DIV"===a.tagName){for(var l=null,c=a.firstChild;c;){var d=c.nextSibling;if(this._isPhrasingContent(c))null!==l?l.appendChild(c):this._isWhitespace(c)||(l=t.createElement("p"),a.replaceChild(l,c),l.appendChild(c));else if(null!==l){for(;l.lastChild&&this._isWhitespace(l.lastChild);)l.lastChild.remove();l=null}c=d}if(this._hasSingleTagInsideElement(a,"P")&&this._getLinkDensity(a)<.25){var u=a.children[0];a.parentNode.replaceChild(u,a),a=u,n.push(a)}else this._hasChildBlockElement(a)||(a=this._setNodeTag(a,"P"),n.push(a))}a=this._getNextNode(a)}else a=this._removeAndGetNext(a)}else{for(var h=this._getNextNode(a,!0),p=this._getNextNode(a),g=null;p&&p!=h;){var f=p.getAttribute("itemprop");if(f&&f.includes("name")){g=p;break}p=this._getNextNode(p)}this._articleByline=(g??a).textContent.trim(),a=this._removeAndGetNext(a)}else a=this._removeAndGetNext(a);else this.log("Removing hidden node - "+s),a=this._removeAndGetNext(a)}var m=[];this._forEachNode(n,function(e){if(e.parentNode&&!(typeof e.parentNode.tagName>"u")){var t=this._getInnerText(e);if(!(t.length<25)){var i=this._getNodeAncestors(e,5);if(0!==i.length){var r=0;r+=1,r+=t.split(this.REGEXPS.commas).length,r+=Math.min(Math.floor(t.length/100),3),this._forEachNode(i,function(e,t){if(e.tagName&&e.parentNode&&!(typeof e.parentNode.tagName>"u")){if(typeof e.readability>"u"&&(this._initializeNode(e),m.push(e)),0===t)var i=1;else i=1===t?2:3*t;e.readability.contentScore+=r/i}})}}}});for(var b=[],y=0,v=m.length;y<v;y+=1){var w=m[y],_=w.readability.contentScore*(1-this._getLinkDensity(w));w.readability.contentScore=_,this.log("Candidate:",w,"with score "+_);for(var T=0;T<this._nbTopCandidates;T++){var A=b[T];if(!A||_>A.readability.contentScore){b.splice(T,0,w),b.length>this._nbTopCandidates&&b.pop();break}}}var E,k=b[0]||null,S=!1;if(null===k||"BODY"===k.tagName){for(k=t.createElement("DIV"),S=!0;e.firstChild;)this.log("Moving child out:",e.firstChild),k.appendChild(e.firstChild);e.appendChild(k),this._initializeNode(k)}else if(k){for(var x=[],C=1;C<b.length;C++)b[C].readability.contentScore/k.readability.contentScore>=.75&&x.push(this._getNodeAncestors(b[C]));if(x.length>=3)for(E=k.parentNode;"BODY"!==E.tagName;){for(var I=0,N=0;N<x.length&&I<3;N++)I+=Number(x[N].includes(E));if(I>=3){k=E;break}E=E.parentNode}k.readability||this._initializeNode(k),E=k.parentNode;for(var D=k.readability.contentScore,O=D/3;"BODY"!==E.tagName;)if(E.readability){var L=E.readability.contentScore;if(L<O)break;if(L>D){k=E;break}D=E.readability.contentScore,E=E.parentNode}else E=E.parentNode;for(E=k.parentNode;"BODY"!=E.tagName&&1==E.children.length;)E=(k=E).parentNode;k.readability||this._initializeNode(k)}var P=t.createElement("DIV");i&&(P.id="readability-content");for(var R=Math.max(10,.2*k.readability.contentScore),M=(E=k.parentNode).children,B=0,U=M.length;B<U;B++){var $=M[B],G=!1;if(this.log("Looking at sibling node:",$,$.readability?"with score "+$.readability.contentScore:""),this.log("Sibling has score",$.readability?$.readability.contentScore:"Unknown"),$===k)G=!0;else{var F=0;if($.className===k.className&&""!==k.className&&(F+=.2*k.readability.contentScore),$.readability&&$.readability.contentScore+F>=R)G=!0;else if("P"===$.nodeName){var H=this._getLinkDensity($),z=this._getInnerText($),j=z.length;(j>80&&H<.25||j<80&&j>0&&0===H&&-1!==z.search(/\.( |$)/))&&(G=!0)}}G&&(this.log("Appending node:",$),this.ALTER_TO_DIV_EXCEPTIONS.includes($.nodeName)||(this.log("Altering sibling:",$,"to div."),$=this._setNodeTag($,"DIV")),P.appendChild($),M=E.children,B-=1,U-=1)}if(this._debug&&this.log("Article content pre-prep: "+P.innerHTML),this._prepArticle(P),this._debug&&this.log("Article content post-prep: "+P.innerHTML),S)k.id="readability-page-1",k.className="page";else{var V=t.createElement("DIV");for(V.id="readability-page-1",V.className="page";P.firstChild;)V.appendChild(P.firstChild);P.appendChild(V)}this._debug&&this.log("Article content after paging: "+P.innerHTML);var W=!0,q=this._getInnerText(P,!0).length;if(q<this._charThreshold)if(W=!1,e.innerHTML=r,this._attempts.push({articleContent:P,textLength:q}),this._flagIsActive(this.FLAG_STRIP_UNLIKELYS))this._removeFlag(this.FLAG_STRIP_UNLIKELYS);else if(this._flagIsActive(this.FLAG_WEIGHT_CLASSES))this._removeFlag(this.FLAG_WEIGHT_CLASSES);else if(this._flagIsActive(this.FLAG_CLEAN_CONDITIONALLY))this._removeFlag(this.FLAG_CLEAN_CONDITIONALLY);else{if(this._attempts.sort(function(e,t){return t.textLength-e.textLength}),!this._attempts[0].textLength)return null;P=this._attempts[0].articleContent,W=!0}if(W){var Y=[E,k].concat(this._getNodeAncestors(E));return this._someNode(Y,function(e){if(!e.tagName)return!1;var t=e.getAttribute("dir");return!!t&&(this._articleDir=t,!0)}),P}}},_unescapeHtmlEntities(e){if(!e)return e;var t=this.HTML_ESCAPE_MAP;return e.replace(/&(quot|amp|apos|lt|gt);/g,function(e,i){return t[i]}).replace(/&#(?:x([0-9a-f]+)|([0-9]+));/gi,function(e,t,i){var r=parseInt(t||i,t?16:10);return(0==r||r>1114111||r>=55296&&r<=57343)&&(r=65533),String.fromCodePoint(r)})},_getJSONLD(e){var t,i=this._getAllNodesWithTag(e,["script"]);return this._forEachNode(i,function(e){if(!t&&"application/ld+json"===e.getAttribute("type"))try{var i=e.textContent.replace(/^\s*<!\[CDATA\[|\]\]>\s*$/g,""),r=JSON.parse(i);if(Array.isArray(r)&&(r=r.find(e=>e["@type"]&&e["@type"].match(this.REGEXPS.jsonLdArticleTypes)),!r))return;var o=/^https?\:\/\/schema\.org\/?$/;if(!(("string"==typeof r["@context"]&&r["@context"].match(o)||"object"==typeof r["@context"]&&"string"==typeof r["@context"]["@vocab"]&&r["@context"]["@vocab"].match(o))&&(!r["@type"]&&Array.isArray(r["@graph"])&&(r=r["@graph"].find(e=>(e["@type"]||"").match(this.REGEXPS.jsonLdArticleTypes))),r&&r["@type"]&&r["@type"].match(this.REGEXPS.jsonLdArticleTypes))))return;if(t={},"string"==typeof r.name&&"string"==typeof r.headline&&r.name!==r.headline){var n=this._getArticleTitle(),a=this._textSimilarity(r.name,n)>.75,s=this._textSimilarity(r.headline,n)>.75;t.title=s&&!a?r.headline:r.name}else"string"==typeof r.name?t.title=r.name.trim():"string"==typeof r.headline&&(t.title=r.headline.trim());r.author&&("string"==typeof r.author.name?t.byline=r.author.name.trim():Array.isArray(r.author)&&r.author[0]&&"string"==typeof r.author[0].name&&(t.byline=r.author.filter(function(e){return e&&"string"==typeof e.name}).map(function(e){return e.name.trim()}).join(", "))),"string"==typeof r.description&&(t.excerpt=r.description.trim()),r.publisher&&"string"==typeof r.publisher.name&&(t.siteName=r.publisher.name.trim()),"string"==typeof r.datePublished&&(t.datePublished=r.datePublished.trim())}catch(e){this.log(e.message)}}),t||{}},_getArticleMetadata(e){var t={},i={},r=this._doc.getElementsByTagName("meta"),o=/\s*(article|dc|dcterm|og|twitter)\s*:\s*(author|creator|description|published_time|title|site_name)\s*/gi,n=/^\s*(?:(dc|dcterm|og|twitter|parsely|weibo:(article|webpage))\s*[-\.:]\s*)?(author|creator|pub-date|description|title|site_name)\s*$/i;this._forEachNode(r,function(e){var t=e.getAttribute("name"),r=e.getAttribute("property"),a=e.getAttribute("content");if(a){var s=null,l=null;r&&(s=r.match(o))&&(l=s[0].toLowerCase().replace(/\s/g,""),i[l]=a.trim()),!s&&t&&n.test(t)&&(l=t,a&&(l=l.toLowerCase().replace(/\s/g,"").replace(/\./g,":"),i[l]=a.trim()))}}),t.title=e.title||i["dc:title"]||i["dcterm:title"]||i["og:title"]||i["weibo:article:title"]||i["weibo:webpage:title"]||i.title||i["twitter:title"]||i["parsely-title"],t.title||(t.title=this._getArticleTitle());const a="string"!=typeof i["article:author"]||this._isUrl(i["article:author"])?void 0:i["article:author"];return t.byline=e.byline||i["dc:creator"]||i["dcterm:creator"]||i.author||i["parsely-author"]||a,t.excerpt=e.excerpt||i["dc:description"]||i["dcterm:description"]||i["og:description"]||i["weibo:article:description"]||i["weibo:webpage:description"]||i.description||i["twitter:description"],t.siteName=e.siteName||i["og:site_name"],t.publishedTime=e.datePublished||i["article:published_time"]||i["parsely-pub-date"]||null,t.title=this._unescapeHtmlEntities(t.title),t.byline=this._unescapeHtmlEntities(t.byline),t.excerpt=this._unescapeHtmlEntities(t.excerpt),t.siteName=this._unescapeHtmlEntities(t.siteName),t.publishedTime=this._unescapeHtmlEntities(t.publishedTime),t},_isSingleImage(e){for(;e;){if("IMG"===e.tagName)return!0;if(1!==e.children.length||""!==e.textContent.trim())return!1;e=e.children[0]}return!1},_unwrapNoscriptImages(e){var t=Array.from(e.getElementsByTagName("img"));this._forEachNode(t,function(e){for(var t=0;t<e.attributes.length;t++){var i=e.attributes[t];switch(i.name){case"src":case"srcset":case"data-src":case"data-srcset":return}if(/\.(jpg|jpeg|png|webp)/i.test(i.value))return}e.remove()});var i=Array.from(e.getElementsByTagName("noscript"));this._forEachNode(i,function(t){if(this._isSingleImage(t)){var i=e.createElement("div");i.innerHTML=t.innerHTML;var r=t.previousElementSibling;if(r&&this._isSingleImage(r)){var o=r;"IMG"!==o.tagName&&(o=r.getElementsByTagName("img")[0]);for(var n=i.getElementsByTagName("img")[0],a=0;a<o.attributes.length;a++){var s=o.attributes[a];if(""!==s.value&&("src"===s.name||"srcset"===s.name||/\.(jpg|jpeg|png|webp)/i.test(s.value))){if(n.getAttribute(s.name)===s.value)continue;var l=s.name;n.hasAttribute(l)&&(l="data-old-"+l),n.setAttribute(l,s.value)}}t.parentNode.replaceChild(i.firstElementChild,r)}}})},_removeScripts(e){this._removeNodes(this._getAllNodesWithTag(e,["script","noscript"]))},_hasSingleTagInsideElement(e,t){return 1==e.children.length&&e.children[0].tagName===t&&!this._someNode(e.childNodes,function(e){return e.nodeType===this.TEXT_NODE&&this.REGEXPS.hasContent.test(e.textContent)})},_isElementWithoutContent(e){return!(e.nodeType!==this.ELEMENT_NODE||e.textContent.trim().length||e.children.length&&e.children.length!=e.getElementsByTagName("br").length+e.getElementsByTagName("hr").length)},_hasChildBlockElement(e){return this._someNode(e.childNodes,function(e){return this.DIV_TO_P_ELEMS.has(e.tagName)||this._hasChildBlockElement(e)})},_isPhrasingContent(e){return e.nodeType===this.TEXT_NODE||this.PHRASING_ELEMS.includes(e.tagName)||("A"===e.tagName||"DEL"===e.tagName||"INS"===e.tagName)&&this._everyNode(e.childNodes,this._isPhrasingContent)},_isWhitespace(e){return e.nodeType===this.TEXT_NODE&&0===e.textContent.trim().length||e.nodeType===this.ELEMENT_NODE&&"BR"===e.tagName},_getInnerText(e,t){t=typeof t>"u"||t;var i=e.textContent.trim();return t?i.replace(this.REGEXPS.normalize," "):i},_getCharCount(e,t){return t=t||",",this._getInnerText(e).split(t).length-1},_cleanStyles(e){if(e&&"svg"!==e.tagName.toLowerCase()){for(var t=0;t<this.PRESENTATIONAL_ATTRIBUTES.length;t++)e.removeAttribute(this.PRESENTATIONAL_ATTRIBUTES[t]);this.DEPRECATED_SIZE_ATTRIBUTE_ELEMS.includes(e.tagName)&&(e.removeAttribute("width"),e.removeAttribute("height"));for(var i=e.firstElementChild;null!==i;)this._cleanStyles(i),i=i.nextElementSibling}},_getLinkDensity(e){var t=this._getInnerText(e).length;if(0===t)return 0;var i=0;return this._forEachNode(e.getElementsByTagName("a"),function(e){var t=e.getAttribute("href"),r=t&&this.REGEXPS.hashUrl.test(t)?.3:1;i+=this._getInnerText(e).length*r}),i/t},_getClassWeight(e){if(!this._flagIsActive(this.FLAG_WEIGHT_CLASSES))return 0;var t=0;return"string"==typeof e.className&&""!==e.className&&(this.REGEXPS.negative.test(e.className)&&(t-=25),this.REGEXPS.positive.test(e.className)&&(t+=25)),"string"==typeof e.id&&""!==e.id&&(this.REGEXPS.negative.test(e.id)&&(t-=25),this.REGEXPS.positive.test(e.id)&&(t+=25)),t},_clean(e,t){var i=["object","embed","iframe"].includes(t);this._removeNodes(this._getAllNodesWithTag(e,[t]),function(e){if(i){for(var t=0;t<e.attributes.length;t++)if(this._allowedVideoRegex.test(e.attributes[t].value))return!1;if("object"===e.tagName&&this._allowedVideoRegex.test(e.innerHTML))return!1}return!0})},_hasAncestorTag(e,t,i,r){i=i||3,t=t.toUpperCase();for(var o=0;e.parentNode;){if(i>0&&o>i)return!1;if(e.parentNode.tagName===t&&(!r||r(e.parentNode)))return!0;e=e.parentNode,o++}return!1},_getRowAndColumnCount(e){for(var t=0,i=0,r=e.getElementsByTagName("tr"),o=0;o<r.length;o++){var n=r[o].getAttribute("rowspan")||0;n&&(n=parseInt(n,10)),t+=n||1;for(var a=0,s=r[o].getElementsByTagName("td"),l=0;l<s.length;l++){var c=s[l].getAttribute("colspan")||0;c&&(c=parseInt(c,10)),a+=c||1}i=Math.max(i,a)}return{rows:t,columns:i}},_markDataTables(e){for(var t=e.getElementsByTagName("table"),i=0;i<t.length;i++){var r=t[i];if("presentation"!=r.getAttribute("role"))if("0"!=r.getAttribute("datatable"))if(r.getAttribute("summary"))r._readabilityDataTable=!0;else{var o=r.getElementsByTagName("caption")[0];if(o&&o.childNodes.length)r._readabilityDataTable=!0;else{var n=function(e){return!!r.getElementsByTagName(e)[0]};if(["col","colgroup","tfoot","thead","th"].some(n))this.log("Data table because found data-y descendant"),r._readabilityDataTable=!0;else if(r.getElementsByTagName("table")[0])r._readabilityDataTable=!1;else{var a=this._getRowAndColumnCount(r);1!=a.columns&&1!=a.rows?a.rows>=10||a.columns>4?r._readabilityDataTable=!0:r._readabilityDataTable=a.rows*a.columns>10:r._readabilityDataTable=!1}}}else r._readabilityDataTable=!1;else r._readabilityDataTable=!1}},_fixLazyImages(e){this._forEachNode(this._getAllNodesWithTag(e,["img","picture","figure"]),function(e){if(e.src&&this.REGEXPS.b64DataUrl.test(e.src)){var t=this.REGEXPS.b64DataUrl.exec(e.src);if("image/svg+xml"===t[1])return;for(var i=!1,r=0;r<e.attributes.length;r++){var o=e.attributes[r];if("src"!==o.name&&/\.(jpg|jpeg|png|webp)/i.test(o.value)){i=!0;break}}if(i){var n=t[0].length;e.src.length-n<133&&e.removeAttribute("src")}}if(!(e.src||e.srcset&&"null"!=e.srcset)||e.className.toLowerCase().includes("lazy"))for(var a=0;a<e.attributes.length;a++)if("src"!==(o=e.attributes[a]).name&&"srcset"!==o.name&&"alt"!==o.name){var s=null;if(/\.(jpg|jpeg|png|webp)\s+\d/.test(o.value)?s="srcset":/^\s*\S+\.(jpg|jpeg|png|webp)\S*\s*$/.test(o.value)&&(s="src"),s)if("IMG"===e.tagName||"PICTURE"===e.tagName)e.setAttribute(s,o.value);else if("FIGURE"===e.tagName&&!this._getAllNodesWithTag(e,["img","picture"]).length){var l=this._doc.createElement("img");l.setAttribute(s,o.value),e.appendChild(l)}}})},_getTextDensity(e,t){var i=this._getInnerText(e,!0).length;if(0===i)return 0;var r=0,o=this._getAllNodesWithTag(e,t);return this._forEachNode(o,e=>r+=this._getInnerText(e,!0).length),r/i},_cleanConditionally(e,t){this._flagIsActive(this.FLAG_CLEAN_CONDITIONALLY)&&this._removeNodes(this._getAllNodesWithTag(e,[t]),function(e){var i=function(e){return e._readabilityDataTable},r="ul"===t||"ol"===t;if(!r){var o=0,n=this._getAllNodesWithTag(e,["ul","ol"]);this._forEachNode(n,e=>o+=this._getInnerText(e).length),r=o/this._getInnerText(e).length>.9}if("table"===t&&i(e)||this._hasAncestorTag(e,"table",-1,i)||this._hasAncestorTag(e,"code")||[...e.getElementsByTagName("table")].some(e=>e._readabilityDataTable))return!1;var a=this._getClassWeight(e);if(this.log("Cleaning Conditionally",e),a+0<0)return!0;if(this._getCharCount(e,",")<10){for(var s=e.getElementsByTagName("p").length,l=e.getElementsByTagName("img").length,c=e.getElementsByTagName("li").length-100,d=e.getElementsByTagName("input").length,u=this._getTextDensity(e,["h1","h2","h3","h4","h5","h6"]),h=0,p=this._getAllNodesWithTag(e,["object","embed","iframe"]),g=0;g<p.length;g++){for(var f=0;f<p[g].attributes.length;f++)if(this._allowedVideoRegex.test(p[g].attributes[f].value))return!1;if("object"===p[g].tagName&&this._allowedVideoRegex.test(p[g].innerHTML))return!1;h++}var m=this._getInnerText(e);if(this.REGEXPS.adWords.test(m)||this.REGEXPS.loadingWords.test(m))return!0;var b=m.length,y=this._getLinkDensity(e),v=["SPAN","LI","TD"].concat(Array.from(this.DIV_TO_P_ELEMS)),w=this._getTextDensity(e,v),_=this._hasAncestorTag(e,"figure"),T=(()=>{const e=[];return!_&&l>1&&s/l<.5&&e.push(`Bad p to img ratio (img=${l}, p=${s})`),!r&&c>s&&e.push(`Too many li's outside of a list. (li=${c} > p=${s})`),d>Math.floor(s/3)&&e.push(`Too many inputs per p. (input=${d}, p=${s})`),!r&&!_&&u<.9&&b<25&&(0===l||l>2)&&y>0&&e.push(`Suspiciously short. (headingDensity=${u}, img=${l}, linkDensity=${y})`),!r&&a<25&&y>.2+this._linkDensityModifier&&e.push(`Low weight and a little linky. (linkDensity=${y})`),a>=25&&y>.5+this._linkDensityModifier&&e.push(`High weight and mostly links. (linkDensity=${y})`),(1===h&&b<75||h>1)&&e.push(`Suspicious embed. (embedCount=${h}, contentLength=${b})`),0===l&&0===w&&e.push(`No useful content. (img=${l}, textDensity=${w})`),!!e.length&&(this.log("Checks failed",e),!0)})();if(r&&T){for(var A=0;A<e.children.length;A++)if(e.children[A].children.length>1)return T;let t=e.getElementsByTagName("li").length;if(l==t)return!1}return T}return!1})},_cleanMatchedNodes(e,t){for(var i=this._getNextNode(e,!0),r=this._getNextNode(e);r&&r!=i;)r=t.call(this,r,r.className+" "+r.id)?this._removeAndGetNext(r):this._getNextNode(r)},_cleanHeaders(e){let t=this._getAllNodesWithTag(e,["h1","h2"]);this._removeNodes(t,function(e){let t=this._getClassWeight(e)<0;return t&&this.log("Removing header with low class weight:",e),t})},_headerDuplicatesTitle(e){if("H1"!=e.tagName&&"H2"!=e.tagName)return!1;var t=this._getInnerText(e,!1);return this.log("Evaluating similarity of header:",t,this._articleTitle),this._textSimilarity(this._articleTitle,t)>.75},_flagIsActive(e){return(this._flags&e)>0},_removeFlag(e){this._flags=this._flags&~e},_isProbablyVisible:e=>(!e.style||"none"!=e.style.display)&&(!e.style||"hidden"!=e.style.visibility)&&!e.hasAttribute("hidden")&&(!e.hasAttribute("aria-hidden")||"true"!=e.getAttribute("aria-hidden")||e.className&&e.className.includes&&e.className.includes("fallback-image")),parse(){if(this._maxElemsToParse>0){var e=this._doc.getElementsByTagName("*").length;if(e>this._maxElemsToParse)throw new Error("Aborting parsing document; "+e+" elements found")}this._unwrapNoscriptImages(this._doc);var t=this._disableJSONLD?{}:this._getJSONLD(this._doc);this._removeScripts(this._doc),this._prepDocument();var i=this._getArticleMetadata(t);this._metadata=i,this._articleTitle=i.title;var r=this._grabArticle();if(!r)return null;if(this.log("Grabbed: "+r.innerHTML),this._postProcessContent(r),!i.excerpt){var o=r.getElementsByTagName("p");o.length&&(i.excerpt=o[0].textContent.trim())}var n=r.textContent;return{title:this._articleTitle,byline:i.byline||this._articleByline,dir:this._articleDir,lang:this._articleLang,content:this._serializer(r),textContent:n,length:n.length,excerpt:i.excerpt,siteName:i.siteName||this._articleSiteName,publishedTime:i.publishedTime}}},e.exports=t}(bw);var yw=bw.exports,vw={exports:{}};!function(e){var t={unlikelyCandidates:/-ad-|ai2html|banner|breadcrumbs|combx|comment|community|cover-wrap|disqus|extra|footer|gdpr|header|legends|menu|related|remark|replies|rss|shoutbox|sidebar|skyscraper|social|sponsor|supplemental|ad-break|agegate|pagination|pager|popup|yom-remote/i,okMaybeItsACandidate:/and|article|body|column|content|main|shadow/i};function i(e){return(!e.style||"none"!=e.style.display)&&!e.hasAttribute("hidden")&&(!e.hasAttribute("aria-hidden")||"true"!=e.getAttribute("aria-hidden")||e.className&&e.className.includes&&e.className.includes("fallback-image"))}e.exports=function(e,r={}){"function"==typeof r&&(r={visibilityChecker:r});var o={minScore:20,minContentLength:140,visibilityChecker:i};r=Object.assign(o,r);var n=e.querySelectorAll("p, pre, article"),a=e.querySelectorAll("div > br");if(a.length){var s=new Set(n);[].forEach.call(a,function(e){s.add(e.parentNode)}),n=Array.from(s)}var l=0;return[].some.call(n,function(e){if(!r.visibilityChecker(e))return!1;var i=e.className+" "+e.id;if(t.unlikelyCandidates.test(i)&&!t.okMaybeItsACandidate.test(i)||e.matches("li p"))return!1;var o=e.textContent.trim().length;return!(o<r.minContentLength)&&(l+=Math.sqrt(o-r.minContentLength))>r.minScore})}}(vw);var ww={Readability:yw,isProbablyReaderable:vw.exports};function _w(e){const t=document.implementation.createHTMLDocument();return t.body.innerHTML=e.innerHTML,{article:new ww.Readability(t).parse(),renderable:ww.isProbablyReaderable(t)}}function Tw(){return Aw({domElement:document.body,url:decodeURIComponent(location.href)})}function Aw({domElement:e,url:t}){var i;try{const{article:r,renderable:o}=_w(e);return{pageContent:{...xp(bp.pagecontents),url:t,type:"html",content:(null==r?void 0:r.content)||"",title:(null==r?void 0:r.title)||"",description:(null==r?void 0:r.excerpt)||"",length:(null==(i=null==r?void 0:r.content)?void 0:i.length)||0,youtubeTranscript:null},renderable:o,textContent:(null==r?void 0:r.textContent)||"",excerpt:(null==r?void 0:r.excerpt)||""}}catch(e){return console.error("Error getting page content",e),{pageContent:null,renderable:!1}}}async function Ew({url:e,isUrlCrawlEnabled:t}){var i;let r=null;const o=()=>{r&&clearInterval(r),r=setInterval(()=>{Bk.dispatch("fetchingPageContent",{detail:{url:e}})},50)};try{const r=ff(location.href,e),n=Xf(e),a=await s_.getPageContentForUrl({url:e});if(null!=a&&a._id){const e=await s_.getContentEntity(null==a?void 0:a._id);"string"==typeof(null==e?void 0:e.body)&&(a.content=e.body)}const s=await NA.canSync(),l=!(null==a||!a.wasUpdatedWithLatestContentFromAppType)&&(null==a?void 0:a.wasUpdatedWithLatestContentFromAppType)!==fk().appConfig.appType;if(s&&null!=a&&a._id&&(!a.content||l)){o();const e=await C_(a);return e?(a.content=e.body,{pageContent:a,contentSource:"remote-storage-db",existingPageContent:a}):null}if(null!=a&&a.content)return{pageContent:a,existingPageContent:a,contentSource:"local-db"};if(r&&(null==a||!a._id)&&!n){const{pageContent:e,renderable:t}=Tw();return e?{pageContent:e,isRenderable:t,contentSource:"page",existingPageContent:a}:(BT({content:"Could not load content. Try a different page.",uniqueId:"get-page-content-result-error",variant:"error"}),null)}if(t||n){if(n&&await Lw())return oA(),null;o();const t=await fk().httpFacade.crawlPageContentFromUrl({url:e});if(null!=t&&t.content){if(!t.title){const i=await fk().httpFacade.getMetaData(e);t.title=i.title||"",t.description=i.description||""}t.textContent="";const r={entityId:t._id,body:t.content,entityType:bp.pagecontents,contentType:"text/html",needsSync:1,contentLength:(null==(i=t.content)?void 0:i.length)??0};return await l_.createOrUpdateContents([r]),await __(t),{pageContent:t,existingPageContent:a,contentSource:"remote-server-crawl"}}}return null}catch(e){return console.error("Error getting page content result",e),null}finally{r&&(clearInterval(r),Bk.dispatch("fetchedPageContent",{detail:{url:e}}))}}async function kw(e,t){try{const i=await Ew({url:e,isUrlCrawlEnabled:!1,...t});return null!=i&&i.pageContent&&await __(i.pageContent),i}catch(e){return console.error("Error creating or updating page content for bookmark",e),null}}const Sw="test-override-storage-limit-in-mb";function xw(e){if(!e)return 0;const t=1e6;return Og(Sw)?1e4:e===tv.ULTIMATE?1e9:e===tv.PREMIUM?100*t:10*t}const Cw={text:jd["feather-edit-3"],URL:jd.link,PDF:jd["file-pdf"]},Iw={text:"https://email.web-highlights.com/uploads/notes_asXTqd.webp",URL:"https://email.web-highlights.com/uploads/notes_asXTqd.webp",PDF:"https://email.web-highlights.com/uploads/notes_asXTqd.webp"},Nw={text:"https://email.web-highlights.com/uploads/notes-logo_BTFdez.webp",URL:"https://email.web-highlights.com/uploads/notes-logo_BTFdez.webp",PDF:"https://upload.wikimedia.org/wikipedia/commons/thumb/8/87/PDF_file_icon.svg/1667px-PDF_file_icon.svg.png"};async function Dw(){const e=await s_.getPageContentSizeUsedInBytes(),t=xw(await NA.getActivePlan());return{storageUsageInBytes:e,sizeAvailableInBytes:t,percentageUsed:e/t*100,isStorageLimitReached:e>t}}function Ow(e){const t=up(),{environment:i}=fk(),{pageContent:r,textContent:o,excerpt:n}=Aw({domElement:e,url:`${i.FRONTEND_URL}/content/${t}`});if(!r)return null;const a=((null==r?void 0:r.title)||n||o||"").slice(0,55),s=((null==o?void 0:o.replace(a.replace("...","")||"",""))||"").slice(0,145);return{...r,_id:t,title:a,description:s}}async function Lw(){if(await NA.canGenerateUnlimitedYoutubeVideo())return!1;const e=await s_.getPageContents(),t=null==e?void 0:e.filter(e=>e.youtubeTranscript&&vb(new Date(e.createdAt),new Date));return(null==t?void 0:t.length)>=ad.DAILY_YOUTUBE_VIDEO_LIMIT}const Pw="bookmark-saved";function Rw(){var e;return typeof window>"u"?"en":(null==(e=document.querySelector("html"))?void 0:e.getAttribute("lang"))||(null==navigator?void 0:navigator.language)||"en"}function Mw(e,t){return(()=>{var i;if($v())return Sd(e)?e.coverTitle:(null==(i=Fv())?void 0:i.coverTitle)??"";if(null!=e&&e.title)return e.title;if(sf())return lu().title||"";if(null!=document&&document.title)return t||document.title;if("pdf"===location.href.split(".")[location.href.split(".").length-1]){let e=location.href.split(/\//gi)[location.href.split(/\//gi).length-1];return e=(null==e?void 0:e.split("%20").join(" "))||"",e}return""})().trim()}function Bw(e){var t,i;return((null==e?void 0:e.description)||(null==(t=null==e?void 0:e.meta)?void 0:t.description)||(null==(i=null==e?void 0:e.meta)?void 0:i.description)||"").trim()}function Uw(e){const t=Rw(),i=Fv()??{},r=Uf()??location.href,o=Gg(r)??"";return{...xp(bp.bookmarks),url:r,tags:[],title:Mw()??"",origin:o,language:t,permission:kd.PRIVATE,type:(null==e?void 0:e.type)||($v()?"kindle":"normal"),isStarred:!(null==e||!e.isStarred),meta:(null==e?void 0:e.meta)??Fy(),canonicalLink:(()=>{if(af(location.href)||sf())return null;const e=Hy(),t=Gg(e);return o===t?null:e})(),...e??{},...i}}function $w(e,t){return`${e.FRONTEND_URL}/page/${t._id}`}const Gw=e=>{const t=e;return(null==t?void 0:t.tagName)===Sv.Tags.TAG.toUpperCase()||(null==t?void 0:t.tagName)===Sv.NotesEditor.TAG.toUpperCase()};function Fw(e,t,i){const r=null==i?void 0:i.composedPath();null!=r&&r.some(Gw)||Bk.dispatch("bookmarkSelected",{detail:[e,{location:"bookmark-preview",openAs:"popup",...t.bookmarkSelectionOptions??{}}]})}function Hw(e,t){return e.map(e=>{const i=t.filter(t=>t._bookmark===e._id);return{...e,marksCount:i.length,notesCount:i.filter(Yv).length}})}async function zw({existingBookmark:e}){if(e){const t={...e,isStarred:!e.isStarred};BT({content:e.isStarred?"Bookmark removed":"Bookmark saved ",uniqueId:e.isStarred?"bookmark-removed":Pw,variant:"success"}),await h_({_id:t._id,isStarred:t.isStarred})}else await jw()}async function jw(e,{showToast:t=!0,forceDownloadPageContent:i=!1}={}){const r=await Rp.getChromeSettings(),o=Uw({isStarred:!0,...e}),[n]=await Promise.all([v_(o),i||r.autoDownloadPageContent?kw(o.url,{isUrlCrawlEnabled:!1}):Promise.resolve()]);return t&&BT({content:"Bookmark saved ",variant:"success",uniqueId:Pw}),n}function Vw(e,t){const{httpFacade:i,appConfig:r}=fk();return{httpFacade:i,appConfig:r,getMetaData:async e=>i.getMetaData(e),openInBtnType:"app",bookmark:e,...t}}async function Ww(){var e;return s_.getBookmarkForUrl({currentUrl:Uf()??location.href,asin:(null==(e=Fv())?void 0:e.asin)??null,canonicalLink:Hy()})}async function qw(){try{const e=await Ww();await zw({existingBookmark:e})}catch{}}function Yw(e,t){return{...Uw(),url:(null==e?void 0:e.url)??"",isStarred:!0,title:(null==e?void 0:e.title)||"Untitled",description:(null==e?void 0:e.description)||"No description",type:"content-text",meta:{title:(null==e?void 0:e.title)||"Untitled",favicon:Nw[t],description:(null==e?void 0:e.description)||"No description",image:{type:"image",url:Iw[t],alt:"Icon of a digital notepad."}}}}function Kw(e,t){const i=new Map;for(const e of t){const t=e._bookmark;if(!t)continue;let r=i.get(t);r||(r={marksCount:0,notesCount:0},i.set(t,r)),r.marksCount++,Yv(e)&&r.notesCount++}return e.map(e=>{const t=i.get(e._id);return{...e,marksCount:(null==t?void 0:t.marksCount)??0,notesCount:(null==t?void 0:t.notesCount)??0}}).sort((e,t)=>$b(e,t,"asc","createdAt"))}const Xw=["ArrowDown","ArrowUp","Enter"];var Jw=(e=>(e[e.bookmarks=bp.bookmarks]="bookmarks",e[e.marks=bp.marks]="marks",e.notes="notes",e.tag="tag",e))(Jw||{});const Zw=Object.values(Jw),Qw={tag:jd.tag,marks:jd.blockquote,notes:jd["feather-edit-3"],bookmarks:jd.globe},e_={tag:"Tags",marks:"Highlights",bookmarks:"Pages",notes:"Notes"};function t_(e){return{...e,searchType:qE(e)?bp.bookmarks:bp.marks}}function i_(e){return{_id:up(),createdAt:0,updatedAt:0,_objectStore:bp.chromesettings,searchType:"tag",...e}}function r_(e){return"tag"===e.searchType}function o_(e,{allMarks:t,allBookmarks:i}){const r=e.toLowerCase(),o=e=>null!=e&&e.toLowerCase().includes(r),n=e=>{if(!e.tags||0===e.tags.length)return!1;for(let t=0;t<e.tags.length;t+=1){const i=e.tags[t];if(i&&i.toLowerCase().includes(r))return!0}return!1},a=[],s=[];for(let e=0;e<t.length;e+=1){const i=t[e];i&&((o(null==i?void 0:i.text)||o(null==i?void 0:i.url)||n(i))&&a.push(i),Yv(i)&&o(i.notes??"")&&s.push(i))}const l=i.filter(e=>o(null==e?void 0:e.title)||o(null==e?void 0:e.url)||n(e)),c=(e,t)=>$b(e,t,"asc","createdAt"),d=a.slice().sort(c),u=l.slice().sort(c),h=Zb({allTags:gv(t,i),searchValue:r});return{marks:d,bookmarks:Hw(u,t),tags:h,marksWithNotes:s}}const n_=e=>`getAllFromObjectStore-${e}`;class a_{constructor(){Ec(this,"dataCache",new Map),Ec(this,"isQueryRunning",new Map)}get db(){var e;return null==(e=mk())?void 0:e.db}async addActionsToCache(e){const t=await this.getAllActions();let i=[...t];for(const r of e)i=t.some(e=>e.id===r.id)?i.map(e=>e.id===r.id?r:e):[...i,r];this.setInDataCache(n_(Ep.actions),i.sort(jm))}getFromDataCache(e){const t=this.dataCache.get(e);return t?t.data:null}setInDataCache(e,t){this.dataCache.set(e,{data:t,timestamp:Date.now()})}clearDataCache(){this.dataCache.clear()}async isActionCompactionNeeded(){var e;const t=await this.getAllActions(),{UPDATE_ACTIONS_THRESHOLD:i}=!1===(null==(e=mk())?void 0:e.environment.production)?Ym.dev:Ym.prod;return t.filter(Lm).length>=i}async getAllFromObjectStore(e){var t;const i=n_(e);try{if(this.isQueryRunning.get(i))return await am(10),this.getAllFromObjectStore(e);this.isQueryRunning.set(i,!0);const r=this.getFromDataCache(i);if(r)return r;const o=null==(t=mk())?void 0:t.db;if(!o)return[];const n=await o.getAllFromObjectStore(e);return this.setInDataCache(i,n),n}catch(e){return console.error(e),[]}finally{this.isQueryRunning.set(i,!1)}}async getAllActions(){return(await this.getAllFromObjectStore(Ep.actions)).sort(jm)}async getAllEntities(){try{return Wm(await this.getAllActions())}catch(e){return console.error(e),[]}}async getMarks(){return(await this.getAllEntities()).filter(WE)}async getBookmarks(){return(await this.getAllEntities()).filter(qE)}async getPageContents(){return(await this.getAllEntities()).filter(XE)}async getTags(){const[e,t]=await Promise.all([this.getMarks(),this.getBookmarks()]);return gv(e??[],t??[])}async getActionsThatNeedSync(){return(await this.getAllActions()).filter(e=>!e.lastSync)}async getSidebarCountData(){const[e,t,i,r]=await Promise.all([this.getTags(),this.getPageContents(),this.getMarks(),this.getBookmarks()]);return{tagsCount:e.length,marksCount:i.length,bookmarksCount:r.length,originsCount:Wy(r).length,imagesCount:i.filter(Ud).length,pageContentsCount:t.length}}async getLearningStatus(){return Ly(await this.getMarks())}async getAllCount(e){return(await this.getAllEntities()).filter(t=>t._objectStore===e).length}async getBookmarksWithCount(){const[e,t]=await Promise.all([this.getBookmarks(),this.getMarks()]);return Kw(e,t)}async getActionsCount(){return(await this.getAllActions()).length}async getMarksForBookmark(e){return(await this.getMarks()).filter(t=>t._bookmark===e._id)}async getLastHighlightedMark(){return(await this.getMarks()).sort((e,t)=>t.createdAt-e.createdAt)[0]||null}async getEntitiesForSearchValue({searchValue:e}){e=e.toLowerCase();const[t,i]=await Promise.all([this.getMarks(),this.getBookmarks()]);return o_(e,{allMarks:t,allBookmarks:i})}async getMarksForTag(e){return(await this.getMarks()).filter(t=>t.tags.some(t=>t.toLowerCase()===e.toLowerCase()))}async getMarksForDomain(e){return(await this.getMarks()).filter(t=>{var i;return(null==(i=Gg(t.url))?void 0:i.toLowerCase())===e.toLowerCase()})}async getBookmarksForTag(e){const[t,i]=await Promise.all([this.getMarks(),this.getBookmarks()]),r=i.filter(t=>t.tags.some(t=>t.toLowerCase()===e.toLowerCase()));return Hw(r,t)}async getBookmarksForDomain(e){const[t,i]=await Promise.all([this.getMarks(),this.getBookmarks()]);return i.filter(t=>Gg(t.url).toLowerCase()===e.toLowerCase()).map(e=>{const i=t.filter(t=>t._bookmark===e._id);return{...e,marksCount:i.length,notesCount:i.filter(Yv).length}})}async getAllOrigins(){return Wy(await this.getBookmarks()??[])}async getUnReachablePageContents(){const[e,t]=await Promise.all([this.getPageContents(),this.getBookmarks()]);return function({allPageContents:e,allBookmarks:t}){return e.filter(i=>(e=>!t.some(t=>ff(t.url,e.url)))(i)||(t=>e.some(e=>ff(e.url,t.url)&&e.createdAt>t.createdAt))(i))}({allPageContents:e,allBookmarks:t})}async getBookmarkForUrl({currentUrl:e,canonicalLink:t,asin:i}){return(await this.getBookmarks()).find(r=>i?Sd(r)&&r.asin===i:mf(r,e,t))??null}async getPageContentForUrl(e){var t,i;return(null==(i=null==(t=(await this.getPageContents()).filter(t=>ff(t.url,e.url)))?void 0:t.sort((e,t)=>t.createdAt-e.createdAt))?void 0:i[0])||null}async getContentEntitiesThatNeedSync(){var e;try{return(null==(e=this.db)?void 0:e.getContentEntitiesThatNeedSync())||[]}catch(e){return console.error(e),[]}}async getEntityById(e){const t=await this.getAllEntities();return Array.isArray(t)&&t.length?t.find(t=>t._id===e._id):null}async getBookmark(e){return this.getEntityById({_id:e._id})}async getBackupData(){const e=await this.getAllEntities(),t=e.filter(WE),i=e.filter(qE),r=e.filter(KE),o=e.filter(XE),n=e.filter(JE);return{marks:t,bookmarks:i,chromeSettings:r[0]||Dp,pagecontents:o,aichats:n}}async getAiChats(){return(await this.getAllEntities()).filter(JE)}async getAiChatByReferenceId(e){return(await this.getAiChats()).find(t=>t._referenceId===e)??null}async getPageContentSizeUsedInBytes(){return(await this.getPageContents()).reduce((e,t)=>e+t.length,0)}async getAllActionsForEntityType(e){return(await this.getAllActions()).filter(t=>t.entityType===e)}async getContentEntities(e){var t;return(null==(t=this.db)?void 0:t.getContentEntities(e))??[]}async getContentEntity(e){var t;return(null==(t=this.db)?void 0:t.getContentEntity(e))??null}}const s_=new a_,l_=new _d(s_),c_={};async function d_(e,t){const{chromeSyncService:i}=fk(),r=await s_.getEntityById({...e});if(!r)return;const o={...r,...e,modifiedAt:null!=t&&t.keepModifiedAtTheSame?r.modifiedAt||r.updatedAt:Date.now()};return await l_.createOrUpdateEntities({entityType:bp.marks,entities:[o]}),o._bookmark&&await h_({_id:o._bookmark,updatedAt:Date.now()}),Bk.dispatch("updatedMark",{detail:{...o}}),i.executeSync(),o}async function u_(e){const{chromeSyncService:t}=fk(),[i,r]=await Promise.all([s_.getEntityById({_id:e}),s_.getAiChatByReferenceId(e)]);await l_.markEntitiesAsDeleted({entityType:bp.bookmarks,entities:[{_id:e}]}),r&&await l_.markEntitiesAsDeleted({entityType:bp.aichats,entities:[{_id:r._id}]}),Bk.dispatch("deletedBookmark",{detail:{_id:e}}),null!=i&&i.url&&await A_({url:i.url}),t.executeSync()}async function h_(e,t){t={...c_,...t};const{chromeSyncService:i}=fk(),r=await s_.getEntityById({...e});if(!r)return;const o={...r,...e,modifiedAt:null!=t&&t.keepModifiedAtTheSame?r.modifiedAt||r.updatedAt:Date.now()},n=await s_.getMarksForBookmark(r);if(o.isStarred||n.length)try{await l_.createOrUpdateEntities({entityType:bp.bookmarks,entities:[o]}),Bk.dispatch("updatedBookmark",{detail:o})}catch(e){console.error(e)}else await u_(o._id);i.executeSync()}function p_(e){return!!e&&mf(e,location.href,Hy())}async function g_(e){const{chromeSyncService:t}=fk(),i=await s_.getEntityById({_id:e});null!=i&&i._id&&!(null!=i&&i.isStarred)&&((await s_.getMarksForBookmark(i)).length||(u_(i._id),Bk.dispatch("deletedBookmark",{detail:{_id:i._id}}))),t.executeSync()}async function f_(e){const{chromeSyncService:t}=fk();await async function(e){const t=await s_.getMarksForBookmark({_id:e});await async function(e){try{const{chromeSyncService:t}=fk();await l_.markEntitiesAsDeleted({entityType:bp.marks,entities:e}),Bk.dispatch("deletedMarks",{detail:e}),t.executeSync()}catch(e){console.error(e)}}(t)}(e._id),await u_(e._id),t.executeSync()}async function m_(e){const{chromeSyncService:t}=fk();if(await l_.markEntitiesAsDeleted({entityType:bp.marks,entities:[e]}),Bk.dispatch("deletedMark",{detail:{...e}}),e._bookmark)await g_(e._bookmark);else{const t=await s_.getEntityById({_id:e._id});null!=t&&t._bookmark&&await g_(t._bookmark)}t.executeSync()}async function b_(e,t={}){const{chromeSyncService:i}=fk(),r=await Rp.updateChromeSettings(e,t);typeof e.preferredColorMode<"u"&&vd(e.preferredColorMode),Bk.dispatch("updatedChromeSettings",{detail:r}),i.executeSync()}async function y_(e){var t;const i=await Rp.getChromeSettings(),r={...(null==(t=i.integrations)?void 0:t.find(t=>t.id===e.id))??{},...e},o=[...(i.integrations??[]).filter(e=>e.id!==r.id),r];return b_({integrations:o})}async function v_(e){const{chromeSyncService:t}=fk();return await l_.createOrUpdateEntities({entityType:bp.bookmarks,entities:[e]}),Bk.dispatch("addedBookmark",{detail:e}),t.executeSync(),e}async function w_(e){const{chromeSyncService:t}=fk();return await l_.createOrUpdateEntities({entityType:bp.marks,entities:[e]}),t.executeSync(),Bk.dispatch("addedMark",{detail:{...e}}),e}async function __(e,{isIgnoreStorageLimit:t}={}){const{isStorageLimitReached:i}=await Dw();if(i&&!t)return JT({settingsView:"documents"}),null;const{chromeSyncService:r}=fk();return await l_.createOrUpdateEntities({entityType:bp.pagecontents,entities:[e]}),r.executeSync(),Bk.dispatch("updatedPageContent",{detail:e}),e}async function T_(e){const{chromeSyncService:t}=fk(),i={...e,updatedAt:Date.now(),modifiedAt:Date.now(),wasUpdatedLastFromAppType:fk().appConfig.appType};await l_.createOrUpdateEntities({entityType:bp.aichats,entities:[i]}),t.executeSync(),Bk.dispatch("updatedAiChat",{detail:i})}async function A_(e){const{chromeSyncService:t}=fk(),i=await s_.getPageContentForUrl(e);i&&(await l_.markEntitiesAsDeleted({entityType:bp.pagecontents,entities:[{_id:i._id}]}),Bk.dispatch("deletedPageContent",{detail:{_id:i._id}}),t.executeSync())}async function E_(){const e=await NA.getJwtPayload();if(null!=e&&e.email)try{await fk().httpFacade.resendEmailConfirmation(e.email),alert(`Confirmation email has been sent to your email ${e.email}. Please check your inbox and also your SPAM folder.`)}catch{alert(`Something went wrong while resending the confirmation email to your email ${e.email}..`)}else alert("You are not logged in. Please login to resend the confirmation email.")}async function k_(){const e=await Rp.getValue("isEmailActivated");if("boolean"==typeof e)return e;const{userInfo:t}=await CA();return!(null==t||!t.isEmailActivated)}function S_({text:e,backgroundColor:t,textColor:i}){Hc.sendRuntimeMessage({id:"setBadge",detail:{text:e,backgroundColor:t,textColor:i}})}async function x_(e){try{const t=await fk().httpFacade.getContent(bp.aichats,e._id);if(!t)return null;const i={entityId:e._id,body:t??[],contentType:"application/json",entityType:bp.aichats,needsSync:0,contentLength:(t??[]).map(e=>{var t;return(null==(t=e.content)?void 0:t.length)??0}).reduce((e,t)=>e+t,0)};return await l_.createOrUpdateContents([i]),i}catch(e){return console.error(e),null}}async function C_(e){try{const t=await fk().httpFacade.getContent(bp.pagecontents,e._id);if(!t)return await A_({url:e.url}),null;const i={entityId:e._id,body:t,contentType:"application/json",entityType:bp.pagecontents,needsSync:0,contentLength:t.length};return await l_.createOrUpdateContents([i]),i}catch(e){return console.error(e),null}}function I_(e,t){if(e[0]>="-"&&e[0]<="9"){const t=Number(e);return isNaN(t)?e:t}if("true"===e)return!0;if("false"===e)return!1;if("null"===e||0===e.length&&!t)return null;if("{"===e[0]||"["===e[0])try{return JSON.parse(e)}catch{}return e}function N_(e,t){return D_(e,t)||O_(e,t)}function D_(e,t){return e.charCodeAt(t)===L_}function O_(e,t){return e.charCodeAt(t)===P_&&e.charCodeAt(t+1)===L_}const L_=10,P_=13;function R_(e,t){const i=!1!==(null==t?void 0:t.header),r=function(e){if(1!==e.length)throw new Error(`Invalid delimiter: must be a single character but is "${e}"`);return e}((null==t?void 0:t.delimiter)||",").charCodeAt(0),o=(null==t?void 0:t.parseValue)||I_,n=[];let a=0;const s=function(){const e=[];return c((t,r)=>{e.push(i?String(t):`Field ${r}`)},e=>e),i||(a=0),e}(),l=null!=t&&t.fields?function(e,t){const i=[];for(let r of t){const t=void 0!==r.index?r.index:e.indexOf(r.name);if(-1===t)throw new Error(`Field "${r.name}" not found in the csv data`);if(i[t])throw new Error(`Duplicate field for index ${t}`);i[t]=r}return i}(s,Array.isArray(null==t?void 0:t.fields)?null==t?void 0:t.fields:null==t?void 0:t.fields(s)):function(e,t){return function(e){const t=new Set;return e.map(e=>{let i=e,r=0;for(;t.has(i);)r++,i=e+"_"+r;return t.add(i),i})}(e).map(e=>{const i=function(e){const t=[];let i=0;for(;i<e.length;)if("."===e[i]&&i++,"["===e[i]){if(i++,'"'===e[i])i++,t.push(r(e=>'"'===e,!0)),o('"');else{const e=r(e=>"]"===e);t.push(e)}o("]")}else t.push(r(e=>"."===e||"["===e));function r(t){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o="";for(;i<e.length&&!t(e[i]);)r&&"\\"===e[i]&&'"'===e[i+1]?(o+='"',i+=2):(o+=e[i],i++);return!r&&/^ *\d+ *$/.test(o)?parseInt(o):o}function o(t){if(e[i]!==t)throw new SyntaxError(`Invalid JSON path: ${t} expected at position ${i}`);i++}return t}(e),r=i[0];return{name:e,setValue:0!==i.length&&t?1===i.length?(e,t)=>e[r]=t:(e,t)=>function(e,t,i){let r=e;const o=t.length-1;let n=0;for(;n<o;){const e=t[n];void 0===r[e]&&("number"==typeof t[n+1]?r[e]=[]:r[e]={}),r=r[e],n++}return r[t[o]]=i,e}(e,i,t):(t,i)=>t[e]=i}})}(s,!1!==(null==t?void 0:t.nested));for(;a<e.length;){const e={};c((t,i)=>{var r;null==(r=l[i])||r.setValue(e,t)},o),n.push(e)}return n;function c(t,i){let o=0;for(;a<e.length&&!N_(e,a);)t(d(i),o),o++,e.charCodeAt(a)===r&&a++;D_(e,a)?a++:O_(e,a)&&(a+=2)}function d(t){const i=a;if(34===e.charCodeAt(a)){do{for(a++;34===e.charCodeAt(a)&&34===e.charCodeAt(a+1);)a+=2}while(a<e.length&&34!==e.charCodeAt(a));if(34!==e.charCodeAt(a))throw new Error('Unexpected end: end quote " missing');return a++,t(e.substring(i+1,a-1).replaceAll(M_,'"'),!0)}for(;a<e.length&&e.charCodeAt(a)!==r&&!N_(e,a);)a++;return t(e.substring(i,a),!1)}}const M_=/""/g,B_="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAIAAAAlC+aJAAADm0lEQVR42uyaa0/rOBCGaye9Q0UBVYj9//+MbcK2TXrL3XH2rX0OlB4kmngOTiT8oR8gdf3MvDMej+NWVdXr8uC9jo8fgB+AH4COD/fvTV2qgTTNOXMch3OnGwB5ngfBJstSKaXaZBhjp08wjEbj+fy+3+8T/hwj3Mhg79dXP00TNSUMD32elq4/waNg2GQyXiye1H/bBACT+74HBrXKryKPO8/P/7iu+/Wj3xPEkI3nLctSnCzMrvFVsVy+KNoWZCFoQ61eMnbtbHhSytL3l0pXtgE2m7UQRX1JM/jteDxYBoAMouigdFNbzfgW4A2FZAqw3QaQgUksqqxV2QHADx+Px6oyyiRBEFgDEEJAANhoTSYpiryqpB2AJEnULmu2EzFWFIUdAOQQQ/3oEcdRYxVxsxQkSDZyeNKCB7B0tXkReACxZMED1WlIivX3TPZjIwD1SQCgbPHtHtDlPomEbO3EZAcJZQULMUBpyMazcTOzUa2+uRQNAZj1zqprAkAYwBY8oE7ljCSUTQ743MwDNBLCCdOCB7TlSGohx3HsADgOJ4kD13XsVKOuS3PBMx5P7XhA/TBBX2M4HNg50AyHQ0bR2nMc1w7AYDBQcSwNdwAEsR0A1amdGsbxfP5gokNTBT88LFy33/hE0u8PZrOZiQUIJCxl6XleliV1DTkeE/TZadrrmMTz/k2S9Poe0c3N7ePjwnwX4VSlmCoHqlp7CEktSHbJJ0RRq0cUxzGJ82kAEAZCiFpizvOsRQBhGOKIX7fDHsdRKwDKstzv9w0EvV6vzW9ommchfBG6T5Jkuw3LUjS44FCh3L+7uxuNxo0v/GoAqF6iyPPicNhDwfoS2zx8tAqQxFBUoza5vZ1hdwMPAQCWWBQ5bJymib4K+N1Bk2fnWEbUmJBvU+mkjMMG/DOZTIbDkS66rgXAX/b73W63VSvGdBUCVJ8eDe8y6vPoxMD0ywrz+f10enOhtEsARNVy+ZJluToxWm4bnttUewYF/NPT87k3+MVzvr/M8xxLb8/q3xoIvdONYLpa/XdewH8ASJIYT7AWrfwTEuweRSE+AYD5kZj1+yW9do/V6vXNCe8AsL26cO/AK1AQObLiJUAQbHrdGShePgAgYwKLsc4ARNFRlyH8rK6S7Vf/hZDeAXa7sHOvIIdh8AsAFQ4SE2MdA0CBg3MIV3qKOpE9/xyoGE4AqHx63Ryo5DlyP3IqY6yLAFDR/wEAAP//rj0uQbClyOAAAAAASUVORK5CYII=",U_="https://web-highlights.com/images/fallback-image.png";function $_(e){return Rp.setValue("notionOAuthToken",e)}async function G_(){return await Rp.getValue("notionOAuthToken")||null}async function F_(){return new Tc.Kj}function H_(e){return"page"===e.object}function z_(e){return e.filter(H_)}function j_(e){return{id:e.id,cover:e.cover,archived:e.archived,createdTime:e.created_time,icon:e.icon,properties:e.properties,parent:e.parent,url:e.url}}function V_(e){return e.results.filter(H_).map(j_)}function W_(e){return{id:e.id,properties:e.properties}}var q_=(e=>(e.unauthorized="unauthorized",e.validation_error="validation_error",e.invalid_grant="invalid_grant",e.unknown_error="unknown_error",e.object_not_found="object_not_found",e))(q_||{});function Y_(e){return(null==e?void 0:e.code)&&(null==e?void 0:e.message)}const K_="notion-full-integration";function X_(e){var t;return"emoji"===(null==(t=e.icon)?void 0:t.type)?e.icon.emoji:""}function J_(e){var t,i,r;return"title"===(null==(i=null==(t=e.properties)?void 0:t.title)?void 0:i.type)&&"text"===(null==(r=e.properties.title.title[0])?void 0:r.type)?e.properties.title.title[0].text.content:e.url}function Z_(e){var t,i,r;const o=["png","jpg","jpeg","webp"];try{const n=new URL(e),a=null==(r=null==(i=null==(t=null==n?void 0:n.pathname)?void 0:t.split("."))?void 0:i.pop())?void 0:r.toLowerCase();return!!a&&o.includes(a)}catch{return!1}}function Q_(e){const t={[Id.BLOCKQUOTE]:e=>({type:"quote",object:"block",quote:{rich_text:[{type:"text",text:{content:e.text}}]}}),[Id.PARAGRAPH]:e=>({type:"paragraph",object:"block",paragraph:{rich_text:[{type:"text",text:{content:e.text}}]}}),[Id.BULLET_LIST_ITEM]:e=>({type:"bulleted_list_item",object:"block",bulleted_list_item:{rich_text:[{type:"text",text:{content:e.text}}]}}),[Id.CODE]:e=>({type:"code",object:"block",code:{language:"javascript",rich_text:[{type:"text",text:{content:e.text}}]}}),[Id.HEADING_1]:e=>({type:"heading_1",object:"block",heading_1:{rich_text:[{type:"text",text:{content:e.text}}]}}),[Id.HEADING_2]:e=>({type:"heading_2",object:"block",heading_2:{rich_text:[{type:"text",text:{content:e.text}}]}}),[Id.HEADING_3]:e=>({type:"heading_3",object:"block",heading_3:{rich_text:[{type:"text",text:{content:e.text}}]}}),[Id.IMAGE]:e=>{const t=Ud(e)?e.imageSrc:U_;return{type:"image",object:"block",image:{type:"external",external:{url:Z_(t)?t:U_}}}}},i=t[e.mediaType??Od](e);return e.richText?[i,{callout:{icon:{emoji:""},color:"gray_background",rich_text:[{text:{content:e.richText},type:"text"}]}}]:t[e.mediaType??Od](e)}async function eT(){return cT(iT.NOTION_EXPORT)}async function tT(){return await eT()>=ad.DAILY_NOTION_API_EXPORT_LIMIT}var iT=(e=>(e.MOBILE_SAVE_BOOKMARK="MOBILE_SAVE_BOOKMARK",e.NOTION_EXPORT="NOTION_EXPORT",e.CAPACITIES_EXPORT="CAPACITIES_EXPORT",e.MARKDOWN_EXPORT="MARKDOWN_EXPORT",e.WEAVA_IMPORT="WEAVA_IMPORT",e.POCKET_IMPORT_CSV="POCKET_IMPORT_CSV",e.POCKET_IMPORT_JSON="POCKET_IMPORT_JSON",e.BOOKMARK_IMPORT_CHROME="BOOKMARK_IMPORT_CHROME",e.DIIGO_IMPORT="DIIGO_IMPORT",e))(iT||{});const rT={NOTION_EXPORT:"x-notion-token",CAPACITIES_EXPORT:"x-capacities-token"},oT={NOTION_EXPORT:jd.notion,MOBILE_SAVE_BOOKMARK:jd.smartphone,MARKDOWN_EXPORT:jd["copy-file"],CAPACITIES_EXPORT:jd.capacities,WEAVA_IMPORT:jd.weava,DIIGO_IMPORT:jd.diigo,POCKET_IMPORT_CSV:jd.pocket,POCKET_IMPORT_JSON:jd.pocket,BOOKMARK_IMPORT_CHROME:jd.bookmark},nT={NOTION_EXPORT:"Notion",CAPACITIES_EXPORT:"Capacities",MARKDOWN_EXPORT:"Markdown Export",MOBILE_SAVE_BOOKMARK:"Mobile Export",WEAVA_IMPORT:"Weava Import",DIIGO_IMPORT:"Diigo Import",POCKET_IMPORT_CSV:"Pocket Import (.csv)",POCKET_IMPORT_JSON:"Pocket Annotations Import (.json)",BOOKMARK_IMPORT_CHROME:"Import browser bookmarks"};function aT(e){return"NOTION_EXPORT"===(null==e?void 0:e.id)}function sT(e){return"CAPACITIES_EXPORT"===(null==e?void 0:e.id)}function lT({integrationId:e,token:t}){"NOTION_EXPORT"===e?$_(t):console.warn(`Token handler for '${e}' integration not set.`)}async function cT(e){var t;const i=await s_.getBookmarks();return(null==(t=null==i?void 0:i.filter(t=>{var i,r;const o=null==(r=null==(i=t.integrationPages)?void 0:i[e])?void 0:r.createdAt;if("number"!=typeof o)return!1;const n=new Date(o),a=new Date(Date.now());return n.getDate()===a.getDate()&&n.getMonth()===a.getMonth()&&n.getFullYear()===a.getFullYear()}))?void 0:t.length)??0}function dT(e){try{return R_(e,{delimiter:","})}catch{throw new Error("Could not parse given CSV content")}}function uT(e){try{return R_(e,{delimiter:","})}catch{throw new Error("Could not parse given CSV content")}}function hT(e){try{return R_(e,{delimiter:","})}catch{throw new Error("Could not parse given CSV content")}}function pT(e){try{return JSON.parse(e)}catch{throw new Error("Could not parse given JSON content")}}function gT(e){const t=[];return e.forEach(e=>{if(!t.some(t=>t.url===e.URL)){const i={...xp(bp.bookmarks),url:e.URL,tags:[],title:e["Website Title"]??"",origin,permission:kd.PRIVATE,type:"normal",isStarred:!0,fileImportType:"weava"};t.push(i)}}),t}function fT(e){const t=[];return e.forEach(e=>{var i;if(!t.some(t=>t.url===e.url)){const r={...xp(bp.bookmarks),url:e.url,createdAt:1e3*e.time_added,tags:(null==(i=e.tags)?void 0:i.toString().split("|"))??[],title:e.title??"",origin,permission:kd.PRIVATE,type:"normal",isStarred:!0,fileImportType:"pocket"};t.push(r)}}),t}function mT(e){const t=[];return e.forEach(e=>{var i;if(!t.some(t=>t.url===e.url)){const r={...xp(bp.bookmarks),url:e.url,createdAt:pb(e.created_at).getTime(),tags:((null==(i=e.tags)?void 0:i.toString().split(","))??[]).map(e=>e.trim()).filter(e=>"no_tag"!==e),title:e.title??"",description:e.description??"",origin,permission:kd.PRIVATE,type:"normal",isStarred:!0,fileImportType:"diigo"};t.push(r)}}),t}function bT(e){return{...xp(bp.marks),url:e.URL,tags:[],color:e["Highlight Color Code"],text:e["Highlighted Text/Image URL"],notes:e.Note??null}}function yT(e,t){const i=document.createElement("div");return e.annotations.split("Highlight:").map(e=>e.trim()).filter(e=>!!e).map(r=>{var o,n;const a=null==(o=r.split("Sticky notes:"))?void 0:o[1],s=(null==(n=null==r?void 0:r.split("Sticky notes:"))?void 0:n[0])??r;i.innerHTML=s;const l=i.textContent??s;return{...xp(bp.marks),createdAt:pb(e.created_at).getTime(),url:e.url,tags:[],color:t,text:l.replaceAll("\n"," ").trim(),notes:`${a??""}`.replaceAll("\n"," ").trim()}})}function vT(e){return e.highlights.map(t=>({...xp(bp.marks),url:e.url,tags:[],color:Dp.defaultHighlightColor,text:t.quote,notes:null}))}var wT=(e=>(e.WEAVA="weava",e.POCKET="pocket",e.BROWSER_BOOKMARKS="browserBookmarks",e.DIIGO="diigo",e))(wT||{});const _T={weava:{title:"Weava",description:"Import highlights from Weava"},pocket:{title:"Pocket",description:"Import highlights from Pocket"},diigo:{title:"Diigo",description:"Import highlights from Diigo"},browserBookmarks:{title:"Bookmarks",description:"Import bookmarks from your browser"}};async function TT(e){const t=dT(e),i=gT(t),r=t.map(e=>{var t;return{...bT(e),_bookmark:null==(t=i.find(t=>t.url===e.URL))?void 0:t._id}}).filter(e=>!!e._bookmark);return{bookmarks:i,marks:r}}async function AT(e){return{bookmarks:fT(uT(e)),marks:[]}}async function ET(e){const t=hT(e),i=mT(t),r=await Rp.getChromeSettings(),o=(null==r?void 0:r.defaultHighlightColor)??Dp.defaultHighlightColor,n=t.flatMap(e=>yT(e,o)).map(e=>{var t;return{...e,_bookmark:null==(t=i.find(t=>t.url===e.url))?void 0:t._id}}).filter(e=>!!e._bookmark);return{bookmarks:i,marks:n}}function kT(e){const t=[];return e.forEach(e=>{if(!t.some(t=>t.url===e.url)){const i={...xp(bp.bookmarks),url:e.url,tags:[],title:e.title,origin,permission:kd.PRIVATE,type:"normal",isStarred:!0,fileImportType:"pocket"};t.push(i)}}),t}async function ST(e){try{const t=pT(e),i=kT(t),r=t.flatMap(vT).map(e=>{var t;return{...e,_bookmark:null==(t=i.find(t=>t.url===e.url))?void 0:t._id}});return{bookmarks:i,marks:r}}catch{throw new Error("Could not parse given JSON content")}}function xT(e,t){return e.tags=[...e.tags??[],...t],function(e){var t;return"folder"===e.type&&!(null==(t=e.children)||!t.length)}(e)?e.children.map(i=>xT(i,[...t??[],e.title])).flat(1):[e]}function CT(e){var t;return{...xp(bp.bookmarks),url:e.url,title:e.title,tags:(null==(t=e.tags)?void 0:t.map(e=>e.toString()))??[],permission:kd.PRIVATE,type:"normal",isStarred:!0,origin,fileImportType:"browserBookmarks"}}function IT(e){if(!function(e){return"link"===e.type}(e))return!1;try{const t=new URL(e.url);return!!t.toString()&&"javascript:"!==t.protocol}catch(e){return console.log(e),!1}}function NT(e){return(0,Gl.bookmarksToJSON)(e,{formatJSON:!0,stringify:!1}).map(e=>xT(e,[])).flat(1).filter(IT).map(CT)}async function DT(e,t){if("weava"===t.type)return TT(e);if("diigo"===t.type)return ET(e);if("pocket"===t.type){if("text/csv"===t.fileFormat)return AT(e);if("application/json"===t.fileFormat)return ST(e)}if("browserBookmarks"===t.type&&"text/html"===t.fileFormat)return{bookmarks:NT(e),marks:[]};throw new Error(`Invalid file type: ${t.type}`)}function OT(e){BT({content:`Invalid file. Try to upload a ${e.fileExtension} file from ${_T[e.type].title}`,variant:"error",uniqueId:`invalid-${e}-file`,duration:5e3})}async function LT(e,t={}){const[i,r]=await Promise.all([t.existingBookmarksOverrideForTesting??s_.getBookmarks()??[],t.existingMarksOverrideForTesting??s_.getMarks()??[]]),o=e.bookmarks.filter(e=>!i.some(t=>ff(t.url,e.url))),n=e.marks.filter(e=>!r.some(t=>ff(t.url,e.url)&&t.text===e.text)).map(e=>{if(o.find(t=>t._id===e._bookmark))return e;const t=i.find(t=>ff(t.url,e.url));return t?{...e,_bookmark:t._id}:null}).filter(Sm);return{uniqueBookmarks:o,uniqueMarks:n}}class PT{constructor(e){this.httpClient=e}async login(e){const t=await this.httpClient.post({url:"/auth",body:e});return NA.setJwt(t.token),t.token}async register(e){const t=await this.httpClient.post({url:"/users/register",body:e});return NA.setJwt(t.token),t.token}async resendEmailConfirmationLink(e){await this.httpClient.post({url:`/users/resend-email-confirmation?email=${e}`,body:{}})}async changePassword(e){return this.httpClient.post({url:"/users/change-password",body:e})}async sendPasswordResetEmail(e){return this.httpClient.post({url:`/users/reset-password?email=${e}`,body:{}})}async resetPasswordWithToken(e,t){return this.httpClient.post({url:`/password-reset?token=${e}`,body:{password:t}})}async deleteUser(){return this.httpClient.delete({url:"/users/delete"})}logout(){NA.setJwt("")}}function RT(){return document.querySelector(Sv.Toasts.TAG)}function MT(){let e=RT();e||(e=document.createElement(Sv.Toasts.TAG),document.body.append(e))}function BT(e){MT(),setTimeout(()=>{Bk.dispatch("showToast",{detail:e})},0)}function UT(){return BT({content:"Something went wrong. Try again later.",uniqueId:"something-went-wrong",variant:"error"})}const $T=150,GT=2500;var FT=(e=>(e.pricing="pricing",e.loading="loading",e.datetimepicker="datetimepicker",e["bookmark-details"]="bookmark-details",e["chrome-rating-prompt"]="chrome-rating-prompt",e["upgrade-deal-prompt"]="upgrade-deal-prompt",e["sign-up-prompt"]="sign-up-prompt",e["notifications-list"]="notifications-list",e.auth="auth",e["upgrade-needed"]="upgrade-needed",e.search="search",e.settings="settings",e["image-viewer"]="image-viewer",e["backup-or-sync-prompt"]="backup-or-sync-prompt",e["learning-dashboard"]="learning-dashboard",e["learning-reminder"]="learning-reminder",e["page-content-preview"]="page-content-preview",e["auto-download-prompt"]="auto-download-prompt",e["delete-entity-list"]="delete-entity-list",e["spread-the-word-prompt"]="spread-the-word-prompt",e["add-content"]="add-content",e["create-bookmark"]="create-bookmark",e["youtube-loading"]="youtube-loading",e))(FT||{});function HT(e){xv([Sv.Dialog.TAG],{lazy:!1});const t=Sv.Dialog.TAG;let i=document.querySelector(Sv.Dialog.TAG);e.keepCurrentDialog&&(i=null);const r=!!i;return i||(i=document.createElement(t)),i.props=e,i.props.onDialogClosed=t=>{null==i||i.remove(),e.dialogClosedCallback&&e.dialogClosedCallback(t)},r||document.body.append(i),i}function zT(){const e=document.querySelector(Sv.Dialog.TAG);"function"==typeof(null==e?void 0:e.dialogCancelled)&&e.dialogCancelled()}function jT(e,t){HT({dialogName:"upgrade-needed",options:{closable:!0,props:{...e.props??{},showLogo:!0},...e},...t})}function VT(e){HT({dialogName:"settings",options:{headerOptions:{showCloseButton:!0},props:{view:"integrations",integrationProps:{selectedIntegration:e}}}})}function WT(){VT(iT.NOTION_EXPORT)}function qT(){VT(iT.CAPACITIES_EXPORT)}const YT=()=>{HT({dialogName:"backup-or-sync-prompt",options:{headerOptions:{showLogo:!0,showCloseButton:!0}}})},KT=(e,t)=>{HT({dialogName:"learning-dashboard",dialogClosedCallback:()=>(async()=>{await b_({lastTeaserClosedDateInMillis:Date.now()}),null==t||t()})(),options:{headerOptions:{showLogo:!0,showCloseButton:!0,logoHeadline:"Learning progress"},props:e}})};function XT({chromeSettings:e,unsyncedEntitiesCount:t}){var i;const r=e.showBackupDialogPrompt,o=e.backupDialogPromptInterval,n=Cp(t),a=t>=o&&r&&!(null!=(i=null==e?void 0:e.dismissedBackupPromptIds)&&i.includes(n))&&t>=o&&t%o===0;return a&&b_({dismissedBackupPromptIds:[...e.dismissedBackupPromptIds??[],n]}),a}const JT=e=>{HT({dialogName:"settings",options:{props:{view:null==e?void 0:e.settingsView,authProps:{onOAuthStarted:()=>Mf(),userService:new PT(fk().httpFacade.httpClient),authType:"signUp"},integrationProps:{selectedIntegration:null==e?void 0:e.selectedIntegration}},headerOptions:{openPageCallback:()=>location.href=`${fk().environment.FRONTEND_URL}/settings`,showCloseButton:!0,showLogo:!1}}})};function ZT(e,t){const{httpFacade:i,environment:r,appConfig:o}=fk(),n={httpFacade:i,appConfig:o,getMetaData:async e=>i.getMetaData(e),...e};HT({dialogName:"bookmark-details",options:{closable:!1,headerOptions:{showCloseButton:!0,openPageUrl:n.bookmark?$w(r,n.bookmark):void 0},props:{...n,isPopup:!0,openInBtnType:"page"},...t}})}const QT=(e,t)=>{HT({dialogName:"chrome-rating-prompt",closeOnBackdropClick:!1,options:{closable:!1},dialogClosedCallback:t=>(async t=>{Rp.setValue("chromeRatingPromptDismissed",!0),await b_({chromeRatingPromptDismissed:!0}),"function"==typeof e&&e(),"confirm"===t.type&&setTimeout(()=>{Xg(fk().appConfig.storePublishUrl)})})(t),...t??{}})},eA=(e,t)=>{HT({dialogName:"upgrade-deal-prompt",closeOnBackdropClick:!1,options:{closable:!1},dialogClosedCallback:t=>(async t=>{Rp.setValue("upgradeDealPromptDismissed",!0),await b_({upgradeDealPromptDismissed:!0}),"function"==typeof e&&e(),"confirm"===t.type&&setTimeout(async()=>{await NA.isLoggedIn()?Xg(fk().environment.FRONTEND_URL+"/pricing"):Bk.dispatch("loginNeeded",{detail:{authType:"signUp"}})})})(t),...t??{}})},tA=(e,t)=>{HT({dialogName:"sign-up-prompt",closeOnBackdropClick:!1,options:{closable:!1},dialogClosedCallback:t=>(async t=>{Rp.setValue("signUpPromptDismissed",!0),await b_({signUpPromptDismissed:!0}),"function"==typeof e&&e(),"confirm"===t.type&&setTimeout(async()=>{await NA.isLoggedIn()?Xg(fk().environment.FRONTEND_URL+"/pricing"):Bk.dispatch("loginNeeded",{detail:{authType:"signUp"}})})})(t),...t??{}})};function iA(e){e.length&&HT({dialogName:"delete-entity-list",options:{closable:!0,props:{actions:e,alertOptions:{icon:jd.info,title:"Some of your content is too large to sync",variant:"warning",text:"Some of your highlights or pages are too large to sync. That means they are not synced to your account \n          and will not be available on other devices and in the web app. \n          You can keep them to use them locally or delete them here."}}}})}const rA=(e,t)=>{HT({dialogName:"spread-the-word-prompt",closeOnBackdropClick:!1,options:{closable:window.innerWidth<900},dialogClosedCallback:t=>(async t=>{Rp.setValue("spreadTheWordPromptDismissed",!0),await b_({spreadTheWordPromptDismissed:!0}),"function"==typeof e&&e(),"confirm"===t.type&&BT({content:"Thank you for spreading the word!",uniqueId:"spread-the-word-prompt",variant:"success"})})(t),...t??{}})};function oA(){jT({props:{headline:"You've Hit Your Daily Limit. Upgrade to highlight unlimited Youtube videos ",hideExpiryInfo:!0}})}function nA(){jT({props:{headline:"You've Hit Your Daily Limit. Upgrade to chat with AI unlimited ",hideExpiryInfo:!0}})}const aA=e=>402===(null==e?void 0:e.status),sA=e=>401===(null==e?void 0:e.statusCode),lA=e=>400===(null==e?void 0:e.statusCode);function cA(e,t){jT({httpFacade:t})}function dA(e){return!(null==e||!e.isBusinessError)}function uA(e){return!!e&&[tv.PREMIUM,tv.ULTIMATE].includes(e)}function hA(e){var t;return!(wA("sync",e)||null!=(t=location.href)&&t.includes("/pricing"))}const pA=864e5,gA=7*pA,fA=365*pA,mA=72580284e5;function bA(e){var t,i,r,o,n,a;if(!e)return tv.OFFLINE;const s=(new Date).getTime(),l=((null==(t=e.userPlan)?void 0:t.expiresDateMillis)??0)>s,c=typeof e.premium>"u"&&typeof(null==(i=e.userPlan)?void 0:i.subscription_id)>"u",d=null==(r=e.userPlan)?void 0:r.type;if(e.premium||c)return l&&d===tv.ULTIMATE?tv.ULTIMATE:tv.PREMIUM;if(l&&e.userPlan&&d){const t=d===tv.PREMIUM&&e.userPlan.expiresDateMillis<17110656e5&&!(null!=(o=e.userPlan)&&o.subscription_id),i=d===tv.PREMIUM&&e.userPlan.expiresDateMillis===mA&&!(null!=(n=e.userPlan)&&n.subscription_id);return t||i?tv.ULTIMATE:d}return(null==(a=e.userPlan)?void 0:a.type)===tv.FREE_TRIAL&&e.userPlan.expiresDateMillis>s?tv.FREE_TRIAL:tv.FREE}function yA(e){const t=(new Date).getTime(),i=(e.expiresDateMillis-t)/1e3/60/60/24;return Math.round(i)}function vA(e){return{expiresDateMillis:(new Date).getTime()+fA,type:e}}function wA(e,t){return EA(e,{activeUserPlan:bA(t??null),user:t})}const _A=1679745752934;function TA(e){var t,i,r;return(null==(t=null==e?void 0:e.userPlan)?void 0:t.type)!==tv.PREMIUM&&(null==(i=null==e?void 0:e.userPlan)?void 0:i.type)!==tv.ULTIMATE&&((null==(r=null==e?void 0:e.userPlan)?void 0:r.type)&&e.userPlan.expiresDateMillis<_A||(null==e?void 0:e.createdAt)&&e.createdAt<_A)}function AA(e,t){return"sync"===e&&1675008111780===(null==t?void 0:t.createdAt)}function EA(e,{activeUserPlan:t,user:i}){return!(!AA(e,i)&&"backup"!==e&&t!==tv.FREE_TRIAL&&t!==tv.ULTIMATE&&("sync"===e?!TA(i)&&t!==tv.PREMIUM:"share"!==e||t!==tv.PREMIUM))}async function kA(e){const t=await NA.getJwtPayload();return{userIsLoggedIn:!!t,userCan:EA(e,{activeUserPlan:bA(t),user:t??null})}}async function SA({refreshToken:e,setJwt:t,onLogin:i,onLogout:r}){const o=()=>{t(""),r()};try{const{token:r}=await e(),n=Zc(r);n?(t(r),i(n,r)):o()}catch(e){sA(e)&&await FE(),o()}}const xA={email:"E-Mail",google:"Google"};async function CA(){const e=await NA.getJwtPayload();let t=null;if(null!=e&&e._id)try{t=await fk().httpFacade.getUserInfo(e._id)}catch{t=null}const i=bA(t??null);return{userPlanChangedForUser:bA(e??null)!==i&&(null==t?void 0:t._id)===(null==e?void 0:e._id),userInfo:t}}class IA extends ed{constructor(){super(Jc)}get chromeStorageIsAvailable(){return Lp()}async getJwt(){return this.chromeStorageIsAvailable?Rp.getValue(Jc):super.getJwt()}async getJwtPayload(){try{return Zc(await this.getJwt())??void 0}catch{return}}async getActivePlan(){return bA(await this.getJwtPayload()??null)}async canSync(){const e=await this.getJwtPayload();return!!e&&wA("sync",e)}async canGenerateUnlimitedAiSummary(){const e=await this.getJwtPayload();return!!e&&wA("unlimited-ai-summary",e)}async canGenerateUnlimitedYoutubeVideo(){const e=await this.getJwtPayload();return!!e&&wA("unlimited-youtube-video",e)}async canGenerateUnlimitedAiChats(){const e=await this.getJwtPayload();return!!e&&wA("unlimited-ai-chats",e)}async isLoggedIn(){return!!await this.getJwtPayload()}setJwt(e){this.chromeStorageIsAvailable?Rp.setValue("jwt_webmarker",e):super.setJwt(e)}}const NA=new IA,DA={ACTIONS:{ENTITY_ID:"entityId",ENTITY_TYPE:"entityType",TIMESTAMP:"timestamp",USER_ID:"_user"},CONTENTS:{ENTITY_ID:"entityId",CONTENT_TYPE:"contentType",ENTITY_TYPE:"entityType",NEEDS_SYNC:"needsSync"}},OA=[Ap.marks,Ap.bookmarks,Ap.chromesettings,Ap.pagecontents,Ap.aichats];class LA{constructor(e){Ec(this,"dbName","WebHighlights"),Ec(this,"version",4),Ec(this,"db"),Ec(this,"indexedDb"),this.indexedDb=e}async dbHasDeprecatedObjectStores(){await this.openDB();const e=this.db.objectStoreNames;return OA.some(t=>e.contains(t))}async runMigrationGarbageCollector(e){try{await new Promise(async(t,i)=>{try{if((await this.getAllEntitiesFromDeprecatedObjectStores()).every(t=>e.some(e=>e._id===t._id))){console.debug("All deprecated object stores have been migrated. Clearing the deprecated object stores...");const e=OA.filter(e=>this.db.objectStoreNames.contains(e)),r=this.db.transaction(e,"readwrite");for(const t of e)r.objectStore(t).clear();r.oncomplete=()=>{t()},r.onerror=e=>{i(e.target.error)}}else console.debug("Some deprecated object stores have not been migrated. Keeping them for now...."),t()}catch(e){console.error("Error during migration garbage collector:",e)}})}catch(e){console.error("Error during migration garbage collector:",e)}}async openDB(e){return new Promise((t,i)=>{const r=this.indexedDb.open(this.dbName,e??this.version),o=async e=>{this.db=e.target.result,null==r||r.removeEventListener("success",o),t(this.db)},n=async e=>{var o;const a=null==(o=e.target.error)?void 0:o.message;if(null!=a&&a.includes("is less than the existing version")){console.warn(`Self-healing db version: '${a}'`);const e=a.match(/\((\d+)\).*\((\d+)\)/);if(e){const r=Number(e[2]);if("number"==typeof r&&Number.isInteger(r)&&r>this.version)try{const e=await this.openDB(r);return void t(e)}catch(e){console.error("Failed to open database with new version:",e),i(e)}}}null==r||r.removeEventListener("error",n),i(e.target.error)};r.addEventListener("success",o),r.addEventListener("error",n),r.onupgradeneeded=async e=>{this.initObjectStores(e)}})}initObjectStores(e){const t=e.target.result;if(!t.objectStoreNames.contains(Ep.actions)){const e=t.createObjectStore(Ep.actions,{keyPath:"id"});e.createIndex(DA.ACTIONS.ENTITY_ID,DA.ACTIONS.ENTITY_ID,{unique:!1}),e.createIndex(DA.ACTIONS.ENTITY_TYPE,DA.ACTIONS.ENTITY_TYPE,{unique:!1}),e.createIndex(DA.ACTIONS.TIMESTAMP,DA.ACTIONS.TIMESTAMP,{unique:!1}),e.createIndex(DA.ACTIONS.USER_ID,DA.ACTIONS.USER_ID,{unique:!1})}if(!t.objectStoreNames.contains(Ep.contents)){const e=t.createObjectStore(Ep.contents,{keyPath:nv});e.createIndex(DA.CONTENTS.CONTENT_TYPE,DA.CONTENTS.CONTENT_TYPE),e.createIndex(DA.CONTENTS.ENTITY_TYPE,DA.CONTENTS.ENTITY_TYPE),e.createIndex(DA.CONTENTS.ENTITY_ID,DA.CONTENTS.ENTITY_ID),e.createIndex(DA.CONTENTS.NEEDS_SYNC,DA.CONTENTS.NEEDS_SYNC)}}getObjectStore(e,t){return this.db.transaction(e,t).objectStore(e)}async getDeprecatedChromeSettings(){return(this.db.objectStoreNames.contains(Ap.chromesettings)?await this.getAllFromObjectStore(Ap.chromesettings):[])[0]??null}async getAllEntitiesFromDeprecatedObjectStores(){return[...this.db.objectStoreNames.contains(Ap.marks)?await this.getAllFromObjectStore(Ap.marks):[],...this.db.objectStoreNames.contains(Ap.bookmarks)?await this.getAllFromObjectStore(Ap.bookmarks):[],...this.db.objectStoreNames.contains(Ap.pagecontents)?await this.getAllFromObjectStore(Ap.pagecontents):[],...this.db.objectStoreNames.contains(Ap.aichats)?await this.getAllFromObjectStore(Ap.aichats):[]]}async getAllFromObjectStore(e){return await this.openDB(),new Promise((t,i)=>{const r=this.getObjectStore(e,"readonly").getAll(),o=e=>{null==r||r.removeEventListener("success",o);const i=e.target.result;t(i)},n=()=>{i(),null==r||r.removeEventListener("error",n)};r.addEventListener("success",o),r.addEventListener("error",n)})}async getContentEntitiesThatNeedSync(){await this.openDB();const e=this.db.transaction([Ep.contents],"readonly").objectStore(Ep.contents).index(DA.CONTENTS.NEEDS_SYNC);return new Promise((t,i)=>{const r=e.getAll(1);r.onsuccess=()=>{const e=r.result;t(e)},r.onerror=()=>{console.error("Error getting content entities that need sync:",r.error),i(r.error)}})}async getContentEntities(e){await this.openDB();const t=this.db.transaction([Ep.contents],"readonly").objectStore(Ep.contents).index(DA.CONTENTS.ENTITY_TYPE).getAll(e);return new Promise((e,i)=>{t.onsuccess=()=>{const i=t.result;e(i)},t.onerror=()=>{i(t.error)}})}async clearDatabases(){try{return await this.openDB(),new Promise((e,t)=>{const i=[Ap.marks,Ap.bookmarks,Ap.chromesettings,Ap.pagecontents,Ap.aichats,Ep.actions,Ep.contents].filter(e=>this.db.objectStoreNames.contains(e)),r=this.db.transaction(i,"readwrite");for(const e of i)r.objectStore(e).clear();r.oncomplete=()=>{e()},r.onerror=e=>{t(e.target.error)}})}catch{console.error("Error while clearing database")}}async createOrUpdateActions(e){if(!e.length)return;const t=await this.openDB();return new Promise(async(i,r)=>{const o=t.transaction([Ep.actions],"readwrite"),n=o.objectStore(Ep.actions);for(const t of e)n.put(t);o.oncomplete=async()=>{const t=e.filter(e=>e.type===Nm.DELETE&&av(e.entityType)).map(e=>e.entityId);t.length&&await this.deleteContentEntities(t),i()},o.onerror=e=>{console.error("[createOrUpdateActions] Error creating actions",e),r(o.error)}})}async createOrUpdateContents(e){if(!e.length)return;const t=await this.openDB();return new Promise((i,r)=>{const o=t.transaction([Ep.contents],"readwrite"),n=o.objectStore(Ep.contents);for(const t of e)n.put(t);o.oncomplete=()=>{i()},o.onerror=e=>{console.error("[createOrUpdateContents] Error creating contents",e),r(o.error)}})}async deleteContentEntities(e){if(!e.length)return;const t=await this.openDB();return new Promise((i,r)=>{const o=t.transaction([Ep.contents],"readwrite"),n=o.objectStore(Ep.contents);for(const t of e)n.delete(t);o.oncomplete=()=>{i()},o.onerror=e=>{console.error("[deleteContentEntities] Error deleting content entities",e),r(o.error)}})}async getContentEntity(e){const t=(await this.openDB()).transaction([Ep.contents],"readonly").objectStore(Ep.contents).get(e);return new Promise((e,i)=>{t.onsuccess=()=>e(t.result),t.onerror=()=>i(t.error)})}async getAllUniqueUserIds(){await this.openDB();const e=this.db.transaction([Ep.actions],"readonly").objectStore(Ep.actions).index(DA.ACTIONS.USER_ID);return new Promise((t,i)=>{const r=new Set,o=e.openKeyCursor();o.onsuccess=e=>{const i=e.target.result;i?(r.add(i.key),i.continue()):t(Array.from(r))},o.onerror=()=>i(o.error)})}async getActionIdsForUser(e){await this.openDB();const t=this.db.transaction([Ep.actions],"readonly").objectStore(Ep.actions).index(DA.ACTIONS.USER_ID);return new Promise((i,r)=>{const o=t.getAllKeys(e);o.onsuccess=()=>i(o.result),o.onerror=()=>r(o.error)})}async deleteActionsInTransaction(e){if(e.length)return await this.openDB(),new Promise((t,i)=>{const r=this.db.transaction([Ep.actions],"readwrite"),o=r.objectStore(Ep.actions);for(const t of e)o.delete(t);r.oncomplete=()=>{t()},r.onerror=()=>{console.error("Transaction failed:",r.error),i(r.error)},r.onabort=()=>{console.error("Transaction aborted:",r.error),i(r.error)}})}}class PA{constructor(e){Ec(this,"isFetching",!1),this.environment=e}async fetchConfig(){const e=async e=>{var t;try{const i=e+"/config",r=await fetch(i);return r.ok&&null!=(t=r.headers.get("Content-Type"))&&t.includes("application/json")?await r.json():null}catch{return null}};try{const t=await e(this.environment.BACKEND_URL);if(t)return t;const i=await e(this.environment.BACKEND_URL_FALLBACK);return i||(await e(id.WEBSITE_URL)||null)}catch{return null}}async getParsedConfigFromStorage(){try{const e=await Rp.getValue("serverConfigJsonString");return e?"object"==typeof e?e:JSON.parse(e):null}catch{return Nb}}async fetchAndCacheConfig(){const e=await this.fetchConfig(),t={...Nb,...e,fetchedAtInMillis:Date.now()};return Rp.setValue("serverConfigJsonString",JSON.stringify(t)),t}async getCachedConfig(){const e=await this.getParsedConfigFromStorage(),t=((null==e?void 0:e.fetchedAtInMillis)??0)+((null==e?void 0:e.cacheTtlInMillis)??0);if(e)try{return!e.fetchedAtInMillis||!e.cacheTtlInMillis||t<Date.now()?await this.fetchAndCacheConfig():e}catch{Rp.setValue("serverConfigJsonString",null)}return this.fetchAndCacheConfig()}async getConfig(){if(this.isFetching)return await am(20),this.getConfig();this.isFetching=!0;try{const e=await this.getCachedConfig();return this.isFetching=!1,e}catch(e){return console.error("Error getting config",e),Nb}finally{this.isFetching=!1}}}var RA=function(e,t){return RA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])},RA(e,t)};function MA(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}RA(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}function BA(e,t){var i,r,o,n={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(i)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(n=0)),n;)try{if(i=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return n.label++,{value:s[1],done:!1};case 5:n.label++,r=s[1],s=[0];continue;case 7:s=n.ops.pop(),n.trys.pop();continue;default:if(!(o=(o=n.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){n=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){n.label=s[1];break}if(6===s[0]&&n.label<o[1]){n.label=o[1],o=s;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(s);break}o[2]&&n.ops.pop(),n.trys.pop();continue}s=t.call(e,n)}catch(e){s=[6,e],r=0}finally{i=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}function UA(e){var t="function"==typeof Symbol&&Symbol.iterator,i=t&&e[t],r=0;if(i)return i.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function $A(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var r,o,n=i.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=n.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(i=n.return)&&i.call(n)}finally{if(o)throw o.error}}return a}function GA(e,t,i){if(i||2===arguments.length)for(var r,o=0,n=t.length;o<n;o++)(r||!(o in t))&&(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function FA(e){return this instanceof FA?(this.v=e,this):new FA(e)}function HA(e){return"function"==typeof e}function zA(e){var t=e(function(e){Error.call(e),e.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var jA=zA(function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}});function VA(e,t){if(e){var i=e.indexOf(t);0<=i&&e.splice(i,1)}}var WA=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var e,t,i,r,o;if(!this.closed){this.closed=!0;var n=this._parentage;if(n)if(this._parentage=null,Array.isArray(n))try{for(var a=UA(n),s=a.next();!s.done;s=a.next())s.value.remove(this)}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}else n.remove(this);var l=this.initialTeardown;if(HA(l))try{l()}catch(e){o=e instanceof jA?e.errors:[e]}var c=this._finalizers;if(c){this._finalizers=null;try{for(var d=UA(c),u=d.next();!u.done;u=d.next()){var h=u.value;try{KA(h)}catch(e){o=o??[],e instanceof jA?o=GA(GA([],$A(o)),$A(e.errors)):o.push(e)}}}catch(e){i={error:e}}finally{try{u&&!u.done&&(r=d.return)&&r.call(d)}finally{if(i)throw i.error}}}if(o)throw new jA(o)}},e.prototype.add=function(t){var i;if(t&&t!==this)if(this.closed)KA(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(i=this._finalizers)&&void 0!==i?i:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&VA(t,e)},e.prototype.remove=function(t){var i=this._finalizers;i&&VA(i,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),qA=WA.EMPTY;function YA(e){return e instanceof WA||e&&"closed"in e&&HA(e.remove)&&HA(e.add)&&HA(e.unsubscribe)}function KA(e){HA(e)?e():e.unsubscribe()}function XA(e){!function(e,t){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];setTimeout.apply(void 0,GA([e,t],$A(i)))}(function(){throw e})}function JA(){}function ZA(e){e()}var QA=function(e){function t(t){var i=e.call(this)||this;return i.isStopped=!1,t?(i.destination=t,YA(t)&&t.add(i)):i.destination=rE,i}return MA(t,e),t.create=function(e,t,i){return new tE(e,t,i)},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(WA),eE=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){iE(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){iE(e)}else iE(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){iE(e)}},e}(),tE=function(e){function t(t,i,r){var o,n=e.call(this)||this;return o=HA(t)||!t?{next:t??void 0,error:i??void 0,complete:r??void 0}:t,n.destination=new eE(o),n}return MA(t,e),t}(QA);function iE(e){XA(e)}var rE={closed:!0,next:JA,error:function(e){throw e},complete:JA},oE="function"==typeof Symbol&&Symbol.observable||"@@observable";function nE(e){return e}var aE=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var i=new e;return i.source=this,i.operator=t,i},e.prototype.subscribe=function(e,t,i){var r=this,o=function(e){return e&&e instanceof QA||function(e){return e&&HA(e.next)&&HA(e.error)&&HA(e.complete)}(e)&&YA(e)}(e)?e:new tE(e,t,i);return ZA(function(){var e=r,t=e.operator,i=e.source;o.add(t?t.call(o,i):i?r._subscribe(o):r._trySubscribe(o))}),o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var i=this;return new(t=sE(t))(function(t,r){var o=new tE({next:function(t){try{e(t)}catch(e){r(e),o.unsubscribe()}},error:r,complete:t});i.subscribe(o)})},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[oE]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(e){return 0===e.length?nE:1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}}(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=sE(e))(function(e,i){var r;t.subscribe(function(e){return r=e},function(e){return i(e)},function(){return e(r)})})},e.create=function(t){return new e(t)},e}();function sE(e){var t;return null!==(t=e??undefined)&&void 0!==t?t:Promise}function lE(e){return function(t){if(function(e){return HA(null==e?void 0:e.lift)}(t))return t.lift(function(t){try{return e(t,this)}catch(e){this.error(e)}});throw new TypeError("Unable to lift unknown Observable type")}}function cE(e,t,i,r,o){return new dE(e,t,i,r,o)}var dE=function(e){function t(t,i,r,o,n,a){var s=e.call(this,t)||this;return s.onFinalize=n,s.shouldUnsubscribe=a,s._next=i?function(e){try{i(e)}catch(e){t.error(e)}}:e.prototype._next,s._error=o?function(e){try{o(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,s._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,s}return MA(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var i=this.closed;e.prototype.unsubscribe.call(this),!i&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(QA),uE=zA(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),hE=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return MA(t,e),t.prototype.lift=function(e){var t=new pE(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new uE},t.prototype.next=function(e){var t=this;ZA(function(){var i,r;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var o=UA(t.currentObservers),n=o.next();!n.done;n=o.next())n.value.next(e)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}}})},t.prototype.error=function(e){var t=this;ZA(function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var i=t.observers;i.length;)i.shift().error(e)}})},t.prototype.complete=function(){var e=this;ZA(function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,i=this,r=i.hasError,o=i.isStopped,n=i.observers;return r||o?qA:(this.currentObservers=null,n.push(e),new WA(function(){t.currentObservers=null,VA(n,e)}))},t.prototype._checkFinalizedStatuses=function(e){var t=this,i=t.hasError,r=t.thrownError,o=t.isStopped;i?e.error(r):o&&e.complete()},t.prototype.asObservable=function(){var e=new aE;return e.source=this,e},t.create=function(e,t){return new pE(e,t)},t}(aE),pE=function(e){function t(t,i){var r=e.call(this)||this;return r.destination=t,r.source=i,r}return MA(t,e),t.prototype.next=function(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)},t.prototype.error=function(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:qA},t}(hE),gE=function(){return Date.now()},fE=function(e){function t(t,i){return e.call(this)||this}return MA(t,e),t.prototype.schedule=function(e,t){return this},t}(WA),mE=function(e){function t(t,i){var r=e.call(this,t,i)||this;return r.scheduler=t,r.work=i,r.pending=!1,r}return MA(t,e),t.prototype.schedule=function(e,t){var i;if(void 0===t&&(t=0),this.closed)return this;this.state=e;var r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,t),this},t.prototype.requestAsyncId=function(e,t,i){return void 0===i&&(i=0),function(e,t){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];return setInterval.apply(void 0,GA([e,t],$A(i)))}(e.flush.bind(e,this),i)},t.prototype.recycleAsyncId=function(e,t,i){if(void 0===i&&(i=0),null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&function(e){clearInterval(e)}(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var i,r=!1;try{this.work(e)}catch(e){r=!0,i=e||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,i=this.scheduler,r=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,VA(r,this),null!=t&&(this.id=this.recycleAsyncId(i,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(fE),bE=function(){function e(t,i){void 0===i&&(i=e.now),this.schedulerActionCtor=t,this.now=i}return e.prototype.schedule=function(e,t,i){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(i,t)},e.now=gE,e}(),yE=function(e){function t(t,i){void 0===i&&(i=bE.now);var r=e.call(this,t,i)||this;return r.actions=[],r._active=!1,r}return MA(t,e),t.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}},t}(bE),vE=new yE(mE);var wE=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function _E(e){return HA(null==e?void 0:e.then)}function TE(e){return HA(e[oE])}function AE(e){return Symbol.asyncIterator&&HA(null==e?void 0:e[Symbol.asyncIterator])}function EE(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var kE="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function SE(e){return HA(null==e?void 0:e[kE])}function xE(e){return function(e,t,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=i.apply(e,t||[]),n=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function(e){return function(t){return Promise.resolve(t).then(e,c)}}),r[Symbol.asyncIterator]=function(){return this},r;function a(e,t){o[e]&&(r[e]=function(t){return new Promise(function(i,r){n.push([e,t,i,r])>1||s(e,t)})},t&&(r[e]=t(r[e])))}function s(e,t){try{!function(e){e.value instanceof FA?Promise.resolve(e.value.v).then(l,c):d(n[0][2],e)}(o[e](t))}catch(e){d(n[0][3],e)}}function l(e){s("next",e)}function c(e){s("throw",e)}function d(e,t){e(t),n.shift(),n.length&&s(n[0][0],n[0][1])}}(this,arguments,function(){var t,i,r;return BA(this,function(o){switch(o.label){case 0:t=e.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,FA(t.read())];case 3:return i=o.sent(),r=i.value,i.done?[4,FA(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,FA(r)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function CE(e){return HA(null==e?void 0:e.getReader)}function IE(e){if(e instanceof aE)return e;if(null!=e){if(TE(e))return function(e){return new aE(function(t){var i=e[oE]();if(HA(i.subscribe))return i.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(wE(e))return function(e){return new aE(function(t){for(var i=0;i<e.length&&!t.closed;i++)t.next(e[i]);t.complete()})}(e);if(_E(e))return function(e){return new aE(function(t){e.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,XA)})}(e);if(AE(e))return NE(e);if(SE(e))return function(e){return new aE(function(t){var i,r;try{for(var o=UA(e),n=o.next();!n.done;n=o.next()){var a=n.value;if(t.next(a),t.closed)return}}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}t.complete()})}(e);if(CE(e))return function(e){return NE(xE(e))}(e)}throw EE(e)}function NE(e){return new aE(function(t){(function(e,t){var i,r,o,n;return function(e,t,i,r){return new(i||(i=Promise))(function(o,n){function a(e){try{l(r.next(e))}catch(e){n(e)}}function s(e){try{l(r.throw(e))}catch(e){n(e)}}function l(e){e.done?o(e.value):function(e){return e instanceof i?e:new i(function(t){t(e)})}(e.value).then(a,s)}l((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function(){var a,s;return BA(this,function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),i=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,i=e[Symbol.asyncIterator];return i?i.call(e):(e=UA(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(i){t[i]=e[i]&&function(t){return new Promise(function(r,o){!function(e,t,i,r){Promise.resolve(r).then(function(t){e({value:t,done:i})},t)}(r,o,(t=e[i](t)).done,t.value)})}}}(e),l.label=1;case 1:return[4,i.next()];case 2:if((r=l.sent()).done)return[3,4];if(a=r.value,t.next(a),t.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=l.sent(),o={error:s},[3,11];case 6:return l.trys.push([6,,9,10]),r&&!r.done&&(n=i.return)?[4,n.call(i)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})})(e,t).catch(function(e){return t.error(e)})})}function DE(e,t,i,r,o){void 0===r&&(r=0),void 0===o&&(o=!1);var n=t.schedule(function(){i(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(n),!o)return n}function OE(e,t){return void 0===t&&(t=0),lE(function(i,r){i.subscribe(cE(r,function(i){return DE(r,e,function(){return r.next(i)},t)},function(){return DE(r,e,function(){return r.complete()},t)},function(i){return DE(r,e,function(){return r.error(i)},t)}))})}function LE(e,t){return void 0===t&&(t=0),lE(function(i,r){r.add(e.schedule(function(){return i.subscribe(r)},t))})}function PE(e,t){if(!e)throw new Error("Iterable cannot be null");return new aE(function(i){DE(i,t,function(){var r=e[Symbol.asyncIterator]();DE(i,t,function(){r.next().then(function(e){e.done?i.complete():i.next(e.value)})},0,!0)})})}function RE(e,t,i){return void 0===i&&(i=1/0),HA(t)?RE(function(i,r){return function(e){return lE(function(t,i){var r=0;t.subscribe(cE(i,function(t){i.next(e.call(undefined,t,r++))}))})}(function(e,o){return t(i,e,r,o)})(IE(e(i,r)))},i):("number"==typeof t&&(i=t),lE(function(t,r){return function(e,t,i,r){var o=[],n=0,a=0,s=!1,l=function(){s&&!o.length&&!n&&t.complete()},c=function(e){n++;var s=!1;IE(i(e,a++)).subscribe(cE(t,function(e){t.next(e)},function(){s=!0},void 0,function(){if(s)try{n--;for(var e=function(){var e=o.shift();c(e)};o.length&&n<r;)e();l()}catch(e){t.error(e)}}))};return e.subscribe(cE(t,function(e){return n<r?c(e):o.push(e)},function(){s=!0,l()})),function(){}}(t,r,e,i)}))}function ME(){return RE(nE,1)}function BE(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ME()(function(e,t){return t?function(e,t){if(null!=e){if(TE(e))return function(e,t){return IE(e).pipe(LE(t),OE(t))}(e,t);if(wE(e))return function(e,t){return new aE(function(i){var r=0;return t.schedule(function(){r===e.length?i.complete():(i.next(e[r++]),i.closed||this.schedule())})})}(e,t);if(_E(e))return function(e,t){return IE(e).pipe(LE(t),OE(t))}(e,t);if(AE(e))return PE(e,t);if(SE(e))return function(e,t){return new aE(function(i){var r;return DE(i,t,function(){r=e[kE](),DE(i,t,function(){var e,t,o;try{t=(e=r.next()).value,o=e.done}catch(e){return void i.error(e)}o?i.complete():i.next(t)},0,!0)}),function(){return HA(null==r?void 0:r.return)&&r.return()}})}(e,t);if(CE(e))return function(e,t){return PE(xE(e),t)}(e,t)}throw EE(e)}(e,t):IE(e)}(e,function(e){return function(e){return e&&HA(e.schedule)}(function(e){return e[e.length-1]}(e))?e.pop():void 0}(e)))}class UE extends Error{constructor(e){super(e),this.name="PayloadTooLargeError"}}function $E(e){return e instanceof UE}const GE=(e,t)=>{const i=!e._user,r=!t,o=e._user===(null==t?void 0:t._id);return i||r||o};async function FE(){await NA.getJwtPayload()&&(Bk.dispatch("loginNeeded",{detail:{authType:"signIn"}}),BT({content:"Your token expired. Please login again.",variant:"warn",uniqueId:"token-expired",duration:1e4}))}var HE=(e=>(e.OFFLINE="OFFLINE",e.PREMIUM_REQUIRED="PREMIUM_REQUIRED",e.UP_TO_DATE="UP_TO_DATE",e.NEEDS_SYNC="NEEDS_SYNC",e.SERVER_ERROR="SERVER_ERROR",e.ALL_SERVERS_OFFLINE="ALL_SERVERS_OFFLINE",e.UPDATING="UPDATING",e))(HE||{});function zE(e){return new Set(e.map(e=>e.entityId)).size}const jE=class e{constructor(e){Ec(this,"executeSyncInProgress",!1),Ec(this,"serverSyncInProgress",!1),Ec(this,"_chromeSyncStatus",{chromeSyncState:"OFFLINE",actionsThatNeedSync:[],unsyncedEntitiesCount:0}),Ec(this,"areAllServersOffline",!1),Ec(this,"executeSyncSubscription$"),Ec(this,"executeSync$",new hE),Ec(this,"isContentSyncInProgress",!1),this.options=e,this.startExecuteSyncDebouncer(),this.executeSync()}get chromeSyncStatus(){return this._chromeSyncStatus}set setChromeSyncStatus(e){Bk.dispatch("chromeSyncStatusChanged",{detail:e}),this._chromeSyncStatus=e}async getCurrentUser(){return NA.getJwtPayload()}async resolveChromeSyncState({numberOfActionsThatNeedSync:e}){const t=await this.getCurrentUser();if(!t)return"OFFLINE";const i=bA(t);return this.serverSyncInProgress?"UPDATING":this.areAllServersOffline?"ALL_SERVERS_OFFLINE":i===tv.OFFLINE?"OFFLINE":0===e?"UP_TO_DATE":"SERVER_ERROR"===this.chromeSyncStatus.chromeSyncState?"SERVER_ERROR":EA("sync",{activeUserPlan:i,user:t??null})?"NEEDS_SYNC":"PREMIUM_REQUIRED"}async readChromeSyncStatus(){const e=await s_.getActionsThatNeedSync();return{chromeSyncState:await this.resolveChromeSyncState({numberOfActionsThatNeedSync:(null==e?void 0:e.length)??0}),actionsThatNeedSync:e??[],unsyncedEntitiesCount:zE(e)}}async executeSyncPromise(){return new Promise(e=>{this.executeSync(()=>{e()})})}startExecuteSyncDebouncer(){this.executeSyncSubscription$&&(this.executeSyncSubscription$.unsubscribe(),this.executeSyncSubscription$=void 0),this.executeSyncSubscription$=BE(this.executeSync$.pipe(function(e,t){return void 0===t&&(t=vE),lE(function(e,i){var r=null,o=null,n=null,a=function(){if(r){r.unsubscribe(),r=null;var e=o;o=null,i.next(e)}};function s(){var e=n+200,o=t.now();if(o<e)return r=this.schedule(void 0,e-o),void i.add(r);a()}e.subscribe(cE(i,function(e){o=e,n=t.now(),r||(r=t.schedule(s,200),i.add(r))},function(){a(),i.complete()},void 0,function(){o=r=null}))})}())).subscribe(e=>{this.runSync(e)})}executeSync(e){this.executeSync$.next({callback:e})}runSync({callback:e}){if(this.executeSyncInProgress)this.executeSync$.next({callback:e});else{this.executeSyncInProgress=!0;try{const t=t=>{e&&e(),this.executeSyncInProgress=!1,this.readChromeSyncStatus().then(e=>{t&&(e.chromeSyncState=t),this.setChromeSyncStatus=e,this.checkForBackupOrSyncDialog()}),this.runChromeSettingsSync(),this.runContentSync()};this.readChromeSyncStatus().then(async e=>{this.setChromeSyncStatus=e;const{chromeSyncState:i,actionsThatNeedSync:r}=e;if("OFFLINE"!==i&&"UP_TO_DATE"!==i&&"PREMIUM_REQUIRED"!==i){r.length&&(this.setChromeSyncStatus={...this.chromeSyncStatus,chromeSyncState:"UPDATING"});try{const e=await this.getCurrentUser();if(!e)throw new Error("Can not sync because user is not signed in.");let i=0;const o=20,n=(null==r?void 0:r.length)>o,a=async(t,a,s=o)=>{if(t=t.filter(e=>!e.isTooLargeToSync),!t.length)return;const l=Math.ceil(t.length/s),c=[],d=async t=>{try{await a(t),await this.updateActionsAfterSync(t,e)}catch(e){throw e}};for(let e=0;e<l;e++){const o=async()=>{const o=e*s,a=o+s,l=t.slice(o,a),c=10*e;await am(c);try{await d(l)}catch(e){if(!$E(e))throw e;for(const e of l)try{await d([e])}catch(t){if(!$E(t))throw t;e.isTooLargeToSync=!0}}n&&(i=Math.min(i+s,r.length),Bk.dispatch("chromeSyncProgress",{detail:{current:i,of:r.length}}));const u=t.filter(e=>e.isTooLargeToSync);u.length&&(BT({content:"Content is too large to sync. Click to review.",variant:"error",uniqueId:"too-large-payload",duration:1e4,onContentClick:()=>{iA(this.chromeSyncStatus.actionsThatNeedSync.filter(e=>e.isTooLargeToSync))}}),await l_.createOrUpdateActions(u))};c.push(o)}await Promise.all(c.map(e=>e()))};n&&Bk.dispatch("chromeSyncProgress",{detail:{current:1,of:r.length}}),await a(r,e=>this.options.httpFacade.syncActions({actions:e})),Bk.dispatch("chromeSyncProgress",{detail:{current:r.length,of:r.length}}),this.updateLastSync(),t()}catch(e){console.error("Error during executeSync",e),sA(e)&&(await FE(),Bk.dispatch("loggedOut",{detail:null})),t("SERVER_ERROR")}}else t()})}catch(e){console.error(e)}}}async runContentSync(){if(this.isContentSyncInProgress)setTimeout(async()=>{await this.runContentSync()},100);else try{if(this.isContentSyncInProgress=!0,!await NA.canSync())return;const e=await s_.getContentEntitiesThatNeedSync();for(const t of e)try{await this.options.httpFacade.createContent(t),t.needsSync=0,await l_.createOrUpdateContents([t])}catch(e){$E(e)&&(t.needsSync=0,t.isPayloadTooLargeToSync=!0,await l_.createOrUpdateContents([t])),console.error("Error during 'runContentSync'",e)}}catch(e){console.error("Error during 'runContentSync'",e)}finally{this.isContentSyncInProgress=!1}}async runChromeSettingsSync(){if(!await NA.canSync())return;const e=await Rp.getChromeSettings();e.needsSync&&(await this.options.httpFacade.updateChromeStorage(e),e.needsSync=!1,await b_(e,{skipSync:!0}))}async updateAreAllServersOffline({areAllServersOffline:e}){return this.areAllServersOffline=e,this.updateChromeSyncState()}updateLastSync(e=Date.now()){this.options.lastSyncDateInMillis!==e&&(this.options={...this.options,lastSyncDateInMillis:e},Rp.setValue("lastSyncDateInMillis",e))}async addServerActionsIntoLocalDb(e){const t=await this.getCurrentUser();if(t)try{e.length&&(await l_.createOrUpdateActions(e.map(e=>({...e,lastSync:Date.now(),_user:t._id}))),s_.clearDataCache()),this.executeSync()}catch(e){console.error(e)}finally{this.updateLastSync(),Rp.setValue("lastServerFetchInMillis",Date.now())}}async updateActionsAfterSync(e,t){try{await l_.createOrUpdateActions(e.map(e=>({...e,lastSync:Date.now(),_user:t._id})))}catch(e){console.error("Error during 'updateActionsWithUserIdAfterSync'",e)}}async addContentToPageContents(e,t){return(null==e?void 0:e.map(e=>{var i;return{...e,content:null==(i=t.find(t=>t.url===e.url))?void 0:i.content}}))??[]}async addMessagesToAiChat(e,t){return(null==e?void 0:e.map(e=>{var i;const r=null==(i=t.find(t=>t._id===e._id))?void 0:i.messages;return Array.isArray(r)?{...e,messages:r}:e}))??[]}static create(t){if(e.instance)return e.instance;const i=new e(t);return e.instance=i,i}static createForUnitTests(t){return new e(t)}async updateChromeSyncState(e){const t=await(null==s_?void 0:s_.getActionsThatNeedSync())??[];this.setChromeSyncStatus={chromeSyncState:e||await this.resolveChromeSyncState({numberOfActionsThatNeedSync:t.length}),actionsThatNeedSync:t??[],unsyncedEntitiesCount:zE(t)}}async checkForBackupOrSyncDialog(){var e;const t=this.chromeSyncStatus.unsyncedEntitiesCount,i=await Rp.getChromeSettings();if(t>0&&XT({chromeSettings:i,unsyncedEntitiesCount:t})&&YT(),0===t&&"UP_TO_DATE"===this.chromeSyncStatus.chromeSyncState&&((null==(e=null==i?void 0:i.dismissedBackupPromptIds)?void 0:e.length)??0)>0)return b_({dismissedBackupPromptIds:[]})}async loadActionsFromServer(){this.serverSyncInProgress=!0;try{const e=fk().clientId,t=await s_.getAllActions(),i=t.some(e=>!e.lastSync);if(!t.length||i)return await this.options.httpFacade.loadAllActionsForUser();const r=t.filter(t=>t.clientId!==e).map(e=>e.timestamp),o=t.filter(t=>t.clientId===e).map(e=>e.timestamp),n=null!=r&&r.length?Math.max(...r)??0:null,a=null!=o&&o.length?Math.max(...o)??0:null;return await this.options.httpFacade.loadActionsForSync({clientId:e,latestTimestampForeignClientId:n,latestTimestampInternalClientId:a})}catch(e){throw this.setChromeSyncStatus={...this.chromeSyncStatus,chromeSyncState:"SERVER_ERROR"},e}finally{this.serverSyncInProgress=!1}}};Ec(jE,"instance");let VE=jE;function WE(e){return e._objectStore===bp.marks}function qE(e){return e._objectStore===bp.bookmarks}function YE(e){return e._objectStore===bp.bookmarks&&"number"==typeof e.marksCount&&"number"==typeof e.notesCount}function KE(e){return e._objectStore===bp.chromesettings}function XE(e){return e._objectStore===bp.pagecontents}function JE(e){return e._objectStore===bp.aichats}function ZE(e){return e._objectStore===Ep.actions}function QE(e){return ok(e,bp.marks)}function ek(e){return ok(e,bp.bookmarks)}function tk(e){return ok(e,bp.chromesettings)}function ik(e){return ok(e,bp.pagecontents)}function rk(e){return ok(e,bp.aichats)}function ok(e,t){return{...e,_objectStore:t}}function nk(e){return JE(e)||XE(e)}function ak(e,t){const{_id:i,_user:r,_objectStore:o,...n}=e,a=n;return t===bp.aichats?{...a,messages:void 0}:t===bp.pagecontents?{...a,content:void 0}:a}const sk=()=>`webhighlightsContext${(()=>{try{return _m()?xg():Zg(location.origin)?od.EXTENSION_ID+"Dev":""}catch(e){return console.debug("Error in resolveContextId",e),""}})()}`,lk=()=>{const e=navigator.hardwareConcurrency||0,t=`${screen.width}x${screen.height}`,i=`${navigator.userAgent}_${e}_${t}`;let r=0;for(let e=0;e<i.length;e++)r=(r<<5)-r+i.charCodeAt(e),r&=r;return Math.abs(r).toString(36).substring(0,8)},ck=()=>`${navigator.platform}_${lk()}`,dk=()=>ym(navigator.userAgent)?"edge":wm(navigator.userAgent)?"firefox":"chrome",uk=e=>`${e.appType}_${dk()}_${ck()}`;async function hk(e){const t=pk();if(t)return t;const i=await async function({db:e,httpFacade:t,lastSyncDateInMillis:i,environment:r,appConfig:o,highlighter:n}){const a=new PA(r),s=await a.getConfig();s.backendUrlOverride&&(r.BACKEND_URL=s.backendUrlOverride),s.miscServerUrlOverride&&(r.MISC_SERVER_URL=s.miscServerUrlOverride),s.backendUrlFallbackOverride&&(r.BACKEND_URL_FALLBACK=s.backendUrlFallbackOverride);let l=await Rp.getValue("clientId");if(!l){const e=uk(o);Rp.setValue("clientId",e),l=e}return{chromeSyncService:VE.create({httpFacade:t,lastSyncDateInMillis:i,db:e}),db:e,httpFacade:t,environment:r,appConfig:o,highlighter:n,serverConfigService:a,clientId:l}}(e);return window[sk()]=i,await l_.doMigration(i),i}function pk(){return typeof window>"u"?null:window[sk()]??null}function gk(e){const t=e||pk();return!!(t&&t.chromeSyncService&&t.db&&t.httpFacade)}function fk(){const e=pk();if(!gk(e))throw new Error("Context not initialized. Call 'initContext' first.");return e}function mk(){try{return fk()}catch{return null}}function bk(){window[sk()]=null}const yk={url:"https://web-highlights.com/blog/the-new-web-highlights/",environment:id,metaDataFallback:{},metaData:{title:" The New Web Highlights ",type:"website",description:"Discover Web Highlights' new features: sidebar images, light/dark modes, editable titles, organized history/tags, and popovers. Share your feedback! ",url:"https://web-highlights.com/blog/the-new-web-highlights/",image:{url:"https://web-highlights.com/blog/content/images/2023/12/Screenshot-2023-12-15-at-15.07.32.png",height:1333,type:"",width:2e3,alt:"Thumbnail image"},favicon:"https://web-highlights.com/favicon.ico"}},vk={url:"https://web-highlights.com/blog/how-to-highlight-images/",environment:id,metaDataFallback:{},metaData:{title:"How to Highlight Images with Web Highlights",type:"website",description:"Discover the power of image highlighting with Web Highlights! Easily save images alongside text, bookmarks, and notes. Upgrade now to highlight images!",url:"https://web-highlights.com/blog/how-to-highlight-images/",image:{url:"https://images.unsplash.com/photo-1554048612-b6a482bc67e5?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8c2VhcmNofDR8fHBob3RvZ3JhcGh5fGVufDB8fHx8MTcxMDMzNDM3OXww&ixlib=rb-4.0.3&q=80&w=2000",height:1333,type:"",width:2e3,alt:"Thumbnail image"},favicon:"https://web-highlights.com/favicon.ico"}},wk={url:"https://web-highlights.com/blog/formatted-highlighting-will-change-your-highlighting-experience",environment:id,metaDataFallback:{},metaData:{title:"Introducing Advanced Highlighting ",type:"website",description:"Discover how to better format your highlights with Web Highlights.",url:"https://web-highlights.com/blog/formatted-highlighting-will-change-your-highlighting-experience",image:{url:"https://web-highlights.com/blog/content/images/size/w2000/2024/05/1_VA81svuQcr2dgdndBeDG_Q.png",height:1333,type:"",width:2e3,alt:"Thumbnail image"},favicon:"https://web-highlights.com/favicon.ico"}},_k={url:"https://web-highlights.com/blog/5-helpful-tips-for-efficient-pdf-web-highlighting",environment:id,metaDataFallback:{},metaData:{title:"5 Helpful Tips For Efficient Highlighting",type:"website",description:"Get the most out of Web Highlights with 5 Productivity Highlighting tips!",url:"https://web-highlights.com/blog/5-helpful-tips-for-efficient-pdf-web-highlighting/",image:{url:"https://web-highlights.com/blog/content/images/size/w2000/2024/11/helpful-tips-campaign.png",height:1333,type:"",width:2e3,alt:"Thumbnail image"},favicon:"https://web-highlights.com/favicon.ico"}},Tk=async e=>{e.preventDefault(),await NA.getJwtPayload()?location.href=`${fk().environment.FRONTEND_URL}/pricing`:Bk.dispatch("loginNeeded",{detail:{authType:"signUp"}})},Ak=async()=>{await NA.getJwtPayload()?window.open(fk().environment.FRONTEND_URL,"_blank"):Bk.dispatch("loginNeeded",{detail:{authType:"signUp"}})},Ek=e=>{HT({dialogName:"settings",options:{props:{view:e,authProps:{onOAuthStarted:()=>Mf(),userService:new PT(fk().httpFacade.httpClient),authType:"signUp"}},headerOptions:{showCloseButton:!0}}})},kk=()=>{if(af(location.href))return zT(),void Bk.dispatch("updateAppRouter",{detail:{path:"/learning"}});KT({})};var Sk=(e=>(e.CONFIRM_EMAIL="confirm-email",e.HELPFUL_TIPS="helpful-tips",e.HELPFUL_SETTINGS="helpful-settings",e.HELP_US_GROW="help-us-grow",e.EXPORT_TO_NOTION="export-to-notion",e.ADVANCED_HIGHLIGHTING="advanced-highlighting",e.SORT_HIGHLIGHTS="sort-highlights",e.HIGHLIGHTING_IMAGES="highlighting-images",e.BACKUPS_ACCESS="backups-access",e.MARKDOWN_EXPORT="markdown-export",e.NEW_APP="new-app",e.RELEASE_9_0_0="release-9-0-0",e.IMPORTANT_UPDATES="important-updates",e.WELCOME="welcome",e.READER_MODE="reader-mode",e.YOUTUBE_HIGHLIGHTING="youtube-highlighting",e.AI_SUMMARY="ai-summary",e.AI_CHAT="ai-chat",e))(Sk||{});async function xk(e){const t=await k_(),i=await NA.getJwtPayload(),r=!!i,o=await Rp.getChromeSettings(),n=function({html:e}){const t=fk().environment.DOCS_URL;return[{createdAt:new Date("2025-10-08").getTime(),id:Sk.AI_CHAT,read:!1,title:"Chat with any website, PDF, or YouTube video ",description:e`
        <span style="display: inline-block;">
          Now you can chat with any website, PDF, or YouTube video! Simply click
          <i>"AI chat"</i> in the sidebar to use it.</span
        >
        <br />
        <video
          alt="Reader mode screenshot"
          style="width: 100%;margin:12px 0;border: 1px solid var(--wh-border-base);border-radius: 4px;"
          class="radio-label-image"
          src="${fk().environment.WEBSITE_URL}/videos/landing-ai-chat.mp4"
          autoplay
          loop
          muted
          playsinline
        ></video>
        <div
          style="background-color: var(--wh-bg-back);padding: 8px;border-radius: 4px;"
        >
          <span>
             <b>Not seeing the button?</b> Note that this feature requires
            Chrome 138+ or Microsoft Edge 4.49.0. Check our
            <a
              href="${t}troubleshooting/troubleshooting-chrome-ai"
              @click=${rm}
              target="_blank"
              style="display: inline"
              class="cta-link"
              >troubleshooting guide</a
            >
            for more information.
          </span>
        </div>
      `,avatar:{src:ad.AVATAR_MARIUS_B,alt:"Avatar - Marius from Web Highlights"},ctaLinks:[{text:"Learn more ",url:`${t}features/ai-chat`}],ctaAction:()=>{window.open(`${t}features/ai-chat`,"_blank")}},{createdAt:new Date("2025-09-15").getTime(),id:Sk.YOUTUBE_HIGHLIGHTING,read:!1,title:e`<span style="display: flex; align-items: center; gap: 8px;"
        >Youtube Highlighting
        <webhighlights-icon
          .size="${24}"
          icon=${jd.youtube}
        ></webhighlights-icon
      ></span>`,description:e`
        <span style="display: inline-block;">
          Now you can highlight videos on YouTube! Simply click our new
          highlight button in YouTube or click the extension icon to use
          it.</span
        >
        <br />
        <video
          alt="Reader mode screenshot"
          style="width: 100%;margin:12px 0;border: 1px solid var(--wh-border-base);border-radius: 4px;"
          class="radio-label-image"
          src="${fk().environment.WEBSITE_URL}/videos/landing-youtube-highlighting-lq.mp4"
          autoplay
          loop
          controls
          muted
          playsinline
        ></video>
      `,avatar:{src:ad.AVATAR_MARIUS_B,alt:"Avatar - Marius from Web Highlights"},ctaLinks:[{text:"Learn more ",url:`${t}features/youtube-highlighting`}],ctaAction:()=>{window.open(`${t}features/youtube-highlighting`,"_blank")}},{createdAt:new Date("2025-08-30").getTime(),id:Sk.AI_SUMMARY,read:!1,title:"AI-Powered Summaries ",description:e`
        <span style="display: inline-block;">
          Now you can add simple AI summaries to your highlights & notes! Simply
          click <i>"AI summary"</i> in the sidebar to use it.</span
        >
        <br />
        <video
          alt="Reader mode screenshot"
          style="width: 100%;margin:12px 0;border: 1px solid var(--wh-border-base);border-radius: 4px;"
          class="radio-label-image"
          src="${fk().environment.WEBSITE_URL}/videos/landing-ai-summary.mp4"
          autoplay
          loop
          muted
          playsinline
        ></video>
        <div
          style="background-color: var(--wh-bg-back);padding: 8px;border-radius: 4px;"
        >
          <span>
             <b>Not seeing the button?</b> Note that this feature requires
            Chrome 138+ or Microsoft Edge 4.49.0. Check our
            <a
              href="${t}troubleshooting/troubleshooting-chrome-ai"
              @click=${rm}
              target="_blank"
              style="display: inline"
              class="cta-link"
              >troubleshooting guide</a
            >
            for more information.
          </span>
        </div>
      `,avatar:{src:ad.AVATAR_MARIUS_B,alt:"Avatar - Marius from Web Highlights"},ctaLinks:[{text:"Learn more ",url:`${t}features/ai-summary`}],ctaAction:()=>{window.open(`${t}features/ai-summary`,"_blank")}},{createdAt:new Date("2025-04-28").getTime(),id:Sk.READER_MODE,read:!1,title:"New distraction-free Reader Mode ",description:e`
        <span style="display: inline-block;">
          I am super excited to announce a new reader mode that lets you read &
          highlight articles in a distraction-free format </span
        >
        <span style="margin-top: 8px; display: inline-block;">
          Here is what it brings:
        </span>
        <ul style="padding-left: 28px;">
          <li>
            <b>Distraction-free</b> - The reader mode removes all the
            distractions like ads, popups, cookie banners, etc.
          </li>
          <li>
            <b>Permanent copy</b> - Even if the original page you saved gets
            deleted you still have a simplified copy of it.
          </li>
          <li>
            <b>Eye-friendly mode</b> - By default we use an eye-friendly sepia
            mode, which makes reading more comfortable for your eyes.
          </li>
          <li>
            <b>Highly customizable</b> - You can change the font size, line
            height, reader width, and background color, so you can read in the
            color scheme you like best.
          </li>
        </ul>
        <span>
          Simply click <i>"Open in Reader"</i> in the sidebar to use it.
        </span>
        <img
          alt="Reader mode screenshot"
          style="width: 100%;margin:8px 0;border: 1px solid var(--wh-border-base);border-radius: 4px;"
          class="radio-label-image"
          src="https://email.web-highlights.com/uploads/reader-mode-preview_zpBwvr.webp"
        />
      `,avatar:{src:ad.AVATAR_MARIUS_B,alt:"Avatar - Marius from Web Highlights"},ctaLinks:[{text:"Learn more ",url:`${fk().environment.DOCS_URL}features/reader-mode`}],ctaAction:()=>{window.open(`${fk().environment.DOCS_URL}features/reader-mode`,"_blank")}},{createdAt:new Date("2024-12-18").getTime(),id:Sk.ADVANCED_HIGHLIGHTING,read:!1,title:"New Learning Dashboard ",description:e`
        <span style="margin:8px 0; display: inline-block;">
          Web Highlights' spaced repetition feature helps you remember what
          you've learned and highlighted. Now, there's a fully advanced learning
          dashboard to support you with that. Check it out now and start
          learning.
        </span>

        <img
          alt="Rich text highlighting"
          style="width: 100%;margin:8px 0;border: 1px solid var(--wh-border-base);border-radius: 4px;"
          class="radio-label-image"
          src="https://email.web-highlights.com/uploads/new-learning_vCPl5r.png"
        />
      `,avatar:{src:ad.AVATAR_MARIUS_B,alt:"Avatar - Marius from Web Highlights"},ctaLinks:[{text:" Start Learning",title:" Start Learning",url:"",onLinkClick:kk}],ctaAction:kk},{createdAt:new Date("2024-12-01").getTime(),id:Sk.HELPFUL_TIPS,read:!1,title:"5 Helpful Tips For Efficient Highlighting",description:e`
        <span style="margin:8px 0; display: inline-block;">
          Web Highlights got a lot of features. Here are 5 powerful tips and
          tricks to make sure you get the most out of it.
        </span>
      `,avatar:{src:ad.AVATAR_MARIUS_B,alt:"Avatar - Marius from Web Highlights"},ctaAction:()=>window.open("https://web-highlights.com/blog/5-helpful-tips-for-efficient-pdf-web-highlighting/","_blank"),linkPreviewProps:_k},{createdAt:new Date("2024-11-18").getTime(),id:Sk.HELPFUL_SETTINGS,read:!1,title:"Helpful Tips & Settings",description:e`
        <span style="margin:8px 0; display: inline-block;">
          Web Highlights offers several settings to customize your experience.
          Learn about the most useful settings and tips in our documentation.
        </span>
      `,ctaLinks:[{text:" Learn more",url:"https://web-highlights.com/docs/introduction/helpful-settings",title:"Open helpful tips"}],avatar:{src:ad.AVATAR_MARIUS_B,alt:"Avatar - Marius from Web Highlights"}},{createdAt:new Date("2024-06-04").getTime(),id:Sk.HELP_US_GROW,read:!1,title:"Help Us Grow on Product Hunt ",description:e`
        <span style="margin:8px 0; display: inline-block;">
          Hey  Web Highlights just launched on Product Hunt  I would be very
          grateful if you could
          <a
            class="cta-link"
            style="display: inline"
            target="_blank"
            href="https://web-highlights.com/redirect/product-hunt?utm_source=notification-item-extension"
            >follow us</a
          >. It only takes seconds.
          <br />
          <br />
          <a
            href="https://web-highlights.com/redirect/product-hunt?utm_source=notification-item-extension"
            target="_blank"
            class="mt-12 mb-4 md:mb-0 block w-fit"
            ><img
              src="https://api.producthunt.com/widgets/embed-image/v1/product_review.svg?product_id=485392&theme=light"
              alt="Web&#0032;Highlights&#0032;&#0045;&#0032;PDF&#0032;&#0038;&#0032;Web&#0032;Highlighter - Productivity&#0032;Highlighter&#0032;for&#0032;any&#0032;Website&#0032;or&#0032;PDF&#0046;&#0032; | Product Hunt"
              style="width: 220px; height: 48px"
              width="220"
              height="48"
          /></a>
          <br />
          <br />
        </span>
      `,avatar:{src:ad.AVATAR_MARIUS_B,alt:"Avatar - Marius from Web Highlights"}},{createdAt:new Date("2024-05-31").getTime(),id:Sk.EXPORT_TO_NOTION,read:!1,title:"Export to Notion With One Click ",description:e`
        <span
          >Previously, you could export your highlights to Notion using the
          copy-to-Markdown feature.
        </span>

        <span style="margin:8px 0; display: inline-block;">
          Now, you can seamlessly connect Web Highlights to Notion and export
          pages and highlights directly to your workspace.
        </span>
      `,ctaLinks:[{text:"Connect now",url:"",onLinkClick:()=>WT()}],avatar:{src:ad.AVATAR_MARIUS_B,alt:"Avatar - Marius from Web Highlights"},ctaAction:()=>WT()},{createdAt:new Date("2024-05-09").getTime(),id:Sk.ADVANCED_HIGHLIGHTING,read:!1,title:"Introducing Advanced Highlighting ",description:e`
        <span style="margin:8px 0; display: inline-block;">
          Use various formats such as headings, paragraphs, quotes, bullet
          points, or even code to better organize highlights in the sidebar.
        </span>

        <img
          alt="Rich text highlighting"
          style="width: 100%;margin:8px 0;border: 1px solid var(--wh-border-base);border-radius: 4px;"
          class="radio-label-image"
          src="${fk().environment.FRONTEND_URL}/images/rich-mode-preview.png"
        />

        <span style="margin:8px 0;display: inline-block;"
          > You can
          <a
            @click=${e=>{e.preventDefault(),Ek("settings")}}
            class="cta-link"
            style="display: inline"
            href="${fk().environment.FRONTEND_URL}/settings"
            >enable advanced highlighting</a
          >
          in the settings. All users with an active
          <b>${ov[tv.ULTIMATE]}</b> subscription
          can enjoy this new feature.
        </span>
      `,avatar:{src:ad.AVATAR_MARIUS_B,alt:"Avatar - Marius from Web Highlights"},linkPreviewProps:wk},{createdAt:new Date("2024-04-01").getTime(),id:Sk.SORT_HIGHLIGHTS,read:!1,title:"Sort Highlights with Drag & Drop ",description:e`
        <span
          >While highlights typically follow the order they appear on the page,
          there are occasions when this sequence may not align with your
          preferences or workflow.
        </span>

        <span style="margin:8px 0; display: inline-block;">
          Now, you can simply navigate to the sidebar where your highlights are
          listed. Simply drag and drop your highlights to rearrange the order
          effortlessly.
        </span>
      `,avatar:{src:ad.AVATAR_MARIUS_B,alt:"Avatar - Marius from Web Highlights"},ctaAction:()=>window.open(ad.TWITTER_URL,"_blank")},{createdAt:new Date("2024-03-14").getTime(),id:Sk.HIGHLIGHTING_IMAGES,read:!1,title:"Highlighting images is now available  ",description:e`
        <span
          >I am very excited to share this awesome addition making highlighting
          much more enjoyable and powerful.
        </span>

        <span style="margin:8px 0; display: inline-block;">
          <b>Right click</b> any image to save it. Find them in your sidebar or
          as a collection in the web app.
        </span>

        <span
          > All users with an active
          <b>${ov[tv.ULTIMATE]}</b> subscription
          can enjoy highlighting images.
          <a
            @click=${Tk}
            class="cta-link"
            style="display: inline"
            href="${fk().environment.FRONTEND_URL}/pricing"
            >Upgrade now</a
          >
          to start highlighting images.</span
        >
      `,avatar:{src:ad.AVATAR_MARIUS_B,alt:"Avatar - Marius from Web Highlights"},linkPreviewProps:vk},{createdAt:new Date("2024-02-13").getTime(),id:Sk.BACKUPS_ACCESS,read:!1,title:"Great news! Now, everyone can access backups ",description:e`
        <span>
          I've decided that everyone can now back up their research data for
          free. Simply export your data to a local backup file, and you're good
          to go  protecting against any potential loss. Whether dealing with
          technical hiccups or switching devices, you can now easily recover
          your valuable work.
        </span>
      `,avatar:{src:ad.AVATAR_MARIUS_B,alt:"Avatar - Marius from Web Highlights"},ctaLinks:[{text:" Create backup now",url:"",title:"Create backup now",onLinkClick:async()=>Ek("backup")}],ctaAction:async()=>Ek("backup")},{createdAt:new Date("2024-02-07").getTime(),id:Sk.MARKDOWN_EXPORT,read:!1,title:"Markdown export now free for everyone ",description:e`
        <span
          >I'm thrilled to let you know that the <b>'Copy Markdown'</b> and
          <b>'Copy HTML'</b> feature, once exclusive to Ultimate users, is now
          accessible to everyone for free.
        </span>
        <br />
        <br />
        <span
          > The markdown export is especially useful to export your research
          to external tools like <b>Notion</b>, <b>Obsidian</b>, and more.</span
        >
      `,avatar:{src:ad.AVATAR_MARIUS_B,alt:"Avatar - Marius from Web Highlights"},ctaLinks:[{text:" Learn more",url:"",title:"Open integration settings",onLinkClick:async()=>Ek("integrations")}],ctaAction:async()=>Ek("integrations")},{createdAt:new Date("2024-02-01").getTime(),id:Sk.NEW_APP,read:!1,title:"Faster, better, and brand-new app ",description:e`
        <span
          >In the last months I have spent a lot of time on rebuilding the web
          app to make the navigation through highlights, pages, notes, and more
          much easier and nicer. Here's what's new and improved:</span
        >
        <ul style="padding-left: 24px">
          <li>Easily filter and sort pages </li>
          <li>Group pages and highlights </li>
          <li>Access content offline </li>
          <li>Enhanced and quicker search </li>
          <li>Significant performance boost </li>
        </ul>
        <span
          >Just a heads up: Your research only syncs with the app when you have
          a Premium or Ultimate subscription with cloud sync enabled.</span
        >
      `,avatar:{src:ad.AVATAR_MARIUS_B,alt:"Avatar - Marius Bongarts from Web Highlights"},ctaLinks:[{text:" Open new app",url:"",title:"Web Highlights App",onLinkClick:async()=>Ak()},{text:" Give feedback",url:"https://forms.gle/TEMjP1HsnPxrHtKu9",title:"Design Feedback - Web Highlights"}],ctaAction:async()=>Ak()},{createdAt:new Date("2023-12-08").getTime(),id:Sk.RELEASE_9_0_0,read:!1,title:"Release 9.0.0 ",description:e`
        <span
          >This update is just for you  I have been working hard to bring this
          update to life. Here are the key improvements:</span
        >
        <ul style="padding-left: 24px">
          <li>The sidebar now has a beautiful cover image </li>
          <li>You can switch between light  and dark  mode</li>
          <li>You can edit titles and descriptions </li>
          <li>Your websites are neatly organized in a history list </li>
          <li>You can open highlighted websites in a popover </li>
        </ul>
        <span>Find out more about all the new features in this blog post:</span>
      `,avatar:{src:ad.AVATAR_MARIUS_B,alt:"Avatar - Marius Bongarts from Web Highlights"},ctaLinks:[{text:" Give feedback",url:"https://forms.gle/xhkME6Mc9XcU8E5c8",title:"Design Feedback - Web Highlights"}],linkPreviewProps:yk,ctaAction:()=>window.open(yk.url,"_blank")},{createdAt:new Date("2023-12-07").getTime(),id:Sk.IMPORTANT_UPDATES,read:!0,title:"Never miss important updates ",description:e`Discover cool new features first! Follow us on
        <a
          target="_blank"
          href="${ad.TWITTER_URL}"
          rel="nofollow"
          @click="${e=>e.stopPropagation()}"
          style="color: var(--wh-text-lighter)"
          >Twitter</a
        >
        &
        <a
          target="_blank"
          href="${ad.LINKED_IN_URL}"
          rel="nofollow"
          @click="${e=>e.stopPropagation()}"
          style="color: var(--wh-text-lighter)"
          >LinkedIn</a
        >
        for the most up-to-date news and announcements `,avatar:{src:ad.AVATAR_WEB_HIGHLIGHTS,alt:"Avatar - Web Highlights",cssClass:"no-border-radius"},ctaAction:()=>window.open(ad.TWITTER_URL,"_blank"),ctaLinks:[{text:e` <webhighlights-icon
            icon="twitter"
            strokeWidth="1.5"
            size="16"
          ></webhighlights-icon>`,url:ad.TWITTER_URL,title:"Follow us on Twitter - Web Highlights",cssClasses:"icon-link"},{text:e` <webhighlights-icon
            icon="linkedin"
            strokeWidth="1.5"
            size="16"
          ></webhighlights-icon>`,url:ad.LINKED_IN_URL,title:"Follow us on LinkedIn - Web Highlights",cssClasses:"icon-link"}]},{createdAt:new Date("2022-11-25").getTime(),id:Sk.WELCOME,read:!0,title:"Welcome to Web Highlights",description:"Hey there, I am Marius   I originally developed this Chrome highlighter for myself to better organize and re-find my research on the internet. In this article, I want to ensure you get off to a good start -  I hope you learn to love the app as much as I do ",avatar:{src:ad.AVATAR_MARIUS_B,alt:"Avatar - Marius Bongarts from Web Highlights"},linkPreviewProps:{url:"https://web-highlights.com/blog/welcome/",environment:id,metaDataFallback:{},metaData:{title:"Welcome To Web Highlights   ",type:"article",description:"Hey there, I am Marius  I originally developed this Chrome highlighter for myself to better organize and re-find my research on the internet. In this article, I want to ensure you get off to a good start - I hope you learn to love the app as much as I",url:"https://web-highlights.com/blog/welcome/",image:{url:"https://images.unsplash.com/photo-1533745848184-3db07256e163?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=MnwxMTc3M3wwfDF8c2VhcmNofDF8fHdlbGNvbWV8ZW58MHx8fHwxNjY5MzkyMzgy&ixlib=rb-4.0.3&q=80&w=2000",type:"",height:1125,width:2e3,alt:"Thumbnail image"},favicon:"https://web-highlights.com/favicon.ico",date:"2022-11-25"}}}].filter(e=>e.createdAt<Date.now())}(e),a=new Date,s=10===(new Date).getMonth()&&(new Date).getDate()>=23&&(new Date).getDate()<=30;if(!uA(bA(i))&&s){const t=async()=>{await NA.isLoggedIn()?window.open(af(location.href)?"/pricing":`${fk().environment.FRONTEND_URL}/pricing`,af(location.href)?"_self":"_blank"):Bk.dispatch("loginNeeded",{detail:{authType:"signUp"}})},i={createdAt:new Date(`${a.getFullYear()}-11-23`).getTime(),id:"confirm-email",read:!1,title:" Black Friday Deal: Get 40% Off Yearly Plans!",description:e.html`
          <span style="margin:8px 0; display: inline-block;">
            From the ${23}th to the 30th of November, save a massive 40% on yearly plans.
            Just use the code <strong @click=${rm}>BLACKFRIDAY</strong> at checkout to claim your discount.
          </span>
        `,ctaAction:t,ctaLinks:[{text:"Upgrade now",onLinkClick:t,url:""}],avatar:{src:ad.AVATAR_WEB_HIGHLIGHTS,alt:"Avatar - Web Highlights"}};n.unshift(i)}if(r&&!t){const t={createdAt:(new Date).getTime(),id:"confirm-email",read:!1,title:"Confirm your Email ",description:e.html`
          <span style="margin:8px 0; display: inline-block;">
            Please confirm your Email to continue using Web Highlights. Make sure to also check your <strong>SPAM</strong> folder  
          </span>
        `,ctaLinks:[{text:"Resend Email",onLinkClick:async()=>E_(),url:""}],avatar:{src:ad.AVATAR_WEB_HIGHLIGHTS,alt:"Avatar - Web Highlights"}};n.unshift(t)}return n.map(e=>({...e,read:e.read||((null==o?void 0:o.notificationsLastOpenedAt)??0)>=e.createdAt}))}const Ck="webhighlights-notifications",Ik=()=>`${Ck}${(()=>{try{return _m()?xg():Zg(location.origin)?od.EXTENSION_ID+"Dev":""}catch(e){return console.debug("Error in resolveNotificationContextId",e),""}})()}`,Nk=`[id^="${Ck}"]`,Dk="data-browser-type",Ok="data-app-type",Lk=()=>[...document.querySelectorAll(Nk)],Pk=()=>document.getElementById(Ik());function Rk(){let e=Pk();return e||(e=function(){const e=document.createElement("div");e.id=Ik();const t=mk();return e&&t&&_m()&&(e.setAttribute(Dk,t.appConfig.browserType),e.setAttribute(Ok,t.appConfig.appType)),document.body.append(e),e}()),e}function Mk(){try{const e=Lk();if(0===(null==e?void 0:e.length))return null;const t=e=>e.hasAttribute(Dk)||e.hasAttribute(Ok),i=e.find(t)||e[0];return{browserType:(null==i?void 0:i.getAttribute(Dk))||null,appType:(null==i?void 0:i.getAttribute(Ok))||null}}catch{return null}}const Bk={subscribe:function(e,t,i){const r=Rk();r.addEventListener(e,t);let o=[];return null!=i&&i.listenAcrossExtensions&&(o=Lk().filter(e=>e.id!==Rk().id),o.forEach(i=>{i.addEventListener(e,t)})),{unsubscribe:()=>{r.removeEventListener(e,t),o.forEach(i=>{i.removeEventListener(e,t)})}}},unsubscribe:function(e,t){return Rk().removeEventListener(e,t)},dispatch:function(e,t){Rk().dispatchEvent(new CustomEvent(e,t))}},Uk=class e{constructor(e){Ec(this,"subscriptions",[]),this.options=e}static create(t){return e._singleton?e._singleton:new e(t)}start(){this.stop(),this.subscriptions=[Bk.subscribe("updatedMark",e=>this.options.updatedMark(e.detail)),Bk.subscribe("deletedMark",e=>this.options.deletedMark(e.detail)),Bk.subscribe("bookmarkSelected",e=>this.options.bookmarkSelected(e.detail[0],e.detail[1])),Bk.subscribe("openInReader",e=>this.options.openInReader(e.detail[0]))]}stop(){this.subscriptions.forEach(e=>{e.unsubscribe()})}};Ec(Uk,"_singleton");let $k=Uk;function Gk(e){var t,i,r,o,n,a;return e.mediaType===Id.PARAGRAPH?`${null==(t=e.text)?void 0:t.trim()}`:e.mediaType===Id.HEADING_1?`# ${null==(i=e.text)?void 0:i.trim()}`:e.mediaType===Id.HEADING_2?`## ${null==(r=e.text)?void 0:r.trim()}`:e.mediaType===Id.HEADING_3?`### ${null==(o=e.text)?void 0:o.trim()}`:e.mediaType===Id.BULLET_LIST_ITEM?`- ${null==(n=e.text)?void 0:n.trim().replaceAll("\n"," ")}`:e.mediaType===Id.CODE?`\`\`\`JavaScript\n${e.text.trim()}\n\`\`\``:Ud(e)?`![${e.imageAlt??"Highlighted image"}](${jv(e.imageSrc,{auto:"format",fm:"auto",w:"300"})})`:`> ${null==(a=e.text)?void 0:a.trim()}`}function Fk(e){return e.notes?`\n${(new wc).turndown(e.notes??"")}\n`:e.richText?`\`\`\`\n${zk(e)??""}\n\`\`\``:""}function Hk(e){var t;return null!=(t=e.tags)&&t.length?e.tags.map(e=>`#${e.replaceAll(" ","-")}`).join(" "):""}function zk(e){var t;return(0,_c.deltaToMarkdown)(null==(t=null==e?void 0:e.richText)?void 0:t.ops)??""}function jk(e,t){return`${Gk(e)}${fw(e.mediaType)?"\n":""}${Fk(e)}${t.showMarkTagsAsHasTag?`\n${Hk(e)}`:""}`}const Vk={hideCoverImage:!1,hideDescription:!1,hideTitle:!1,showMarkTagsAsHasTag:!1,hideBookmarkTags:!1};function Wk(e,t,i=[],r,o){const{strategy:n,markdownViewOptions:a}=e;switch(i=Hb(i,t),n){case"markdown":return Yk(t,i,r,o,a);case"html":return Kk(t,i,r,o)}}async function qk(e,t,i){const r=await s_.getBookmark({_id:t});return null!=r&&r._id?Wk({...i,strategy:e},r,await s_.getMarksForBookmark({_id:r._id}),r.meta||await fk().httpFacade.getMetaData(r.url),r.tags??[]):""}const Yk=(e,t=[],i,r,o)=>{var n,a,s,l;const{hideCoverImage:c,hideDescription:d,hideTitle:u,hideBookmarkTags:h,hideAiSummry:p,showMarkTagsAsHasTag:g}={...Vk,...o};if(!e)return"";const{title:f,description:m,image:b,url:y,webhighlightsDeeplink:v}=Vy(e,i);return`${c?"":`![Cover Image of ${y}](${jv(b||U_)})\n  `}\n${u?"":`# ${null==(n=null==f?void 0:f.trim())?void 0:n.replaceAll("\n"," ")}`}\n${d?"":`${null==(a=m??"")?void 0:a.replaceAll("\n","").trim()}`}\n\n ${y}\n ${v}\n\n${h?"":"**Tags**: "+(null!=r&&r.length?`${r.map(e=>`${e}`).join(", ")} `:"-")}\n\n${p||null==(s=e.aiSummary)||!s.text?"":`**AI Summary** \n\n${null==(l=e.aiSummary)?void 0:l.text}`}\n\n**Highlights & Notes**\n\n${null!=t&&t.length?`${t.map(e=>jk(e,{showMarkTagsAsHasTag:g})).join("\n")}`:"No highlights made on this page!"}`},Kk=(e,t=[],i,r)=>{if(!e)return"";const{title:o,description:n,image:a,url:s,webhighlightsDeeplink:l}=Vy(e,i);return`\n\n  <!DOCTYPE html>\n  <html lang="en">\n\n  <head>\n      <meta charset="UTF-8">\n      <meta http-equiv="X-UA-Compatible" content="IE=edge">\n      <meta name="viewport" content="width=device-width, initial-scale=1.0">\n      <title>Dev Page Extension - Web Highlights</title>\n      <style>\n          html {\n            -webkit-print-color-adjust: exact;\n          }\n          body {\n              margin: 0;\n              font-family: sans-serif;\n              font-family: system-ui;\n\n              --highlight-color: #92ffaa;\n              --primary-color: #00b077;\n              --font-color: #292929;\n              --link-color: #1d9bf0;\n              color: var(--font-color);\n          }\n\n          h3.highlight-notes-title {\n            margin-top: 32px;\n            font-size: 16px;\n          }\n\n          li {\n            margin: 16px 0;\n          }\n\n          .marks-container {\n            margin: 16px 0;\n          }\n\n          .notes {\n            border-radius: 4px; \n            background-color: #f3f3f3; \n            padding: 8px; margin: 4px 0;\n          }\n\n          .media-type-${Id.BLOCKQUOTE} {\n            border-left: 4px solid var(--highlight-color);\n            padding: 2px 10px;\n            margin: 24px 0;\n          }\n          .media-type-${Id.IMAGE} {\n            max-width: 370px;\n          }\n\n          .media-type-${Id.HEADING_1} {\n            font-weight: 600;\n            font-size: 20px;\n            line-height: 1.3;\n            margin: 12px 0 0 0;\n          }\n          .media-type-${Id.HEADING_2} {\n            font-weight: 600;\n            font-size: 18px;\n            line-height: 1.2;\n            margin: 8px 0 0 0;\n          }\n          .media-type-${Id.HEADING_3} {\n            font-weight: 600;\n            font-size: 16px;\n            line-height: 1.1;\n            margin: 4px 0 0 0;\n          }\n          .media-type-${Id.PARAGRAPH} {\n            margin: 8px 0;\n          }\n\n          .media-type-${Id.BULLET_LIST_ITEM} {\n            margin: 16px;\n          }\n          .media-type-${Id.CODE} {\n            display: block;\n            white-space: pre;\n            border-radius: 4px; \n            width: fit-content;\n            overflow-x: auto;\n            margin: 16px 0;\n            color: white;\n            background-color: #242424; \n            padding: 16px 24px;\n          }\n\n          .tags-container {\n            display: flex;\n            flex-wrap: wrap;\n            column-gap: 6px;\n            row-gap: 4px;\n            margin-top: 24px;\n          }\n\n          .tag {\n            background-color: var(--primary-color);\n            padding: 4px 8px;\n            border-radius: 24px;\n            color: white;\n            font-size: 12px;\n          }\n\n          .icon.markerSvg {\n            fill: var(--primary-color);\n          }\n\n          .icon.markerSvg, .icon.linkSvg {\n            width: 12px;\n            margin-right: 4px;\n          }\n\n          .link-wrapper {\n            display: flex;\n            align-items: center;\n            margin-top: 10px;\n          }\n      </style>\n  </head>\n\n  <body>\n      <img style="display: block;\n      object-fit: cover;\n      border-radius: 0px;\n      width: 100%;\n      height: 30vh;\n      opacity: 1;\n      object-position: center 52.74%;"\n          src="${jv(a||U_)}"\n          alt="Tumbnail">\n      <div style="padding: 12px;">\n          <header>\n              <span style="color: #757575; font-size: 12px">${ab(e.createdAt,{alwaysShowYear:!0})}</span>\n              <h1 style="margin: 18px 0 4px 0; font-size: 24px;">${o}</h1>\n          ${n?`\n          <span style="font-size: 13px; font-weight: 300;">\n          ${n}\n          </span>\n          <br />\n          `:""}\n              <span class="link-wrapper">\n              ${Wd}\n              <a\n              style="color: var(--link-color); font-size: 12px;"\n              rel="nofollow"\n              href="${s}">${Ug(s??"",80)}</a>\n              </span>\n              <span class="link-wrapper">\n              ${Vd}\n              <a\n                  style="color: var(--link-color); font-size: 12px;"\n                  href="${l}">${l}</a>\n              </span>\n          </header>\n          <main>\n              <div class="tags-container">\n              ${null!=r&&r.length?`\n                ${r.map(e=>`<span class="tag">${e}</span>`).join("")}\n\n                `:'<span style="\n                  font-size: 14px;\n                  color: #bdbdbd;">\n                  No Tags found.</span>'}\n              </div>\n              <section class="marks-container">\n                ${null!=t&&t.length?`${t.map(Wv).join("\n")}`:"No highlights made on this page!"}\n              </section>\n\n          </main>\n\n          <footer style="margin-top: 48px; width: 100%; display: flex; font-weight: bold;">\n            <span style="font-size: 14px; width: 100%; text-align: center;">\n            Highlighted and created with <a style="color: var(--primary-color);" href="https://web-highlights.com/">\n            Web Highlights</a>${Vd}\n            </span>\n          </footer>\n      </div>\n\n\n\n  </body>\n\n  </html>\n`};class Xk{static isSupported(){return"Summarizer"in self}static async checkAvailability(){if(!this.isSupported())return"unavailable";try{return await Summarizer.availability()}catch(e){return console.warn("Failed to check Summarizer availability:",e),"unavailable"}}static async create(e){if(!this.isSupported())throw new Error("Summarizer API is not available in this browser");return Summarizer.create(e)}static hasUserActivation(){var e;return"true"===Og("isMockUserActivation")||"userActivation"in navigator&&!(null==(e=navigator.userActivation)||!e.isActive)}static async trimInputToTokenLimit(e,t){try{const i=await e.measureInputUsage(t),r=500,o=3*t.length/4;return i>e.inputQuota-r?this.trimInputToTokenLimit(e,t.slice(0,o)):t}catch(i){return console.warn("Failed to trim input to token limit:",i),t.slice(0,e.inputQuota)}}}const Jk=["short","medium","long"];function Zk(e){return!("string"!=typeof e||!e)&&Jk.map(e=>e.toString()).includes(e)}const Qk={text:"",createdAt:Date.now(),format:"markdown",length:"short",type:"key-points",status:"none"},eS={"key-points":"Key Points",headline:"Headline",tldr:"TL;DR",teaser:"Teaser"};async function tS({config:e,onDownloadProgress:t}){return await Xk.create({type:e.type,length:e.length,format:e.format,monitor:e=>{e.ondownloadprogress=t??null}})}async function iS(e){const t=ff(location.href,e.url),i=await Ew({url:e.url,isUrlCrawlEnabled:!1});return`${await qk("markdown",e._id,{markdownViewOptions:{hideAiSummry:!0}})}\n**Website Content**\n${(()=>{var e;return null!=(e=null==i?void 0:i.pageContent)&&e.content?xm(i.pageContent.content):t?document.body.innerText.replaceAll("\n"," "):""})()}`}async function rS(){return!!await NA.canSync()}async function oS(){if(await NA.canGenerateUnlimitedAiSummary())return!1;const e=await s_.getBookmarks(),t=null==e?void 0:e.filter(e=>{var t;return vb(new Date((null==(t=e.aiSummary)?void 0:t.createdAt)??0),new Date)});return(null==t?void 0:t.length)>=ad.DAILY_AI_SUMMARY_LIMIT}async function nS({bookmark:e,summarizerConfig:t,isRegenerating:i,onUpdate:r}){let o={...Qk,...t.config};const n=t=>{r(t),function({_bookmarkId:e,aiSummary:t}){Bk.dispatch("aiSummaryStreaming",{detail:{_bookmarkId:e,aiSummary:t}})}({_bookmarkId:e._id,aiSummary:t})};try{const a=await oS();if(!i&&a)return void jT({props:{headline:"You've Hit Your Daily Limit. Upgrade to create unlimited AI summaries ",hideExpiryInfo:!0}});n(o),r({...o,status:"setup"});const s=await tS(t);o={...o,status:"summarizing"},n(o);const l=await iS(e),c=await Xk.trimInputToTokenLimit(s,l),d=s.summarizeStreaming(c,{context:"Summarize this online article for me. Use the same language in the summary as the article. If '**Highlights & Notes**' are available, put the primary focus on them and put them in the context of the full website content. If not, simply summarize the '**Website Content**'."}).getReader();let u="";for(;;){const{done:e,value:t}=await d.read();if(o={...o,text:u,status:e?"complete":"summarizing"},n(o),e)break;u+=t}"complete"===o.status&&await h_({_id:e._id,aiSummary:o}),o={...o,status:"complete"},n(o)}catch(e){console.error("error",e),BT({uniqueId:`ai-summary-btn-error-${Date.now()}`,content:"Error occurred. Check our troubleshooting guide for help.",duration:5e3,variant:"error",ctaBtn:{text:"Read guide",fn:()=>{window.open(fk().environment.DOCS_URL+"troubleshooting/troubleshooting-chrome-ai","_blank")}}}),o={...o,status:"failed"},n(o)}}const aS={short:1,medium:2,long:3},sS={1:"short",2:"medium",3:"long"};async function lS(e){const t=await s_.getEntityById({_id:e._referenceId});if(!t)return"";const i="Here are the rules for the assistant:\n  - You are a helpful and friendly assistant helping to answer questions about web content.\n  - Keep answers short and concise.";if(qE(t))return`You are a helpful and friendly assistant helping to answer questions about the content of a website.\n    ${i}\n    The content of the website is: ${await iS(t)}`;if(WE(t)){const e=await s_.getBookmark({_id:t._bookmark||""}),r=e?await iS(e):"";return`You are a helpful and friendly assistant helping to answer questions about one specific section of a website. \n    ${i}\n    The user has highlighted specific content from a webpage and wants to discuss it.\n    The highlight is: \n    -> ${t.text}\n    --------------------------------\n    To understand the context of the highlight, the content of the website is: \n    -> ${r}`}return""}function cS({referenceId:e,referenceObjectStore:t}){return{...xp(bp.aichats),_referenceId:e,_referenceObjectStore:t,messages:[]}}const dS={maxTokens:9216,safetyBuffer:1e3,maxSystemMessageTokens:8e3,maxInitialMessagesTokens:2e3};function uS(e){if(!e||0===e.length)return 0;const t=e.trim(),i=t.split(/\s+/).length,r=t.length,o=Math.ceil(r/4),n=Math.ceil(1.3*i),a=Math.max(o,n);return e.includes("{")&&e.includes("}")?Math.ceil(1.1*a):a}function hS(e,t){if(!e||0===e.length)return e;const i=uS(e);if(i<=t)return e;const r=t/i,o=Math.floor(e.length*r*.9);return e.slice(0,o)+"..."}function pS(e,t){const i=[];let r=0;for(let o=e.length-1;o>=0;o--){const n=e[o];if(!n)continue;const a=uS(fS(n));if(!(r+a<=t))break;i.unshift(n),r+=a}return i}function gS(e,t,i=dS){const r=i.maxTokens-i.safetyBuffer,o=uS(e),n=uS(mS(t)),a=o+n;if(a<=r)return{systemMessage:e,initialMessages:t,totalTokens:a};console.warn(`Token limit exceeded: ${a}/${r} tokens, trimming content`);let s=e,l=t;o>i.maxSystemMessageTokens&&(s=hS(e,i.maxSystemMessageTokens));const c=r-uS(s);c>0?n>c&&(l=pS(t,c)):(l=[],console.warn("No room for initial messages, using empty array"));const d=uS(s)+uS(mS(l));return d>r?(console.error(`Final validation failed: ${d}/${r} tokens still exceed limit`),{systemMessage:"You are a helpful assistant.",initialMessages:[],totalTokens:uS("You are a helpful assistant.")}):{systemMessage:s,initialMessages:l,totalTokens:d}}function fS(e){return e.content}function mS(e){return e.map(fS).join("")}async function bS(e,t,i=dS,r){const o=i.maxTokens-i.safetyBuffer,n=[...t,e];let a;try{a=await r.measureInputUsage(n)}catch(e){console.warn("Session measurement failed, falling back to estimation:",e),a=uS(mS(n))}if(a<=o)return{userMessage:e,conversationHistory:t,totalTokens:a,isValid:!0};const s=r?await r.measureInputUsage([e]):uS(fS(e)),l=o-s;if(l<=0)return{userMessage:e,conversationHistory:[],totalTokens:s,isValid:!1};const c=pS(t,l);return{userMessage:e,conversationHistory:c,totalTokens:r?await r.measureInputUsage([...c,e]):uS(mS([...c,e])),isValid:!0}}async function yS(e,t=8e3){try{const i=await lS(e),r=uS(i);return r>t?(console.warn(`System message too large (${r} tokens), trimming content`),hS(i,t)):i}catch(e){return console.error("Error building system message:",e),""}}function vS(e){return`${e}`.includes("QuotaExceededError")}const wS={CANCEL_BY_USER:"Cancelled by user",SEND_NEW_MESSAGE:"Cancelled by sending new message"},_S=Object.values(wS);function TS(e){return _S.includes(`${e}`)}async function AS(){return!!await NA.canSync()}async function ES(){if(await NA.canGenerateUnlimitedAiChats())return!1;const e=await s_.getAiChats(),t=null==e?void 0:e.filter(e=>vb(new Date(e.createdAt??0),new Date));return(null==t?void 0:t.length)>=ad.DAILY_AI_CHATS_LIMIT}function kS(){return"LanguageModel"in self}async function SS(e){var t,i;const{db:r}=fk(),o=await s_.getAiChatByReferenceId(e._referenceId);if(!o)return[];const n=null!=(t=o.messages)&&t.length?o.messages??[]:(null==(i=await r.getContentEntity(o._id))?void 0:i.body)??[],a=await NA.canSync(),s=!(null==o||!o.wasUpdatedLastFromAppType)&&(null==o?void 0:o.wasUpdatedLastFromAppType)!==fk().appConfig.appType;if(a&&(!n||s)){const e=await fk().httpFacade.getMessagesForAiChat({_id:o._id});return nm(e,n??[])||await T_({...o,messages:e}),e}return n}const xS=()=>!(typeof window>"u")&&window.innerWidth<=em,CS=()=>"ontouchstart"in window||navigator.maxTouchPoints>0,IS=()=>CS()&&xS(),NS={createdAt:jd.clock,modifiedAt:jd.history,updatedAt:jd.history,openedAt:jd.eye},DS={small:"size-small",medium:"size-medium",large:"size-large"},OS=["date","page",void 0],LS=xS()?"small":"medium",PS=xS()?"list":"grid",RS={small:0,medium:1,large:2},MS=e=>{const t=Object.entries(RS).find(([,t])=>t===e);return t?t[0]:void 0},BS=[bp.bookmarks,bp.marks];function US(e){return"string"==typeof e&&BS.includes(e)}function $S(e){return"string"==typeof e&&Yb.includes(e)}function GS(e){return"string"==typeof e&&qb.includes(e)}function FS(e){return"string"==typeof e&&OS.includes(e)}var HS=(e=>(e.RECENTLY_UPDATED="recentlyUpdated",e.RECENTLY_OPENED="recentlyOpened",e.RECENTLY_CREATED="recentlyCreated",e.GROUP_PAGES_BY_WEBSITE="groupPagesByWebsite",e.PAGES="pages",e.HIGHLIGHTS="highlights",e))(HS||{});const zS=()=>({...qS().gridPreviewOptions,bookmarkSelectionOptions:{openAs:xS()?"page":"popup"}}),jS={recentlyCreated:{type:bp.bookmarks,id:"recentlyCreated",label:"Recently created",groupBy:"date",sortType:"createdAt",icon:NS.createdAt},recentlyUpdated:{type:bp.bookmarks,id:"recentlyUpdated",label:"Recently updated",sortType:"modifiedAt",groupBy:"date",icon:NS.modifiedAt},recentlyOpened:{type:bp.bookmarks,id:"recentlyOpened",label:"Recently opened",sortType:"openedAt",groupBy:"date",icon:NS.openedAt},groupPagesByWebsite:{type:bp.bookmarks,id:"groupPagesByWebsite",label:"Group by website",groupBy:"page",sortType:"createdAt",previewOptions:{hideUrl:!0},icon:"globe"},pages:{type:bp.bookmarks,id:"pages",label:"Pages",sortType:"createdAt",icon:"bookmark"},highlights:{type:bp.marks,id:"highlights",label:"Highlights",sortType:"createdAt",icon:"blockquote"}},VS="appLocalStorage",WS={sidebarWidth:280,gridPaginationStep:50,gridPreviewOptions:{type:PS,size:LS,hideUrl:!1,bookmarkSelectionOptions:{openAs:xS()?"page":"popup"}}};function qS(){try{const e=localStorage.getItem(VS);return e?{...WS,...JSON.parse(e)}:WS}catch{return WS}}function YS(e){const t=qS();localStorage.setItem(VS,JSON.stringify({...t,...e}))}function KS(){localStorage.setItem(VS,"")}const XS="data:text/json;charset=utf-8,";async function JS(e,t){const i=XS+encodeURIComponent(JSON.stringify(e)),r="webhighlights-download-backup-anchor-element",o=document.getElementById(r)??document.createElement("a");o.setAttribute("data-testid",Dv.BackupExportBtn.TEST_IDS.DOWNLOAD_ANCHOR_ELEMENT),o.setAttribute("id",r),o.style.display="none",(t||document.body).appendChild(o);const n=`webhighlights-backup-${ub()}.json`;o.setAttribute("href",i),o.setAttribute("download",n),o.setAttribute("data-testid",Dv.BackupExportBtn.TEST_IDS.DOWNLOAD_ANCHOR_ELEMENT),await am(250),o.click()}async function ZS(){var e,t;try{if(((null==(t=null==(e=mk())?void 0:e.chromeSyncService.chromeSyncStatus.actionsThatNeedSync)?void 0:t.length)??0)<100)return;if(confirm("You have made many highlights \n\nWant to download a backup file on your computer just to be safe in case there are any syncing problems?")){const e=await s_.getBackupData();e&&await JS(e)}}catch(e){console.error(e)}}async function QS(e){return(await Promise.all(e.map(async e=>{const t=await s_.getContentEntity(e._id);if(t)return{...e,content:t.body??void 0};const i=await C_(e);return{...e,content:(null==i?void 0:i.body)??void 0}}))).filter(e=>!!e.content)}async function ex(e){return(await Promise.all(e.map(async e=>{const t=await s_.getContentEntity(e._id);if(t)return{...e,messages:t.body??[]};const i=await x_(e);return{...e,messages:(null==i?void 0:i.body)??void 0}}))).filter(e=>{var t;return!(null==(t=e.messages)||!t.length)})}async function tx(e){var t,i;if(e)try{if(!wA("backup",await NA.getJwtPayload()??null))return void jT({});const r=await s_.getBackupData(),o=await NA.canSync();o&&null!=(t=null==r?void 0:r.pagecontents)&&t.length&&(r.pagecontents=await QS(r.pagecontents)),o&&null!=(i=null==r?void 0:r.aichats)&&i.length&&(r.aichats=await ex(r.aichats)),await JS(r,e)}catch(e){aA(e)||UT()}else console.error("Could not find anchor element for backup export")}const ix=50,rx=()=>{var e;return`${((null==(e=mk())?void 0:e.environment)??id).FRONTEND_URL}/cancel-subscription`},ox=async()=>{var e;const t=await NA.getJwtPayload();if(null==t||!t._id)return null;const i=await fk().httpFacade.getUserInfo(null==t?void 0:t._id);if(null==(e=null==i?void 0:i.userPlan)||!e.subscription_id)return null;const r=await fk().httpFacade.getSubscription({subscription_id:i.userPlan.subscription_id});return r?{subscription:r,userInfo:i}:null};var nx=(e=>(e[e.Reason=0]="Reason",e[e.Feedback=1]="Feedback",e[e.CancellationOffer=2]="CancellationOffer",e[e.Cancel=3]="Cancel",e))(nx||{}),ax=(e=>(e.PENDING="PENDING",e.SUBMITTED="SUBMITTED",e.ABORTED="ABORTED",e))(ax||{}),sx=(e=>(e.REDEEM="redeem",e.DECLINE="decline",e.KEEP_OFFER="keep_offer",e.REMOVE_OFFER="remove_offer",e.ERROR="error",e))(sx||{});function lx(e){return Rp.setValue("capacitiesToken",e)}async function cx(){return await Rp.getValue("capacitiesToken")||null}var dx=(e=>(e.unauthorized="unauthorized",e.validation_error="validation_error",e.invalid_grant="invalid_grant",e.unknown_error="unknown_error",e.object_not_found="object_not_found",e))(dx||{});function ux(e){return(null==e?void 0:e.code)&&(null==e?void 0:e.message)}function hx(e){var t;return"emoji"===(null==(t=e.icon)?void 0:t.type)?e.icon.val:""}function px(e){return e.title}async function gx(){return cT(iT.CAPACITIES_EXPORT)}async function fx(){return await gx()>=ad.DAILY_CAPACITIES_API_EXPORT_LIMIT}function mx(e,t){return{id:e._id,text:e.mediaType!==Id.BLOCKQUOTE&&e.mediaType?Gk(e):e.text,colorHex:Mu(e.color||Dp.defaultHighlightColor),tags:e.tags??[],webhighlightsUrl:$w(fk().environment,t),createdAt:new Date(e.createdAt).toISOString(),note:e.notes??""}}async function bx({bookmark:e,spaceId:t}){var i;const r=await s_.getMarksForBookmark(e);return{spaceId:t,url:e.url,webhighlightsId:e._id,webhighlightsUrl:$w(fk().environment,e),titleOverwrite:e.title,descriptionOverwrite:e.description||(null==(i=e.meta)?void 0:i.description)||"",tags:e.tags||[],highlights:r.map(t=>mx(t,e)),mdText:""}}class yx{constructor(){Ec(this,"storage",Op),Ec(this,"get",e=>{const t={...this.storage};Object.keys(t).forEach(e=>{const i=localStorage.getItem(e);if(i)try{t[e]=JSON.parse(i)}catch{t[e]=i}}),e(t)})}set(e){return new Promise((t,i)=>{Object.keys(e).forEach(t=>{const i=e[t];localStorage.setItem(t,"object"==typeof i?JSON.stringify(i):i),this.storage[t]=i}),t()})}clear(){localStorage.clear()}}function vx(){var e,t;(typeof chrome>"u"||null==(e=null==chrome?void 0:chrome.storage)||!e.sync)&&(window.chrome={...window.chrome,storage:{sync:new yx,local:new yx,...(null==(t=window.chrome)?void 0:t.storage)??{}}})}const wx="";function _x(e){if(!e)return null;let t=String(e).trim();const i=t.toLowerCase();if(!t||"free"===i||"n/a"===i)return null;let r=!1;t.startsWith("-")&&(r=!0,t=t.slice(1).trim());const o=function(e){const t=e.trim();if(!t)return null;const i=["$","","","","","","","","","","","","","","","","","","","",""],r=i.find(e=>t.startsWith(e)||t.startsWith(e+" ")||t.startsWith(e+wx));if(r){const e=t.slice(r.length),i=e.startsWith(wx);return{symbol:r,position:"prefix",spaceBetween:i||e.startsWith(" ")?i?wx:" ":""}}const o=i.find(e=>t.endsWith(e)||t.endsWith(" "+e)||t.endsWith(wx+e));if(o){const e=t.slice(0,t.length-o.length),i=e.endsWith(wx);return{symbol:o,position:"suffix",spaceBetween:i||e.endsWith(" ")?i?wx:" ":""}}const n=t.match(/^[^\d,.\s]+/);if(n){const e=t.slice(n[0].length),i=e.startsWith(wx),r=i||e.startsWith(" ");return{symbol:n[0],position:"prefix",spaceBetween:r?i?wx:" ":""}}const a=t.match(/[^\d,.\s]+$/);if(a){const e=t.slice(0,t.length-a[0].length),i=e.endsWith(wx),r=i||e.endsWith(" ");return{symbol:a[0],position:"suffix",spaceBetween:r?i?wx:" ":""}}return null}(t),n=(null==o?void 0:o.symbol)??"",a=(null==o?void 0:o.position)??"prefix",s=(null==o?void 0:o.spaceBetween)??"",l=function(e,t,i,r){let o=e.trim();if("prefix"===i){const e=t+r;o.startsWith(e)?o=o.slice(e.length):o.startsWith(t)&&(o=o.slice(t.length))}else{const e=r+t;o.endsWith(e)?o=o.slice(0,o.length-e.length):o.endsWith(t)&&(o=o.slice(0,o.length-t.length))}return o.trim()}(t,n,a,s),c=l.replace(/\s|\u00A0/g,""),d=c.match(/,/g)||[],u=c.match(/\./g)||[],h=d.length,p=u.length,g=c.lastIndexOf(","),f=c.lastIndexOf(".");let m="",b="";if(h>0&&p>0)g>f?(m=",",b="."):(m=".",b=",");else if(h>0)if(h>1)b=",",m="";else{const e=c.slice(g+1);/^\d{3}$/.test(e)?(b=",",m=""):(m=",",b="")}else if(p>0)if(p>1)b=".",m="";else{const e=c.slice(f+1);/^\d{3}$/.test(e)?(b=".",m=""):(m=".",b="")}else m="",b="";let y=l;if(b){const e=new RegExp("\\"+b,"g");y=y.replace(e,"")}if(m&&"."!==m){const e=new RegExp("\\"+m,"g");y=y.replace(e,".")}y=y.replace(/\s|\u00A0/g,"");const v=r?-Number(y):Number(y);if(!Number.isFinite(v))return null;const w=m||".";return{amount:v,symbol:n,symbolPosition:a,decimalSep:w,thousandSep:b||(","===w?".":","),spaceBetween:s}}function Tx(e,t){const{symbol:i,symbolPosition:r,decimalSep:o,thousandSep:n,spaceBetween:a}=t,s=e<0,l=Math.abs(e).toFixed(2),[c,d]=l.split("."),u=(c||"0").replace(/\B(?=(\d{3})+(?!\d))/g,n),h=d?u+(o||".")+d:u,p="prefix"===r?i+a+h:h+a+i;return s?"-"+p:p}const Ax=e=>{var t,i,r;if(typeof window>"u")return!1;const o=null==(i=null==(t=null==navigator?void 0:navigator.userAgent)?void 0:t.toLowerCase())?void 0:i.includes("firefox");return!!customElements.get(e)||Cx(e)||document.createElement(e).constructor!==HTMLElement&&!o||!(null==(r=document.querySelector(e))||!r.shadowRoot)};function Ex(e,t,i){i={lazy:!1,...i};const r=()=>{Ax(e)||(Ix(e),customElements.define(e,t))};i.lazy?requestIdleCallback(()=>{r()}):r()}function kx(){return document.querySelector(Ev.ElementRegistry.TAG)}function Sx(){const e=kx();if(e)return e;const t=document.createElement(Ev.ElementRegistry.TAG);return t.registry={},document.body.appendChild(t),t}function xx(){const e=kx();return e&&e.registry?e:Sx()}function Cx(e){var t;return(null==(t=xx().registry)?void 0:t[e])??!1}function Ix(e){const t=xx();t.registry||(t.registry={}),t.registry[e]=!0,t.setAttribute("elements-count",Object.keys(t.registry).length.toString())}function Nx(e){e.forEach(Ix)}const Dx=new Map;function Ox(e){return Dx.has(e)||Ax(e)}function Lx(e,t,i){Dx.has(e)||(Dx.set(e,!0),Ex(e,t,i))}function Px(e){Bk.subscribe("defineComponent",t=>{Rx(Iv(t.detail.componentDefinitions),e)})}function Rx(e,t){if(e.filter(e=>!Ox(e.tagName)).length)for(const i of e)t(i)}const Mx=["tag","origin","isImage"];function Bx(e){return!(!Mx.includes(e.key)||!e.value)}const Ux="filters";function $x(e){const t=JSON.stringify(Array.isArray(e)?e:[e]);return btoa(encodeURIComponent(t))}function Gx(e){try{const t=decodeURIComponent(atob(e)),i=JSON.parse(t);return Array.isArray(i)?i.filter(Bx):[]}catch{return[]}}function Fx(e,t){if(null==t||!t.length)return!0;const i=t.filter(e=>typeof e.logical>"u"),r=t.filter(e=>"OR"===e.logical),o=t.filter(e=>"AND"===e.logical),n=t=>"tag"===t.key&&"string"==typeof t.value?e.tags.map(e=>e.toLowerCase()).includes(t.value.toLowerCase()):"origin"===t.key&&"string"==typeof t.value?Gg(e.url).toLowerCase()===t.value.toLowerCase():"isImage"!==t.key||Ud(e)===t.value;return null!=o&&o.length?o.every(n):i.every(n)||!!r.length&&r.some(n)}const Hx=(e,t,i)=>("number"==typeof t.sortPrio&&"number"==typeof e.sortPrio?t.sortPrio-e.sortPrio:"string"==typeof t.sortPrio&&"string"==typeof e.sortPrio?e.sortPrio<t.sortPrio?-1:1:-1)*("desc"===i?-1:1);function zx(e,t,i,r,o=Kb){if("date"===t)return jx(e,i,r,o);if("page"===t)return Vx(e,i,r,o);throw new Error(`Group by '${t}' is not supported`)}function jx(e,t="asc",i,r=Kb){const o=[];return[...e].sort((e,r)=>$b(e,r,t,i)).slice(((null==r?void 0:r.page)-1)*r.step,r.step*r.page).forEach(e=>{const r=mb(e[i]??e[Mb]??0),n=o.findIndex(e=>e.sortPrio===r.sortPrio);if(-1===n)o.push({...r,items:[e]});else{const r=o[n];r&&(r.items=[...r.items,e].sort((e,r)=>$b(e,r,t,i)))}}),o.sort((e,i)=>Hx(e,i,t))}function Vx(e,t="asc",i,r){const o=new Map;[...e].forEach(e=>{const r=Gg(e.url),n=o.get(r);n?(n.items.push(e),n.items.sort((e,r)=>$b(e,r,t,i))):o.set(r,{title:r,sortPrio:r,items:[e]})});const n=Array.from(o.values()).sort((e,i)=>Hx(e,i,t));if(r){const e=(r.page-1)*r.step,t=r.page*r.step,i=n.map(e=>e.items).flat(1).map(e=>e._id).filter((i,r)=>r>=e&&r<t);return n.map(e=>({...e,items:e.items.filter(e=>i.includes(e._id))})).filter(e=>{var t;return null==(t=e.items)?void 0:t.length})}return n}function Wx(e,t="asc",i){const r=[];return e.forEach(e=>{const o=r.findIndex(t=>t.url===e.url);if(-1===o)r.push({url:e.url,createdAt:e.createdAt,updatedAt:e.updatedAt??e.createdAt,dateSectionTitle:mb(e.createdAt).title,items:[e]});else{const n=r[o];n&&(n.items=[...n.items,e].sort((e,r)=>$b(e,r,t,i)))}}),r.sort((e,r)=>$b(e,r,t,i))}var qx=(e=>(e.HISTORY_VIEW="history-view",e.DOMAINS_VIEW="domains-view",e.TAGS_VIEW="tags-view",e.MARK_VIEW="mark-view",e))(qx||{});function Yx(e,t){Bk.dispatch("changeExtensionSidebarView",{detail:{activeView:e,activeTag:null==t?void 0:t.activeTag,activeDomain:null==t?void 0:t.activeDomain}})}const Kx=400;function Xx(){return fk().highlighter}function Jx(){try{const e=document.querySelectorAll(`${Kd.WEB_HIGHLIGHT}`);Array.from(e).filter(e=>{var t;return""===(null==(t=e.textContent)?void 0:t.trim())}).forEach(e=>{e.remove()})}catch(e){console.error(e)}}async function Zx(e,t){try{vC();let[i]=await Promise.all([Ww(),ou()]),r=i?await s_.getMarksForBookmark(i):[];e&&(r=e),t&&(i=t);const o=r.sort(Ub);null!=o&&o.length&&Sv.MarkElementToolbar.preload();const n=()=>{if(null!=o&&o.length){if(Xf(location.href))return void BT({content:`${o.length} highlights found`,variant:"success",uniqueId:"highlighted-youtube-info",duration:5e3,iconSize:0,ctaBtn:{fn:()=>{Bk.dispatch("openInReader",{detail:[{url:location.href}]})},text:"Open in Reader",icon:jd.youtube,iconSize:14}});const e=o.sort(Ub).map(Qx),t=e.filter(Boolean).length,i=e.filter(e=>!e).length;Jx(),t>0&&BT({content:`${t} highlight${1===t?"":"s"} applied`,variant:"success",uniqueId:"highlighted-success-info",onContentClick:()=>Bk.dispatch("toggleSidebar",{detail:{}})}),i>0&&BT({content:`${i} highlight${1===i?"":"s"} not applied - find in sidebar or try again.`,variant:"neutral",uniqueId:"highlighted-failed-info",duration:5e3,iconSize:0,ctaBtn:{fn:()=>{n()},text:"Try again",icon:jd.repeat,iconSize:14},contentContainerStyle:"font-size: 12px;",textLink:{href:"https://web-highlights.com/blog/why-are-my-highlights-not-visible-on-the-page",text:"Why?"},onContentClick:()=>Bk.dispatch("toggleSidebar",{detail:{}})})}};return new Promise(e=>{requestIdleCallback(()=>{try{n()}catch(e){console.error(e)}finally{e()}})})}catch(e){console.error(e),401===e.statusCode&&NA.setJwt("")}}function Qx(e){return Pd(e)?iC(e):!!Ud(e)&&tC(e)}function eC(e,t){e.setAttribute(ad.markIdAttrKey,t._id),e.setAttribute(ad.markMediatypeAttrKey,t.mediaType??Od)}function tC(e){var t;const i=_C(e);if(!i||null==i||!i.parentNode)return!1;eC(i,e);const r=document.createElement(Kd.WEB_HIGHLIGHT);eC(r,e);const o=document.createElement(Ev.ImageIndicator.TAG);o.style.position="absolute",o.setAttribute(ad.markIdAttrKey,e._id),o.style.fontSize="0px",o.textContent=e.imageAlt||"Highlighted image",r.appendChild(o);const n=document.createElement("div");return n.classList.add(Ev.ImageIndicator.CLASSES.IMAGE_HIGHLIGHT_INDICATOR_CLASS),n.setAttribute(ad.markIdAttrKey,e._id),n.style.left="4px",n.style.top="4px",n.style.width="16px",n.style.height="16px",n.style.borderRadius="50%",n.style.position="absolute",n.style.boxShadow="var(--wh-shadow)",null==(t=i.parentNode)||t.insertBefore(r,i),o.appendChild(n),r.appendChild(i),null==i||i.remove(),r.appendChild(i),lC(e),pw(r,e),!0}function iC(e){let t=!1;try{return t=!!function(e){let t;const i=pC(e);return i&&(t=Xx().fromStore(i.startMeta,i.endMeta,i.text,i.id,i.extra)),cC({...e,highlightSource:t})}(e),null!=e&&e._id&&t&&lC(e),t}catch{return t}}function rC(){return document.querySelector(Sv.PopupToolbox.TAG)}const oC=e=>{var t,i;try{const r=document.querySelector(Sv.Sidebar.TAG),o=(null==(i=null==(t=null==r?void 0:r.shadowRoot)?void 0:t.firstElementChild)?void 0:i.clientWidth)??0,n=null==r?void 0:r.getAttribute(ad.SIDEBAR_HTML_ATTRS.ALIGNMENT),a=195+("left"===n?o:0);if(e<a)return a;const s=window.innerWidth-168-("right"===n?o:0);return e>s?s:e}catch{return e}};function nC({x:e,y:t},i){Bk.dispatch("clickOnHighlight",{detail:i});let r=rC();r&&(r.show=!1,setTimeout(()=>{r&&(r.setAttribute(ad.markIdAttrKey,i._id??""),r.mark=i,r.animation="slideIn",r.classList.add(ad.TOOLBOX_CONTAINS_HIGHLIGHT_CLASS),r.style.left=`${oC(e)}px`,r.style.top=`${t}px`,r.abortHide=!0,r.show=!0)},0))}function aC(e){Bk.dispatch("clickOnHighlight",{detail:{_id:""}});const t=rC();t&&(t.abortHide=!1,t.animation="slideOut",setTimeout(()=>{t.show=!1,t.mark=void 0,t.removeAttribute(ad.markIdAttrKey),t.classList.remove(ad.TOOLBOX_CONTAINS_HIGHLIGHT_CLASS),s_.getEntityById({_id:e._id}).then(t=>{lC(t??e)})},Kx))}function sC(e){return{x:e.pageX-window.scrollX,y:e.pageY-window.scrollY}}function lC(e,t){const i=e=>{var t;return null!=e&&e.target&&"function"==typeof e.target.getAttribute?null==(t=e.target)?void 0:t.getAttribute(ad.markIdAttrKey):""},r=t=>{const o=t.target,n=rC();o.tagName!==Kd.WEB_HIGHLIGHT.toUpperCase()&&o.tagName!==Sv.PopupToolbox.TAG.toUpperCase()&&(e._id!==i(t)||null!=n&&n.show&&e._id===i(t))&&(aC(e),document.body.removeEventListener("click",r),document.removeEventListener("scroll",r))},o=()=>{document.body.addEventListener("click",r),document.addEventListener("scroll",r)};Qv(e._id).forEach(r=>{const n=rC();(function(e){const t=e.parentElement;(function(e){return"A"===(null==e?void 0:e.nodeName)})(t)&&(t.onclick=e=>{e.preventDefault(),e.stopImmediatePropagation(),confirm(`This highlight contains a link \n\n${t.href}\n\nContinue to link?`)&&window.open(t.href,"_blank")})})(r),cw(r,e),dw(r,e);const a=()=>{setTimeout(()=>{r.onclick=t=>{var r;i(t)!==(null==(r=null==n?void 0:n.mark)?void 0:r._id)?nC(sC(t),e):aC(e)}},1)};if(t&&"function"==typeof r.getBoundingClientRect){var s=r.getBoundingClientRect();nC({x:s.left+(s.right-s.left)/2,y:s.bottom+(s.top-s.bottom)/2},e),a(),setTimeout(()=>o())}r.onclick=t=>{const i=t.target;if(i instanceof HTMLElement){if("IMG"===i.tagName&&i.hasAttribute(ad.markIdAttrKey))return;i.classList.contains(Ev.ImageIndicator.CLASSES.IMAGE_HIGHLIGHT_INDICATOR_CLASS)&&rm(t)}(!(null!=n&&n.show)||(null==n?void 0:n.id)!==e._id)&&(nC(sC(t),e),a()),o()}})}function cC(e){var t;let i=hC(e);const r=e=>{e&&Xx().remove(e.id)};return i||(r(pC(e)),i=hC(e=sf()?{...e,highlightSourceReader:dC(e)}:{...e,highlightSource:dC(e)}),i||r(pC(e)),i&&e._id&&d_(e)),i&&Xx().getDoms(null==(t=pC(e))?void 0:t.id).forEach(t=>{eC(t,e),e.color&&pw(t,e)}),i}function dC(e){if(Jv(e.text))return mC(window.getSelection())}function uC(e){return Xv(Kv(e)).trim().toLowerCase()}function hC(e){var t,i;const r=uC(null==(i=Xx().getDoms(null==(t=pC(e))?void 0:t.id).map(e=>uC(e.textContent??"")))?void 0:i.join(""));return(null==r?void 0:r.length)&&uC(e.text).includes(r)}function pC(e){return sf()?e.highlightSourceReader||e.highlightSource:e.highlightSource||e.highlightSourceReader}function gC(e){try{return null==e?void 0:e.getRangeAt(0)}catch{return}}function fC(e,t){const i=window.getSelection(),r=(null==t?void 0:t.providedText)||(null==i?void 0:i.toString())||"",o={...xp(bp.marks),url:Uf()??location.href,tags:[],text:r,imageSrc:null==t?void 0:t.imageSrc,type:$v()?"kindle":"normal",mediaType:(null==t?void 0:t.mediaType)??Od,color:e};if(!o.text&&Bd(o))throw BT({content:"No text selected",variant:"error",uniqueId:"no-text-selected"}),new Error("No text selected");if(!o.imageSrc&&Ud(o))throw BT({content:"No image available",variant:"error",uniqueId:"no-image-available"}),new Error("No image src passed");Sv.MarkElementToolbar.preload();try{if(o.text){const e=i?mC(i):dC({text:o.text});sf()?o.highlightSourceReader=e:o.highlightSource=e,cC(o),Jx()}const e=_C(o);o.domElementOffsetTop=null==e?void 0:e.offsetTop,o.domElementOffsetLeft=(null==e?void 0:e.offsetLeft)??void 0}catch{BT({content:"Could not apply highlights",variant:"error",uniqueId:"highlighting-not-possible",ctaBtn:{fn:()=>Xg("https://web-highlights.com/blog/why-are-my-highlights-not-visible-on-the-page",!0),text:"Learn More",ariaLabel:"Learn More"}})}return o}function mC(e){if(e){const t=gC(e);if(!t)return;const i=Xx().fromRange(t);return null==e||e.removeAllRanges(),i}}function bC(){return!!document.querySelector(Kd.WEB_HIGHLIGHT)}function yC(e){try{const t=pC(e);t&&Xx().getDoms(t.id)&&Xx().remove(t.id);let i=document.querySelectorAll(`${Kd.WEB_HIGHLIGHT}[${ad.markIdAttrKey}='${e._id}']`);document.querySelectorAll(`${Ev.ImageIndicator.TAG}[${ad.markIdAttrKey}='${e._id}']`).forEach(e=>null==e?void 0:e.remove()),wC(i)}catch{}}function vC(){return wC(document.querySelectorAll(Kd.WEB_HIGHLIGHT))}function wC(e){try{if(e.length)for(let t=0;t<e.length;t++){let i=e[t];if(!i)continue;const r=i.parentNode;for(;i.firstChild;)null==r||r.insertBefore(i.firstChild,i);null==r||r.removeChild(i)}}catch{}}function _C(e){var t;return Ud(e)?document.querySelector(`[src="${e.imageSrc}"]`)??document.querySelector(`[srcset*="${e.imageSrc}"]`):(null==(t=Qv(e._id))?void 0:t[0])??null}function TC(e,t){return{...e,_bookmark:t._id,url:t.url}}function AC(e){pm()&&(Yx(qx.MARK_VIEW),setTimeout(()=>{Bk.dispatch("clickOnHighlight",{detail:e})},100))}async function EC(){return await Ww()||await jw({isStarred:!1},{showToast:!1})}async function kC(e,t){const i=TC(e,(null==(t={focusMark:!0,chromeSettings:void 0,bookmark:void 0,...t})?void 0:t.bookmark)??await EC());await w_(i);const{showToolboxAutomatically:r}=(null==t?void 0:t.chromeSettings)??await Rp.getChromeSettings()??Dp;return lC(i,r),null!=t&&t.focusMark&&AC(i),i}function SC(){var e;try{location.origin.toLowerCase().includes("reddit.com")&&(null==(e=document.querySelector("embed-snippet-share-button"))||e.remove())}catch{}}function xC(){var e;const t=window.getSelection(),i=null==(e=null==t?void 0:t.toString())?void 0:e.trim();return((null==i?void 0:i.length)??0)>0}const CC="webhighlights-hide-popup-until-next-visit";function IC(){window[CC]=!0}function NC(){return!!window[CC]}async function DC({text:e,imageSrc:t,mediaType:i}){try{const{defaultHighlightColor:r}=await Rp.getChromeSettings()??Dp,o=fC(r,{providedText:e,imageSrc:t,mediaType:i});o&&(await kC(o),Qx(o))}catch{}}async function OC({imageSrc:e}){return DC({imageSrc:e,text:"",mediaType:"image"})}class LC{constructor(e){this.httpClient=e}async getData(e,t){return this.httpClient.get({url:e,...t})}async updateBookmark(e){return this.httpClient.put({url:"/bookmarks",body:e})}async updateChromeStorage(e){return this.httpClient.put({url:"/chrome-storage",body:e})}async createBookmark(e){return this.httpClient.post({url:"/bookmarks",body:e})}async getAllTags(){return this.getData("/tags")}async getUserMarks(){return this.getData("/marks")}async getUserBookmarks(){return this.getData("/bookmarks")}async getUserInfo(e){return this.getData(`/users/userinfo/${e}`)}async getBookmark(e){return this.getData(`/bookmarks/${e}`)}async getSettings(e){return e?this.getData(`/settings/${e}`):this.getData("/settings")}async getChromeSettings(){return this.getData("/chrome-storage")}async subscribe(e){return this.httpClient.post({url:"/settings/subscribe",body:e})}async unsubscribe(e){return this.httpClient.post({url:"/settings/unsubscribe",body:e})}async likeBookmark({_id:e}){return this.httpClient.put({url:`/bookmarks/like/${e}`})}async unLikeBookmark({_id:e}){return this.httpClient.put({url:`/bookmarks/unlike/${e}`})}async getMetaData(e){try{return this.httpClient.get({url:`/meta/${encodeURIComponent(e)}`})}catch{return{}}}async downloadPdf({_id:e}){const t={html:await qk("html",e)};return this.httpClient.post({url:"",absoluteUrl:`${this.httpClient.environment.MISC_SERVER_URL}/html-to-pdf`,body:t})}async refreshToken(){return this.httpClient.post({url:"/auth/refresh-token"})}async getPrice({userPlanType:e,countryCode:t,discountCode:i}){const r=new URLSearchParams;return e&&r.append("userPlanType",e),i&&r.append("discountCode",i),t&&r.append("countryCode",t),this.getData(`/pricing?${r.toString()}`)}async getPlans(){return this.httpClient.get({url:"/product/plans"})}async getProducts(){try{return this.httpClient.get({url:"/product/products"})}catch{return[]}}async getSubscription({subscription_id:e}){return this.httpClient.get({url:`/subscription/${e}`})}async getSubscriptionPrice(e,{countryCode:t}){const i=new URLSearchParams;return t&&i.append("countryCode",t),this.httpClient.get({url:`/subscription/price/${e}?${i.toString()}`})}async getUserTransactions({paddle_user_id:e}){return this.httpClient.get({url:`/subscription/transactions/${e}`})}async getConfig(){try{return this.httpClient.get({url:"/config"})}catch{return Nb}}async getNotionPages(){const e=await G_();return this.httpClient.get({url:"",absoluteUrl:`${this.httpClient.environment.MISC_SERVER_URL}/notion/pages`,headers:{[rT.NOTION_EXPORT]:e??""}})}async getCapacitiesSpaces(){const e=await cx();return this.httpClient.get({url:"",absoluteUrl:`${this.httpClient.environment.MISC_SERVER_URL}/capacities/spaces`,headers:{[rT.CAPACITIES_EXPORT]:e??""}})}async createNotionDatabase(e){const t=await G_();return this.httpClient.post({url:"",absoluteUrl:`${this.httpClient.environment.MISC_SERVER_URL}/notion/database/${e}`,headers:{[rT.NOTION_EXPORT]:t??""}})}async saveCapacitiesWeblink(e){const t=await cx();return this.httpClient.post({url:"",absoluteUrl:`${this.httpClient.environment.MISC_SERVER_URL}/capacities/weblink`,body:e,headers:{[rT.CAPACITIES_EXPORT]:t??""}})}async capacitiesWebhighlightsImport(e){const t=await cx();return this.httpClient.post({url:"",absoluteUrl:`${this.httpClient.environment.MISC_SERVER_URL}/capacities/webhighlights-import`,body:e,headers:{[rT.CAPACITIES_EXPORT]:t??""}})}async createNotionPage(e,t){const i=await G_();return this.httpClient.post({url:"",absoluteUrl:`${this.httpClient.environment.MISC_SERVER_URL}/notion/page/${e}`,headers:{[rT.NOTION_EXPORT]:i??""},body:t})}async getNotionOAuthToken({code:e}){return this.httpClient.post({url:"",absoluteUrl:`${this.httpClient.environment.MISC_SERVER_URL}/notion/auth/${e}`})}async resendEmailConfirmation(e){if(!e)throw new Error("Email is required");return this.httpClient.post({url:"/users/resend-email-confirmation",body:{email:e}})}async getActionsInfoForUser(){return this.httpClient.get({url:"/actions/info"})}async loadActionsForPage(e){return this.httpClient.get({url:`/actions/page/${e}`})}async loadAllActionsForUser(){try{const e=await this.getActionsInfoForUser();return 0===e.totalActions?[]:(await Promise.all(e.allPages.map(async e=>await this.loadActionsForPage(e)))).flat()}catch{return BT({content:"Can not load data. Please try again later.",variant:"error",uniqueId:"load-actions-error"}),[]}}async loadActionsForSync(e){return this.httpClient.post({url:"/actions/sync",body:e})}async updateLearningInfo(e){if(await NA.isLoggedIn())return this.httpClient.put({url:"/learning-info",body:e})}async trackEvent(e){return this.httpClient.post({url:"/events",body:e})}async updateSettings(e){return this.httpClient.put({url:"/settings",body:e})}async crawlPageContentFromUrl(e){return this.httpClient.post({url:"",absoluteUrl:`${this.httpClient.environment.MISC_SERVER_URL}/page-content`,body:e})}async getHtmlForPageContent({_id:e}){try{return this.httpClient.get({url:`/page-contents/html?_id=${e}`})}catch(e){return console.error("Error getting stored page content of user",e),null}}async getMessagesForAiChat({_id:e}){return this.httpClient.get({url:`/aichats/messages?_id=${e}`})}async redeemCancellationOffer(e){return this.httpClient.post({url:`/subscription/redeem-cancellation-offer/${e}`})}async getCancellationOfferForSubscription(e){return this.httpClient.get({url:`/subscription/cancellation-offer/${e}`})}async postCancellationFeedback(e){return this.httpClient.post({url:"/cancellation-feedback",body:e})}async getGiveawayEntryById(e){return this.httpClient.get({url:`/giveaway/${e}`})}async getGiveawayCountResultThisMonth(){return this.httpClient.get({url:"/giveaway/count/amount-this-month"})}async getServerConfig(){try{return this.httpClient.get({url:"/config"})}catch{return Nb}}async postGiveawayEntry(e){return this.httpClient.post({url:"/giveaway",body:e})}async syncActions(e){return this.httpClient.post({url:"/actions/batch",body:e})}async createContent(e){return this.httpClient.post({url:"/content",body:e})}async getContent(e,t){const i=await this.httpClient.get({url:`/content/${e}/${t}`});if("application/json"===_p(e))try{return JSON.parse(i)}catch{return null}return i}async getEntitiesFromDeprecatedEndpoints(){const[e,t,i,r]=await Promise.all([this.httpClient.get({url:"/marks"}),this.httpClient.get({url:"/bookmarks"}),this.httpClient.get({url:"/page-contents"}),this.httpClient.get({url:"/aichats"})]);return[...e,...t,...i,...r]}}const PC={AD:"Andorra",AE:"United Arab Emirates",AF:"Afghanistan",AG:"Antigua and Barbuda",AI:"Anguilla",AL:"Albania",AM:"Armenia",AO:"Angola",AQ:"Antarctica",AR:"Argentina",AS:"American Samoa",AT:"Austria",AU:"Australia",AW:"Aruba",AX:"land Islands",AZ:"Azerbaijan",BA:"Bosnia and Herzegovina",BB:"Barbados",BD:"Bangladesh",BE:"Belgium",BF:"Burkina Faso",BG:"Bulgaria",BH:"Bahrain",BI:"Burundi",BJ:"Benin",BL:"Saint Barthlemy",BM:"Bermuda",BN:"Brunei",BO:"Bolivia",BQ:"Caribbean Netherlands",BR:"Brazil",BS:"Bahamas",BT:"Bhutan",BV:"Bouvet Island",BW:"Botswana",BY:"Belarus",BZ:"Belize",CA:"Canada",CC:"Cocos Islands",CD:"Democratic Republic of the Congo",CF:"Central African Republic",CG:"Republic of the Congo",CH:"Switzerland",CI:"Ivory Coast",CK:"Cook Islands",CL:"Chile",CM:"Cameroon",CN:"China",CO:"Colombia",CR:"Costa Rica",CU:"Cuba",CV:"Cabo Verde",CW:"Curaao",CX:"Christmas Island",CY:"Cyprus",CZ:"Czechia",DE:"Germany",DJ:"Djibouti",DK:"Denmark",DM:"Dominica",DO:"Dominican Republic",DZ:"Algeria",EC:"Ecuador",EE:"Estonia",EG:"Egypt",EH:"Western Sahara",ER:"Eritrea",ES:"Spain",ET:"Ethiopia",FI:"Finland",FJ:"Fiji",FK:"Falkland Islands",FM:"Micronesia",FO:"Faroe Islands",FR:"France",GA:"Gabon",GB:"United Kingdom",GD:"Grenada",GE:"Georgia",GF:"French Guiana",GG:"Guernsey",GH:"Ghana",GI:"Gibraltar",GL:"Greenland",GM:"Gambia",GN:"Guinea",GP:"Guadeloupe",GQ:"Equatorial Guinea",GR:"Greece",GS:"South Georgia and the South Sandwich Islands",GT:"Guatemala",GU:"Guam",GW:"Guinea-Bissau",GY:"Guyana",HK:"Hong Kong",HM:"Heard Island and McDonald Islands",HN:"Honduras",HR:"Croatia",HT:"Haiti",HU:"Hungary",ID:"Indonesia",IE:"Ireland",IL:"Israel",IM:"Isle of Man",IN:"India",IO:"British Indian Ocean Territory",IQ:"Iraq",IR:"Iran",IS:"Iceland",IT:"Italy",JE:"Jersey",JM:"Jamaica",JO:"Jordan",JP:"Japan",KE:"Kenya",KG:"Kyrgyzstan",KH:"Cambodia",KI:"Kiribati",KM:"Comoros",KN:"Saint Kitts and Nevis",KP:"North Korea",KR:"South Korea",KW:"Kuwait",KY:"Cayman Islands",KZ:"Kazakhstan",LA:"Laos",LB:"Lebanon",LC:"Saint Lucia",LI:"Liechtenstein",LK:"Sri Lanka",LR:"Liberia",LS:"Lesotho",LT:"Lithuania",LU:"Luxembourg",LV:"Latvia",LY:"Libya",MA:"Morocco",MC:"Monaco",MD:"Moldova",ME:"Montenegro",MF:"Saint Martin",MG:"Madagascar",MH:"Marshall Islands",MK:"North Macedonia",ML:"Mali",MM:"Myanmar",MN:"Mongolia",MO:"Macao",MP:"Northern Mariana Islands",MQ:"Martinique",MR:"Mauritania",MS:"Montserrat",MT:"Malta",MU:"Mauritius",MV:"Maldives",MW:"Malawi",MX:"Mexico",MY:"Malaysia",MZ:"Mozambique",NA:"Namibia",NC:"New Caledonia",NE:"Niger",NF:"Norfolk Island",NG:"Nigeria",NI:"Nicaragua",NL:"Netherlands",NO:"Norway",NP:"Nepal",NR:"Nauru",NU:"Niue",NZ:"New Zealand",OM:"Oman",PA:"Panama",PE:"Peru",PF:"French Polynesia",PG:"Papua New Guinea",PH:"Philippines",PK:"Pakistan",PL:"Poland",PM:"Saint Pierre and Miquelon",PN:"Pitcairn",PR:"Puerto Rico",PS:"Palestine",PT:"Portugal",PW:"Palau",PY:"Paraguay",QA:"Qatar",RE:"Runion",RO:"Romania",RS:"Serbia",RU:"Russia",RW:"Rwanda",SA:"Saudi Arabia",SB:"Solomon Islands",SC:"Seychelles",SD:"Sudan",SE:"Sweden",SG:"Singapore",SH:"Saint Helena, Ascension and Tristan da Cunha",SI:"Slovenia",SJ:"Svalbard and Jan Mayen",SK:"Slovakia",SL:"Sierra Leone",SM:"San Marino",SN:"Senegal",SO:"Somalia",SR:"Suriname",SS:"South Sudan",ST:"Sao Tome and Principe",SV:"El Salvador",SX:"Sint Maarten",SY:"Syria",SZ:"Eswatini",TC:"Turks and Caicos Islands",TD:"Chad",TF:"French Southern Territories",TG:"Togo",TH:"Thailand",TJ:"Tajikistan",TK:"Tokelau",TL:"Timor-Leste",TM:"Turkmenistan",TN:"Tunisia",TO:"Tonga",TR:"Turkey",TT:"Trinidad and Tobago",TV:"Tuvalu",TW:"Taiwan",TZ:"Tanzania",UA:"Ukraine",UG:"Uganda",UM:"United States Minor Outlying Islands",US:"United States of America",UY:"Uruguay",UZ:"Uzbekistan",VA:"Holy See",VC:"Saint Vincent and the Grenadines",VE:"Venezuela",VG:"Virgin Islands (UK)",VI:"Virgin Islands (US)",VN:"Vietnam",VU:"Vanuatu",WF:"Wallis and Futuna",WS:"Samoa",YE:"Yemen",YT:"Mayotte",ZA:"South Africa",ZM:"Zambia",ZW:"Zimbabwe"},RC={"Africa/Abidjan":{u:0,c:["CI","BF","GH","GM","GN","ML","MR","SH","SL","SN","TG"]},"Africa/Accra":{a:"Africa/Abidjan",c:["GH"],r:1},"Africa/Addis_Ababa":{a:"Africa/Nairobi",c:["ET"],r:1},"Africa/Algiers":{u:60,c:["DZ"]},"Africa/Asmara":{a:"Africa/Nairobi",c:["ER"],r:1},"Africa/Asmera":{a:"Africa/Nairobi",c:["ER"],r:1},"Africa/Bamako":{a:"Africa/Abidjan",c:["ML"],r:1},"Africa/Bangui":{a:"Africa/Lagos",c:["CF"],r:1},"Africa/Banjul":{a:"Africa/Abidjan",c:["GM"],r:1},"Africa/Bissau":{u:0,c:["GW"]},"Africa/Blantyre":{a:"Africa/Maputo",c:["MW"],r:1},"Africa/Brazzaville":{a:"Africa/Lagos",c:["CG"],r:1},"Africa/Bujumbura":{a:"Africa/Maputo",c:["BI"],r:1},"Africa/Cairo":{u:120,c:["EG"]},"Africa/Casablanca":{u:60,d:0,c:["MA"]},"Africa/Ceuta":{u:60,d:120,c:["ES"]},"Africa/Conakry":{a:"Africa/Abidjan",c:["GN"],r:1},"Africa/Dakar":{a:"Africa/Abidjan",c:["SN"],r:1},"Africa/Dar_es_Salaam":{a:"Africa/Nairobi",c:["TZ"],r:1},"Africa/Djibouti":{a:"Africa/Nairobi",c:["DJ"],r:1},"Africa/Douala":{a:"Africa/Lagos",c:["CM"],r:1},"Africa/El_Aaiun":{u:60,d:0,c:["EH"]},"Africa/Freetown":{a:"Africa/Abidjan",c:["SL"],r:1},"Africa/Gaborone":{a:"Africa/Maputo",c:["BW"],r:1},"Africa/Harare":{a:"Africa/Maputo",c:["ZW"],r:1},"Africa/Johannesburg":{u:120,c:["ZA","LS","SZ"]},"Africa/Juba":{u:120,c:["SS"]},"Africa/Kampala":{a:"Africa/Nairobi",c:["UG"],r:1},"Africa/Khartoum":{u:120,c:["SD"]},"Africa/Kigali":{a:"Africa/Maputo",c:["RW"],r:1},"Africa/Kinshasa":{a:"Africa/Lagos",c:["CD"],r:1},"Africa/Lagos":{u:60,c:["NG","AO","BJ","CD","CF","CG","CM","GA","GQ","NE"]},"Africa/Libreville":{a:"Africa/Lagos",c:["GA"],r:1},"Africa/Lome":{a:"Africa/Abidjan",c:["TG"],r:1},"Africa/Luanda":{a:"Africa/Lagos",c:["AO"],r:1},"Africa/Lubumbashi":{a:"Africa/Maputo",c:["CD"],r:1},"Africa/Lusaka":{a:"Africa/Maputo",c:["ZM"],r:1},"Africa/Malabo":{a:"Africa/Lagos",c:["GQ"],r:1},"Africa/Maputo":{u:120,c:["MZ","BI","BW","CD","MW","RW","ZM","ZW"]},"Africa/Maseru":{a:"Africa/Johannesburg",c:["LS"],r:1},"Africa/Mbabane":{a:"Africa/Johannesburg",c:["SZ"],r:1},"Africa/Mogadishu":{a:"Africa/Nairobi",c:["SO"],r:1},"Africa/Monrovia":{u:0,c:["LR"]},"Africa/Nairobi":{u:180,c:["KE","DJ","ER","ET","KM","MG","SO","TZ","UG","YT"]},"Africa/Ndjamena":{u:60,c:["TD"]},"Africa/Niamey":{a:"Africa/Lagos",c:["NE"],r:1},"Africa/Nouakchott":{a:"Africa/Abidjan",c:["MR"],r:1},"Africa/Ouagadougou":{a:"Africa/Abidjan",c:["BF"],r:1},"Africa/Porto-Novo":{a:"Africa/Lagos",c:["BJ"],r:1},"Africa/Sao_Tome":{u:0,c:["ST"]},"Africa/Timbuktu":{a:"Africa/Abidjan",c:["ML"],r:1},"Africa/Tripoli":{u:120,c:["LY"]},"Africa/Tunis":{u:60,c:["TN"]},"Africa/Windhoek":{u:120,c:["NA"]},"America/Adak":{u:-600,d:-540,c:["US"]},"America/Anchorage":{u:-540,d:-480,c:["US"]},"America/Anguilla":{a:"America/Puerto_Rico",c:["AI"],r:1},"America/Antigua":{a:"America/Puerto_Rico",c:["AG"],r:1},"America/Araguaina":{u:-180,c:["BR"]},"America/Argentina/Buenos_Aires":{u:-180,c:["AR"]},"America/Argentina/Catamarca":{u:-180,c:["AR"]},"America/Argentina/ComodRivadavia":{a:"America/Argentina/Catamarca",r:1,c:["AR"]},"America/Argentina/Cordoba":{u:-180,c:["AR"]},"America/Argentina/Jujuy":{u:-180,c:["AR"]},"America/Argentina/La_Rioja":{u:-180,c:["AR"]},"America/Argentina/Mendoza":{u:-180,c:["AR"]},"America/Argentina/Rio_Gallegos":{u:-180,c:["AR"]},"America/Argentina/Salta":{u:-180,c:["AR"]},"America/Argentina/San_Juan":{u:-180,c:["AR"]},"America/Argentina/San_Luis":{u:-180,c:["AR"]},"America/Argentina/Tucuman":{u:-180,c:["AR"]},"America/Argentina/Ushuaia":{u:-180,c:["AR"]},"America/Aruba":{a:"America/Puerto_Rico",c:["AW"],r:1},"America/Asuncion":{u:-240,d:-180,c:["PY"]},"America/Atikokan":{a:"America/Panama",c:["CA"],r:1},"America/Atka":{a:"America/Adak",r:1},"America/Bahia":{u:-180,c:["BR"]},"America/Bahia_Banderas":{u:-360,d:-300,c:["MX"]},"America/Barbados":{u:-240,c:["BB"]},"America/Belem":{u:-180,c:["BR"]},"America/Belize":{u:-360,c:["BZ"]},"America/Blanc-Sablon":{a:"America/Puerto_Rico",c:["CA"],r:1},"America/Boa_Vista":{u:-240,c:["BR"]},"America/Bogota":{u:-300,c:["CO"]},"America/Boise":{u:-420,d:-360,c:["US"]},"America/Buenos_Aires":{a:"America/Argentina/Buenos_Aires",r:1},"America/Cambridge_Bay":{u:-420,d:-360,c:["CA"]},"America/Campo_Grande":{u:-240,c:["BR"]},"America/Cancun":{u:-300,c:["MX"]},"America/Caracas":{u:-240,c:["VE"]},"America/Catamarca":{a:"America/Argentina/Catamarca",r:1},"America/Cayenne":{u:-180,c:["GF"]},"America/Cayman":{a:"America/Panama",c:["KY"],r:1},"America/Chicago":{u:-360,d:-300,c:["US"]},"America/Chihuahua":{u:-420,d:-360,c:["MX"]},"America/Coral_Harbour":{a:"America/Panama",c:["CA"],r:1},"America/Cordoba":{a:"America/Argentina/Cordoba",r:1},"America/Costa_Rica":{u:-360,c:["CR"]},"America/Creston":{a:"America/Phoenix",c:["CA"],r:1},"America/Cuiaba":{u:-240,c:["BR"]},"America/Curacao":{a:"America/Puerto_Rico",c:["CW"],r:1},"America/Danmarkshavn":{u:0,c:["GL"]},"America/Dawson":{u:-420,c:["CA"]},"America/Dawson_Creek":{u:-420,c:["CA"]},"America/Denver":{u:-420,d:-360,c:["US"]},"America/Detroit":{u:-300,d:-240,c:["US"]},"America/Dominica":{a:"America/Puerto_Rico",c:["DM"],r:1},"America/Edmonton":{u:-420,d:-360,c:["CA"]},"America/Eirunepe":{u:-300,c:["BR"]},"America/El_Salvador":{u:-360,c:["SV"]},"America/Ensenada":{a:"America/Tijuana",r:1},"America/Fort_Nelson":{u:-420,c:["CA"]},"America/Fort_Wayne":{a:"America/Indiana/Indianapolis",r:1},"America/Fortaleza":{u:-180,c:["BR"]},"America/Glace_Bay":{u:-240,d:-180,c:["CA"]},"America/Godthab":{a:"America/Nuuk",r:1},"America/Goose_Bay":{u:-240,d:-180,c:["CA"]},"America/Grand_Turk":{u:-300,d:-240,c:["TC"]},"America/Grenada":{a:"America/Puerto_Rico",c:["GD"],r:1},"America/Guadeloupe":{a:"America/Puerto_Rico",c:["GP"],r:1},"America/Guatemala":{u:-360,c:["GT"]},"America/Guayaquil":{u:-300,c:["EC"]},"America/Guyana":{u:-240,c:["GY"]},"America/Halifax":{u:-240,d:-180,c:["CA"]},"America/Havana":{u:-300,d:-240,c:["CU"]},"America/Hermosillo":{u:-420,c:["MX"]},"America/Indiana/Indianapolis":{u:-300,d:-240,c:["US"]},"America/Indiana/Knox":{u:-360,d:-300,c:["US"]},"America/Indiana/Marengo":{u:-300,d:-240,c:["US"]},"America/Indiana/Petersburg":{u:-300,d:-240,c:["US"]},"America/Indiana/Tell_City":{u:-360,d:-300,c:["US"]},"America/Indiana/Vevay":{u:-300,d:-240,c:["US"]},"America/Indiana/Vincennes":{u:-300,d:-240,c:["US"]},"America/Indiana/Winamac":{u:-300,d:-240,c:["US"]},"America/Indianapolis":{a:"America/Indiana/Indianapolis",r:1},"America/Inuvik":{u:-420,d:-360,c:["CA"]},"America/Iqaluit":{u:-300,d:-240,c:["CA"]},"America/Jamaica":{u:-300,c:["JM"]},"America/Jujuy":{a:"America/Argentina/Jujuy",r:1},"America/Juneau":{u:-540,d:-480,c:["US"]},"America/Kentucky/Louisville":{u:-300,d:-240,c:["US"]},"America/Kentucky/Monticello":{u:-300,d:-240,c:["US"]},"America/Knox_IN":{a:"America/Indiana/Knox",r:1},"America/Kralendijk":{a:"America/Puerto_Rico",c:["BQ"],r:1},"America/La_Paz":{u:-240,c:["BO"]},"America/Lima":{u:-300,c:["PE"]},"America/Los_Angeles":{u:-480,d:-420,c:["US"]},"America/Louisville":{a:"America/Kentucky/Louisville",r:1},"America/Lower_Princes":{a:"America/Puerto_Rico",c:["SX"],r:1},"America/Maceio":{u:-180,c:["BR"]},"America/Managua":{u:-360,c:["NI"]},"America/Manaus":{u:-240,c:["BR"]},"America/Marigot":{a:"America/Puerto_Rico",c:["MF"],r:1},"America/Martinique":{u:-240,c:["MQ"]},"America/Matamoros":{u:-360,d:-300,c:["MX"]},"America/Mazatlan":{u:-420,d:-360,c:["MX"]},"America/Mendoza":{a:"America/Argentina/Mendoza",r:1},"America/Menominee":{u:-360,d:-300,c:["US"]},"America/Merida":{u:-360,d:-300,c:["MX"]},"America/Metlakatla":{u:-540,d:-480,c:["US"]},"America/Mexico_City":{u:-360,d:-300,c:["MX"]},"America/Miquelon":{u:-180,d:-120,c:["PM"]},"America/Moncton":{u:-240,d:-180,c:["CA"]},"America/Monterrey":{u:-360,d:-300,c:["MX"]},"America/Montevideo":{u:-180,c:["UY"]},"America/Montreal":{a:"America/Toronto",c:["CA"],r:1},"America/Montserrat":{a:"America/Puerto_Rico",c:["MS"],r:1},"America/Nassau":{a:"America/Toronto",c:["BS"],r:1},"America/New_York":{u:-300,d:-240,c:["US"]},"America/Nipigon":{u:-300,d:-240,c:["CA"]},"America/Nome":{u:-540,d:-480,c:["US"]},"America/Noronha":{u:-120,c:["BR"]},"America/North_Dakota/Beulah":{u:-360,d:-300,c:["US"]},"America/North_Dakota/Center":{u:-360,d:-300,c:["US"]},"America/North_Dakota/New_Salem":{u:-360,d:-300,c:["US"]},"America/Nuuk":{u:-180,d:-120,c:["GL"]},"America/Ojinaga":{u:-420,d:-360,c:["MX"]},"America/Panama":{u:-300,c:["PA","CA","KY"]},"America/Pangnirtung":{u:-300,d:-240,c:["CA"]},"America/Paramaribo":{u:-180,c:["SR"]},"America/Phoenix":{u:-420,c:["US","CA"]},"America/Port-au-Prince":{u:-300,d:-240,c:["HT"]},"America/Port_of_Spain":{a:"America/Puerto_Rico",c:["TT"],r:1},"America/Porto_Acre":{a:"America/Rio_Branco",r:1},"America/Porto_Velho":{u:-240,c:["BR"]},"America/Puerto_Rico":{u:-240,c:["PR","AG","CA","AI","AW","BL","BQ","CW","DM","GD","GP","KN","LC","MF","MS","SX","TT","VC","VG","VI"]},"America/Punta_Arenas":{u:-180,c:["CL"]},"America/Rainy_River":{u:-360,d:-300,c:["CA"]},"America/Rankin_Inlet":{u:-360,d:-300,c:["CA"]},"America/Recife":{u:-180,c:["BR"]},"America/Regina":{u:-360,c:["CA"]},"America/Resolute":{u:-360,d:-300,c:["CA"]},"America/Rio_Branco":{u:-300,c:["BR"]},"America/Rosario":{a:"America/Argentina/Cordoba",r:1},"America/Santa_Isabel":{a:"America/Tijuana",r:1},"America/Santarem":{u:-180,c:["BR"]},"America/Santiago":{u:-240,d:-180,c:["CL"]},"America/Santo_Domingo":{u:-240,c:["DO"]},"America/Sao_Paulo":{u:-180,c:["BR"]},"America/Scoresbysund":{u:-60,d:0,c:["GL"]},"America/Shiprock":{a:"America/Denver",r:1},"America/Sitka":{u:-540,d:-480,c:["US"]},"America/St_Barthelemy":{a:"America/Puerto_Rico",c:["BL"],r:1},"America/St_Johns":{u:-150,d:-90,c:["CA"]},"America/St_Kitts":{a:"America/Puerto_Rico",c:["KN"],r:1},"America/St_Lucia":{a:"America/Puerto_Rico",c:["LC"],r:1},"America/St_Thomas":{a:"America/Puerto_Rico",c:["VI"],r:1},"America/St_Vincent":{a:"America/Puerto_Rico",c:["VC"],r:1},"America/Swift_Current":{u:-360,c:["CA"]},"America/Tegucigalpa":{u:-360,c:["HN"]},"America/Thule":{u:-240,d:-180,c:["GL"]},"America/Thunder_Bay":{u:-300,d:-240,c:["CA"]},"America/Tijuana":{u:-480,d:-420,c:["MX"]},"America/Toronto":{u:-300,d:-240,c:["CA","BS"]},"America/Tortola":{a:"America/Puerto_Rico",c:["VG"],r:1},"America/Vancouver":{u:-480,d:-420,c:["CA"]},"America/Virgin":{a:"America/Puerto_Rico",c:["VI"],r:1},"America/Whitehorse":{u:-420,c:["CA"]},"America/Winnipeg":{u:-360,d:-300,c:["CA"]},"America/Yakutat":{u:-540,d:-480,c:["US"]},"America/Yellowknife":{u:-420,d:-360,c:["CA"]},"Antarctica/Casey":{u:660,c:["AQ"]},"Antarctica/Davis":{u:420,c:["AQ"]},"Antarctica/DumontDUrville":{a:"Pacific/Port_Moresby",c:["AQ"],r:1},"Antarctica/Macquarie":{u:600,d:660,c:["AU"]},"Antarctica/Mawson":{u:300,c:["AQ"]},"Antarctica/McMurdo":{a:"Pacific/Auckland",c:["AQ"],r:1},"Antarctica/Palmer":{u:-180,c:["AQ"]},"Antarctica/Rothera":{u:-180,c:["AQ"]},"Antarctica/South_Pole":{a:"Pacific/Auckland",c:["AQ"],r:1},"Antarctica/Syowa":{a:"Asia/Riyadh",c:["AQ"],r:1},"Antarctica/Troll":{u:0,d:120,c:["AQ"]},"Antarctica/Vostok":{u:360,c:["AQ"]},"Arctic/Longyearbyen":{a:"Europe/Oslo",c:["SJ"],r:1},"Asia/Aden":{a:"Asia/Riyadh",c:["YE"],r:1},"Asia/Almaty":{u:360,c:["KZ"]},"Asia/Amman":{u:120,d:180,c:["JO"]},"Asia/Anadyr":{u:720,c:["RU"]},"Asia/Aqtau":{u:300,c:["KZ"]},"Asia/Aqtobe":{u:300,c:["KZ"]},"Asia/Ashgabat":{u:300,c:["TM"]},"Asia/Ashkhabad":{a:"Asia/Ashgabat",r:1},"Asia/Atyrau":{u:300,c:["KZ"]},"Asia/Baghdad":{u:180,c:["IQ"]},"Asia/Bahrain":{a:"Asia/Qatar",c:["BH"],r:1},"Asia/Baku":{u:240,c:["AZ"]},"Asia/Bangkok":{u:420,c:["TH","KH","LA","VN"]},"Asia/Barnaul":{u:420,c:["RU"]},"Asia/Beirut":{u:120,d:180,c:["LB"]},"Asia/Bishkek":{u:360,c:["KG"]},"Asia/Brunei":{u:480,c:["BN"]},"Asia/Calcutta":{a:"Asia/Kolkata",r:1,c:["IN"]},"Asia/Chita":{u:540,c:["RU"]},"Asia/Choibalsan":{u:480,c:["MN"]},"Asia/Chongqing":{a:"Asia/Shanghai",r:1},"Asia/Chungking":{a:"Asia/Shanghai",r:1},"Asia/Colombo":{u:330,c:["LK"]},"Asia/Dacca":{a:"Asia/Dhaka",r:1},"Asia/Damascus":{u:120,d:180,c:["SY"]},"Asia/Dhaka":{u:360,c:["BD"]},"Asia/Dili":{u:540,c:["TL"]},"Asia/Dubai":{u:240,c:["AE","OM"]},"Asia/Dushanbe":{u:300,c:["TJ"]},"Asia/Famagusta":{u:120,d:180,c:["CY"]},"Asia/Gaza":{u:120,d:180,c:["PS"]},"Asia/Harbin":{a:"Asia/Shanghai",r:1},"Asia/Hebron":{u:120,d:180,c:["PS"]},"Asia/Ho_Chi_Minh":{u:420,c:["VN"]},"Asia/Hong_Kong":{u:480,c:["HK"]},"Asia/Hovd":{u:420,c:["MN"]},"Asia/Irkutsk":{u:480,c:["RU"]},"Asia/Istanbul":{a:"Europe/Istanbul",r:1,c:["TR"]},"Asia/Jakarta":{u:420,c:["ID"]},"Asia/Jayapura":{u:540,c:["ID"]},"Asia/Jerusalem":{u:120,d:180,c:["IL"]},"Asia/Kabul":{u:270,c:["AF"]},"Asia/Kamchatka":{u:720,c:["RU"]},"Asia/Karachi":{u:300,c:["PK"]},"Asia/Kashgar":{a:"Asia/Urumqi",r:1,c:["CN"]},"Asia/Kathmandu":{u:345,c:["NP"]},"Asia/Katmandu":{a:"Asia/Kathmandu",r:1,c:["NP"]},"Asia/Khandyga":{u:540,c:["RU"]},"Asia/Kolkata":{u:330,c:["IN"]},"Asia/Krasnoyarsk":{u:420,c:["RU"]},"Asia/Kuala_Lumpur":{u:480,c:["MY"]},"Asia/Kuching":{u:480,c:["MY"]},"Asia/Kuwait":{a:"Asia/Riyadh",c:["KW"],r:1},"Asia/Macao":{a:"Asia/Macau",r:1,c:["CN"]},"Asia/Macau":{u:480,c:["MO"]},"Asia/Magadan":{u:660,c:["RU"]},"Asia/Makassar":{u:480,c:["ID"]},"Asia/Manila":{u:480,c:["PH"]},"Asia/Muscat":{a:"Asia/Dubai",c:["OM"],r:1},"Asia/Nicosia":{u:120,d:180,c:["CY"]},"Asia/Novokuznetsk":{u:420,c:["RU"]},"Asia/Novosibirsk":{u:420,c:["RU"]},"Asia/Omsk":{u:360,c:["RU"]},"Asia/Oral":{u:300,c:["KZ"]},"Asia/Phnom_Penh":{a:"Asia/Bangkok",c:["KH"],r:1},"Asia/Pontianak":{u:420,c:["ID"]},"Asia/Pyongyang":{u:540,c:["KP"]},"Asia/Qatar":{u:180,c:["QA","BH"]},"Asia/Qostanay":{u:360,c:["KZ"]},"Asia/Qyzylorda":{u:300,c:["KZ"]},"Asia/Rangoon":{a:"Asia/Yangon",r:1},"Asia/Riyadh":{u:180,c:["SA","AQ","KW","YE"]},"Asia/Saigon":{a:"Asia/Ho_Chi_Minh",r:1},"Asia/Sakhalin":{u:660,c:["RU"]},"Asia/Samarkand":{u:300,c:["UZ"]},"Asia/Seoul":{u:540,c:["KR"]},"Asia/Shanghai":{u:480,c:["CN"]},"Asia/Singapore":{u:480,c:["SG","MY"]},"Asia/Srednekolymsk":{u:660,c:["RU"]},"Asia/Taipei":{u:480,c:["TW"]},"Asia/Tashkent":{u:300,c:["UZ"]},"Asia/Tbilisi":{u:240,c:["GE"]},"Asia/Tehran":{u:210,d:270,c:["IR"]},"Asia/Tel_Aviv":{a:"Asia/Jerusalem",r:1},"Asia/Thimbu":{a:"Asia/Thimphu",r:1},"Asia/Thimphu":{u:360,c:["BT"]},"Asia/Tokyo":{u:540,c:["JP"]},"Asia/Tomsk":{u:420,c:["RU"]},"Asia/Ujung_Pandang":{a:"Asia/Makassar",r:1},"Asia/Ulaanbaatar":{u:480,c:["MN"]},"Asia/Ulan_Bator":{a:"Asia/Ulaanbaatar",r:1},"Asia/Urumqi":{u:360,c:["CN"]},"Asia/Ust-Nera":{u:600,c:["RU"]},"Asia/Vientiane":{a:"Asia/Bangkok",c:["LA"],r:1},"Asia/Vladivostok":{u:600,c:["RU"]},"Asia/Yakutsk":{u:540,c:["RU"]},"Asia/Yangon":{u:390,c:["MM"]},"Asia/Yekaterinburg":{u:300,c:["RU"]},"Asia/Yerevan":{u:240,c:["AM"]},"Atlantic/Azores":{u:-60,d:0,c:["PT"]},"Atlantic/Bermuda":{u:-240,d:-180,c:["BM"]},"Atlantic/Canary":{u:0,d:60,c:["ES"]},"Atlantic/Cape_Verde":{u:-60,c:["CV"]},"Atlantic/Faeroe":{a:"Atlantic/Faroe",r:1},"Atlantic/Faroe":{u:0,d:60,c:["FO"]},"Atlantic/Jan_Mayen":{a:"Europe/Oslo",c:["SJ"],r:1},"Atlantic/Madeira":{u:0,d:60,c:["PT"]},"Atlantic/Reykjavik":{u:0,c:["IS"]},"Atlantic/South_Georgia":{u:-120,c:["GS"]},"Atlantic/St_Helena":{a:"Africa/Abidjan",c:["SH"],r:1},"Atlantic/Stanley":{u:-180,c:["FK"]},"Australia/ACT":{a:"Australia/Sydney",r:1},"Australia/Adelaide":{u:570,d:630,c:["AU"]},"Australia/Brisbane":{u:600,c:["AU"]},"Australia/Broken_Hill":{u:570,d:630,c:["AU"]},"Australia/Canberra":{a:"Australia/Sydney",r:1},"Australia/Currie":{a:"Australia/Hobart",r:1},"Australia/Darwin":{u:570,c:["AU"]},"Australia/Eucla":{u:525,c:["AU"]},"Australia/Hobart":{u:600,d:660,c:["AU"]},"Australia/LHI":{a:"Australia/Lord_Howe",r:1},"Australia/Lindeman":{u:600,c:["AU"]},"Australia/Lord_Howe":{u:630,d:660,c:["AU"]},"Australia/Melbourne":{u:600,d:660,c:["AU"]},"Australia/NSW":{a:"Australia/Sydney",r:1},"Australia/North":{a:"Australia/Darwin",r:1},"Australia/Perth":{u:480,c:["AU"]},"Australia/Queensland":{a:"Australia/Brisbane",r:1},"Australia/South":{a:"Australia/Adelaide",r:1},"Australia/Sydney":{u:600,d:660,c:["AU"]},"Australia/Tasmania":{a:"Australia/Hobart",r:1},"Australia/Victoria":{a:"Australia/Melbourne",r:1},"Australia/West":{a:"Australia/Perth",r:1},"Australia/Yancowinna":{a:"Australia/Broken_Hill",r:1},"Brazil/Acre":{a:"America/Rio_Branco",r:1},"Brazil/DeNoronha":{a:"America/Noronha",r:1},"Brazil/East":{a:"America/Sao_Paulo",r:1},"Brazil/West":{a:"America/Manaus",r:1},CET:{u:60,d:120},CST6CDT:{u:-360,d:-300},"Canada/Atlantic":{a:"America/Halifax",r:1},"Canada/Central":{a:"America/Winnipeg",r:1},"Canada/Eastern":{a:"America/Toronto",c:["CA"],r:1},"Canada/Mountain":{a:"America/Edmonton",r:1},"Canada/Newfoundland":{a:"America/St_Johns",r:1},"Canada/Pacific":{a:"America/Vancouver",r:1},"Canada/Saskatchewan":{a:"America/Regina",r:1},"Canada/Yukon":{a:"America/Whitehorse",r:1},"Chile/Continental":{a:"America/Santiago",r:1},"Chile/EasterIsland":{a:"Pacific/Easter",r:1},Cuba:{a:"America/Havana",r:1},EET:{u:120,d:180},EST:{u:-300},EST5EDT:{u:-300,d:-240},Egypt:{a:"Africa/Cairo",r:1},Eire:{a:"Europe/Dublin",r:1},"Etc/GMT":{u:0},"Etc/GMT+0":{a:"Etc/GMT",r:1},"Etc/GMT+1":{u:-60},"Etc/GMT+10":{u:-600},"Etc/GMT+11":{u:-660},"Etc/GMT+12":{u:-720},"Etc/GMT+2":{u:-120},"Etc/GMT+3":{u:-180},"Etc/GMT+4":{u:-240},"Etc/GMT+5":{u:-300},"Etc/GMT+6":{u:-360},"Etc/GMT+7":{u:-420},"Etc/GMT+8":{u:-480},"Etc/GMT+9":{u:-540},"Etc/GMT-0":{a:"Etc/GMT",r:1},"Etc/GMT-1":{u:60},"Etc/GMT-10":{u:600},"Etc/GMT-11":{u:660},"Etc/GMT-12":{u:720},"Etc/GMT-13":{u:780},"Etc/GMT-14":{u:840},"Etc/GMT-2":{u:120},"Etc/GMT-3":{u:180},"Etc/GMT-4":{u:240},"Etc/GMT-5":{u:300},"Etc/GMT-6":{u:360},"Etc/GMT-7":{u:420},"Etc/GMT-8":{u:480},"Etc/GMT-9":{u:540},"Etc/GMT0":{a:"Etc/GMT",r:1},"Etc/Greenwich":{a:"Etc/GMT",r:1},"Etc/UCT":{a:"Etc/UTC",r:1},"Etc/UTC":{u:0},"Etc/Universal":{a:"Etc/UTC",r:1},"Etc/Zulu":{a:"Etc/UTC",r:1},"Europe/Amsterdam":{u:60,d:120,c:["NL"]},"Europe/Andorra":{u:60,d:120,c:["AD"]},"Europe/Astrakhan":{u:240,c:["RU"]},"Europe/Athens":{u:120,d:180,c:["GR"]},"Europe/Belfast":{a:"Europe/London",c:["GB"],r:1},"Europe/Belgrade":{u:60,d:120,c:["RS","BA","HR","ME","MK","SI"]},"Europe/Berlin":{u:60,d:120,c:["DE"]},"Europe/Bratislava":{a:"Europe/Prague",c:["SK"],r:1},"Europe/Brussels":{u:60,d:120,c:["BE"]},"Europe/Bucharest":{u:120,d:180,c:["RO"]},"Europe/Budapest":{u:60,d:120,c:["HU"]},"Europe/Busingen":{a:"Europe/Zurich",c:["DE"],r:1},"Europe/Chisinau":{u:120,d:180,c:["MD"]},"Europe/Copenhagen":{u:60,d:120,c:["DK"]},"Europe/Dublin":{u:60,d:0,c:["IE"]},"Europe/Gibraltar":{u:60,d:120,c:["GI"]},"Europe/Guernsey":{a:"Europe/London",c:["GG"],r:1},"Europe/Helsinki":{u:120,d:180,c:["FI","AX"]},"Europe/Isle_of_Man":{a:"Europe/London",c:["IM"],r:1},"Europe/Istanbul":{u:180,c:["TR"]},"Europe/Jersey":{a:"Europe/London",c:["JE"],r:1},"Europe/Kaliningrad":{u:120,c:["RU"]},"Europe/Kiev":{u:120,d:180,c:["UA"]},"Europe/Kirov":{u:180,c:["RU"]},"Europe/Lisbon":{u:0,d:60,c:["PT"]},"Europe/Ljubljana":{a:"Europe/Belgrade",c:["SI"],r:1},"Europe/London":{u:0,d:60,c:["GB","GG","IM","JE"]},"Europe/Luxembourg":{u:60,d:120,c:["LU"]},"Europe/Madrid":{u:60,d:120,c:["ES"]},"Europe/Malta":{u:60,d:120,c:["MT"]},"Europe/Mariehamn":{a:"Europe/Helsinki",c:["AX"],r:1},"Europe/Minsk":{u:180,c:["BY"]},"Europe/Monaco":{u:60,d:120,c:["MC"]},"Europe/Moscow":{u:180,c:["RU"]},"Europe/Nicosia":{a:"Asia/Nicosia",r:1,c:["CY"]},"Europe/Oslo":{u:60,d:120,c:["NO","SJ","BV"]},"Europe/Paris":{u:60,d:120,c:["FR"]},"Europe/Podgorica":{a:"Europe/Belgrade",c:["ME"],r:1},"Europe/Prague":{u:60,d:120,c:["CZ","SK"]},"Europe/Riga":{u:120,d:180,c:["LV"]},"Europe/Rome":{u:60,d:120,c:["IT","SM","VA"]},"Europe/Samara":{u:240,c:["RU"]},"Europe/San_Marino":{a:"Europe/Rome",c:["SM"],r:1},"Europe/Sarajevo":{a:"Europe/Belgrade",c:["BA"],r:1},"Europe/Saratov":{u:240,c:["RU"]},"Europe/Simferopol":{u:180,c:["RU","UA"]},"Europe/Skopje":{a:"Europe/Belgrade",c:["MK"],r:1},"Europe/Sofia":{u:120,d:180,c:["BG"]},"Europe/Stockholm":{u:60,d:120,c:["SE"]},"Europe/Tallinn":{u:120,d:180,c:["EE"]},"Europe/Tirane":{u:60,d:120,c:["AL"]},"Europe/Tiraspol":{a:"Europe/Chisinau",r:1,c:["MD"]},"Europe/Ulyanovsk":{u:240,c:["RU"]},"Europe/Uzhgorod":{u:120,d:180,c:["UA"]},"Europe/Vaduz":{a:"Europe/Zurich",c:["LI"],r:1},"Europe/Vatican":{a:"Europe/Rome",c:["VA"],r:1},"Europe/Vienna":{u:60,d:120,c:["AT"]},"Europe/Vilnius":{u:120,d:180,c:["LT"]},"Europe/Volgograd":{u:180,c:["RU"]},"Europe/Warsaw":{u:60,d:120,c:["PL"]},"Europe/Zagreb":{a:"Europe/Belgrade",c:["HR"],r:1},"Europe/Zaporozhye":{u:120,d:180,c:["UA"]},"Europe/Zurich":{u:60,d:120,c:["CH","DE","LI"]},Factory:{u:0},GB:{a:"Europe/London",c:["GB"],r:1},"GB-Eire":{a:"Europe/London",c:["GB"],r:1},GMT:{a:"Etc/GMT",r:1},"GMT+0":{a:"Etc/GMT",r:1},"GMT-0":{a:"Etc/GMT",r:1},GMT0:{a:"Etc/GMT",r:1},Greenwich:{a:"Etc/GMT",r:1},HST:{u:-600},Hongkong:{a:"Asia/Hong_Kong",r:1},Iceland:{a:"Atlantic/Reykjavik",r:1},"Indian/Antananarivo":{a:"Africa/Nairobi",c:["MG"],r:1},"Indian/Chagos":{u:360,c:["IO"]},"Indian/Christmas":{u:420,c:["CX"]},"Indian/Cocos":{u:390,c:["CC"]},"Indian/Comoro":{a:"Africa/Nairobi",c:["KM"],r:1},"Indian/Kerguelen":{u:300,c:["TF","HM"]},"Indian/Mahe":{u:240,c:["SC"]},"Indian/Maldives":{u:300,c:["MV"]},"Indian/Mauritius":{u:240,c:["MU"]},"Indian/Mayotte":{a:"Africa/Nairobi",c:["YT"],r:1},"Indian/Reunion":{u:240,c:["RE","TF"]},Iran:{a:"Asia/Tehran",r:1},Israel:{a:"Asia/Jerusalem",r:1},Jamaica:{a:"America/Jamaica",r:1},Japan:{a:"Asia/Tokyo",r:1},Kwajalein:{a:"Pacific/Kwajalein",r:1},Libya:{a:"Africa/Tripoli",r:1},MET:{u:60,d:120},MST:{u:-420},MST7MDT:{u:-420,d:-360},"Mexico/BajaNorte":{a:"America/Tijuana",r:1},"Mexico/BajaSur":{a:"America/Mazatlan",r:1},"Mexico/General":{a:"America/Mexico_City",r:1},NZ:{a:"Pacific/Auckland",c:["NZ"],r:1},"NZ-CHAT":{a:"Pacific/Chatham",r:1},Navajo:{a:"America/Denver",r:1},PRC:{a:"Asia/Shanghai",r:1},PST8PDT:{u:-480,d:-420},"Pacific/Apia":{u:780,c:["WS"]},"Pacific/Auckland":{u:720,d:780,c:["NZ","AQ"]},"Pacific/Bougainville":{u:660,c:["PG"]},"Pacific/Chatham":{u:765,d:825,c:["NZ"]},"Pacific/Chuuk":{u:600,c:["FM"]},"Pacific/Easter":{u:-360,d:-300,c:["CL"]},"Pacific/Efate":{u:660,c:["VU"]},"Pacific/Enderbury":{a:"Pacific/Kanton",r:1},"Pacific/Fakaofo":{u:780,c:["TK"]},"Pacific/Fiji":{u:720,d:780,c:["FJ"]},"Pacific/Funafuti":{u:720,c:["TV"]},"Pacific/Galapagos":{u:-360,c:["EC"]},"Pacific/Gambier":{u:-540,c:["PF"]},"Pacific/Guadalcanal":{u:660,c:["SB"]},"Pacific/Guam":{u:600,c:["GU","MP"]},"Pacific/Honolulu":{u:-600,c:["US","UM"]},"Pacific/Johnston":{a:"Pacific/Honolulu",c:["UM"],r:1},"Pacific/Kanton":{u:780,c:["KI"]},"Pacific/Kiritimati":{u:840,c:["KI"]},"Pacific/Kosrae":{u:660,c:["FM"]},"Pacific/Kwajalein":{u:720,c:["MH"]},"Pacific/Majuro":{u:720,c:["MH"]},"Pacific/Marquesas":{u:-510,c:["PF"]},"Pacific/Midway":{a:"Pacific/Pago_Pago",c:["UM"],r:1},"Pacific/Nauru":{u:720,c:["NR"]},"Pacific/Niue":{u:-660,c:["NU"]},"Pacific/Norfolk":{u:660,d:720,c:["NF"]},"Pacific/Noumea":{u:660,c:["NC"]},"Pacific/Pago_Pago":{u:-660,c:["AS","UM"]},"Pacific/Palau":{u:540,c:["PW"]},"Pacific/Pitcairn":{u:-480,c:["PN"]},"Pacific/Pohnpei":{u:660,c:["FM"]},"Pacific/Ponape":{a:"Pacific/Pohnpei",r:1},"Pacific/Port_Moresby":{u:600,c:["PG","AQ"]},"Pacific/Rarotonga":{u:-600,c:["CK"]},"Pacific/Saipan":{a:"Pacific/Guam",c:["MP"],r:1},"Pacific/Samoa":{a:"Pacific/Pago_Pago",c:["WS"],r:1},"Pacific/Tahiti":{u:-600,c:["PF"]},"Pacific/Tarawa":{u:720,c:["KI"]},"Pacific/Tongatapu":{u:780,c:["TO"]},"Pacific/Truk":{a:"Pacific/Chuuk",r:1},"Pacific/Wake":{u:720,c:["UM"]},"Pacific/Wallis":{u:720,c:["WF"]},"Pacific/Yap":{a:"Pacific/Chuuk",r:1},Poland:{a:"Europe/Warsaw",r:1},Portugal:{a:"Europe/Lisbon",r:1},ROC:{a:"Asia/Taipei",r:1},ROK:{a:"Asia/Seoul",r:1},Singapore:{a:"Asia/Singapore",c:["SG"],r:1},Turkey:{a:"Europe/Istanbul",r:1},UCT:{a:"Etc/UTC",r:1},"US/Alaska":{a:"America/Anchorage",r:1},"US/Aleutian":{a:"America/Adak",r:1},"US/Arizona":{a:"America/Phoenix",c:["US"],r:1},"US/Central":{a:"America/Chicago",r:1},"US/East-Indiana":{a:"America/Indiana/Indianapolis",r:1},"US/Eastern":{a:"America/New_York",r:1},"US/Hawaii":{a:"Pacific/Honolulu",c:["US"],r:1},"US/Indiana-Starke":{a:"America/Indiana/Knox",r:1},"US/Michigan":{a:"America/Detroit",r:1},"US/Mountain":{a:"America/Denver",r:1},"US/Pacific":{a:"America/Los_Angeles",r:1},"US/Samoa":{a:"Pacific/Pago_Pago",c:["WS"],r:1},UTC:{a:"Etc/UTC",r:1},Universal:{a:"Etc/UTC",r:1},"W-SU":{a:"Europe/Moscow",r:1},WET:{u:0,d:60},Zulu:{a:"Etc/UTC",r:1}},MC="US",BC="United States of America";function UC(){try{return GC(Intl.DateTimeFormat().resolvedOptions().timeZone)}catch{return MC}}function $C(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone??""}catch{return""}}function GC(e){var t,i;try{if(!e)return MC;const r=RC[e];return null!=(t=null==r?void 0:r.c)&&t.length?r.c[0]||MC:null!=r&&r.a&&(null==(i=RC[null==r?void 0:r.a])?void 0:i.c[0])||MC}catch{return MC}}function FC(e){return e||(e=UC()),PC[e]||BC}class HC{constructor(e,t){this.environment=e,this.jwtService=t}get(e){return this.createFetch({...e,method:"GET"})}post(e){return this.createFetch({...e,method:"POST"})}put(e){return this.createFetch({...e,method:"PUT"})}patch(e){return this.createFetch({...e,method:"PATCH"})}delete(e){return this.createFetch({...e,method:"DELETE"})}async createFetch({method:e,url:t,body:i,token:r,params:o,headers:n,absoluteUrl:a}){var s;const l=r||this.jwtService&&await this.jwtService.getJwt()||"",c=Mk(),d={headers:{"Content-Type":"application/json; charset=utf-8",Authorization:`Bearer ${l}`,[Ob]:$C(),[Lb]:(null==c?void 0:c.browserType)||"",[Pb]:(null==c?void 0:c.appType)||"",...n},method:e};i&&(d.body=JSON.stringify(i));const u=new Error("Server is not reachable");if(null==(s=this.environment)||!s.BACKEND_URL)throw new Error("HttpClient: Base URL missing in 'BACKEND_URL'");let h;const p=async e=>{const i=Mg();i&&(e=i);try{const i=new URL(a??e+t);o&&o.forEach(({key:e,value:t})=>i.searchParams.append(e,t)),h=await fetch(i.toString(),d)}catch(t){throw console.error(`Server not reachable: ${e}`,t),u}};try{await p(this.environment.BACKEND_URL)}catch{if(!this.environment.BACKEND_URL_FALLBACK||a)throw u;try{await p(this.environment.BACKEND_URL_FALLBACK),this.environment={...this.environment,BACKEND_URL:this.environment.BACKEND_URL_FALLBACK,BACKEND_URL_FALLBACK:this.environment.BACKEND_URL}}catch{throw u}}if(!h)throw u;const g=h.headers.get("Content-Type"),f=null==g?void 0:g.includes("application/json"),m=null==g?void 0:g.includes("application/pdf");if(!h.ok&&413===h.status)throw new UE("Payload too large");if(h.ok)try{let e;return null!=g&&g.includes("text/html")&&(e=await h.text()),f&&(e=await h.json()),m&&(e=await h.blob()),e}catch{return h}if(f){const e=await h.json();return aA(e)&&cA(0,new LC(this)),Promise.reject(e)}let b=h.text?await h.text():"";try{b=JSON.parse(b).message}catch{}return b=b||h.statusText,Promise.reject(b)}}function zC(e){return new HC(e,NA)}function jC(e,t){VC(e,()=>Bk.dispatch("selectedTag",{detail:{tag:t}}))}function VC(e,t){["Enter","Space"].includes(e.key)&&t()}const WC=new class{constructor(){Ec(this,"pressedKeys",{}),Ec(this,"keyUpListener"),Ec(this,"keyDownListener")}handleKeydown(e){this.pressedKeys[e.key]=!0}handleKeyUp(e){this.pressedKeys[e.key]=!1}start(){this.keyDownListener=this.handleKeydown.bind(this),this.keyUpListener=this.handleKeyUp.bind(this),window.addEventListener("keydown",this.keyDownListener),window.addEventListener("keyup",this.keyUpListener)}stop(){this.keyDownListener&&window.removeEventListener("keydown",this.keyDownListener),this.keyUpListener&&window.removeEventListener("keyup",this.keyUpListener)}isKeyPressed(e){return!!this.pressedKeys[e]}},qC={NAME:"Marius Bongarts",COMPANY_NAME:"Web & App Entwicklung",ADDRESS:"Sentmaringer Weg 87",POSTAL_CODE:"48151",CITY:"Muenster",TAX_NUMBER:"314/5019/4693",WEBSITE_URL:"https://marius-bongarts.de/",EMAIL:"marius@web-highlights.com"},YC=[{tags:["test"],_id:"626986e46307f54905065f5f",id:"58a11611-4157-48d7-98c9-a6f6d8a08167",url:"http://localhost:8080/",text:"London is the capital city of England.",anchorOffset:0,createdAt:1651082980510,rangyObject:"type:textContent|1165$1203$2$highlight$",color:"#92ffaa",_user:"61e96bc300b7941e8052cfba",_bookmark:"6253f7ddbd4eb2eaf951295b",__v:0},{tags:["test"],_id:"626986e86307f54905065f68",id:"37e3146d-bcac-4078-8277-cdd98f537d04",url:"http://localhost:8080/",text:" Im not talking about the bad seating and the stale pretzels",anchorOffset:54,createdAt:1651082984360,rangyObject:"type:textContent|76$137$3$highlight$",color:"#92ffaa",_user:"61e96bc300b7941e8052cfba",_bookmark:"6253f7ddbd4eb2eaf951295b",__v:0},{tags:["test"],_id:"626986ed6307f54905065f71",id:"bf577edd-1527-48f8-8e88-3f7b06e00ce6",url:"http://localhost:8080/",text:"Wasser aus dem Tschenwald",anchorOffset:63,createdAt:1651082989376,rangyObject:"type:textContent|2155$2181$4$highlight$",color:"#92ffaa",_user:"61e96bc300b7941e8052cfba",_bookmark:"6253f7ddbd4eb2eaf951295b",__v:0}],KC=[{_id:"6607f8443ac413bcb2d73ac1",createdAt:1711798340512,updatedAt:0,_objectStore:"marks",url:"http://localhost:8080/",tags:[],text:"Welcome to the test page fo",type:"normal",mediaType:"blockquote",color:"#92ffaa",highlightSource:{startMeta:{parentTagName:"P",parentIndex:0,textOffset:0},endMeta:{parentTagName:"P",parentIndex:0,textOffset:27},text:"Welcome to the test page fo",id:"aeddc9cf-c569-4605-bce9-a6da3c94b967",__isHighlightSource:{}},domElementOffsetTop:106,domElementOffsetLeft:88,_bookmark:"6607f8443ac413bcb2d73ac2"},{_id:"6607f8463ac413bcb2d73ac3",createdAt:1711798342935,updatedAt:0,_objectStore:"marks",url:"http://localhost:8080/",tags:[],text:" you to highlig",type:"normal",mediaType:"blockquote",color:"#92ffaa",highlightSource:{startMeta:{parentTagName:"P",parentIndex:0,textOffset:156},endMeta:{parentTagName:"P",parentIndex:0,textOffset:171},text:" you to highlig",id:"aee515c6-ebc6-4beb-9b5e-3437effabecb",__isHighlightSource:{}},domElementOffsetTop:125,domElementOffsetLeft:327,_bookmark:"6607f8443ac413bcb2d73ac2"},{_id:"6607f8483ac413bcb2d73ac4",createdAt:1711798344662,updatedAt:0,_objectStore:"marks",url:"http://localhost:8080/",tags:[],text:" Tex",type:"normal",mediaType:"blockquote",color:"#92ffaa",highlightSource:{startMeta:{parentTagName:"H2",parentIndex:0,textOffset:9},endMeta:{parentTagName:"H2",parentIndex:0,textOffset:13},text:" Tex",id:"11c00d49-762a-43f7-b5cb-f783666845d0",__isHighlightSource:{}},domElementOffsetTop:163,domElementOffsetLeft:199,_bookmark:"6607f8443ac413bcb2d73ac2"}],XC=[{_id:"632987eeca10136f0df81e2a",id:"14e4bb82-91d2-4816-9720-9f18110f761f",createdAt:1663666158685,url:"http://localhost:8080/",text:"is. Quisque eget ipsum co",tags:[],highlightSource:{startMeta:{parentTagName:"P",parentIndex:0,textOffset:820},endMeta:{parentTagName:"P",parentIndex:0,textOffset:851},text:"is. Quisque\n      eget ipsum co",id:"0842ba4e-9227-4d5c-98f1-b21732b31181"},color:"#92ffaa",_user:"62ea3b1898ee00931cbf3a34",_bookmark:"6329876b5f4eeafd34dc7cb4",__v:0},{_id:"632987faca10136f0df81e3c",id:"f755a1ed-5701-4c0a-9423-ea00e236b693",createdAt:1663666170369,url:"http://localhost:8080/",text:"Web Highlights Test Page",tags:[],highlightSource:{startMeta:{parentTagName:"H1",parentIndex:0,textOffset:0},endMeta:{parentTagName:"H1",parentIndex:0,textOffset:24},text:"Web Highlights Test Page",id:"c548f01f-bc05-4a2e-a39d-9d475768fa5a"},color:"#92ffaa",_user:"62ea3b1898ee00931cbf3a34",_bookmark:"6329876b5f4eeafd34dc7cb4",__v:0},{_id:"632987a9ca10136f0df81e23",id:"065e308d-2339-41b6-9992-e3969b5edf87",createdAt:1663666089233,url:"http://localhost:8080/",text:"laoreet ullamcorper et a nunc. D",tags:[],highlightSource:{startMeta:{parentTagName:"P",parentIndex:0,textOffset:443},endMeta:{parentTagName:"P",parentIndex:0,textOffset:475},text:"laoreet ullamcorper et a nunc. D",id:"01c3ce58-56b4-4ee8-8964-a0271c41cb5b"},color:"#92ffaa",_user:"62ea3b1898ee00931cbf3a34",_bookmark:"6329876b5f4eeafd34dc7cb4",__v:0},{_id:"6329876b5f4eeafd34dc7cb1",id:"36ebd9ab-3482-4646-b6ca-55c3c37c9f32",createdAt:1663666027798,url:"http://localhost:8080/",text:"da fames ac ante ipsum primis in faucibus. Donec interdum suscipit fringilla. Ut ut mi id odio laoreet u",tags:[],highlightSource:{startMeta:{parentTagName:"P",parentIndex:0,textOffset:342},endMeta:{parentTagName:"P",parentIndex:0,textOffset:452},text:"da fames ac ante\n      ipsum primis in faucibus. Donec interdum suscipit fringilla. Ut ut mi id odio laoreet u",id:"35477d0e-a97b-44a0-89bb-fac3564a2583"},color:"#92ffaa",_user:"62ea3b1898ee00931cbf3a34",_bookmark:"6329876b5f4eeafd34dc7cb4",__v:0}],JC=[{_id:"639b313313e5970e38f95de8",id:"d875e65a-99da-4850-bca5-77502b10dda0",createdAt:1671115059212,url:"chrome-extension://mnjhhninaaaldmcgodimaadhpkaigbpp/viewer.html?file=file:///Users/marius.bongarts/Library/CloudStorage/OneDrive-Accenture/Documents/_124955346_Lieferbestaetigung_20210407_3dbca6b8ebcab9084f140013b7a9afe0.pdf",origin:"chrome-extension://mnjhhninaaaldmcgodimaadhpkaigbpp/viewer.html?file=file:///Users/marius.bongarts/Library/CloudStorage/OneDrive-Accenture/Documents/_124955346_Lieferbestaetigung_20210407_3dbca6b8ebcab9084f140013b7a9afe0.pdf",text:"ng hat fr den Zeitraum vom 01.07.2020 ",tags:[],title:"_124955346_Lieferbestaetigung_20210407_3dbca6b8ebcab9084f140013b7a9afe0.pdf",highlightSource:{startMeta:{parentTagName:"SPAN",parentIndex:164,textOffset:17},endMeta:{parentTagName:"SPAN",parentIndex:164,textOffset:56},text:"ng hat fr den Zeitraum vom 01.07.2020 ",id:"2dc24104-3be3-480a-8020-9af011d0da1e"},color:"#bdfbff",_user:"6204bb6bcde30c005427600b",_bookmark:"639b30cd13e5970e38f95be5",__v:0,richText:{ops:[{insert:"2/4\n"}]}},{_id:"639b311e13e5970e38f95da0",id:"f4519cd7-0eb9-4f23-9f1c-46c61355f4a9",createdAt:1671115038244,url:"chrome-extension://mnjhhninaaaldmcgodimaadhpkaigbpp/viewer.html?file=file:///Users/marius.bongarts/Library/CloudStorage/OneDrive-Accenture/Documents/_124955346_Lieferbestaetigung_20210407_3dbca6b8ebcab9084f140013b7a9afe0.pdf",origin:"chrome-extension://mnjhhninaaaldmcgodimaadhpkaigbpp/viewer.html?file=file:///Users/marius.bongarts/Library/CloudStorage/OneDrive-Accenture/Documents/_124955346_Lieferbestaetigung_20210407_3dbca6b8ebcab9084f140013b7a9afe0.pdf",text:"euen uns, dass Sie sich ",tags:[],title:"_124955346_Lieferbestaetigung_20210407_3dbca6b8ebcab9084f140013b7a9afe0.pdf",highlightSource:{startMeta:{parentTagName:"SPAN",parentIndex:73,textOffset:6},endMeta:{parentTagName:"SPAN",parentIndex:73,textOffset:30},text:"euen uns, dass Sie sich ",id:"beeab145-87ca-416b-b655-13caecc2d2f4"},color:"#bdfbff",_user:"6204bb6bcde30c005427600b",_bookmark:"639b30cd13e5970e38f95be5",__v:0,richText:{ops:[{insert:"1/4 => first\n"}]}},{_id:"639b311613e5970e38f95d7d",id:"a53343a4-5be0-4ec8-8406-8cc06eed4185",createdAt:1671115030494,url:"chrome-extension://mnjhhninaaaldmcgodimaadhpkaigbpp/viewer.html?file=file:///Users/marius.bongarts/Library/CloudStorage/OneDrive-Accenture/Documents/_124955346_Lieferbestaetigung_20210407_3dbca6b8ebcab9084f140013b7a9afe0.pdf",origin:"chrome-extension://mnjhhninaaaldmcgodimaadhpkaigbpp/viewer.html?file=file:///Users/marius.bongarts/Library/CloudStorage/OneDrive-Accenture/Documents/_124955346_Lieferbestaetigung_20210407_3dbca6b8ebcab9084f140013b7a9afe0.pdf",text:" maschinell erstellt und ist ohn",tags:[],title:"_124955346_Lieferbestaetigung_20210407_3dbca6b8ebcab9084f140013b7a9afe0.pdf",highlightSource:{startMeta:{parentTagName:"SPAN",parentIndex:83,textOffset:22},endMeta:{parentTagName:"SPAN",parentIndex:83,textOffset:54},text:" maschinell erstellt und ist ohn",id:"272d62e9-6929-4dcc-91c3-cbc23ad8b650"},color:"#bdfbff",_user:"6204bb6bcde30c005427600b",_bookmark:"639b30cd13e5970e38f95be5",__v:0,richText:{ops:[{insert:"1/4 => last\n"}]}},{_id:"639b30e513e5970e38f95c6b",id:"b73c011d-abe6-4c27-8393-3695b57a83eb",createdAt:1671114981128,url:"chrome-extension://mnjhhninaaaldmcgodimaadhpkaigbpp/viewer.html?file=file:///Users/marius.bongarts/Library/CloudStorage/OneDrive-Accenture/Documents/_124955346_Lieferbestaetigung_20210407_3dbca6b8ebcab9084f140013b7a9afe0.pdf",origin:"chrome-extension://mnjhhninaaaldmcgodimaadhpkaigbpp/viewer.html?file=file:///Users/marius.bongarts/Library/CloudStorage/OneDrive-Accenture/Documents/_124955346_Lieferbestaetigung_20210407_3dbca6b8ebcab9084f140013b7a9afe0.pdf",text:"er hinterlegt",tags:[],title:"_124955346_Lieferbestaetigung_20210407_3dbca6b8ebcab9084f140013b7a9afe0.pdf",highlightSource:{startMeta:{parentTagName:"SPAN",parentIndex:392,textOffset:36},endMeta:{parentTagName:"SPAN",parentIndex:392,textOffset:49},text:"er hinterlegt",id:"20fce4dd-bb38-4403-b16a-bd53848097de"},color:"#bdfbff",_user:"6204bb6bcde30c005427600b",_bookmark:"639b30cd13e5970e38f95be5",__v:0,richText:{ops:[{insert:"4/4 => last\n"}]}},{_id:"639b30db13e5970e38f95c39",id:"e15c8276-9a51-4837-b888-ffd0353cc183",createdAt:1671114971513,url:"chrome-extension://mnjhhninaaaldmcgodimaadhpkaigbpp/viewer.html?file=file:///Users/marius.bongarts/Library/CloudStorage/OneDrive-Accenture/Documents/_124955346_Lieferbestaetigung_20210407_3dbca6b8ebcab9084f140013b7a9afe0.pdf",origin:"chrome-extension://mnjhhninaaaldmcgodimaadhpkaigbpp/viewer.html?file=file:///Users/marius.bongarts/Library/CloudStorage/OneDrive-Accenture/Documents/_124955346_Lieferbestaetigung_20210407_3dbca6b8ebcab9084f140013b7a9afe0.pdf",text:"nung Ihres Abschlagsbetrags verw",tags:[],title:"_124955346_Lieferbestaetigung_20210407_3dbca6b8ebcab9084f140013b7a9afe0.pdf",highlightSource:{startMeta:{parentTagName:"SPAN",parentIndex:243,textOffset:16},endMeta:{parentTagName:"SPAN",parentIndex:243,textOffset:48},text:"nung Ihres Abschlagsbetrags verw",id:"912935c1-817e-4bdc-b7f0-b1237304171d"},color:"#bdfbff",_user:"6204bb6bcde30c005427600b",_bookmark:"639b30cd13e5970e38f95be5",__v:0,richText:{ops:[{insert:"3/4 => First\n"}]}},{_id:"639b30cd13e5970e38f95be3",id:"5c6c7704-612c-43d6-a27a-1d4cef2d501b",createdAt:1671114957336,url:"chrome-extension://mnjhhninaaaldmcgodimaadhpkaigbpp/viewer.html?file=file:///Users/marius.bongarts/Library/CloudStorage/OneDrive-Accenture/Documents/_124955346_Lieferbestaetigung_20210407_3dbca6b8ebcab9084f140013b7a9afe0.pdf",origin:"chrome-extension://mnjhhninaaaldmcgodimaadhpkaigbpp/viewer.html?file=file:///Users/marius.bongarts/Library/CloudStorage/OneDrive-Accenture/Documents/_124955346_Lieferbestaetigung_20210407_3dbca6b8ebcab9084f140013b7a9afe0.pdf",text:"vertraglich vereinbarten Sofortbonus ",tags:[],title:"_124955346_Lieferbestaetigung_20210407_3dbca6b8ebcab9084f140013b7a9afe0.pdf",highlightSource:{startMeta:{parentTagName:"SPAN",parentIndex:313,textOffset:6},endMeta:{parentTagName:"SPAN",parentIndex:313,textOffset:43},text:"vertraglich vereinbarten Sofortbonus ",id:"61467c56-a6fc-4188-bd38-d92e8de222a4"},color:"#bdfbff",_user:"6204bb6bcde30c005427600b",_bookmark:"639b30cd13e5970e38f95be5",__v:0,richText:{ops:[{insert:"3/4 -> Last\n"}]}}],ZC=[{_id:"639c22a82d7e725219e927ad",id:"778cc50b-a1a7-4d29-847a-064b988f11a9",createdAt:1671176872235,url:"chrome-extension://hldjnlbobkdkghfidgoecgmklcemanhm/viewer.html?file=file:///C:/Users/rrydecon/OneDrive%2520-%2520GCloud%2520Belgium/Documenten/What%2520Is%2520Substack%2520and%2520How%2520Does%2520It%2520Work_.pdf",origin:"chrome-extension://hldjnlbobkdkghfidgoecgmklcemanhm/viewer.html?file=file:///C:/Users/rrydecon/OneDrive%2520-%2520GCloud%2520Belgium/Documenten/What%2520Is%2520Substack%2520and%2520How%2520Does%2520It%2520Work_.pdf",text:"3. Set up your profile",tags:[],highlightSource:{startMeta:{parentTagName:"SPAN",parentIndex:59,textOffset:0},endMeta:{parentTagName:"SPAN",parentIndex:59,textOffset:22},text:"3. Set up your profile",id:"3e65d9aa-95cf-4c1e-b507-6ba0d9350051"},color:"#3aee17",_user:"637751a28a156e1d57f81a78",_bookmark:"639c22942d7e725219e92789",__v:0,permission:"PUBLIC"},{_id:"639c22a22d7e725219e9279d",id:"d257b0c1-ee29-4288-a819-5cd8a488d1d1",createdAt:1671176866043,url:"chrome-extension://hldjnlbobkdkghfidgoecgmklcemanhm/viewer.html?file=file:///C:/Users/rrydecon/OneDrive%2520-%2520GCloud%2520Belgium/Documenten/What%2520Is%2520Substack%2520and%2520How%2520Does%2520It%2520Work_.pdf",origin:"chrome-extension://hldjnlbobkdkghfidgoecgmklcemanhm/viewer.html?file=file:///C:/Users/rrydecon/OneDrive%2520-%2520GCloud%2520Belgium/Documenten/What%2520Is%2520Substack%2520and%2520How%2520Does%2520It%2520Work_.pdf",text:"4. Create your publication",tags:[],highlightSource:{startMeta:{parentTagName:"SPAN",parentIndex:62,textOffset:0},endMeta:{parentTagName:"SPAN",parentIndex:62,textOffset:26},text:"4. Create your publication",id:"dbd0f51e-dab7-4ad6-8a51-85c4d2d4160e"},color:"#dfee6d",_user:"637751a28a156e1d57f81a78",_bookmark:"639c22942d7e725219e92789",__v:0,permission:"PUBLIC"},{_id:"639c229a2d7e725219e92790",id:"63ee4e53-448e-4125-83ae-fadf50d0dca9",createdAt:1671176858826,url:"chrome-extension://hldjnlbobkdkghfidgoecgmklcemanhm/viewer.html?file=file:///C:/Users/rrydecon/OneDrive%2520-%2520GCloud%2520Belgium/Documenten/What%2520Is%2520Substack%2520and%2520How%2520Does%2520It%2520Work_.pdf",origin:"chrome-extension://hldjnlbobkdkghfidgoecgmklcemanhm/viewer.html?file=file:///C:/Users/rrydecon/OneDrive%2520-%2520GCloud%2520Belgium/Documenten/What%2520Is%2520Substack%2520and%2520How%2520Does%2520It%2520Work_.pdf",text:"1. Define your niche",tags:[],highlightSource:{startMeta:{parentTagName:"SPAN",parentIndex:45,textOffset:0},endMeta:{parentTagName:"SPAN",parentIndex:48,textOffset:17},text:"1. Define your niche",id:"349b2489-6979-4eb1-a44b-d431df31e981"},color:"#3aee17",_user:"637751a28a156e1d57f81a78",_bookmark:"639c22942d7e725219e92789",__v:0,permission:"PUBLIC"},{_id:"639c22942d7e725219e92786",id:"107846fb-e518-4f7b-bc62-a3c62b4d0994",createdAt:1671176852082,url:"chrome-extension://hldjnlbobkdkghfidgoecgmklcemanhm/viewer.html?file=file:///C:/Users/rrydecon/OneDrive%2520-%2520GCloud%2520Belgium/Documenten/What%2520Is%2520Substack%2520and%2520How%2520Does%2520It%2520Work_.pdf",origin:"chrome-extension://hldjnlbobkdkghfidgoecgmklcemanhm/viewer.html?file=file:///C:/Users/rrydecon/OneDrive%2520-%2520GCloud%2520Belgium/Documenten/What%2520Is%2520Substack%2520and%2520How%2520Does%2520It%2520Work_.pdf",text:"2. Sign up for an account",tags:[],highlightSource:{startMeta:{parentTagName:"SPAN",parentIndex:55,textOffset:0},endMeta:{parentTagName:"SPAN",parentIndex:55,textOffset:25},text:"2. Sign up for an account",id:"d5870b80-0c23-4392-8a59-c697daeebcb6"},color:"#dfee6d",_user:"637751a28a156e1d57f81a78",_bookmark:"639c22942d7e725219e92789",__v:0,permission:"PUBLIC"}],QC=[ZC[2],ZC[3],ZC[0],ZC[1]],eI=[JC[1],JC[2],JC[0],JC[4],JC[5],JC[3]],tI={startMeta:{parentTagName:"SPAN",parentIndex:83,textOffset:22},endMeta:{parentTagName:"SPAN",parentIndex:83,textOffset:54},text:" maschinell erstellt und ist ohn",id:"272d62e9-6929-4dcc-91c3-cbc23ad8b650"},iI=[{_id:"63a40b5c7e66de4d4498fbef",id:"ae86c26a-7977-4cb0-8a43-1a1fd012d7f4",createdAt:1671695196005,url:"http://localhost:8080/",text:"code",tags:[],color:"#8ffdff",_user:"62ea3b1898ee00931cbf3a34",_bookmark:"63a40888cd6c44db4af7fe27",__v:0,highlightSource:{startMeta:{parentTagName:"CODE",parentIndex:0,textOffset:24},endMeta:{parentTagName:"CODE",parentIndex:0,textOffset:28},text:"code",id:"f9515063-e9c5-4e11-8131-7e222216e61a"},richText:null},{_id:"63a40b437e66de4d4498fbe5",id:"0c70574a-f4b3-47bb-875c-a614b75884b0",createdAt:1671695171804,url:"http://localhost:8080/",text:"Web Highlights Test Page",tags:[],color:"#ffec70",_user:"62ea3b1898ee00931cbf3a34",_bookmark:"63a40888cd6c44db4af7fe27",__v:0,highlightSource:{startMeta:{parentTagName:"H1",parentIndex:0,textOffset:0},endMeta:{parentTagName:"H1",parentIndex:0,textOffset:24},text:"Web Highlights Test Page",id:"7eea808c-faa2-4530-8448-f59bedc963fb"},richText:null},{_id:"63a4088dcd6c44db4af7fe2f",id:"b17f1d15-9e5d-46db-9423-54d87ca8ae68",createdAt:1671694477468,url:"http://localhost:8080/",text:'test = "Some ',tags:[],anchorOffset:6,nodeTagName:"code",startOffset:6,endOffset:19,scrollY:5,rangyObject:"",highlightSource:{startMeta:{parentTagName:"CODE",parentIndex:0,textOffset:6},endMeta:{parentTagName:"CODE",parentIndex:0,textOffset:19},text:'test = "Some ',id:"b1b513a7-b7c6-4982-90e8-4149f9542f2f"},color:"#ffec70",domPositionIndex:409.407,_user:"62ea3b1898ee00931cbf3a34",_bookmark:"63a40888cd6c44db4af7fe27",__v:0},{_id:"63a40888cd6c44db4af7fe25",id:"88c25162-c18c-4269-b45f-06f0f0a78bc0",createdAt:1671694472253,url:"http://localhost:8080/",text:"bortis orci nunc nec purus. Duis mo",tags:[],anchorOffset:190,nodeTagName:"p",startOffset:155,endOffset:190,scrollY:5,rangyObject:"",highlightSource:{startMeta:{parentTagName:"P",parentIndex:2,textOffset:155},endMeta:{parentTagName:"P",parentIndex:2,textOffset:190},text:"bortis orci nunc nec purus. Duis mo",id:"fec48701-9516-4da9-bbb7-659e1d9afcf8"},color:"#ffec70",domPositionIndex:472.486,_user:"62ea3b1898ee00931cbf3a34",_bookmark:"63a40888cd6c44db4af7fe27",__v:0}],rI=[iI[1],iI[2],iI[0],iI[3]],oI={subscription_id:12345678,cancel_url:"https://subscription-management.paddle.com/subscription/12345678/hash/7be551119b1e776eaf1b71605f21fc1626663e1696d197d7d3049a6fe9892bac/cancel",plan_id:840818,user_id:8268629,user_email:"mariusbongarts11@gmail.com",marketing_consent:!1,update_url:"https://subscription-management.paddle.com/subscription/12345678/hash/7be551119b1e776eaf1b71605f21fc1626663e1696d197d7d3049a6fe9892bac/update",state:"active",signup_date:"2023-08-11 14:14:01",last_payment:{amount:4.75,currency:"EUR",date:"2025-05-11"},next_payment:{amount:4.75,currency:"EUR",date:"2025-06-11"},payment_information:{payment_method:"PayPal",card_type:"",expiry_date:"",last_four_digits:""},quantity:1},nI={activatedWithExpiredJwt:{email:"activatedWithExpiredJwt@mock.de",password:"activatedWithExpiredJwt@mock.de",activated:!0,jwt:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MzNjMzU4ZGNhZWRiNjhjYWFjMGJkNDUiLCJlbWFpbCI6ImFjdGl2YXRlZFdpdGhFeHBpcmVkSnd0QG1vY2suZGUiLCJ1c2VyUGxhbiI6eyJ0eXBlIjoiRlJFRV9UUklBTCIsImV4cGlyZXNEYXRlTWlsbGlzIjoxNjY2MDk5ODUzMDkwfSwicHJlbWl1bSI6ZmFsc2UsImlhdCI6MTY2NDg5MDMwOSwiZXhwIjoxNjY0ODkwMzI5fQ.BjYjnEe9WzvFgEkQXUN5w4tQWpsoMEz_9HneEbEFeck"},activatedWithFreeTrial:{email:"activatedWithFreeTrial@mock.de",password:"activatedWithFreeTrial@mock.de",activated:!0,jwt:""},activatedWithExpiredFreeTrial:{email:"activatedWithExpiredFreeTrial@mock.de",password:"activatedWithExpiredFreeTrial@mock.de",activated:!0,userPlan:{type:tv.FREE_TRIAL,expiresDateMillis:1679747707790},jwt:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MzNjMzQyZjBiMTU5YjU5Y2NhYTJjYjkiLCJlbWFpbCI6Imp3dFRlc3RVc2VyQG1vY2suZGUiLCJ1c2VyUGxhbiI6eyJ0eXBlIjoiRlJFRV9UUklBTCIsImV4cGlyZXNEYXRlTWlsbGlzIjoxNjY0ODg5OTAzNTIzfSwicHJlbWl1bSI6ZmFsc2UsImlhdCI6MTY2NDg4OTkwMywiZXhwIjo4OTIyOTE4MzAzfQ.UCwhNXumdpsfC-_-RzR6guhmjBLGtkJKP5UPDJPmVjw"},activatedWithPremium:{email:"activatedWithPremium@mock.de",password:"activatedWithPremium@mock.de",activated:!0,userPlan:{type:tv.PREMIUM,expiresDateMillis:62580284e5,subscription_id:oI.subscription_id,userPlanDuration:iv.ONE_MONTH},jwt:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MzNjMzRlOWQ4YmFkZmRmMGYzOWE0MmIiLCJlbWFpbCI6Imp3dFRlc3RVc2VyQG1vY2suZGUiLCJ1c2VyUGxhbiI6eyJ0eXBlIjoiUFJFTUlVTSIsImV4cGlyZXNEYXRlTWlsbGlzIjo3MjU4MDI4NDAwMDAwfSwicHJlbWl1bSI6ZmFsc2UsImlhdCI6MTY2NDg5MDA4OSwiZXhwIjo4OTIyOTE4NDg5fQ.GntSJZCchP6K8c8Nwx_1qPpDgws7n20Bw8wB9y2ztps"},activatedWithExpiredPremium:{email:"activatedWithExpiredPremium@mock.de",password:"activatedWithExpiredPremium@mock.de",activated:!0,userPlan:{type:tv.PREMIUM,expiresDateMillis:1679747707790,userPlanDuration:iv.ONE_MONTH},jwt:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MzNjMzQ4YmFjMjgwZDQ3NzQ0ZmQzZmUiLCJlbWFpbCI6Imp3dFRlc3RVc2VyQG1vY2suZGUiLCJ1c2VyUGxhbiI6eyJ0eXBlIjoiUFJFTUlVTSIsImV4cGlyZXNEYXRlTWlsbGlzIjoxNjY0ODg5OTk1NDI0fSwicHJlbWl1bSI6ZmFsc2UsImlhdCI6MTY2NDg4OTk5NSwiZXhwIjo4OTIyOTE4Mzk1fQ.GuHgi9AgBAlganqCnOqHuBmWY5VMWGrKgZN-Mb5qfMA"},activatedWithUltimate:{email:"activatedWithUltimate@mock.de",password:"activatedWithUltimate@mock.de",activated:!0,userPlan:{type:tv.ULTIMATE,expiresDateMillis:62580284e5,subscription_id:oI.subscription_id,userPlanDuration:iv.ONE_YEAR},jwt:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MzNjMzRlOWQ4YmFkZmRmMGYzOWE0MmIiLCJlbWFpbCI6Imp3dFRlc3RVc2VyQG1vY2suZGUiLCJ1c2VyUGxhbiI6eyJ0eXBlIjoiUFJFTUlVTSIsImV4cGlyZXNEYXRlTWlsbGlzIjo3MjU4MDI4NDAwMDAwfSwicHJlbWl1bSI6ZmFsc2UsImlhdCI6MTY2NDg5MDA4OSwiZXhwIjo4OTIyOTE4NDg5fQ.GntSJZCchP6K8c8Nwx_1qPpDgws7n20Bw8wB9y2ztps"},activatedWithExpiredUltimate:{email:"activatedWithExpiredUltimate@mock.de",password:"activatedWithExpiredUltimate@mock.de",activated:!0,userPlan:{type:tv.ULTIMATE,expiresDateMillis:1679747707790,userPlanDuration:iv.ONE_YEAR},jwt:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MzNjMzRlOWQ4YmFkZmRmMGYzOWE0MmIiLCJlbWFpbCI6Imp3dFRlc3RVc2VyQG1vY2suZGUiLCJ1c2VyUGxhbiI6eyJ0eXBlIjoiUFJFTUlVTSIsImV4cGlyZXNEYXRlTWlsbGlzIjo3MjU4MDI4NDAwMDAwfSwicHJlbWl1bSI6ZmFsc2UsImlhdCI6MTY2NDg5MDA4OSwiZXhwIjo4OTIyOTE4NDg5fQ.GntSJZCchP6K8c8Nwx_1qPpDgws7n20Bw8wB9y2ztps"},activatedWithLifeTimePremium:{email:"activatedWithLifeTimePremium@mock.de",password:"activatedWithLifeTimePremium@mock.de",activated:!0,userPlan:{type:tv.PREMIUM,expiresDateMillis:72580284e5,userPlanDuration:iv.LIFETIME},jwt:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MzNjMzRlOWQ4YmFkZmRmMGYzOWE0MmIiLCJlbWFpbCI6Imp3dFRlc3RVc2VyQG1vY2suZGUiLCJ1c2VyUGxhbiI6eyJ0eXBlIjoiUFJFTUlVTSIsImV4cGlyZXNEYXRlTWlsbGlzIjo3MjU4MDI4NDAwMDAwfSwicHJlbWl1bSI6ZmFsc2UsImlhdCI6MTY2NDg5MDA4OSwiZXhwIjo4OTIyOTE4NDg5fQ.GntSJZCchP6K8c8Nwx_1qPpDgws7n20Bw8wB9y2ztps"},googleMockUser:{email:"googleMockUser@mock.de",password:"googleMockUser@mock.de",strategy:"google",activated:!0,userPlan:{type:tv.PREMIUM,expiresDateMillis:72580284e5},jwt:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MzNjMzRlOWQ4YmFkZmRmMGYzOWE0MmIiLCJlbWFpbCI6Imp3dFRlc3RVc2VyQG1vY2suZGUiLCJ1c2VyUGxhbiI6eyJ0eXBlIjoiUFJFTUlVTSIsImV4cGlyZXNEYXRlTWlsbGlzIjo3MjU4MDI4NDAwMDAwfSwicHJlbWl1bSI6ZmFsc2UsImlhdCI6MTY2NDg5MDA4OSwiZXhwIjo4OTIyOTE4NDg5fQ.GntSJZCchP6K8c8Nwx_1qPpDgws7n20Bw8wB9y2ztps"},notActivatedWithFreeTrial:{email:"notActivatedWithFreeTrial@mock.de",password:"notActivatedWithFreeTrial@mock.de",activated:!1,jwt:""},migrationMockUser:{email:"migrationMockUser@mock.de",password:"migrationMockUser@mock.de",activated:!0,userPlan:{type:tv.ULTIMATE,expiresDateMillis:62580284e5,subscription_id:oI.subscription_id,userPlanDuration:iv.ONE_YEAR},jwt:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MzNjMzRlOWQ4YmFkZmRmMGYzOWE0MmIiLCJlbWFpbCI6Imp3dFRlc3RVc2VyQG1vY2suZGUiLCJ1c2VyUGxhbiI6eyJ0eXBlIjoiUFJFTUlVTSIsImV4cGlyZXNEYXRlTWlsbGlzIjo3MjU4MDI4NDAwMDAwfSwicHJlbWl1bSI6ZmFsc2UsImlhdCI6MTY2NDg5MDA4OSwiZXhwIjo4OTIyOTE4NDg5fQ.GntSJZCchP6K8c8Nwx_1qPpDgws7n20Bw8wB9y2ztps"}};function aI(e){const t=sI(e);return t?nI[t]:void 0}function sI(e){return Object.keys(nI).find(t=>nI[t].email===e.email)}function lI(e){return!!sI(e)}const cI={activatedWithExpiredFreeTrial:{...nI.activatedWithExpiredFreeTrial,_id:"641a01a1395e262d8c2d4251"},activatedWithExpiredPremium:{...nI.activatedWithExpiredPremium,_id:"641a01a1395e262d8c2d4252"},activatedWithExpiredJwt:{...nI.activatedWithExpiredJwt,_id:"641a01a1395e262d8c2d4253"},activatedWithExpiredUltimate:{...nI.activatedWithExpiredUltimate,_id:"641a01a1395e262d8c2d4254"},activatedWithFreeTrial:{...nI.activatedWithFreeTrial,_id:"641a01a1395e262d8c2d4255"},activatedWithLifeTimePremium:{...nI.activatedWithLifeTimePremium,_id:"641a01a1395e262d8c2d4256"},activatedWithPremium:{...nI.activatedWithPremium,_id:"641a01a1395e262d8c2d4257"},activatedWithUltimate:{...nI.activatedWithUltimate,_id:"641a01a1395e262d8c2d4258"},googleMockUser:{...nI.googleMockUser,_id:"641a01a1395e262d8c2d5369"},notActivatedWithFreeTrial:{...nI.notActivatedWithFreeTrial,_id:"641a01a1395e262d8c2d5369"},migrationMockUser:{...nI.migrationMockUser,_id:"641a01a1395e262d8c2d4247"}},dI={bookmarks:[{_id:"641c4a89ac685fde9ca6d0e4",createdAt:1679575689989,updatedAt:1679575689989,lastSync:1679575690075,_user:"63dcf5ced9c9d5ce93d186de",isStarred:!0,origin:"localhost:8080",tags:["/TEST"],title:"Dev Page - /test",url:"http://localhost:8080/test",language:"en",permission:"PRIVATE",likes:[],_objectStore:"bookmarks",__v:0},{_id:"641affd26d0c6af0921b1314",createdAt:1679491026515,updatedAt:1679491026515,_user:"63dcf5ced9c9d5ce93d186de",isStarred:!0,origin:"localhost:8080",tags:[],title:"Dev Page - /",url:"http://localhost:8080/",language:"en",permission:"PRIVATE",likes:[],_objectStore:"bookmarks",__v:0}],marks:[{_id:"641c4a8eac685fde9ca6d0e7",createdAt:1679575694946,updatedAt:1679575694946,lastSync:1679575695057,_objectStore:"marks",_user:"63dcf5ced9c9d5ce93d186de",_bookmark:"641c4a89ac685fde9ca6d0e4",url:"http://localhost:8080/test",origin:"http://localhost:8080/test",text:"is nibh vel metus elementum, eu volutpat tellus finibus. Maecenas accumsan mi a lacus malesuada, sit amet convallis erat ultricies. Fusce id orci vitae erat dignissim ullamcorper. Ut vehicula nisi eu odio consectetur, non ultricies elit ornare. Praesent nec odio at elit volutpat fringilla a non metus.",tags:["Backed up"],title:"Dev Page - /test",highlightSource:{startMeta:{parentTagName:"P",parentIndex:2,textOffset:154},endMeta:{parentTagName:"P",parentIndex:2,textOffset:464},text:"is nibh vel metus elementum, eu volutpat tellus finibus. Maecenas accumsan mi a\n    lacus malesuada, sit amet convallis erat ultricies. Fusce id orci vitae erat dignissim ullamcorper. Ut vehicula nisi\n    eu odio consectetur, non ultricies elit ornare. Praesent nec odio at elit volutpat fringilla a non metus.",id:"774dd1f7-74e6-4f00-82bf-148c6f758795"},color:"#fbbdff",richText:null,__v:0},{_id:"641c4a498a63fea5511b4e1b",createdAt:1679575625970,updatedAt:1679575625970,_objectStore:"marks",_user:"63dcf5ced9c9d5ce93d186de",_bookmark:"641affd26d0c6af0921b1314",url:"http://localhost:8080/",origin:"http://localhost:8080/",text:"ltricies elit ornare. Praesen",tags:["Hii"],title:"Dev Page - /",highlightSource:{startMeta:{parentTagName:"P",parentIndex:2,textOffset:385},endMeta:{parentTagName:"P",parentIndex:2,textOffset:414},text:"ltricies elit ornare. Praesen",id:"9c84d676-380f-43e2-ad91-6b11f39a244a"},color:"#92ffaa",__v:0},{_id:"641c4a478a63fea5511b4e1a",createdAt:1679575623703,updatedAt:1679575623703,_objectStore:"marks",_user:"63dcf5ced9c9d5ce93d186de",_bookmark:"641affd26d0c6af0921b1314",url:"http://localhost:8080/",origin:"http://localhost:8080/",text:"ucibus orci luctus et ultrices posue",tags:[],title:"Dev Page - /",highlightSource:{startMeta:{parentTagName:"P",parentIndex:2,textOffset:34},endMeta:{parentTagName:"P",parentIndex:2,textOffset:70},text:"ucibus orci luctus et ultrices posue",id:"a2e82b21-d3b0-424b-9dfb-89a5ee8f0b21"},color:"#92ffaa",__v:0},{_id:"641affd26d0c6af0921b1313",createdAt:1679491026506,updatedAt:1679491026506,_objectStore:"marks",_user:"63dcf5ced9c9d5ce93d186de",_bookmark:"641affd26d0c6af0921b1314",url:"http://localhost:8080/",origin:"http://localhost:8080/",text:"Lorem ipsum dolor sit amet, consectetur ad",tags:[],title:"Dev Page - /",highlightSource:{startMeta:{parentTagName:"P",parentIndex:1,textOffset:0},endMeta:{parentTagName:"P",parentIndex:1,textOffset:42},text:"Lorem ipsum dolor sit amet, consectetur ad",id:"6dfabc6c-c1f5-4666-9e2d-f82515ffbfd9"},color:"#ffec70",__v:0}],chromeSettings:{...Dp,_id:"641c5792728c5c556b6a9957",createdAt:1679579026355,updatedAt:0,_objectStore:"chromesettings",showMarkerPopup:!0,showLeftSidebarWidget:!1,showToolboxAutomatically:!0,defaultHighlightColor:"#92ffaa",recentColors:["#92ffaa","#fbbdff","#8ffdff","#ffec70"],blacklistedUrls:[],sidebarWidth:360,lastSync:1679579026355,sidebarOptions:Ip,preferredColorMode:"light",highlighterMode:Td.BASIC},pagecontents:[{_id:"67fa35c703d46439a5bbbd52",createdAt:1744451015887,updatedAt:1744451015889,_objectStore:"pagecontents",url:"http://localhost:8080",type:"html",content:'<div id="readability-page-1" class="page">\n    <webhighlights-browser-action-mock></webhighlights-browser-action-mock>\n    \n    <p>\n      Welcome to the test page for Web Highlights! This page is designed to help\n      you test your extension by providing a variety of text types and an image\n      for you to highlight and bookmark.\n    </p>\n    <h2>Paragraph Text</h2>\n    <p>\n      Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas sit amet\n      consectetur diam. Nulla facilisi. In fermentum rhoncus diam, quis vehicula\n      ipsum porta id. Fusce rutrum dui eget fermentum iaculis. Maecenas vel diam\n      vel nunc vehicula dictum.\n    </p>\n    <img loading="lazy" src="http://localhost:8080/test-image-200x300.jpg" alt="Test image 200" data-testid="mock-200-300">\n\n    <p>\n      Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere\n      cubilia Curae; Ut vel mauris vel ligula consectetur vestibulum. Nullam\n      lobortis nibh vel metus elementum, eu volutpat tellus finibus. Maecenas\n      accumsan mi a lacus malesuada, sit amet convallis erat ultricies. Fusce id\n      orci vitae erat dignissim ullamcorper. Ut vehicula nisi eu odio\n      consectetur, non ultricies elit ornare. Praesent nec odio at elit volutpat\n      fringilla a non metus.\n    </p>\n    <img loading="lazy" src="http://localhost:8080/test-image-500x200.jpg" alt="Test image 200" data-testid="mock-500-200">\n    <h2>Code Blocks</h2>\n    <section>\n      <pre><code>function test() {\n      console.log("Testing Web Highlights extension");\n    }</code></pre>\n      <pre><code>const app = express();\n      app.use(bodyParser.json());\n      app.use(cors());\n      app.use(morgan(\'dev\'));</code></pre>\n    </section>\n    <h2>Image</h2>\n    <h2>Lists</h2>\n    <h3>Example PDFs</h3>\n    <ul>\n      <li>\n        <a href="http://localhost:8080/viewer.html?file=http://s29.q4cdn.com/175625835/files/doc_downloads/test.pdf">Test PDF with 1 page</a>\n      </li>\n      <li>\n        <a href="http://localhost:8080/viewer.html?file=https://api.printnode.com/static/test/pdf/multipage.pdf">PDF page with 96 pages</a>\n      </li>\n      <li>Item 3</li>\n    </ul>\n    <h3>Ordered List</h3>\n    <ol>\n      <li>Item 1</li>\n      <li>Item 2</li>\n      <li>Item 3</li>\n    </ol>\n    <h2>Table</h2>\n    <table>\n      <tbody><tr>\n        <th>Column 1</th>\n        <th>Column 2</th>\n      </tr>\n      <tr>\n        <td>Row 1, Cell 1</td>\n        <td>Row 1, Cell 2</td>\n      </tr>\n      <tr>\n        <td>Row 2, Cell 1</td>\n        <td>Row 2, Cell 2</td>\n      </tr>\n    </tbody></table>\n    <h2>Paragraph Text</h2>\n    <p>\n      Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas sit amet\n      consectetur diam. Nulla facilisi. In fermentum rhoncus diam, quis vehicula\n      ipsum porta id. Fusce rutrum dui eget fermentum iaculis. Maecenas vel diam\n      vel nunc vehicula dictum.\n    </p>\n    <p>\n      Sed eget consectetur leo, vel venenatis velit. Aliquam erat volutpat. In\n      efficitur tellus at dolor dictum, eget consequat mauris malesuada. Fusce\n      lobortis rutrum ex id semper. Aenean at est nec neque euismod elementum ac\n      a nisl.\n    </p>\n    <p>\n      Etiam at sapien dictum, dignissim metus nec, maximus ligula. Vivamus\n      placerat volutpat felis, non elementum est vehicula ac. Sed auctor est at\n      sapien egestas auctor. Nunc laoreet massa eu sapien rhoncus, at elementum\n      lacus interdum. Sed bibendum felis non urna pellentesque volutpat.\n    </p>\n    <p>\n      Mauris auctor orci et tellus scelerisque, ut malesuada leo suscipit.\n      Integer iaculis lacus in semper fermentum. Proin at ultricies eros.\n      Suspendisse potenti. Donec efficitur, arcu non ornare fermentum, lorem\n      lacus fermentum arcu, id vehicula nisi nisl et tortor.\n    </p>\n    <br>\n    <h2>\n      Tricky tables. Example from:\n      <a href="https://eur-lex.europa.eu/legal-content/en/TXT/?uri=CELEX%3A32016R0679">https://eur-lex.europa.eu/legal-content/en/TXT/?uri=CELEX%3A32016R0679</a>\n    </h2>\n    <p>\n      1.&nbsp;&nbsp;&nbsp;This Regulation applies to the processing of personal\n      data wholly or partly by automated means and to the processing other than\n      by automated means of personal data which form part of a filing system or\n      are intended to form part of a filing system.\n    </p>\n    <p>\n      2.&nbsp;&nbsp;&nbsp;This Regulation does not apply to the processing of\n      personal data:\n    </p>\n    <table>\n      <colgroup>\n        <col width="4%">\n        <col width="96%">\n      </colgroup>\n      <tbody>\n        <tr>\n          <td>\n            <p>(a)</p>\n          </td>\n          <td>\n            <p>\n              in the course of an activity which falls outside the scope of\n              Union law;\n            </p>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n    <table>\n      <colgroup>\n        <col width="4%">\n        <col width="96%">\n      </colgroup>\n      <tbody>\n        <tr>\n          <td>\n            <p>\n              (b)\n            </p>\n          </td>\n          <td>\n            <p>\n              by the Member States when carrying out activities which fall\n                within the scope of Chapter&nbsp;2 of Title&nbsp;V of the\n                TEU;\n            </p>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n    <table>\n      <colgroup>\n        <col width="4%">\n        <col width="96%">\n      </colgroup>\n      <tbody>\n        <tr>\n          <td>\n            <p>\n              (c)\n            </p>\n          </td>\n          <td>\n            <p>\n              by a natural person in the course of a purely personal or\n                household activity;\n            </p>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n    <table>\n      <colgroup>\n        <col width="4%">\n        <col width="96%">\n      </colgroup>\n      <tbody>\n        <tr>\n          <td>\n            <p>(d)</p>\n          </td>\n          <td>\n            <p>\n              by competent authorities for the purposes of the prevention,\n              investigation, detection or prosecution of criminal offences or\n              the execution of criminal penalties, including the safeguarding\n              against and the prevention of threats to public security.\n            </p>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n    <p>\n      3.&nbsp;&nbsp;&nbsp;For the processing of personal data by the Union\n      institutions, bodies, offices and agencies, Regulation (EC) No 45/2001\n      applies. Regulation (EC) No 45/2001 and other Union legal acts applicable\n      to such processing of personal data shall be adapted to the principles and\n      rules of this Regulation in accordance with Article 98.\n    </p>\n    <webhighlights-element-registry elements-count="70"></webhighlights-element-registry><webhighlights-popup-toolbox></webhighlights-popup-toolbox><webhighlights-marker></webhighlights-marker><webhighlights-toasts></webhighlights-toasts></div>',title:"Test Page for Web Highlights",description:"Welcome to the test page for Web Highlights! This page is designed to help\n      you test your extension by providing a variety of text types and an image\n      for you to highlight and bookmark.",length:6926,modifiedAt:1744451015889},{_id:"67fa35c703d46439a5bbbd53",createdAt:1744451015887,updatedAt:1744451015889,_objectStore:"pagecontents",url:"http://localhost:8080/test",type:"html",content:'<div id="readability-page-1" class="page">\n    <webhighlights-browser-action-mock></webhighlights-browser-action-mock>\n    \n    <p>\n      Welcome to the test page for Web Highlights! This page is designed to help\n      you test your extension by providing a variety of text types and an image\n      for you to highlight and bookmark.\n    </p>\n    <h2>Paragraph Text</h2>\n    <p>\n      Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas sit amet\n      consectetur diam. Nulla facilisi. In fermentum rhoncus diam, quis vehicula\n      ipsum porta id. Fusce rutrum dui eget fermentum iaculis. Maecenas vel diam\n      vel nunc vehicula dictum.\n    </p>\n    <img loading="lazy" src="http://localhost:8080/test-image-200x300.jpg" alt="Test image 200" data-testid="mock-200-300">\n\n    <p>\n      Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere\n      cubilia Curae; Ut vel mauris vel ligula consectetur vestibulum. Nullam\n      lobortis nibh vel metus elementum, eu volutpat tellus finibus. Maecenas\n      accumsan mi a lacus malesuada, sit amet convallis erat ultricies. Fusce id\n      orci vitae erat dignissim ullamcorper. Ut vehicula nisi eu odio\n      consectetur, non ultricies elit ornare. Praesent nec odio at elit volutpat\n      fringilla a non metus.\n    </p>\n    <img loading="lazy" src="http://localhost:8080/test-image-500x200.jpg" alt="Test image 200" data-testid="mock-500-200">\n    <h2>Code Blocks</h2>\n    <section>\n      <pre><code>function test() {\n      console.log("Testing Web Highlights extension");\n    }</code></pre>\n      <pre><code>const app = express();\n      app.use(bodyParser.json());\n      app.use(cors());\n      app.use(morgan(\'dev\'));</code></pre>\n    </section>\n    <h2>Image</h2>\n    <h2>Lists</h2>\n    <h3>Example PDFs</h3>\n    <ul>\n      <li>\n        <a href="http://localhost:8080/viewer.html?file=http://s29.q4cdn.com/175625835/files/doc_downloads/test.pdf">Test PDF with 1 page</a>\n      </li>\n      <li>\n        <a href="http://localhost:8080/viewer.html?file=https://api.printnode.com/static/test/pdf/multipage.pdf">PDF page with 96 pages</a>\n      </li>\n      <li>Item 3</li>\n    </ul>\n    <h3>Ordered List</h3>\n    <ol>\n      <li>Item 1</li>\n      <li>Item 2</li>\n      <li>Item 3</li>\n    </ol>\n    <h2>Table</h2>\n    <table>\n      <tbody><tr>\n        <th>Column 1</th>\n        <th>Column 2</th>\n      </tr>\n      <tr>\n        <td>Row 1, Cell 1</td>\n        <td>Row 1, Cell 2</td>\n      </tr>\n      <tr>\n        <td>Row 2, Cell 1</td>\n        <td>Row 2, Cell 2</td>\n      </tr>\n    </tbody></table>\n    <h2>Paragraph Text</h2>\n    <p>\n      Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas sit amet\n      consectetur diam. Nulla facilisi. In fermentum rhoncus diam, quis vehicula\n      ipsum porta id. Fusce rutrum dui eget fermentum iaculis. Maecenas vel diam\n      vel nunc vehicula dictum.\n    </p>\n    <p>\n      Sed eget consectetur leo, vel venenatis velit. Aliquam erat volutpat. In\n      efficitur tellus at dolor dictum, eget consequat mauris malesuada. Fusce\n      lobortis rutrum ex id semper. Aenean at est nec neque euismod elementum ac\n      a nisl.\n    </p>\n    <p>\n      Etiam at sapien dictum, dignissim metus nec, maximus ligula. Vivamus\n      placerat volutpat felis, non elementum est vehicula ac. Sed auctor est at\n      sapien egestas auctor. Nunc laoreet massa eu sapien rhoncus, at elementum\n      lacus interdum. Sed bibendum felis non urna pellentesque volutpat.\n    </p>\n    <p>\n      Mauris auctor orci et tellus scelerisque, ut malesuada leo suscipit.\n      Integer iaculis lacus in semper fermentum. Proin at ultricies eros.\n      Suspendisse potenti. Donec efficitur, arcu non ornare fermentum, lorem\n      lacus fermentum arcu, id vehicula nisi nisl et tortor.\n    </p>\n    <br>\n    <h2>\n      Tricky tables. Example from:\n      <a href="https://eur-lex.europa.eu/legal-content/en/TXT/?uri=CELEX%3A32016R0679">https://eur-lex.europa.eu/legal-content/en/TXT/?uri=CELEX%3A32016R0679</a>\n    </h2>\n    <p>\n      1.&nbsp;&nbsp;&nbsp;This Regulation applies to the processing of personal\n      data wholly or partly by automated means and to the processing other than\n      by automated means of personal data which form part of a filing system or\n      are intended to form part of a filing system.\n    </p>\n    <p>\n      2.&nbsp;&nbsp;&nbsp;This Regulation does not apply to the processing of\n      personal data:\n    </p>\n    <table>\n      <colgroup>\n        <col width="4%">\n        <col width="96%">\n      </colgroup>\n      <tbody>\n        <tr>\n          <td>\n            <p>(a)</p>\n          </td>\n          <td>\n            <p>\n              in the course of an activity which falls outside the scope of\n              Union law;\n            </p>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n    <table>\n      <colgroup>\n        <col width="4%">\n        <col width="96%">\n      </colgroup>\n      <tbody>\n        <tr>\n          <td>\n            <p>\n              (b)\n            </p>\n          </td>\n          <td>\n            <p>\n              by the Member States when carrying out activities which fall\n                within the scope of Chapter&nbsp;2 of Title&nbsp;V of the\n                TEU;\n            </p>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n    <table>\n      <colgroup>\n        <col width="4%">\n        <col width="96%">\n      </colgroup>\n      <tbody>\n        <tr>\n          <td>\n            <p>\n              (c)\n            </p>\n          </td>\n          <td>\n            <p>\n              by a natural person in the course of a purely personal or\n                household activity;\n            </p>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n    <table>\n      <colgroup>\n        <col width="4%">\n        <col width="96%">\n      </colgroup>\n      <tbody>\n        <tr>\n          <td>\n            <p>(d)</p>\n          </td>\n          <td>\n            <p>\n              by competent authorities for the purposes of the prevention,\n              investigation, detection or prosecution of criminal offences or\n              the execution of criminal penalties, including the safeguarding\n              against and the prevention of threats to public security.\n            </p>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n    <p>\n      3.&nbsp;&nbsp;&nbsp;For the processing of personal data by the Union\n      institutions, bodies, offices and agencies, Regulation (EC) No 45/2001\n      applies. Regulation (EC) No 45/2001 and other Union legal acts applicable\n      to such processing of personal data shall be adapted to the principles and\n      rules of this Regulation in accordance with Article 98.\n    </p>\n    <webhighlights-element-registry elements-count="70"></webhighlights-element-registry><webhighlights-popup-toolbox></webhighlights-popup-toolbox><webhighlights-marker></webhighlights-marker><webhighlights-toasts></webhighlights-toasts></div>',title:"Test Page for Web Highlights",description:"Welcome to the test page for Web Highlights! This page is designed to help\n      you test your extension by providing a variety of text types and an image\n      for you to highlight and bookmark.",length:6926,modifiedAt:1744451015889}]},uI='"Date","Website Title","URL","Highlight Color Code","Highlight Color Name","Weava Color Name","Highlighted Text/Image URL","Note"\n"2022-02-12","Sign up to create your first highlight with Weava","https://www.weavatools.com/app/onboarding","#FFFB78","","Laser lemon","ight something h",""\n"2022-02-12","5 useful JavaScript shorthands. If you write old school for-loops | by Codetain | Feb, 2022 | Medium","https://codetain/5-useful-javascript-shorthands-ca66ee0f7359","#D1FF61","","Maximum green yellow","nd:\ndummyMultiply =","Test"\n"2022-04-04","Notifications - Medium","https://medium.com/me/notifications","#FFCAD7","","Pink","ani + 3 others started following you","Medium test highlight"\n"2022-04-04","My Journey to the First $ 9.99 with My Side Project | JavaScript in Plain English","https://medium.com/p/3edc13dd1f2d","#FFFB78","","Laser lemon","practical extension. One that enabl",""\n"2022-04-08","checks-2-CD10MKR61HRI8-2.pdf","file:///Users/marius.bongarts/Downloads/checks-2-CD10MKR61HRI8-2.pdf","#FFCAD7","","Pink","HUFA-BonittsCheck kann die Echthe",""\n"2022-04-09","Head First: Design Patterns - test.pdf","file:///Users/marius.bongarts/Documents/Books/test.pdf","#FFCAD7","","Pink","knows",""\n"2022-04-09","Head First: Design Patterns - test.pdf","file:///Users/marius.bongarts/Documents/Books/test.pdf","#FFDE70","","Orange-yellow","nger of fire. Like how you should never a",""\n"2022-10-22","Web Highlights Newsletter & Updates","https://web-highlights.com/blog/web-highlights-email-newsletter/","#FFCAD7","","Pink","highlights for everyon",""\n"2023-09-07","Welcome To Web Highlights   ","https://web-highlights.com/blog/welcome/","#FFCAD7","","Pink","n the sidebar by clicking",""\n"2023-11-04","Welcome To Web Highlights   ","https://web-highlights.com/blog/welcome/","#FFCAD7","","Pink","a good start - I hope you learn",""\n"2024-02-09","Hey AI, what is the rush?. Understanding the trends accelerating | by Luis Berumen Castro | Feb, 2024 | UX Collective","https://uxdesign.cc/hey-ai-what-is-the-rush-2670bab7e0dc","#FFFB78","","Laser lemon","f coal in stream engines le",""\n"2024-04-14","Think You Can Create Your Own Business Logo With AI? Think Again | by Jeff Hayward | Ai-Ai-OH | Apr, 2024 | Medium","https://medium.com/ai-ai-oh/think-you-can-create-your-own-business-logo-with-ai-think-again-7eb673aae58c","#FFCAD7","","Pink","orporate logos, a lot of entr",""\n"2024-08-03","3-2-1: The secret to creativity, how our challenges shape us, and the value of bad workouts - James Clear","https://jamesclear.com/3-2-1/july-25-2024","#D1FF61","","Maximum green yellow","Creativity is the focused combination of unlikely things",""\n"2024-08-03","3-2-1: The secret to creativity, how our challenges shape us, and the value of bad workouts - James Clear","https://jamesclear.com/3-2-1/july-25-2024","#FFCAD7","","Pink","The bad workouts are the most important ones. Its easy to train when you feel good, but its crucial to show up when you dont feel like iteven if you do less than you hope",""\n"2024-08-03","3-2-1: The secret to creativity, how our challenges shape us, and the value of bad workouts - James Clear","https://jamesclear.com/3-2-1/july-25-2024","#FFDE70","","Orange-yellow","Going to the gym for 15 minutes might not improve your performance, but it reaffirms your identity. Its not always about what happens during the workout. Its about becoming the type of person who doesnt miss workouts.","2 minute rule"\n"2024-08-03","3-2-1: What top performers do, and how to deal with critics and detractors - James Clear","https://jamesclear.com/3-2-1/april-11-2024","#FFCAD7","","Pink","You dont need to worry about progressing slowly. You need to worry about climbing the wrong mountain.",""\n"2024-08-03","3-2-1: What top performers do, and how to deal with critics and detractors - James Clear","https://jamesclear.com/3-2-1/april-11-2024","#D1FF61","","Maximum green yellow","If you already live a comfortable life, then choosing to make more money but live a worse daily life is a bad trade.",""\n"2024-08-03","3-2-1: What top performers do, and how to deal with critics and detractors - James Clear","https://jamesclear.com/3-2-1/april-11-2024","#FFCAD7","","Pink","Top performers find ways to spend as much time as possible on what matters and as little time as possible on what doesnt.","Putzkraft? Mehr Dinge auslagern, die keinen Spa machen."\n"2024-08-03","3-2-1: The simple way to have a good day, why inspiration is unnecessary, playing small vs playing big - James Clear","https://jamesclear.com/3-2-1/february-15-2024","#FFFB78","","Laser lemon","Who knows you is more important than who you know. Build a brand.",""\n"2024-08-03","3-2-1: The simple way to have a good day, why inspiration is unnecessary, playing small vs playing big - James Clear","https://jamesclear.com/3-2-1/february-15-2024","#FFCAD7","","Pink","It is not worth it to be greedy over a single transaction. Even if youre not going to work with the person again. Even if you think word wont get out. Even if you think this is your one shot to make it. Reputation follows you everywhere.",""\n"2024-08-03","3-2-1: The simple way to have a good day, why inspiration is unnecessary, playing small vs playing big - James Clear","https://jamesclear.com/3-2-1/february-15-2024","#FFDE70","","Orange-yellow","If you want a simple formula for having a good day, then get a workout done and do your most important task before lunch. Knock out those two things by noon and you really feel like youre ahead of the day.",""\n"2024-08-03","3-2-1: The simple way to have a good day, why inspiration is unnecessary, playing small vs playing big - James Clear","https://jamesclear.com/3-2-1/february-15-2024","#FFFB78","","Laser lemon","Your job, throughout your entire life, is to disappoint as many people as it takes to avoid disappointing yourself.",""\n"2024-08-03","3-2-1: The simple way to have a good day, why inspiration is unnecessary, playing small vs playing big - James Clear","https://jamesclear.com/3-2-1/february-15-2024","#FFDE70","","Orange-yellow","The advice I like to give young artists, or really anybody wholl listen to me, is not to wait around for inspiration.",""\n"2024-08-03","3-2-1: The simple way to have a good day, why inspiration is unnecessary, playing small vs playing big - James Clear","https://jamesclear.com/3-2-1/february-15-2024","#FFFB78","","Laser lemon","All the best ideas come out of the process; they come out of the work itself. Things occur to you.",""\n"2024-08-03","3-2-1: The simple way to have a good day, why inspiration is unnecessary, playing small vs playing big - James Clear","https://jamesclear.com/3-2-1/february-15-2024","#FFFB78","","Laser lemon","You feel like you need this great idea before you can get down to work, and I find thats almost never the case.",""\n"2024-08-03","3-2-1: The simple way to have a good day, why inspiration is unnecessary, playing small vs playing big - James Clear","https://jamesclear.com/3-2-1/february-15-2024","#D1FF61","","Maximum green yellow","But if you just get to work, something will occur to you and something else will occur to you and something else that you reject will push you in another direction.",""\n"2024-08-03","3-2-1: The simple way to have a good day, why inspiration is unnecessary, playing small vs playing big - James Clear","https://jamesclear.com/3-2-1/february-15-2024","#D1FF61","","Maximum green yellow","Imagine there is a small version of you and a big version.",""\n"2024-08-03","3-2-1: The simple way to have a good day, why inspiration is unnecessary, playing small vs playing big - James Clear","https://jamesclear.com/3-2-1/february-15-2024","#FFDE70","","Orange-yellow","When you are playing small, your behavior is timid, you feel less than, and you are often surrounded by people and projects that drain you.",""\n"2024-08-03","3-2-1: The simple way to have a good day, why inspiration is unnecessary, playing small vs playing big - James Clear","https://jamesclear.com/3-2-1/february-15-2024","#FFFB78","","Laser lemon","When you are playing big, your behavior is confident, you feel motivated, and you tend to be investing in people and projects that energize you.",""\n"2024-08-03","3-2-1: The simple way to have a good day, why inspiration is unnecessary, playing small vs playing big - James Clear","https://jamesclear.com/3-2-1/february-15-2024","#FFDE70","","Orange-yellow","How can you spend more time playing the big version of yourself this year?",""\n"2024-08-03","3-2-1: The simple way to have a good day, why inspiration is unnecessary, playing small vs playing big - James Clear","https://jamesclear.com/3-2-1/february-15-2024","#FFDE70","","Orange-yellow","If you wait around for the clouds to part and a bolt of lightning to strike you in the brain, you are not going to do an awful",""\n"2024-08-03","The Goldilocks Rule: How to Stay Motivated in Life and Business","https://jamesclear.com/goldilocks-rule","#FFFB78","","Laser lemon","isneyland had just opened in Anaheim, California, when a ten-year-old boy walked in and asked for a job.",""\n"2024-08-03","The Goldilocks Rule: How to Stay Motivated in Life and Business","https://jamesclear.com/goldilocks-rule","#FFFB78","","Laser lemon","Within a year, he had transitioned to Disneys magic shop, where he learned tricks from the older employees",""\n"2024-08-03","The Goldilocks Rule: How to Stay Motivated in Life and Business","https://jamesclear.com/goldilocks-rule","#D1FF61","","Maximum green yellow","Beginning in his teenage years, he started performing in little clubs around Los Angeles.",""\n"2024-08-03","The Goldilocks Rule: How to Stay Motivated in Life and Business","https://jamesclear.com/goldilocks-rule","#FFCAD7","","Pink","It wasnt glamorous work, but there was no doubt he was getting better. His first routines would only last one or two minutes.",""\n"2024-08-03","The Goldilocks Rule: How to Stay Motivated in Life and Business","https://jamesclear.com/goldilocks-rule","#FFDE70","","Orange-yellow","nineteen, he was performing weekly for twenty minutes at a time. He had to read three poems during the show just to make the routine long enough, but his skills continued to progress.",""\n"2024-08-03","The Goldilocks Rule: How to Stay Motivated in Life and Business","https://jamesclear.com/goldilocks-rule","#D1FF61","","Maximum green yellow","He spent another decade experimenting, adjusting, and practicing. He took a job as a television writ",""\n"2024-08-03","The Goldilocks Rule: How to Stay Motivated in Life and Business","https://jamesclear.com/goldilocks-rule","#FFDE70","","Orange-yellow","nd, gradually,",""\n"2024-08-03","The Goldilocks Rule: How to Stay Motivated in Life and Business","https://jamesclear.com/goldilocks-rule","#FFFB78","","Laser lemon","Finally, after nearly fifteen years of work, the young man rose to fame. He toured sixty cities in sixty-three days.",""\n"2024-08-03","The Goldilocks Rule: How to Stay Motivated in Life and Business","https://jamesclear.com/goldilocks-rule","#FFDE70","","Orange-yellow","He had 18,695 people attend one show in Ohio. Another 45,000 tickets were sold for his three-day show in New York. He catapulted to the top of his genre and became one of the most successful comedians of his time.",""\n"2024-08-03","The Goldilocks Rule: How to Stay Motivated in Life and Business","https://jamesclear.com/goldilocks-rule","#FFFB78","","Laser lemon","Martins story offers a fascinating perspective on what it takes to stick with habits for the long run. Comedy is not for the timid. It is hard to imagine a situation that would strike fear into the hearts of more people than performing alone on stage and failing to get a single laugh. And yet Steve Martin faced this fear every week for eighteen years. In his words, 10 years spent learning, 4 years spent refining, and 4 years as a wild success.",""\n"2024-08-03","The Goldilocks Rule: How to Stay Motivated in Life and Business","https://jamesclear.com/goldilocks-rule","#D1FF61","","Maximum green yellow","Why is it that some people, like Martin, stick with their habitswhether practicing jokes or drawing cartoons or playing guitarwhile most of us struggle to stay motivated?",""\n"2024-08-03","The Goldilocks Rule: How to Stay Motivated in Life and Business","https://jamesclear.com/goldilocks-rule","#FFDE70","","Orange-yellow","How do we design habits that pull us in rather than ones that fade away? Scientists have been studying this question for many years. While there is still much to learn, one of the most consistent findings is that the way to maintain motivation and achieve peak levels of desire is to work on tasks of just manageable difficulty.",""\n"2024-08-03","The Goldilocks Rule: How to Stay Motivated in Life and Business","https://jamesclear.com/goldilocks-rule","#FFCAD7","","Pink","The Goldilocks Rule",""\n"2024-08-03","The Goldilocks Rule: How to Stay Motivated in Life and Business","https://jamesclear.com/goldilocks-rule","#FFDE70","","Orange-yellow","The human brain loves a challenge, but only if it is within an optimal zone of difficulty. If you love tennis and try to play a serious match against a four-year-old, you will quickly become bored.",""\n"2024-08-03","The Goldilocks Rule: How to Stay Motivated in Life and Business","https://jamesclear.com/goldilocks-rule","#D1FF61","","Maximum green yellow","Its too easy. Youll win every point. In contrast, if you play a professional tennis player like Roger Federer or Serena Williams, you will quickly lose motivation because the match is too difficult.",""\n"2024-08-03","The Goldilocks Rule: How to Stay Motivated in Life and Business","https://jamesclear.com/goldilocks-rule","#FFFB78","","Laser lemon","Now consider playing tennis against someone who is your equal. As the game progresses, you win a few points and you lose a few. You have a good chance of winning, but only if you really try.",""\n"2024-08-03","The Goldilocks Rule: How to Stay Motivated in Life and Business","https://jamesclear.com/goldilocks-rule","#FFDE70","","Orange-yellow","Your focus narrows, distractions fade away, and you find yourself fully invested in the task at hand. This is a challenge of just manageable difficulty and it is a prime example of the Goldilocks Rule.",""\n"2024-08-03","The Goldilocks Rule: How to Stay Motivated in Life and Business","https://jamesclear.com/goldilocks-rule","#FFFB78","","Laser lemon","The Goldilocks Rule states that humans experience peak motivation when working on tasks that are right on the edge of their current abilities. Not too hard. Not too easy. Just right",""\n"2024-08-03","The Goldilocks Rule: How to Stay Motivated in Life and Business","https://jamesclear.com/goldilocks-rule","#FFFB78","","Laser lemon","Martins comedy career is an excellent example of the Goldilocks Rule in practice. Each year, he expanded his comedy routinebut only by a minute or two. He was always adding new material",""\n"2024-08-03","The Goldilocks Rule: How to Stay Motivated in Life and Business","https://jamesclear.com/goldilocks-rule","#FFFB78","","Laser lemon","but he also kept a few jokes that were guaranteed to get laughs. There were just enough victories to keep him motivated and just enough mistakes to keep him working hard.",""\n"2024-08-03","The Goldilocks Rule: How to Stay Motivated in Life and Business","https://jamesclear.com/goldilocks-rule","#FFDE70","","Orange-yellow","Measure Your Progress",""\n"2024-08-03","The Goldilocks Rule: How to Stay Motivated in Life and Business","https://jamesclear.com/goldilocks-rule","#FFDE70","","Orange-yellow","If you want to learn how to stay motivated to reach your goals, then there is a second piece of the motivation puzzle that is crucial to understand. It has to do with achieving that perfect blend of hard work and happiness.",""\n"2024-08-03","The Goldilocks Rule: How to Stay Motivated in Life and Business","https://jamesclear.com/goldilocks-rule","#FFCAD7","","Pink","Working on challenges of an optimal level of difficulty has been found to not only be motivating",""\n"2024-08-03","The Goldilocks Rule: How to Stay Motivated in Life and Business","https://jamesclear.com/goldilocks-rule","#FFFB78","","Laser lemon","but also to be a major source of happiness. As psychologist Gilbert Brim put it, One of the important sources of human happiness is working on tasks at a suitable level of difficulty, neither too hard nor too easy.",""\n"2024-08-03","The Goldilocks Rule: How to Stay Motivated in Life and Business","https://jamesclear.com/goldilocks-rule","#D1FF61","","Maximum green yellow","This blend of happiness and peak performance is sometimes referred to as flow, which is what athletes and performers experience when they are in the zone. Flow is the mental state you experience when you are so focused on the task at hand that the rest of the world fades away.",""\n"2024-08-03","The Goldilocks Rule: How to Stay Motivated in Life and Business","https://jamesclear.com/goldilocks-rule","#FFDE70","","Orange-yellow","In order to reach this state of peak performance, however, you not only need to work on challenges at the right degree of difficulty, but also measure your immediate progress.",""\n"2024-08-03","The Goldilocks Rule: How to Stay Motivated in Life and Business","https://jamesclear.com/goldilocks-rule","#D1FF61","","Maximum green yellow","As psychologist Jonathan Haidt explains, one of the keys to reaching a flow state is that you get immediate feedback about how you are doing at each step.",""\n"2024-08-03","The Goldilocks Rule: How to Stay Motivated in Life and Business","https://jamesclear.com/goldilocks-rule","#FFCAD7","","Pink","Seeing yourself make progress in the moment is incredibly motivating. Steve Martin would tell a joke and immediately know if it worked based on the laughter of the crowd.",""\n"2024-08-03","The Goldilocks Rule: How to Stay Motivated in Life and Business","https://jamesclear.com/goldilocks-rule","#FFDE70","","Orange-yellow","Imagine how addicting it would be to create a roar of laughter. The rush of positive feedback Martin experienced from one great joke would probably be enough to overpower his fears and inspire him to work for weeks.",""\n"2024-08-03","The Goldilocks Rule: How to Stay Motivated in Life and Business","https://jamesclear.com/goldilocks-rule","#FFCAD7","","Pink","In other areas of life, measurement looks different but is just as critical for achieving a blend of motivation and happiness. In tennis, you get immediate feedback based on whether or not you win the point.",""\n"2024-08-03","The Goldilocks Rule: How to Stay Motivated in Life and Business","https://jamesclear.com/goldilocks-rule","#D1FF61","","Maximum green yellow","Regardless of how it is measured, the human brain needs some way to visualize our progress if we are to maintain motivation. We need to be able to see our wins.",""\n"2024-08-03","The Goldilocks Rule: How to Stay Motivated in Life and Business","https://jamesclear.com/goldilocks-rule","#FFDE70","","Orange-yellow","If we want to break down the mystery of how to stay motivated for the long-term, we could simply say:",""\n"2024-08-03","The Goldilocks Rule: How to Stay Motivated in Life and Business","https://jamesclear.com/goldilocks-rule","#D1FF61","","Maximum green yellow","Stick to The Goldilocks Rule and work on tasks of just manageable difficulty.",""\n"2024-08-03","The Goldilocks Rule: How to Stay Motivated in Life and Business","https://jamesclear.com/goldilocks-rule","#FFFB78","","Laser lemon","Measure your progress and receive immediate feedback whenever possible.",""\n"2024-08-03","The Goldilocks Rule: How to Stay Motivated in Life and Business","https://jamesclear.com/goldilocks-rule","#FFDE70","","Orange-yellow","Wanting to improve your life is easy. Sticking with it is a different story. If you want to stay motivated for good, then start with a challenge that is just manageable, measure your progress, and repeat the process.",""\n"2024-08-03","The Goldilocks Rule: How to Stay Motivated in Life and Business","https://jamesclear.com/goldilocks-rule","#FFCAD7","","Pink","This article is an excerpt from Chapter 19 of my New York Times bestselling bookAtomicHabits.Read more here.",""',hI=["review",["http://chrome.google.com/extensions/permalink?id=hldjnlbobkdkghfidgoecgmklcemanhm"],["000000da60c4e6f0","Hieu Tran","//lh3.googleusercontent.com/a/default-user=s40-c-k",null,1],5,"This is best extension. Thank you very much",[],1674469852204,1674469852204,null,["itemreviews",null,null,null,[]],"AIe9_BGRsrSa83SXPbNHkhZTnzPtFh8LzheRAsMIsuOHlH5zySx1t8fLDVRCD6Ytynm_cd09ioS5eahCLoWkdT8R9_h94sx-_k_eFpQqZ4qVheVzINwkIqLE-HlACUYOmc8Ku88C71ltVwimixLGfs_Zb7uClhingrlR-GjNcmkzGaFovP4E8hvXLBsedRBAcagBLq8C8Nd9",[]],pI=[["versionresponse","20210820"],["itemreviews",null,null,[1,null,"Cu0BMCxUSU1FU1RBTVAgIjIwMjMtMDItMDQgMTc6MzI6MzIuNjk5MTU3KzAwIiwiZzowMDAwMDBhMjY4NjI2NDAwIiwiZzowMDAwMDBhMjY4NjI2NDAwIiwiaGxkam5sYm9ia2RrZ2hmaWRnb2VjZ21rbGNlbWFuaG0iLCIvOzlcXDMwNFxcMzQzXFwwMDJcXDAwM1xcMjM2SlxcMzIyXFwyNjVcXDMwNWFcXDI1M1xcMjc1XFwyNTBhXFwzMTFcXDI3NytcXDAxM1xcMjcyXFwyMDJsXFwzNDR3XFwzMTdcXDI2NztOXFwwMjZcXG4i"],[["review",["http://chrome.google.com/extensions/permalink?id=hldjnlbobkdkghfidgoecgmklcemanhm"],["000000f737efab1e","Zama Makhathini","//lh3.googleusercontent.com/a/default-user=s40-c-k",null,1],4,"Mariaus is response and really is willing to help with payment options .This tool is relatively easy to use and helpful .",[],1676733449156,1676733449156,null,["itemreviews",null,null,null,[]],"AIe9_BGRsrSa83SXPbNHkhZTnzPtVm5s83aavm9mFBXEBTVhkLcdrQJjv7ih4XG2L9VoPCgYbssR2SQL3BwkP4gPwvtzAglRMIDg9ZCdCG8U1I_RS2uBRivFLSr8nRieSfvGYDFuWvE7BbxbZVNXMNCnVgvn2xAuCOUP-PYWeIn2lLWtAo_zKKBY1-AkPJJc1l_mRJcZ8LHi",[]],["review",["http://chrome.google.com/extensions/permalink?id=hldjnlbobkdkghfidgoecgmklcemanhm"],["000000a268626400","Cindi Ann","//lh3.googleusercontent.com/a-/AD_cMMQBPAG1DB2goLIr8_Wkb_JCynUEOmbMkCJpmL_mlzCJCMQ=s40-c-k",null,1],1,"Issue with downloaded PDFs. It was working marvelously on a pdf in a browser. I didn't want to mark up a website so I downloaded the article to my computer. I then opened a browser tab to view the PDF and it wouldn't allow me to mark it up. Read the directions and went into the extension manager to select \"allow access to file URLs\" and it closed all my marked up articles on the web and the icon is now showing \"off\" even though the manager shows it as on. I'm very upset. I did an hour's worth of work on my research and now it's all gone and I can't get the articles back. I can go into my account on their website and see my markup but I can't get the document back onto the browser.",[],1675531952699,1675531952699,null,["itemreviews",null,null,null,[]],"AIe9_BFQw1VU2KqtdK-cs_5_KvEXNZEB9wZhLXlnMu3WAErFlOurIyDLwlLOzLrFaR5zyazazehoH4yNn28efj2ODvSrLONdmkYv3R8oGSUnh7CFKFUC97zUZM7GpROYbnngAZbGtQeXmYmXYg_3-bX-T29PIFcP1XCl270Kxbb1ovzz9l2j7ZRGz2k6PlY5vOWe4gM-80Rs",[]]],null,83]],gI={marks:[{_id:"65c8bf3ac5f89875df5ebc2d",createdAt:1707654970282,updatedAt:0,_objectStore:"marks",url:"http://localhost:8080/",tags:[],text:"Paragraph Text",type:"normal",highlightSource:{startMeta:{parentTagName:"H2",parentIndex:0,textOffset:0},endMeta:{parentTagName:"H2",parentIndex:0,textOffset:14},text:"Paragraph Text",id:"31350731-e6e7-4962-9754-7da51c60184d",__isHighlightSource:{}},domElementOffsetTop:163,domElementOffsetLeft:480,title:"Dev Page - /",_bookmark:"65c8bf36c5f89875df5ebc2c"},{_id:"65c8bf3dc5f89875df5ebc2e",createdAt:1707654973900,updatedAt:0,_objectStore:"marks",url:"http://localhost:8080/",tags:[],text:"Lorem ipsum dolor sit amet",type:"normal",color:"#fdffb4",highlightSource:{startMeta:{parentTagName:"P",parentIndex:1,textOffset:0},endMeta:{parentTagName:"P",parentIndex:1,textOffset:26},text:"Lorem ipsum dolor sit amet",id:"80cc4b44-d0d8-4fcb-82b3-19c7d81fee93",__isHighlightSource:{}},domElementOffsetTop:211,domElementOffsetLeft:480,title:"Dev Page - /",_bookmark:"65c8bf36c5f89875df5ebc2c"},{_id:"65c8bf41c5f89875df5ebc2f",createdAt:1707654977818,updatedAt:1707654985835,_objectStore:"marks",url:"http://localhost:8080/",tags:["Test Tag"],text:"Vestibulum ante ipsum",type:"normal",color:"#a7e8c8",highlightSource:{startMeta:{parentTagName:"P",parentIndex:2,textOffset:0},endMeta:{parentTagName:"P",parentIndex:2,textOffset:21},text:"Vestibulum ante ipsum",id:"dd6452c9-ff88-4c51-9df1-a8483a2aa412",__isHighlightSource:{}},domElementOffsetTop:580,domElementOffsetLeft:480,title:"Dev Page - /",_bookmark:"65c8bf36c5f89875df5ebc2c",modifiedAt:1707654985835},{_id:"65c8bf4fc5f89875df5ebc30",createdAt:1707654991019,updatedAt:0,_objectStore:"marks",url:"http://localhost:8080/",tags:[],text:'function test() {\n      console.log("Testing Web Highlights extension");\n    }',type:"normal",color:"#a7e8c8",highlightSource:{startMeta:{parentTagName:"CODE",parentIndex:0,textOffset:0},endMeta:{parentTagName:"CODE",parentIndex:0,textOffset:78},text:'function test() {\n      console.log("Testing Web Highlights extension");\n    }',id:"b13e2570-1bb7-4a0e-967b-af099801bcd6",__isHighlightSource:{}},domElementOffsetTop:937,domElementOffsetLeft:480,title:"Dev Page - /",_bookmark:"65c8bf36c5f89875df5ebc2c"},{_id:"65c8bf5f923a665881d0ffaa",createdAt:1707655007123,updatedAt:0,_objectStore:"marks",url:"http://localhost:8080/second",tags:[],text:"Paragraph Text",type:"normal",highlightSource:{startMeta:{parentTagName:"H2",parentIndex:0,textOffset:0},endMeta:{parentTagName:"H2",parentIndex:0,textOffset:14},text:"Paragraph Text",id:"2ad68ac2-bcae-47e3-ad50-85deeae02718",__isHighlightSource:{}},domElementOffsetTop:163,domElementOffsetLeft:480,title:"Dev Page - /second",_bookmark:"65c8bf57923a665881d0ffa9"},{_id:"65c8bf61923a665881d0ffab",createdAt:1707655009110,updatedAt:0,_objectStore:"marks",url:"http://localhost:8080/second",tags:[],text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. M",type:"normal",color:"#a7e8c8",highlightSource:{startMeta:{parentTagName:"P",parentIndex:1,textOffset:0},endMeta:{parentTagName:"P",parentIndex:1,textOffset:58},text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. M",id:"64a5279a-70f7-403e-bc62-1b2d430ef06b",__isHighlightSource:{}},domElementOffsetTop:211,domElementOffsetLeft:480,title:"Dev Page - /second",_bookmark:"65c8bf57923a665881d0ffa9"},{_id:"65c8bf6a57a11cd95c392d90",createdAt:1707655018307,updatedAt:0,_objectStore:"marks",url:"http://localhost:8080/third",tags:[],text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas sit amet consectetur diam. Nulla facilisi. In fermentum rhoncus diam, quis vehicula ipsum porta id. Fusce rutrum dui eget fermentum iaculis. Maecenas vel diam vel nunc vehicula dictum.",type:"normal",color:"#a7e8c8",highlightSource:{startMeta:{parentTagName:"P",parentIndex:1,textOffset:0},endMeta:{parentTagName:"P",parentIndex:1,textOffset:258},text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas sit amet consectetur diam. Nulla facilisi. In\n    fermentum rhoncus diam, quis vehicula ipsum porta id. Fusce rutrum dui eget fermentum iaculis. Maecenas vel diam vel\n    nunc vehicula dictum.",id:"c612c7c8-8359-48d0-9ef4-ab3140082f50",__isHighlightSource:{}},domElementOffsetTop:192,domElementOffsetLeft:88,title:"Dev Page - /third",_bookmark:"65c8bf6a57a11cd95c392d91"},{_id:"65c8bf7057a11cd95c392d92",createdAt:1707655024552,updatedAt:0,_objectStore:"marks",url:"http://localhost:8080/third",tags:[],text:"\n(a)\n\nin the course of an activity which falls outside the scope of Union law;\n\n(b)\n\nby the Member States when carrying out activities which fall within the scope of Chapter2 of TitleV of the TEU;\n\n(c)\n\nby a natural person in the course of a purely personal or household activity;\n\n(d)\n\nby competent authorities for the purposes of the prevention, investigation, detection or prosecution of criminal offences or the execution of criminal penalties, including the safeguarding against and the prevention of threats to public security.",type:"normal",color:"#a7e8c8",highlightSource:{startMeta:{parentTagName:"TABLE",parentIndex:1,textOffset:184},endMeta:{parentTagName:"P",parentIndex:16,textOffset:270},text:"\n    \n      \n      \n    \n    \n      \n        \n          (a)\n        \n        \n          in the course of an activity which falls outside the scope of Union law;\n        \n      \n    \n  \n  \n    \n      \n      \n    \n    \n      \n        \n          (b)\n        \n        \n          by the Member States when carrying out\n              activities which fall within the scope of Chapter2 of TitleV of the TEU;\n        \n      \n    \n  \n  \n    \n      \n      \n    \n    \n      \n        \n          (c)\n        \n        \n          by a natural person in the course of a\n              purely personal or household activity;\n        \n      \n    \n  \n  \n    \n      \n      \n    \n    \n      \n        \n          (d)\n        \n        \n          by competent authorities for the purposes of the prevention, investigation, detection or\n            prosecution of criminal offences or the execution of criminal penalties, including the safeguarding against\n            and the prevention of threats to public security.",id:"2d017a58-cb7f-4fc8-9482-afb93894fb3a",__isHighlightSource:{}},domElementOffsetTop:0,domElementOffsetLeft:0,title:"Dev Page - /third",_bookmark:"65c8bf6a57a11cd95c392d91"},{_id:"65c8bf7457a11cd95c392d93",createdAt:1707655028834,updatedAt:0,_objectStore:"marks",url:"http://localhost:8080/third",tags:[],text:"Paragraph Text",type:"normal",highlightSource:{startMeta:{parentTagName:"H2",parentIndex:5,textOffset:0},endMeta:{parentTagName:"H2",parentIndex:5,textOffset:14},text:"Paragraph Text",id:"4f85bea6-b658-4e90-937f-e231df43767c",__isHighlightSource:{}},domElementOffsetTop:1500,domElementOffsetLeft:88,title:"Dev Page - /third",_bookmark:"65c8bf6a57a11cd95c392d91"},{_id:"65c8bf8b57a11cd95c392d94",createdAt:1707655051506,updatedAt:0,_objectStore:"marks",url:"http://localhost:8080/third",tags:[],text:"Tricky tables",type:"normal",color:"#a7e8c8",highlightSource:{startMeta:{parentTagName:"H2",parentIndex:6,textOffset:0},endMeta:{parentTagName:"H2",parentIndex:6,textOffset:13},text:"Tricky tables",id:"79a71905-0343-4a56-9ac5-351015e3f08f",__isHighlightSource:{}},domElementOffsetTop:1835,domElementOffsetLeft:480,title:"Dev Page - /third",_bookmark:"65c8bf6a57a11cd95c392d91"}],bookmarks:[{_id:"65c8bf36c5f89875df5ebc2c",createdAt:1707654966469,updatedAt:1707654985838,_objectStore:"bookmarks",url:"http://localhost:8080/",tags:[],title:"Dev Page - /",origin:"localhost:8080",language:"en",permission:"PRIVATE",type:"normal",isStarred:!0,meta:{title:"Dev Page - /",description:"Best highlighter for the web. Just like you do on books, highlight on any web page or PDF, and take notes. Organize with tags and find your research in the app.",image:{url:"https://web-highlights.com/images/wh-thumbnail.png"},url:"http://localhost:8080/",type:"website"},canonicalLink:null,description:"Best highlighter for the web. Just like you do on books, highlight on any web page or PDF, and take notes. Organize with tags and find your research in the app.",modifiedAt:0},{_id:"65c8bf57923a665881d0ffa9",createdAt:1707654999222,updatedAt:1707655003946,_objectStore:"bookmarks",url:"http://localhost:8080/second",tags:["second tag"],title:"Dev Page - /second",origin:"localhost:8080",language:"en",permission:"PRIVATE",type:"normal",isStarred:!0,meta:{title:"Dev Page - /second",description:"Best highlighter for the web. Just like you do on books, highlight on any web page or PDF, and take notes. Organize with tags and find your research in the app.",image:{url:"https://web-highlights.com/images/wh-thumbnail.png"},url:"http://localhost:8080/second",type:"website"},canonicalLink:null,description:"Best highlighter for the web. Just like you do on books, highlight on any web page or PDF, and take notes. Organize with tags and find your research in the app.",modifiedAt:1707655003946},{_id:"65c8bf6a57a11cd95c392d91",createdAt:1707655018317,updatedAt:0,_objectStore:"bookmarks",url:"http://localhost:8080/third",tags:[],title:"Dev Page - /third",origin:"localhost:8080",language:"en",permission:"PRIVATE",type:"normal",isStarred:!1,meta:{title:"Dev Page - /third",description:"Best highlighter for the web. Just like you do on books, highlight on any web page or PDF, and take notes. Organize with tags and find your research in the app.",image:{url:"https://web-highlights.com/images/wh-thumbnail.png"},url:"http://localhost:8080/third",type:"website"},canonicalLink:null},{_id:"65c8bf9563af4161b28f1dfc",createdAt:1707655061538,updatedAt:1707655071210,_objectStore:"bookmarks",url:"http://localhost:8080/fourth",tags:["fourth"],title:"Dev Page - /fourth",origin:"localhost:8080",language:"en",permission:"PRIVATE",type:"normal",isStarred:!0,meta:{title:"Dev Page - /fourth",description:"Best highlighter for the web. Just like you do on books, highlight on any web page or PDF, and take notes. Organize with tags and find your research in the app.",image:{url:"https://web-highlights.com/images/wh-thumbnail.png"},url:"http://localhost:8080/fourth",type:"website"},canonicalLink:null,description:"Fourth page",modifiedAt:1707655071210}],chromeSettings:{_id:"65c8bf2ec5f89875df5ebc2b",createdAt:1707654958311,updatedAt:1707655038428,_objectStore:"chromesettings",showMarkerPopup:!0,showLeftSidebarWidget:!0,showToolboxAutomatically:!0,defaultHighlightColor:"#a7e8c8",recentColors:["#f8b6a8","#a7e8c8","#fdffb4","#92ffaa"],blacklistedUrls:[],lastSync:1707654958311,showLearningTeaser:!1,chromeRatingPromptDismissed:!1,sidebarOptions:{sidebarWidth:400,sidebarAlignment:"left",sidebarBehavior:"push"},preferredColorMode:"dark"},pagecontents:[{_id:"67fa35c703d46439a5bbbd51",createdAt:1744451015887,updatedAt:1744451015889,_objectStore:"pagecontents",url:"http://localhost:8080/",type:"html",content:'<div id="readability-page-1" class="page">\n    <webhighlights-browser-action-mock></webhighlights-browser-action-mock>\n    \n    <p>\n      Welcome to the test page for Web Highlights! This page is designed to help\n      you test your extension by providing a variety of text types and an image\n      for you to highlight and bookmark.\n    </p>\n    <h2>Paragraph Text</h2>\n    <p>\n      Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas sit amet\n      consectetur diam. Nulla facilisi. In fermentum rhoncus diam, quis vehicula\n      ipsum porta id. Fusce rutrum dui eget fermentum iaculis. Maecenas vel diam\n      vel nunc vehicula dictum.\n    </p>\n    <img loading="lazy" src="http://localhost:8080/test-image-200x300.jpg" alt="Test image 200" data-testid="mock-200-300">\n\n    <p>\n      Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere\n      cubilia Curae; Ut vel mauris vel ligula consectetur vestibulum. Nullam\n      lobortis nibh vel metus elementum, eu volutpat tellus finibus. Maecenas\n      accumsan mi a lacus malesuada, sit amet convallis erat ultricies. Fusce id\n      orci vitae erat dignissim ullamcorper. Ut vehicula nisi eu odio\n      consectetur, non ultricies elit ornare. Praesent nec odio at elit volutpat\n      fringilla a non metus.\n    </p>\n    <img loading="lazy" src="http://localhost:8080/test-image-500x200.jpg" alt="Test image 200" data-testid="mock-500-200">\n    <h2>Code Blocks</h2>\n    <section>\n      <pre><code>function test() {\n      console.log("Testing Web Highlights extension");\n    }</code></pre>\n      <pre><code>const app = express();\n      app.use(bodyParser.json());\n      app.use(cors());\n      app.use(morgan(\'dev\'));</code></pre>\n    </section>\n    <h2>Image</h2>\n    <h2>Lists</h2>\n    <h3>Example PDFs</h3>\n    <ul>\n      <li>\n        <a href="http://localhost:8080/viewer.html?file=http://s29.q4cdn.com/175625835/files/doc_downloads/test.pdf">Test PDF with 1 page</a>\n      </li>\n      <li>\n        <a href="http://localhost:8080/viewer.html?file=https://api.printnode.com/static/test/pdf/multipage.pdf">PDF page with 96 pages</a>\n      </li>\n      <li>Item 3</li>\n    </ul>\n    <h3>Ordered List</h3>\n    <ol>\n      <li>Item 1</li>\n      <li>Item 2</li>\n      <li>Item 3</li>\n    </ol>\n    <h2>Table</h2>\n    <table>\n      <tbody><tr>\n        <th>Column 1</th>\n        <th>Column 2</th>\n      </tr>\n      <tr>\n        <td>Row 1, Cell 1</td>\n        <td>Row 1, Cell 2</td>\n      </tr>\n      <tr>\n        <td>Row 2, Cell 1</td>\n        <td>Row 2, Cell 2</td>\n      </tr>\n    </tbody></table>\n    <h2>Paragraph Text</h2>\n    <p>\n      Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas sit amet\n      consectetur diam. Nulla facilisi. In fermentum rhoncus diam, quis vehicula\n      ipsum porta id. Fusce rutrum dui eget fermentum iaculis. Maecenas vel diam\n      vel nunc vehicula dictum.\n    </p>\n    <p>\n      Sed eget consectetur leo, vel venenatis velit. Aliquam erat volutpat. In\n      efficitur tellus at dolor dictum, eget consequat mauris malesuada. Fusce\n      lobortis rutrum ex id semper. Aenean at est nec neque euismod elementum ac\n      a nisl.\n    </p>\n    <p>\n      Etiam at sapien dictum, dignissim metus nec, maximus ligula. Vivamus\n      placerat volutpat felis, non elementum est vehicula ac. Sed auctor est at\n      sapien egestas auctor. Nunc laoreet massa eu sapien rhoncus, at elementum\n      lacus interdum. Sed bibendum felis non urna pellentesque volutpat.\n    </p>\n    <p>\n      Mauris auctor orci et tellus scelerisque, ut malesuada leo suscipit.\n      Integer iaculis lacus in semper fermentum. Proin at ultricies eros.\n      Suspendisse potenti. Donec efficitur, arcu non ornare fermentum, lorem\n      lacus fermentum arcu, id vehicula nisi nisl et tortor.\n    </p>\n    <br>\n    <h2>\n      Tricky tables. Example from:\n      <a href="https://eur-lex.europa.eu/legal-content/en/TXT/?uri=CELEX%3A32016R0679">https://eur-lex.europa.eu/legal-content/en/TXT/?uri=CELEX%3A32016R0679</a>\n    </h2>\n    <p>\n      1.&nbsp;&nbsp;&nbsp;This Regulation applies to the processing of personal\n      data wholly or partly by automated means and to the processing other than\n      by automated means of personal data which form part of a filing system or\n      are intended to form part of a filing system.\n    </p>\n    <p>\n      2.&nbsp;&nbsp;&nbsp;This Regulation does not apply to the processing of\n      personal data:\n    </p>\n    <table>\n      <colgroup>\n        <col width="4%">\n        <col width="96%">\n      </colgroup>\n      <tbody>\n        <tr>\n          <td>\n            <p>(a)</p>\n          </td>\n          <td>\n            <p>\n              in the course of an activity which falls outside the scope of\n              Union law;\n            </p>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n    <table>\n      <colgroup>\n        <col width="4%">\n        <col width="96%">\n      </colgroup>\n      <tbody>\n        <tr>\n          <td>\n            <p>\n              (b)\n            </p>\n          </td>\n          <td>\n            <p>\n              by the Member States when carrying out activities which fall\n                within the scope of Chapter&nbsp;2 of Title&nbsp;V of the\n                TEU;\n            </p>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n    <table>\n      <colgroup>\n        <col width="4%">\n        <col width="96%">\n      </colgroup>\n      <tbody>\n        <tr>\n          <td>\n            <p>\n              (c)\n            </p>\n          </td>\n          <td>\n            <p>\n              by a natural person in the course of a purely personal or\n                household activity;\n            </p>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n    <table>\n      <colgroup>\n        <col width="4%">\n        <col width="96%">\n      </colgroup>\n      <tbody>\n        <tr>\n          <td>\n            <p>(d)</p>\n          </td>\n          <td>\n            <p>\n              by competent authorities for the purposes of the prevention,\n              investigation, detection or prosecution of criminal offences or\n              the execution of criminal penalties, including the safeguarding\n              against and the prevention of threats to public security.\n            </p>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n    <p>\n      3.&nbsp;&nbsp;&nbsp;For the processing of personal data by the Union\n      institutions, bodies, offices and agencies, Regulation (EC) No 45/2001\n      applies. Regulation (EC) No 45/2001 and other Union legal acts applicable\n      to such processing of personal data shall be adapted to the principles and\n      rules of this Regulation in accordance with Article 98.\n    </p>\n    <webhighlights-element-registry elements-count="70"></webhighlights-element-registry><webhighlights-popup-toolbox></webhighlights-popup-toolbox><webhighlights-marker></webhighlights-marker><webhighlights-toasts></webhighlights-toasts></div>',title:"Test Page for Web Highlights",description:"Welcome to the test page for Web Highlights! This page is designed to help\n      you test your extension by providing a variety of text types and an image\n      for you to highlight and bookmark.",length:6926,modifiedAt:1744451015889},{_id:"67fa35c703d46439a5bbbd52",createdAt:1744451015887,updatedAt:1744451015889,_objectStore:"pagecontents",url:"http://localhost:8080/third",type:"html",content:'<div id="readability-page-1" class="page">\n    <webhighlights-browser-action-mock></webhighlights-browser-action-mock>\n    \n    <p>\n      Welcome to the test page for Web Highlights! This page is designed to help\n      you test your extension by providing a variety of text types and an image\n      for you to highlight and bookmark.\n    </p>\n    <h2>Paragraph Text</h2>\n    <p>\n      Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas sit amet\n      consectetur diam. Nulla facilisi. In fermentum rhoncus diam, quis vehicula\n      ipsum porta id. Fusce rutrum dui eget fermentum iaculis. Maecenas vel diam\n      vel nunc vehicula dictum.\n    </p>\n    <img loading="lazy" src="http://localhost:8080/test-image-200x300.jpg" alt="Test image 200" data-testid="mock-200-300">\n\n    <p>\n      Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere\n      cubilia Curae; Ut vel mauris vel ligula consectetur vestibulum. Nullam\n      lobortis nibh vel metus elementum, eu volutpat tellus finibus. Maecenas\n      accumsan mi a lacus malesuada, sit amet convallis erat ultricies. Fusce id\n      orci vitae erat dignissim ullamcorper. Ut vehicula nisi eu odio\n      consectetur, non ultricies elit ornare. Praesent nec odio at elit volutpat\n      fringilla a non metus.\n    </p>\n    <img loading="lazy" src="http://localhost:8080/test-image-500x200.jpg" alt="Test image 200" data-testid="mock-500-200">\n    <h2>Code Blocks</h2>\n    <section>\n      <pre><code>function test() {\n      console.log("Testing Web Highlights extension");\n    }</code></pre>\n      <pre><code>const app = express();\n      app.use(bodyParser.json());\n      app.use(cors());\n      app.use(morgan(\'dev\'));</code></pre>\n    </section>\n    <h2>Image</h2>\n    <h2>Lists</h2>\n    <h3>Example PDFs</h3>\n    <ul>\n      <li>\n        <a href="http://localhost:8080/viewer.html?file=http://s29.q4cdn.com/175625835/files/doc_downloads/test.pdf">Test PDF with 1 page</a>\n      </li>\n      <li>\n        <a href="http://localhost:8080/viewer.html?file=https://api.printnode.com/static/test/pdf/multipage.pdf">PDF page with 96 pages</a>\n      </li>\n      <li>Item 3</li>\n    </ul>\n    <h3>Ordered List</h3>\n    <ol>\n      <li>Item 1</li>\n      <li>Item 2</li>\n      <li>Item 3</li>\n    </ol>\n    <h2>Table</h2>\n    <table>\n      <tbody><tr>\n        <th>Column 1</th>\n        <th>Column 2</th>\n      </tr>\n      <tr>\n        <td>Row 1, Cell 1</td>\n        <td>Row 1, Cell 2</td>\n      </tr>\n      <tr>\n        <td>Row 2, Cell 1</td>\n        <td>Row 2, Cell 2</td>\n      </tr>\n    </tbody></table>\n    <h2>Paragraph Text</h2>\n    <p>\n      Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas sit amet\n      consectetur diam. Nulla facilisi. In fermentum rhoncus diam, quis vehicula\n      ipsum porta id. Fusce rutrum dui eget fermentum iaculis. Maecenas vel diam\n      vel nunc vehicula dictum.\n    </p>\n    <p>\n      Sed eget consectetur leo, vel venenatis velit. Aliquam erat volutpat. In\n      efficitur tellus at dolor dictum, eget consequat mauris malesuada. Fusce\n      lobortis rutrum ex id semper. Aenean at est nec neque euismod elementum ac\n      a nisl.\n    </p>\n    <p>\n      Etiam at sapien dictum, dignissim metus nec, maximus ligula. Vivamus\n      placerat volutpat felis, non elementum est vehicula ac. Sed auctor est at\n      sapien egestas auctor. Nunc laoreet massa eu sapien rhoncus, at elementum\n      lacus interdum. Sed bibendum felis non urna pellentesque volutpat.\n    </p>\n    <p>\n      Mauris auctor orci et tellus scelerisque, ut malesuada leo suscipit.\n      Integer iaculis lacus in semper fermentum. Proin at ultricies eros.\n      Suspendisse potenti. Donec efficitur, arcu non ornare fermentum, lorem\n      lacus fermentum arcu, id vehicula nisi nisl et tortor.\n    </p>\n    <br>\n    <h2>\n      Tricky tables. Example from:\n      <a href="https://eur-lex.europa.eu/legal-content/en/TXT/?uri=CELEX%3A32016R0679">https://eur-lex.europa.eu/legal-content/en/TXT/?uri=CELEX%3A32016R0679</a>\n    </h2>\n    <p>\n      1.&nbsp;&nbsp;&nbsp;This Regulation applies to the processing of personal\n      data wholly or partly by automated means and to the processing other than\n      by automated means of personal data which form part of a filing system or\n      are intended to form part of a filing system.\n    </p>\n    <p>\n      2.&nbsp;&nbsp;&nbsp;This Regulation does not apply to the processing of\n      personal data:\n    </p>\n    <table>\n      <colgroup>\n        <col width="4%">\n        <col width="96%">\n      </colgroup>\n      <tbody>\n        <tr>\n          <td>\n            <p>(a)</p>\n          </td>\n          <td>\n            <p>\n              in the course of an activity which falls outside the scope of\n              Union law;\n            </p>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n    <table>\n      <colgroup>\n        <col width="4%">\n        <col width="96%">\n      </colgroup>\n      <tbody>\n        <tr>\n          <td>\n            <p>\n              (b)\n            </p>\n          </td>\n          <td>\n            <p>\n              by the Member States when carrying out activities which fall\n                within the scope of Chapter&nbsp;2 of Title&nbsp;V of the\n                TEU;\n            </p>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n    <table>\n      <colgroup>\n        <col width="4%">\n        <col width="96%">\n      </colgroup>\n      <tbody>\n        <tr>\n          <td>\n            <p>\n              (c)\n            </p>\n          </td>\n          <td>\n            <p>\n              by a natural person in the course of a purely personal or\n                household activity;\n            </p>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n    <table>\n      <colgroup>\n        <col width="4%">\n        <col width="96%">\n      </colgroup>\n      <tbody>\n        <tr>\n          <td>\n            <p>(d)</p>\n          </td>\n          <td>\n            <p>\n              by competent authorities for the purposes of the prevention,\n              investigation, detection or prosecution of criminal offences or\n              the execution of criminal penalties, including the safeguarding\n              against and the prevention of threats to public security.\n            </p>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n    <p>\n      3.&nbsp;&nbsp;&nbsp;For the processing of personal data by the Union\n      institutions, bodies, offices and agencies, Regulation (EC) No 45/2001\n      applies. Regulation (EC) No 45/2001 and other Union legal acts applicable\n      to such processing of personal data shall be adapted to the principles and\n      rules of this Regulation in accordance with Article 98.\n    </p>\n    <webhighlights-element-registry elements-count="70"></webhighlights-element-registry><webhighlights-popup-toolbox></webhighlights-popup-toolbox><webhighlights-marker></webhighlights-marker><webhighlights-toasts></webhighlights-toasts></div>',title:"Test Page for Web Highlights",description:"Welcome to the test page for Web Highlights! This page is designed to help\n      you test your extension by providing a variety of text types and an image\n      for you to highlight and bookmark.",length:6926,modifiedAt:1744451015889}]},fI='title,url,time_added,tags,status\nTop 5 Alternatives to Weava (August 2024) - SaaSworthy.com,https://www.saasworthy.com/product-alternative/9476/weava,1723442842,habits|productivity|test,unread\nSave to Pocket - Chrome Web Store,https://chrome.google.com/webstore/detail/save-to-pocket/niloccemoadcdkdjlinkgdfekeahmflj/related,1645904297,,unread\nFeed | LinkedIn,https://www.linkedin.com/feed/,1724048905,,unread\nhttps://medium.com/@Pocket/jetzt-kann-dein-pocket-abenteuer-beginnen-mach-das-beste-daraus-d644217aae6a,https://medium.com/@Pocket/jetzt-kann-dein-pocket-abenteuer-beginnen-mach-das-beste-daraus-d644217aae6a,1645904278,,unread\nWeb Highlights,https://web-highlights.com/intro,1645904311,test,unread\nSave to Pocket - Chrome Web Store,https://chromewebstore.google.com/detail/save-to-pocket/niloccemoadcdkdjlinkgdfekeahmflj?hl=en,1723442782,,unread\n12 Unexpected Tricks To Help You Make A Great First Impression On Anyone You Meet,https://getpocket.com/explore/item/12-unexpected-tricks-to-help-you-make-a-great-first-impression-on-anyone-you-meet,1748014671,,unread\nThe True Tale of the Philadelphia Cheesesteak,https://getpocket.com/explore/item/the-true-tale-of-the-philadelphia-cheesesteak,1748014673,100,unread\n"How to Rest, for Real, When Youre a Very Anxious Person",https://getpocket.com/explore/item/how-to-rest-for-real-when-you-re-a-very-anxious-person,1748014675,,unread\n',mI='[\n  {\n    "url": "https://www.saasworthy.com/product-alternative/9476/weava,1723442842",\n    "title": "Top 5 Alternatives to Weava (August 2024) - SaaSworthy.com",\n    "highlights": [\n      {\n        "quote": "Test Highlight 1",\n        "created_at": 1748063022\n      },\n      {\n        "quote": "Test Highlight 2",\n        "created_at": 1748063026\n      },\n      {\n        "quote": "Test Highlight 3",\n        "created_at": 1748063040\n      }\n    ]\n  },\n  {\n    "url": "https://greatergood.berkeley.edu/article/item/the_group_dynamics_that_give_power_to_bad_bosses",\n    "title": "The Group Dynamics That Give Power to Bad Bosses",\n    "highlights": [\n      {\n        "quote": "Have you ever had a really bad boss? Think Alec Baldwin as Blake in Glengarry Glen Ross, who announces that coffees for closers only and then threatens the salesmen he supervises with a number of choice terms not suitable to repeat here. ",\n        "created_at": 1748063022\n      },\n      {\n        "quote": "Gruenfeld, a professor of organizational behavior at Stanford Graduate School of Business and an expert on the psychology of power, is interested in",\n        "created_at": 1748063026\n      },\n      {\n        "quote": "This is a puzzling phenomenon: Why follow someone who isnt doing a good job or making good decisions? ",\n        "created_at": 1748063040\n      }\n    ]\n  },\n  {\n    "url": "https://www.theatlantic.com/politics/archive/2017/11/the-nationalists-delusion/546356/?utm_source=CNN+Media%3A+Reliable+Sources&utm_campaign=726a0d9045-EMAIL_CAMPAIGN_2017_06_06&utm_medium=email&utm_term=0_e95cdc16a9-726a0d9045-82956505",\n    "title": "The Nationalist\'s Delusion - The Atlantic",\n    "highlights": [\n      {\n        "quote": "No one is irredeemable. But recognition precedes enlightenment.Nevertheless, a majority of white voters backed a candidate who assured them that they will never have to share this country with people of color as equals. ",\n        "created_at": 1535885470\n      },\n      {\n        "quote": "To acknowledge the centrality of racial inequality to American democracy is to question its legitimacyso it must be denied.",\n        "created_at": 1535885470\n      },\n      {\n        "quote": " at its core, white nationalism has and always will be a hustle, a con, a fraud that cannot deliver the broad-based prosperity it promises, not even to most white people.",\n        "created_at": 1535885470\n      }\n    ]\n  },\n  {\n    "url": "https://nymag.com/intelligencer/article/kara-swisher-burn-book-excerpt-silicon-valley-media.html?fbclid=IwAR2gTRf6bMDNbCFBQCsrgnVpyCKXpgHMtNmIuuqW_0u9c1OuIiXrS0jWMog",\n    "title": "https://nymag.com/intelligencer/article/kara-swisher-burn-book-excerpt-silicon-valley-media.html?fbclid=IwAR2gTRf6bMDNbCFBQCsrgnVpyCKXpgHMtNmIuuqW_0u9c1OuIiXrS0jWMog",\n    "highlights": [\n      {\n        "quote": "My front-row seat to a slow-moving catastrophe.",\n        "created_at": 1715799648\n      }\n    ]\n  }\n]',bI='<!DOCTYPE NETSCAPE-Bookmark-file-1>\n\x3c!-- This is an automatically generated file.\n     It will be read and overwritten.\n     DO NOT EDIT! --\x3e\n<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8">\n<TITLE>Bookmarks</TITLE>\n<H1>Bookmarks</H1>\n<DL><p>\n    <DT><H3 ADD_DATE="1699731670" LAST_MODIFIED="1748497666" PERSONAL_TOOLBAR_FOLDER="true">Bookmarks Bar</H3>\n    <DL><p>\n        <DT><A HREF="chrome://bookmarks/" ADD_DATE="1431515210" ICON="">Bookmarks</A>\n        <DT><H3 ADD_DATE="1695030223" LAST_MODIFIED="1723976113">1. Projects</H3>\n        <DL><p>\n            <DT><H3 ADD_DATE="1716365141" LAST_MODIFIED="1716555154">WH | Notion API</H3>\n            <DL><p>\n                <DT><A HREF="https://developers.notion.com/reference/intro" ADD_DATE="1716365146" >Notion API Reference</A>\n                <DT><A HREF="https://www.notion.so/my-integrations/public/4f5934dfe74b4318b381604df7b3e06d" ADD_DATE="1716446360" ICON="">My integrations | Notion Developers</A>\n            </DL><p>\n            <DT><H3 ADD_DATE="1717487640" LAST_MODIFIED="1718293197">WH | Product Hunt Launch</H3>\n            <DL><p>\n                <DT><A HREF="https://www.producthunt.com/posts/web-highlights-pdf-web-highlighter-1" ADD_DATE="1717487643" ICON="">Web Highlights - PDF &amp; Web Highlighter - Productivity highlighter for any website &amp; PDF - free to use | Product Hunt</A>\n                <DT><A HREF="https://drive.google.com/drive/folders/1y0sshIiyGmCflzqcKLULO5MOk8RCpSj_" ADD_DATE="1717498589" ICON="">Web Highlights - 04/06/2024 - Google Drive</A>\n                <DT><A HREF="https://drive.google.com/drive/folders/1jLSaagXmXiw0aXOJVW3YDvLQQ6m0dYGJ" ADD_DATE="1717564433" ICON="">27-Web Highlights Upvotes - Google Drive</A>\n            </DL><p>\n            <DT><H3 ADD_DATE="1723477442" LAST_MODIFIED="1724444755">WH | Stratigia Collab</H3>\n            <DL><p>\n                <DT><A HREF="https://www.linkedin.com/marketing/businessmanager/accounts/7228785803231965184" ADD_DATE="1723477426" ICON="">Business Manager</A>\n                <DT><A HREF="https://app.publer.io/#/" ADD_DATE="1723811417" ICON="">Publer</A>\n                <DT><A HREF="https://docs.google.com/spreadsheets/d/1eMoUB31UK3fm9ZvDdN2k70BcPJm65WGD9AH9o1u_8XQ/edit?pli=1&gid=309324947#gid=309324947" ADD_DATE="1724160225" ICON="">Keyword Research &amp; Content Plan - Web Highlights - Google Sheets</A>\n            </DL><p>\n            <DT><H3 ADD_DATE="1723976107" LAST_MODIFIED="1724129739">WH | Ads on Blog</H3>\n            <DL><p>\n            </DL><p>\n            <DT><H3 ADD_DATE="1731752368" LAST_MODIFIED="1732169772">SPAM ISSUE</H3>\n            <DL><p>\n                <DT><A HREF="https://app.glockapps.com/inbox-insight/spam-tests/reports/2024-11-16-10:04:02:813t/content-analysis" ADD_DATE="1731752352" ICON="">Spam Testing Tools - GlockApps</A>\n                <DT><A HREF="https://app.glockapps.com/inbox-insight/dashboard?from=2024-10-19T10%3A46%3A39%2B01%3A00&to=2024-11-17T10%3A46%3A39Z" ADD_DATE="1731840401" ICON="">Spam Testing Tools - GlockApps</A>\n                <DT><A HREF="https://app.mailgenius.com/spam-test/f6fb80?he=marius%40web-highlights.com&el=mgemail84&utm_source=ActiveCampaign&utm_medium=email&utm_content=Your%20Test%20Results&utm_campaign=MG2%200%20Deliverability%20Test%201%20%7C%20Opt-In" ADD_DATE="1731844381" ICON="">Mailgenius 70</A>\n                <DT><A HREF="https://glockapps.com/blog/how-i-decreased-my-spam-rate/?_gl=1*h01jlf*_gcl_au*MzM5NjIyMTI3LjE3MzE3NDYyODc.*_ga*OTAwNTkzNTc4LjE3MzE3NDYyODU.*_ga_QRW5T28D25*MTczMTc1MTIzNy4zLjEuMTczMTc1MjY1NS4wLjAuMA.." ADD_DATE="1731844559" ICON="">How I Beat Google &amp; Decreased My Spam Rate from 35.2% to 2.8% | GlockApps</A>\n                <DT><A HREF="https://app.mailgenius.com/spam-test/bbd306?origin=0&_gl=1*fdzkct*_ga*OTkxMDIwNjI4LjE3MzE2Njg2Mjc.*_ga_2BJPW3X1ZW*MTczMTg0ODMzNy42LjEuMTczMTg0ODg2Mi42MC4wLjA.&progress=90" ADD_DATE="1731848931" ICON="">Mailgeniues 76</A>\n                <DT><A HREF="https://email.web-highlights.com/admin/campaigns/templates" ADD_DATE="1732040095" ICON="">Templates / listmonk</A>\n                <DT><A HREF="https://dmarcadvisor.com/de/bimi-check/?gad_source=1" ADD_DATE="1732093240" ICON="">BIMI Check | Der beste Check zur Optimierung der Logoanzeige</A>\n            </DL><p>\n            <DT><H3 ADD_DATE="1732169786" LAST_MODIFIED="1735217327">Integration</H3>\n            <DL><p>\n                <DT><A HREF="https://www.test.com/test-dashboard/#home" ADD_DATE="1732169772" ICON="">test | Dashboard</A>\n                <DT><A HREF="https://github.com/ixrock/XTranslate/blob/master/test/test-lib.ts" ADD_DATE="1732255623" ICON="">XTranslate/test/test-lib.ts at master  ixrock/XTranslate</A>\n                <DT><A HREF="https://github.com/ixrock/XTranslate/tree/master/test" ADD_DATE="1732255638" ICON="">XTranslate/test at master  ixrock/XTranslate</A>\n                <DT><A HREF="https://trees.org/" ADD_DATE="1734801495" ICON="">Trees for the Future | Planting Today for a Greener Tomorrow</A>\n                <DT><A HREF="https://www.mellow.tel/opt-in/?extension_id=ofdclafhpmccdddnmfalihgkahgiomjk&configuration_key=8418f448&browser=chrome" ADD_DATE="1734871203" ICON="">Opt In</A>\n            </DL><p>\n            <DT><H3 ADD_DATE="1735217346" LAST_MODIFIED="1737024908">Buy V2 Extension</H3>\n            <DL><p>\n                <DT><A HREF="https://chromewebstore.google.com/detail/LinkedIn%20Extension/meajfmicibjppdgbjfkpdikfjcflabpk" ADD_DATE="1735217327" ICON="">300K - LinkedIn Extension </A>\n                <DT><A HREF="https://chromewebstore.google.com/detail/notepad-online/fefodpegbocmidnfphgggnjcicipaibk" ADD_DATE="1735217533" ICON="">100K Notepad - online - Chrome Web Store</A>\n            </DL><p>\n            <DT><H3 ADD_DATE="1745518734" LAST_MODIFIED="1746389765">GiveFreely Integration</H3>\n            <DL><p>\n                <DT><A HREF="https://www.bestbuy.com/" ADD_DATE="1745518715" ICON="">GIVEFREELY TEST Best Buy | Official Online Store | Shop Now &amp; Save</A>\n                <DT><A HREF="https://www.casetify.com/" ADD_DATE="1745518746" ICON="">GIVEFREELY TEST Show Your Colors | CASETiFY</A>\n                <DT><A HREF="https://www.macys.com/" ADD_DATE="1746352605" ICON="">Givefreely Test Macy&#39;s - Shop Fashion Clothing &amp; Accessories - Official Site - Macys.com</A>\n            </DL><p>\n        </DL><p>\n        <DT><H3 ADD_DATE="1695041118" LAST_MODIFIED="1716555175">2. Areas</H3>\n        <DL><p>\n            <DT><H3 ADD_DATE="1695043521" LAST_MODIFIED="1695043521">Financial Freedom</H3>\n            <DL><p>\n                <DT><A HREF="https://docs.google.com/spreadsheets/d/1hHs0L4qnHTtrTltQmiyItpzWAksznw0Ui3uejGzYK-4/edit#gid=0" ADD_DATE="1690750985" ICON="">Goals &amp; Gains </A>\n            </DL><p>\n            <DT><H3 ADD_DATE="1716555175" LAST_MODIFIED="1718553370">WH | Marketing</H3>\n            <DL><p>\n                <DT><A HREF="https://typefully.com/" ADD_DATE="1716555154" ICON="">Typefully</A>\n                <DT><A HREF="https://ads.google.com/aw/billing/signup?ocid=355652118&euid=355178285&__u=3093288965&uscid=355652118&__c=2160638182&authuser=0" ADD_DATE="1699121835" ICON="">Youtube Ads</A>\n                <DT><A HREF="https://stratigia.slack.com/?redir=%2Fgantry%2Fclient" ADD_DATE="1718372550" ICON="">Stratigia Slack</A>\n                <DT><A HREF="https://app.slack.com/client/T67S14BDK/C078UG5K2SC" ADD_DATE="1718372606" ICON="">web-highlights (Channel) - Stratigia - Slack</A>\n            </DL><p>\n        </DL><p>\n        <DT><H3 ADD_DATE="1728322631" LAST_MODIFIED="1728322631">Bookmarks</H3>\n        <DL><p>\n        </DL><p>\n    </DL><p>\n    <DT><A HREF="https://www.bosch-professional.com/de/de/service/kundendienst/online-reparaturservice/reparaturauftrag/" ADD_DATE="1738217509" ICON="">Reparatur Online Service fr Elektrowerkzeuge | Bosch Professional</A>\n    <DT><A HREF="https://developer.chrome.com/docs/extensions/develop/concepts/permission-warnings" ADD_DATE="1744272309" ICON="">Permission warning guidelines | Chrome Extensions | Chrome for Developers Testing Pack Unpacked</A>\n    <DT><A HREF="https://www.bike-packing.de/gepaecktraeger" ADD_DATE="1746389765" ICON="">Bikepacking Fahrrad Gepcktrger | Mach dein Bike zum Lastentier!</A>\n    <DT><A HREF="https://portal.givefreely.com/" ADD_DATE="1746808599" ICON="">Apps | Give Freely Nonprofit Tools Dashboard COmission</A>\n    <DT><A HREF="https://analytics.google.com/analytics/web/#/p426199153/reports/intelligenthome" ADD_DATE="1727772283" ICON="">Analytics | app.web-highlights.com</A>\n    <DT><A HREF="https://chrome-stats.com/docs/api" ADD_DATE="1748497666" ICON="">Chrome-Stats API documentations</A>\n    <DT><A HREF="file:///Users/marius.bongarts/Documents/Books/test.pdf" ADD_DATE="1743453149" LAST_MODIFIED="1743453149">Copy Email Chrome Store</A>\n    <DT><A HREF="file:///Users/mariusbongarts/Library/CloudStorage/OneDrive-Personal/3-Ressources/Books/Millionaire%20Success%20Habits%20The%20Gateway%20to%20Wealth%20%20Prosperity.pdf" ADD_DATE="1743453149" LAST_MODIFIED="1743453149">Copy Email Chrome Store</A>\n    <DT><A HREF="https://pdfobject.com/pdf/sample.pdf" ADD_DATE="1743453149" LAST_MODIFIED="1743453149">Copy Email Chrome Store</A>\n    <DT><A HREF="javascript:(() => console.log(document.querySelector(\'.AxYQf\').textContent))()" ADD_DATE="1743453149" LAST_MODIFIED="1743453149">Copy Email Chrome Store</A>\n    <DT><A HREF="javascript:(() => { const buttons = [...document.querySelectorAll(\'button\')]; buttons.filter(button => button.textContent.includes(\'Following\')).forEach(button => button.click()) })()" ADD_DATE="1743453149" LAST_MODIFIED="1743453149">Medium unfollow()</A>\n</DL><p>\n',yI='title,url,tags,description,comments,annotations,created_at\n"Anthropic Agrees to Pay $1.5 Billion to Settle Lawsuit With Book Authors - The New York Times","https://www.nytimes.com/2025/09/05/technology/anthropic-settlement-copyright-ai.html?searchResultPosition=1","no_tag","","","Highlight:But he also found that Anthropic had illegally acquired millions of books through online libraries like Library Genesis and Pirate Library Mirror that many tech companies have used to supplement the huge amounts of digital text needed to train A.I.\n","2025-09-07 03:25:56"\n"Comparison of approaches to control for intracranial volume in research on the association of brain volumes with cognitive outcomes - PMC","https://pmc.ncbi.nlm.nih.gov/articles/PMC10910271/","no_tag","","","Highlight:Comparison of approaches to control for intracranial volume in research on the association of brain volumes with cognitive outcomes\n","2025-09-01 04:50:34"\n"Onset and Progression of Pathologic Atrophy in Huntington Disease: A Longitudinal MR Imaging Study - PMC","https://pmc.ncbi.nlm.nih.gov/articles/PMC7963924/","no_tag","","","Highlight:In controls, there was a significant linear effect of age on ventricular volume, with volumes increasing by 0.43 mL per yea\nHighlight:after adjusting for sex and TIV\nHighlight:Using a model adjusted for normal aging, sex, and TIV, we estimated HD ventricular volume to increase by 1.01 mL (95% CI, 0.231.79 mL) more than that in controls in the year before motor onset and by 1.14 mL (95% CI, 0.461.82 mL) more than that in controls in the year following onset, an acceleration of 0.13 mL per year\n","2025-07-20 22:53:06"\n"Huntington disease | Radiology Reference Article | Radiopaedia.org","https://radiopaedia.org/articles/huntington-disease#:~:text=On%20imaging%2C%20it%20is%20classically,horns%20of%20the%20lateral%20ventricles.","no_tag","","","Highlight:<h5 id=""nav_mri"" class=""section-title"">MRI</h5><p>The most striking and best-known feature is that of caudate head atrophy. There is also, however,&nbsp;prominent putaminal volume loss which is usually not as easily recognized on visual inspection but seen well on morphometry <sup>9</sup>. This is particularly the case in younger patients <sup>4</sup>. The combination results in enlargement of the frontal horns,&nbsp;often giving them a ""box"" like configuration <sup>2-4</sup>.</p><p>This can be quantified by a number of measurements:</p><ul>\n<li><p><a href=""/articles/frontal-horn-width-to-intercaudate-distance-ratio?lang=us"" class=""internal"">frontal horn width to intercaudate distance ratio (FH/CC)</a>, which is reduced in Huntington disease</p></li>\n<li><p><a href=""/articles/intercaudate-distance-to-inner-table-width-ratio?lang=us"" class=""internal"">intercaudate distance to inner table width ratio (CC/IT)</a>, which is increased in Huntington disease</p></li>\n</ul><p>In some cases, the basal ganglia may show decreased T2 signal and blooming on SWI in keeping with iron deposition <sup>7</sup>.&nbsp;Generalized age-inappropriate cortical thinning and volume loss is also recognized <sup>4,14</sup>.</p><p><a href=""/articles/mr-spectroscopy-1?lang=us"" title=""MR spectroscopy"" class=""internal"">MR spectroscopy</a>&nbsp;may demonstrate elevation of lactate, although this can be variably present in location (most often in the basal ganglia) <sup>15,17</sup>. There is also a decrease in NAA/creatine ratio, particularly in the basal ganglia, in-keeping with neuronal loss <sup>15,16</sup>.</p>\n","2025-07-20 22:51:00"\n"Frontal horn width to intercaudate distance ratio | Radiology Reference Article | Radiopaedia.org","https://radiopaedia.org/articles/frontal-horn-width-to-intercaudate-distance-ratio?lang=us","no_tag","","","Highlight:<p><strong>Frontal horn width to intercaudate distance ratio (FH/CC)</strong> is used in assessing patients with suspected <a href=""/articles/huntington-disease?embed_domain=audioexotica.com%25252fplacing-sounds-atmos-mix%25252flang%3Dus&amp;lang=us"" class=""internal"">Huntington disease</a>.&nbsp;An alternative measurement is <a href=""/articles/intercaudate-distance-to-inner-table-width-ratio?embed_domain=audioexotica.com%25252fplacing-sounds-atmos-mix%25252flang%3Dus&amp;lang=us"" class=""internal"">intercaudate distance to inner table width ratio (CC/IT)</a>.</p><h4>Measurement</h4><p>On the same axial plane obtained on the ACPC (anterior commissure and posterior commissure)&nbsp;line, the ratio between the lateral margins of the frontal horns and the distance between the caudate heads (where they are closest).</p><h4>Interpretation</h4><p>The normal mean FH/CC ratio range is 2.2 to 2.6. As the caudate heads reduce in volume the CC distance will approach the FH distance, and the ratio will approach 1.</p>\nSticky notes:An this FH/CC is even easier to obtain, more interesting than the other\n","2025-07-20 22:48:51"',vI='title,url,tags,description,comments,annotations,created_at\n"Successfully Installed - PDF & Web Highlighter","https://web-highlights.com/extensions/pdf-web-highlighter/welcome?ref=install","no_tag","","","Highlight:ghlighter to help me bette\nSticky notes:TESTNOTIZ\nHighlight:it always available\n","2025-09-23 05:01:25"\n"Welcome To Web Highlights ","https://web-highlights.com/blog/welcome/","no_tag","","","Highlight:ff to a good start - &nbsp;I hope you\nHighlight:ow that you can always contact me if you have any questions. No application is perfect.\n","2023-05-23 13:45:02"\n"Try PDF annotation - Active Reading: The Art of Annotation","https://www.diigo.com/item/pdf/actt1/ixhj","no_tag","","","","2023-05-23 13:44:44"\n"Getting Started with Chrome extension - Diigo help","http://help.diigo.com/how-to-use-chrome-extension/getting-started-chrome-extension?k=99a34874c378fd37d7b29f518dcb3af1","Diigo,Chrome","","","Highlight:<table cellpadding=""4"" cellspacing=""0"" style=""border:0;margin-bottom:30px;font-family:Arial,Helvetica,sans-serif;color:#333;border-collapse:collapse;width:100%""><tbody><tr><td style=""padding-left:10px;padding-right:10px""><p style=""text-align:left""><img border=""0"" height=""193"" src=""http://help.diigo.com/_/rsrc/1386125049337/how-to-use-chrome-extension/getting-started-chrome-extension/Diigo%20Chrome%20Extension%20Quick%20Start%20Guide_html_2114c556.png?height=193&amp;width=200"" style=""margin-left:10px;margin-right:10px;max-width:100%;float:left"">Use the <strong>Save</strong> option to bookmark a page. Bookmarking saves a link to the page in your online Diigo library, allowing you to easily access it later.</p>\n</td>\n</tr>\n</tbody>\n</table>\nHighlight:<tr><td style=""padding-left:10px;padding-right:10px""><p>Highlighting can also be accomplished from the <b>context pop-up</b>. After&nbsp;the Chrome extension is installed, whenever you select text on a webpage, the <b>context pop-up</b> will appear, allowing you to accomplish text-related annotation.</p><div style=""display:block;text-align:center;margin-right:auto;margin-left:auto""><a href=""http://help.diigo.com/how-to-use-chrome-extension/getting-started-chrome-extension/ContextPopup.png?attredirects=0"" imageanchor=""1"" sl-processed=""1""><img border=""0"" src=""http://help.diigo.com/_/rsrc/1386125049337/how-to-use-chrome-extension/getting-started-chrome-extension/ContextPopup.png""></a></div>\n</td>\n</tr>\n<tr>\n<td style=""padding-left:10px;padding-right:10px"">\n<p> <strong>Highlight </strong><strong>Pop-up</strong><strong> Menu</strong><strong>  </strong>After you highlight some text, position your mouse cursor over it and the <strong>highlight </strong><strong>pop-up</strong><strong> menu</strong> will appear.</p>\n</td>\n</tr>\n<tr>\n<td style=""padding-left:10px;padding-right:10px"">\n<p style=""text-align:left""><img border=""0"" height=""61"" src=""http://help.diigo.com/_/rsrc/1386125049339/how-to-use-chrome-extension/getting-started-chrome-extension/Diigo%20Chrome%20Extension%20Quick%20Start%20Guide_html_b577f508.jpg?height=61&amp;width=200"" style=""margin-left:10px;margin-right:10px;max-width:100%;float:left"">The highlight pop-up menu allows you to add notes to, share, or delete the highlight.</p></td></tr>\nHighlight:<table cellpadding=""4"" cellspacing=""0"" style=""border:0;margin-bottom:30px;font-family:Arial,Helvetica,sans-serif;color:#333;border-collapse:collapse;width:100%""><tbody><tr><td style=""padding-left:10px;padding-right:10px""><p style=""text-align:right""><img alt="""" border=""0"" height=""200"" src=""http://help.diigo.com/_/rsrc/1386125049338/how-to-use-chrome-extension/getting-started-chrome-extension/Diigo%20Chrome%20Extension%20Quick%20Start%20Guide_html_56e4048e.jpg?height=200&amp;width=320"" style=""margin-left:10px;margin-right:10px;max-width:100%;float:right""><strong>Sticky Note</strong><br>\n              Click the middle icon on the annotation toolbar to add a sticky note to the page. With a sticky note, you can write your thoughts anywhere on a web page.</p>\n</td>\n</tr>\n</tbody>\n</table>\n","2023-05-23 13:44:43"',wI={_id:"69158f2ae2d61abd5d1a0dcf",createdAt:1763020586425,updatedAt:0,_objectStore:"bookmarks",url:"https://app.web-highlights.com/content/69158f2ae2d61abd5d1a0dcd",tags:[],title:"Hello World",origin:"app.web-highlights.com",language:"en",permission:"PRIVATE",type:"content-text",isStarred:!0,meta:{title:"Hello World",favicon:"https://email.web-highlights.com/uploads/notes-logo_BTFdez.webp",description:"No description",image:{type:"image",url:"https://email.web-highlights.com/uploads/notes_asXTqd.webp",alt:"Icon of a digital notepad."}},canonicalLink:null,description:"No description"},_I={_id:"69158f2ae2d61abd5d1a0dcd",createdAt:1763020586424,updatedAt:1763020587109,_objectStore:"pagecontents",url:"https://app.web-highlights.com/content/69158f2ae2d61abd5d1a0dcd",type:"html",content:'<div id="readability-page-1" class="page">Hello World</div>',title:"Hello World",description:"",length:59,youtubeTranscript:null,modifiedAt:1763020587109},TI={_id:"6915dd6f9dbd4ee6e50c2cec",createdAt:1763040623552,updatedAt:1763040632539,_objectStore:"aichats",_referenceId:"69158f2ae2d61abd5d1a0dcf",_referenceObjectStore:"bookmarks",messages:[{id:"6915dd779dbd4ee6e50c2ced",role:"user",content:"Hi",type:"text",status:"completed"},{id:"6915dd779dbd4ee6e50c2cee",role:"assistant",content:'Hello there!  I\'m here to help answer questions about the website. Just ask!  \n\nThe website currently just displays "Hello World". \n\n\n\n',type:"text",status:"completed"}],modifiedAt:1763040632539,wasUpdatedLastFromAppType:Sc.webApp},AI={bookmarks:[...gI.bookmarks,wI],marks:gI.marks,chromeSettings:gI.chromeSettings,pagecontents:[...gI.pagecontents??[],_I],aichats:[...gI.aichats??[],TI]},EI="paddle";async function kI(e){if(typeof window>"u")throw new Error("Window is not defined. Please call 'loadPaddlePrice' in a browser based environment.");if(typeof window.Paddle>"u")throw new Error("Paddle not loaded successfully.");return new Promise(t=>{var i;null==(i=window.Paddle)||i.Product.Prices(e,e=>{t(e)})})}function SI(e){var t;if(typeof window>"u")throw new Error("Window is not defined. Please call 'loadPaddlePrice' in a browser based environment.");if(!window.Paddle)throw new Error("Paddle client not loaded.");null==(t=null==window?void 0:window.Paddle)||t.Checkout.open(e)}var xI=(e=>(e.SPECIAL20="SPECIAL20",e.LOYAL40="LOYAL40",e.WELCOME_BACK="WELCOMEBACK",e.JEAN20="JEAN20",e.BF50="BF50",e.STUDENTSPECIAL="STUDENTSPECIAL",e))(xI||{});function CI(e){return"absolute"===e.type}function II(e){return"relative"===e.type}const NI={[tv.PREMIUM]:{plan:tv.PREMIUM,amount:19.99,currency:"USD",countryCode:"US",currencySymbol:"$",interval:"year"},[tv.ULTIMATE]:{plan:tv.ULTIMATE,amount:29.99,currency:"USD",countryCode:"US",currencySymbol:"$",interval:"year"}};function DI(e){var t,i,r;return"VALID"===(null==(t=e.discount)?void 0:t.status)&&(null==(r=null==(i=e.discount)?void 0:i.discountedUserPlanPrice)?void 0:r.amount)||e.amount}const OI=" ",LI={"ULTIMATE Lifetime":{userPlanType:tv.ULTIMATE,userPlanDuration:iv.LIFETIME},"PREMIUM Lifetime":{userPlanType:tv.PREMIUM,userPlanDuration:iv.LIFETIME},"ULTIMATE 1Y":{userPlanType:tv.ULTIMATE,userPlanDuration:iv.ONE_YEAR},"ULTIMATE 1M":{userPlanType:tv.ULTIMATE,userPlanDuration:iv.ONE_MONTH},"PREMIUM 1Y":{userPlanType:tv.PREMIUM,userPlanDuration:iv.ONE_YEAR},"PREMIUM 1M":{userPlanType:tv.PREMIUM,userPlanDuration:iv.ONE_MONTH}};function PI(e){return LI[e]??{userPlanDuration:"",userPlanType:""}}function RI(e){const{userPlanDuration:t,userPlanType:i}=PI(e.name);return{plan:e,userPlanType:i,userPlanDuration:t}}function MI(e){return{product:e,...PI(e.name)}}const BI=e=>!!e.userPlanDuration&&!!e.userPlanType,UI=e=>!!e.userPlanDuration&&!!e.userPlanType,$I=["account","settings","backup","billing","notifications","integrations","documents"];function GI(e){return"string"==typeof e&&$I.includes(e)}const FI={account:jd.user,backup:jd.save,settings:jd.settings,billing:jd["arrow-up-circle"],integrations:jd.zap,notifications:jd.bell,documents:jd.reader},HI={account:"Account",backup:"Backup",settings:"Settings",billing:"Upgrade & Billing",integrations:"Integrations",notifications:"Notifications",documents:"Saved documents"},zI="settings";function jI(e){const t=e.type,i=e.params;return`plausible-event-name=${t} ${Object.entries(i).map(([e,t])=>`plausible-event-${e}=${t}`).join(" ")}`}const VI=[{type:"chrome",name:"Chrome"},{type:"firefox",name:"Firefox"},{type:"edge",name:"Edge"},{type:"safari",name:"Safari"},{type:"opera",name:"Opera"},{type:"brave",name:"Brave"},{type:"duckduckgo",name:"DuckDuckGo"},{type:"vivaldi",name:"Vivaldi"}];async function WI(){const e=await Rp.getValue("lastUserPromptShownAtInMillis");if("number"==typeof e&&e+ib>Date.now())return;const[t,i,r,o]=await Promise.all([Rp.getChromeSettings(),NA.getJwtPayload(),s_.getAllCount(bp.bookmarks),Rp.getStorage()]);return KI({chromeSettings:t,jwtPayload:i,bookmarksCount:r,chromeStorage:o})}async function qI(){return await s_.getAllCount(bp.bookmarks)>=30}function YI(e,t){setTimeout(()=>{Rp.setValue("lastUserPromptShownAtInMillis",Date.now()),Rp.setValue(t,!0),e()},250)}async function KI({chromeSettings:e,jwtPayload:t,bookmarksCount:i,chromeStorage:r}){!e||i<5||(t||e.signUpPromptDismissed||r.signUpPromptDismissed?i<12||(e.chromeRatingPromptDismissed||r.chromeRatingPromptDismissed?i<20||(t&&uA(bA(t))||e.upgradeDealPromptDismissed||r.upgradeDealPromptDismissed?i<30||e.spreadTheWordPromptDismissed||r.spreadTheWordPromptDismissed||YI(rA,"spreadTheWordPromptDismissed"):YI(eA,"upgradeDealPromptDismissed")):YI(QT,"chromeRatingPromptDismissed")):YI(tA,"signUpPromptDismissed"))}const XI={},JI=Dt(class extends Ot{constructor(){super(...arguments),this.ot=XI}render(e,t){return t()}update(e,[t,i]){if(Array.isArray(t)){if(Array.isArray(this.ot)&&this.ot.length===t.length&&t.every((e,t)=>e===this.ot[t]))return Ee}else if(this.ot===t)return Ee;return this.ot=Array.isArray(t)?Array.from(t):t,this.render(t,i)}});a.g.LitExternal=e,a.g.LitDecoratorsExternal=t,a.g.LitGuardExternal=o,a.g.WebHighlightsSharedLibExternal=r;const ZI=id,QI=Ic,eN=new IA,tN=new HC(ZI,eN),iN=new LC(tN);class rN extends ze{constructor(){super(...arguments),this.components=[]}connectedCallback(){super.connectedCallback(),xv(this.components)}static define(e,t,i){Ex(e,t,i)}}var oN=function(e,t,i,r){var o,n=arguments.length,a=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(n<3?o(a):n>3?o(t,i,a):o(t,i))||a);return n>3&&a&&Object.defineProperty(t,i,a),a};const nN=a(3603);class aN extends rN{constructor(){super(...arguments),this.components=[Sv.Icon.TAG],this.isAppReady=!1}firstUpdated(e){Bk.subscribe("initFinished",()=>{this.isAppReady=!0})}onBrowserActionClick(){Bk.dispatch("browserActionClicked",{detail:null})}onHighlightImage(e){Bk.dispatch(gp.CONTEXT_MENU_SAVE_IMAGE,{detail:{srcUrl:e,editable:!1,menuItemId:gp.CONTEXT_MENU_SAVE_IMAGE,pageUrl:location.href}})}onHighlightImage1(){this.onHighlightImage("http://localhost:8080/test-image-200x300.jpg")}onHighlightImage2(){this.onHighlightImage("http://localhost:8080/test-image-500x200.jpg")}onTestTooLargeEntity(){Bk.dispatch("CONTEXT_MENU_SAVE_TEXT",{detail:{selectionText:"a".repeat(11e4)}})}onAddNewDomElement(){const e=document.createElement("p");e.textContent=Av.ExtensionDevPage.LATER_ADDED_TEXT,document.body.prepend(e)}onKeyboardShortcut(e){Bk.dispatch("keyboardShortcut",{detail:e})}get keyboardShortcutButtons(){return _e` ${Bc(QI.appType).map(e=>{var t;return _e`<button
          data-testid=${Av.ExtensionDevPage.TEST_IDS.SHORTCUT_BTN(e.name)}
          title=${null!==(t=e.description)&&void 0!==t?t:""}
          style="font-size: 10px; font-weight: bold;"
          @click=${()=>this.onKeyboardShortcut(e.name)}
        >
          ${e.shortcut}
        </button>`})}`}onTestYoutubeVideo(e){Bk.dispatch("openYoutubeVideoInReader",{detail:{url:e}})}onTestDeprecatedEndpoints(){return function(e,t,i,r){return new(i||(i=Promise))(function(o,n){function a(e){try{l(r.next(e))}catch(e){n(e)}}function s(e){try{l(r.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){this.deprecatedEndpointsButton.removeAttribute("entities"),this.deprecatedEndpointsButton.setAttribute("loading","true");const e=yield iN.getEntitiesFromDeprecatedEndpoints();this.deprecatedEndpointsButton.setAttribute("entities",JSON.stringify(e));const t=e.filter(XE);for(const e of t){const t=yield iN.getHtmlForPageContent(e);this.deprecatedEndpointsButton.setAttribute("pageContentHtml",null!=t?t:"")}const i=e.filter(JE);for(const e of i){const t=yield iN.getMessagesForAiChat(e);this.deprecatedEndpointsButton.setAttribute("aiChatContent",JSON.stringify(t))}this.deprecatedEndpointsButton.removeAttribute("loading")})}render(){return this.isAppReady?QI.appType===Sc.reader?_e`
        <button
          data-testid=${Av.ExtensionDevPage.TEST_IDS.BROWSER_ACTION_OPEN_READER_BTN}
          id="browser-action-mock-btn"
          @click=${this.onBrowserActionClick}
        >
          <webhighlights-icon
            icon=${jd["reader-extension-icon"]}
            size="20"
          ></webhighlights-icon>
        </button>
        ${this.keyboardShortcutButtons}
      `:_e`
      <button
        data-testid=${Av.ExtensionDevPage.TEST_IDS.TOGGLE_SIDEBAR_BTN}
        class="mark-icon"
        id="browser-action-mock-btn"
        @click=${this.onBrowserActionClick}
      >
        <webhighlights-icon
          icon=${jd["mark-icon"]}
          size="20"
        ></webhighlights-icon>
      </button>
      <button
        @click=${this.onHighlightImage1}
        data-testid=${Av.ExtensionDevPage.TEST_IDS.HIGHLIGHT_IMAGE_1}
      >
        <webhighlights-icon
          icon=${jd.image}
          size="20"
        ></webhighlights-icon>
      </button>
      <button
        @click=${this.onHighlightImage2}
        data-testid=${Av.ExtensionDevPage.TEST_IDS.HIGHLIGHT_IMAGE_2}
      >
        <webhighlights-icon
          icon=${jd.image}
          size="20"
        ></webhighlights-icon>
      </button>
      ${this.keyboardShortcutButtons}
      <button
        @click=${this.onTestTooLargeEntity}
        title="Test too large entity"
        data-testid=${Av.ExtensionDevPage.TEST_IDS.TEST_TOO_LARGE_ENTITY}
      >
        <webhighlights-icon
          icon=${jd["alert-circle"]}
          size="20"
        ></webhighlights-icon>
      </button>
      <button
        @click=${this.onAddNewDomElement}
        title="Test too large entity"
        data-testid=${Av.ExtensionDevPage.TEST_IDS.ADD_NEW_DOM_ELEMENT}
      >
        <webhighlights-icon
          icon=${jd["plus-circle"]}
          size="20"
        ></webhighlights-icon>
      </button>
      <button
        @click=${()=>this.onTestYoutubeVideo("https://www.youtube.com/watch?v=5fHR_De7FIU")}
        title="Test Youtube video 1"
        data-testid=${Av.ExtensionDevPage.TEST_IDS.TEST_YOUTUBE_VIDEO_1}
      >
        <webhighlights-icon
          icon=${jd.play}
          size="20"
        ></webhighlights-icon>
      </button>
      <button
        @click=${()=>this.onTestYoutubeVideo("https://www.youtube.com/watch?v=HlCjrf7hJHk")}
        title="Test Youtube video 2"
        data-testid=${Av.ExtensionDevPage.TEST_IDS.TEST_YOUTUBE_VIDEO_2}
      >
        <webhighlights-icon
          icon=${jd.play}
          size="20"
        ></webhighlights-icon>
      </button>
      <button
        @click=${this.onTestDeprecatedEndpoints}
        title="Test Deprecated Endpoint"
        id="deprecated-endpoints-button"
        data-testid=${Av.ExtensionDevPage.TEST_IDS.TEST_DATA_FROM_DEPRECATED_ENDPOINTS}
      >
        <webhighlights-icon
          icon=${jd.clock}
          size="20"
        ></webhighlights-icon>
      </button>
    `:_e``}}aN.styles=M`
    ${R(nN)}
  `,oN([ht()],aN.prototype,"isAppReady",void 0),oN([ft("#deprecated-endpoints-button")],aN.prototype,"deprecatedEndpointsButton",void 0);var sN=a(7211),lN=a.n(sN),cN=function(e,t,i,r){var o,n=arguments.length,a=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(n<3?o(a):n>3?o(t,i,a):o(t,i))||a);return n>3&&a&&Object.defineProperty(t,i,a),a},dN=function(e,t,i,r){return new(i||(i=Promise))(function(o,n){function a(e){try{l(r.next(e))}catch(e){n(e)}}function s(e){try{l(r.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})};class uN extends rN{constructor(){super(...arguments),this.kindleBookInfo=null,this.allKindleHighlightsFound=[],this.newKindleHighlightsFound=[],this.existingKindleHighlights=[],this.importProgressMsg=null,this.onRefreshClick=()=>dN(this,void 0,void 0,function*(){yield this.updateKindleBookInfo(),this.updateImportMsg()})}firstUpdated(){return dN(this,void 0,void 0,function*(){yield this.updateKindleBookInfo(),this.updateImportMsg()})}updateKindleBookInfo(){return dN(this,void 0,void 0,function*(){this.kindleBookInfo=Fv(),this.kindleBookInfo&&(Bk.dispatch("kindleBookDetected",{detail:this.kindleBookInfo}),yield this.loadData())})}loadData(){return dN(this,void 0,void 0,function*(){try{this.existingKindleHighlights=[];const e=yield Ww();if(e){const t=yield s_.getMarksForBookmark(e);this.existingKindleHighlights=t.filter($d)}this.loadPossibleImportHighlights()}catch(e){console.error("Could not find bookmark for kindle book")}})}updateImportMsg(){var e,t,i,r,o;if((null===(e=this.existingKindleHighlights)||void 0===e?void 0:e.length)>=(null===(t=this.allKindleHighlightsFound)||void 0===t?void 0:t.length)){const e=null===(r=null===(i=this.existingKindleHighlights)||void 0===i?void 0:i.filter(e=>!!e.richText))||void 0===r?void 0:r.length;this.importProgressMsg=`Successfully imported ${this.existingKindleHighlights.length} Highlight${1===(null===(o=this.existingKindleHighlights)||void 0===o?void 0:o.length)?"":"s"}${e?` & ${e} Note${1===e?"":"s"}`:""} `}else this.importProgressMsg=null}loadPossibleImportHighlights(){this.allKindleHighlightsFound=[],this.newKindleHighlightsFound=[];const e=document.querySelectorAll("#highlight");this.allKindleHighlightsFound=Array.from(e).map(e=>{var t,i,r,o;const n=null!==(t=e.textContent)&&void 0!==t?t:"",a=e.parentElement,s=a.id,l=(e=>{const t=window.getComputedStyle(e,null)["border-left-color"];return"string"==typeof t?t:""})(a),c=null!==(o=null===(r=null===(i=a.parentElement)||void 0===i?void 0:i.querySelector("#note"))||void 0===r?void 0:r.textContent)&&void 0!==o?o:"";return{text:n,kindleHighlightId:s,color:l,richText:c?{ops:[{insert:c}]}:void 0}}),this.newKindleHighlightsFound=this.allKindleHighlightsFound.filter(e=>!this.existingKindleHighlights.some(t=>t.kindleHighlightId===e.kindleHighlightId))}importHiglights(){return dN(this,void 0,void 0,function*(){var e,t,i;if(yield this.loadData(),this.updateImportMsg(),!this.newKindleHighlightsFound.length)return;const r=yield Rp.getChromeSettings(),o=yield Ww(),n=[];for(let a=0;a<(null!==(t=null===(e=this.newKindleHighlightsFound)||void 0===e?void 0:e.length)&&void 0!==t?t:0);a++){const e=this.newKindleHighlightsFound[a];if(this.importProgressMsg=`Importing highlights: ${a+1}/${null===(i=this.newKindleHighlightsFound)||void 0===i?void 0:i.length}`,!e)return;const t=fC(e.color||r.defaultHighlightColor,{providedText:e.text});if(!t)return;const s=Object.assign(Object.assign({},t),{kindleHighlightId:e.kindleHighlightId,richText:e.richText});yield kC(s,{chromeSettings:r,bookmark:null!=o?o:void 0,focusMark:!1}),Qx(s),n.push(s)}yield this.loadData(),this.updateImportMsg()})}get refreshBtn(){return _e`
      <button @click=${this.onRefreshClick} class="refresh-btn"></button>
    `}render(){if(this.importProgressMsg)return _e`
        <div class="loading-indicator">
          <span>${this.importProgressMsg}</span>
        </div>
        ${this.refreshBtn}
      `;if(!this.newKindleHighlightsFound.length)return _e` ${this.refreshBtn} `;let e="Import Highlights & Notes to Web Highlights";return _e`
      <button
        @click=${this.importHiglights}
        class="import-btn"
        title="${e}"
      >
        ${e}
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 544 512"
          class="import-icon"
        >
          <path
            d="M0 479.98L99.92 512l35.45-35.45-67.04-67.04L0 479.98zm124.61-240.01a36.592 36.592 0 0 0-10.79 38.1l13.05 42.83-50.93 50.94 96.23 96.23 50.86-50.86 42.74 13.08c13.73 4.2 28.65-.01 38.15-10.78l35.55-41.64-173.34-173.34-41.52 35.44zm403.31-160.7l-63.2-63.2c-20.49-20.49-53.38-21.52-75.12-2.35L190.55 183.68l169.77 169.78L530.27 154.4c19.18-21.74 18.15-54.63-2.35-75.13z"
          />
        </svg>
      </button>
    `}}uN.styles=M`
    ${R(lN())}
  `,cN([ut()],uN.prototype,"kindleBookInfo",void 0),cN([ut()],uN.prototype,"allKindleHighlightsFound",void 0),cN([ut()],uN.prototype,"newKindleHighlightsFound",void 0),cN([ut()],uN.prototype,"existingKindleHighlights",void 0),cN([ut()],uN.prototype,"importProgressMsg",void 0);const hN=a(2944);class pN extends rN{render(){return mm()?_e` <div class="pdf-info-container" style="max-width: 800px;">
        <span class="headline">
          Highlighting local PDFs is not supported in Firefox
        </span>
        <span class="sub-headline" style="font-size: 14px; margin-top: 10px;">
          Unfortunately, Firefox's privacy settings prevent us from accessing
          local files. To highlight PDFs, please use the Chrome or Edge
          extension. You can install Web Highlights for Chrome
          <a href=${ad.CHROME_EXTENSION_LINK} target="_blank">here</a>
          and for Edge
          <a href=${ad.EDGE_EXTENSION_LINK} target="_blank">here</a>.
        </span>
      </div>`:_e`
      <div class="pdf-info-container">
        <span class="headline">
          We need your permission to highlight PDF files stored on your local
          computer
        </span>
        <span class="sub-headline">
          If you need help you can find more information in this article:
          <a
            href="https://web-highlights.com/blog/how-to-highlight-pdfs-using-web-highlights/"
            target="_blank"
            >How to Highlight PDFs using Web Highlights</a
          >
        </span>
        <div class="explanation-container">
          <div class="explanation">
            <div class="left">
              <img
                class="manage-extension"
                alt="Screenshot showing how to manage extension"
                src="http://web-highlights.com/images/chrome-manage-extension.png"
              />
              <br />
              <span class="explanation-text">
                In Chrome, right-click the Web Highlights icon in the toolbar
                and choose "Manage extension". Then, for Web Highlights, enable
                "Allow access to file URLs." Finally, re-visit this site.
              </span>
            </div>
            <div class="right">
              <img
                class="allow-local-files"
                alt="Screenshot showing how to allow local files"
                src="http://web-highlights.com/images/chrome-allow-local-files.png"
              />
            </div>
          </div>
        </div>
      </div>
    `}}pN.styles=M`
    ${R(hN)}
  `,function(e,t,i,r){var o,n=arguments.length,a=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(n<3?o(a):n>3?o(t,i,a):o(t,i))||a);n>3&&a&&Object.defineProperty(t,i,a)}([ut()],pN.prototype,"notification",void 0);const gN=a(2450);class fN extends rN{render(){var e;return _e` <span>${null===(e=this.notification)||void 0===e?void 0:e.text}</span> `}}fN.styles=M`
    ${R(gN)}
  `,function(e,t,i,r){var o,n=arguments.length,a=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(n<3?o(a):n>3?o(t,i,a):o(t,i))||a);n>3&&a&&Object.defineProperty(t,i,a)}([ut()],fN.prototype,"notification",void 0);var mN=function(e,t,i,r){var o,n=arguments.length,a=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(n<3?o(a):n>3?o(t,i,a):o(t,i))||a);return n>3&&a&&Object.defineProperty(t,i,a),a};const bN=kv.NotificationsPdf.TAG,yN=a(402);class vN extends rN{constructor(){super(...arguments),this.notification=null,this.slideIn=!1,this.abortClose=!1}setNotification(e){this.abortClose=!1,this.notification=e,this.slideIn=!0,"number"==typeof e.durationInMillis?setTimeout(()=>{this.abortClose||this.closeNotification()},e.durationInMillis):this.abortClose=!0}closeNotification(){this.slideIn=!1,setTimeout(()=>this.notification=null,300)}get renderCloseBtn(){var e;return(null===(e=this.notification)||void 0===e?void 0:e.canClose)?_e`
      <button class="close-btn" @click=${this.closeNotification}>
        <svg
          class="close-icon"
          xmlns="http://www.w3.org/2000/svg"
          width="18"
          height="18"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="feather feather-x"
        >
          <line x1="18" y1="6" x2="6" y2="18"></line>
          <line x1="6" y1="6" x2="18" y2="18"></line>
        </svg>
      </button>
    `:_e``}get notificationContent(){var e;switch(null===(e=this.notification)||void 0===e?void 0:e.type){case"text":return _e`
          <webhighlights-text-notification
            .notification=${this.notification}
          ></webhighlights-text-notification>
        `;case"pdf-local-file-info":return _e`
          <webhighlights-pdf-local-file-info
            .notification=${this.notification}
          ></webhighlights-pdf-local-file-info>
        `;default:return _e``}}get renderedNotification(){return this.style.display=this.notification?"block":"none",this.notification?_e`
      ${this.notificationContent}
      ${this.notification.canClose?this.renderCloseBtn:""}
    `:_e``}render(){var e;return _e`
      <div
        class="notification-wrapper ${this.slideIn?"slide-left":"slide-right"} ${null===(e=this.notification)||void 0===e?void 0:e.type}"
      >
        ${this.renderedNotification}
      </div>
    `}}vN.styles=M`
    ${R(yN)}
  `,mN([ut()],vN.prototype,"notification",void 0),mN([ut()],vN.prototype,"slideIn",void 0),(kg(location.href)||_g(location.href))&&(rN.define(bN,vN),rN.define(kv.PdfLocalFileInfo.TAG,pN),rN.define(kv.TextNotification.TAG,fN));const wN={[kv.BrowserActionMock.TAG]:aN,[kv.NotificationsPdf.TAG]:vN,[kv.KindleImportHelper.TAG]:uN,[kv.YoutubeHighlightButton.TAG]:class extends rN{createRenderRoot(){return this}highlightYoutube(){return function(e,t,i,r){return new(i||(i=Promise))(function(o,n){function a(e){try{l(r.next(e))}catch(e){n(e)}}function s(e){try{l(r.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){Bk.dispatch("openYoutubeVideoInReader",{detail:{url:location.href}})})}render(){return _e`
      <button
        @click=${this.highlightYoutube}
        class="ytp-button"
        title="Highlight video"
        style="display: flex; align-items: center; justify-content: center;"
        aria-label="Highlight video"
        data-title-no-tooltip="Highlight video"
        data-tooltip-title="Highlight video"
      >
        <svg
          style="width: 18px; height: 18px; fill: white;"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 544 512"
        >
          <path
            d="M0 479.98L99.92 512l35.45-35.45-67.04-67.04L0 479.98zm124.61-240.01a36.592 36.592 0 0 0-10.79 38.1l13.05 42.83-50.93 50.94 96.23 96.23 50.86-50.86 42.74 13.08c13.73 4.2 28.65-.01 38.15-10.78l35.55-41.64-173.34-173.34-41.52 35.44zm403.31-160.7l-63.2-63.2c-20.49-20.49-53.38-21.52-75.12-2.35L190.55 183.68l169.77 169.78L530.27 154.4c19.18-21.74 18.15-54.63-2.35-75.13z"
          ></path>
        </svg>
      </button>
    `}},[kv.TextNotification.TAG]:fN,[kv.PdfLocalFileInfo.TAG]:pN},_N=Object.entries(wN).map(([e,t])=>({tagName:e,customElementConstructor:t,options:{lazy:!0}})),TN=e=>"undefined"!=typeof chrome&&chrome.runtime&&"function"==typeof chrome.runtime.getURL?chrome.runtime.getURL(`@webhighlights/shared-components/dist/${e}/index.js`):`./@webhighlights/shared-components/dist/${e}/index.js`,AN={[Sv.Popover.TAG]:()=>import(TN("popover")),[Sv.PdfHint.TAG]:()=>import(TN("pdf-hint")),[Sv.BookmarkDetails.TAG]:()=>import(TN("bookmark-details")),[Sv.Auth.TAG]:()=>import(TN("auth")),[Sv.Avatar.TAG]:()=>import(TN("avatar")),[Sv.Skeleton.TAG]:()=>import(TN("skeleton")),[Sv.BackupOrSyncPrompt.TAG]:()=>import(TN("backup-or-sync-prompt")),[Sv.BlacklistesUrls.TAG]:()=>import(TN("blacklisted-urls")),[Sv.BookmarkPreview.TAG]:()=>import(TN("bookmark-preview")),[Sv.BookmarkPreviewHighlightsNotesInfo.TAG]:()=>import(TN("bookmark-preview-highlights-notes-info")),[Sv.ChangeColorMode.TAG]:()=>import(TN("change-color-mode")),[Sv.ChromeRatingPrompt.TAG]:()=>import(TN("chrome-rating-prompt")),[Sv.ChromeSettings.TAG]:()=>import(TN("chrome-settings")),[Sv.ClipboardButton.TAG]:()=>import(TN("clipboard-button")),[Sv.ColorPicker.TAG]:()=>import(TN("color-picker")),[Sv.DatetimePicker.TAG]:()=>import(TN("datetimepicker")),[Sv.Dialog.TAG]:()=>import(TN("dialog")),[Sv.DotsMenu.TAG]:()=>import(TN("dots-menu")),[Sv.EntityGrid.TAG]:()=>import(TN("entity-grid")),[Sv.FallbackImage.TAG]:()=>import(TN("fallback-img")),[Sv.Favicon.TAG]:()=>import(TN("favicon")),[Sv.HighlighterModeSelector.TAG]:()=>import(TN("highlighter-mode-selector")),[Sv.Icon.TAG]:()=>import(TN("icon")),[Sv.ImageViewer.TAG]:()=>import(TN("image-viewer")),[Sv.LearningBtn.TAG]:()=>import(TN("learning-btn")),[Sv.LearningDashboard.TAG]:()=>import(TN("learning-dashboard")),[Sv.LearningReminder.TAG]:()=>import(TN("learning-reminder")),[Sv.LearningSettings.TAG]:()=>import(TN("learning-settings")),[Sv.LearningStreakOverview.TAG]:()=>import(TN("learning-streak-overview")),[Sv.LegalFooter.TAG]:()=>import(TN("legal-footer")),[Sv.LikeButton.TAG]:()=>import(TN("like-button")),[Sv.LinkPreview.TAG]:()=>import(TN("link-preview")),[Sv.Loading.TAG]:()=>import(TN("loading")),[Sv.LoadingText.TAG]:()=>import(TN("loading-text")),[Sv.Logo.TAG]:()=>import(TN("logo")),[Sv.LogoAnimated.TAG]:()=>import(TN("logo-animated")),[Sv.MarkElement.TAG]:()=>import(TN("mark-element")),[Sv.MarkElementToolbar.TAG]:()=>import(TN("mark-element-toolbar")),[Sv.MarkMediaItem.TAG]:()=>import(TN("mark-media-item")),[Sv.MarkPreview.TAG]:()=>import(TN("mark-preview")),[Sv.MediaTypeDropdown.TAG]:()=>import(TN("media-type-dropdown")),[Sv.MediaTypeDropdownItem.TAG]:()=>import(TN("media-type-dropdown-item")),[Sv.MediaTypeMenu.TAG]:()=>import(TN("media-type-menu")),[Sv.Modal.TAG]:()=>import(TN("modal")),[Sv.NotesEditor.TAG]:()=>import(TN("notes-editor")),[Sv.NotificationsBtn.TAG]:()=>import(TN("notifications-btn")),[Sv.NotificationsList.TAG]:()=>import(TN("notifications-list")),[Sv.PremiumBenefits.TAG]:()=>import(TN("premium-benefits")),[Sv.Pricing.TAG]:()=>import(TN("pricing")),[Sv.RecentColors.TAG]:()=>import(TN("recent-colors")),[Sv.Reminder.TAG]:()=>import(TN("reminder")),[Sv.Search.TAG]:()=>import(TN("search")),[Sv.SearchBar.TAG]:()=>import(TN("searchbar")),[Sv.Settings.TAG]:()=>import(TN("settings")),[Sv.ShareButton.TAG]:()=>import(TN("share-button")),[Sv.SignUpPrompt.TAG]:()=>import(TN("sign-up-prompt")),[Sv.SyncIndicator.TAG]:()=>import(TN("sync-indicator")),[Sv.Tag.TAG]:()=>import(TN("tag")),[Sv.Tags.TAG]:()=>import(TN("tags")),[Sv.TestimonialItem.TAG]:()=>import(TN("testimonial-item")),[Sv.Toasts.TAG]:()=>import(TN("toasts")),[Sv.Tooltip.TAG]:()=>import(TN("tooltip")),[Sv.UpgradeDealPrompt.TAG]:()=>import(TN("upgrade-deal-prompt")),[Sv.UpgradeNeeded.TAG]:()=>import(TN("upgrade-needed")),[Sv.ShareSocial.TAG]:()=>import(TN("share-social")),[Sv.Shortcut.TAG]:()=>import(TN("shortcut")),[Sv.ToggleButton.TAG]:()=>import(TN("toggle-button")),[Sv.AccountInfo.TAG]:()=>import(TN("account-info")),[Sv.DiscountInfo.TAG]:()=>import(TN("discount-info")),[Sv.ExpiryInfo.TAG]:()=>import(TN("expiry-info")),[Sv.Grid.TAG]:()=>import(TN("grid")),[Sv.GridToolbar.TAG]:()=>import(TN("grid-toolbar")),[Sv.Imprint.TAG]:()=>import(TN("imprint")),[Sv.Invoices.TAG]:()=>import(TN("invoices")),[Sv.LobbyContainer.TAG]:()=>import(TN("lobby-container")),[Sv.LobbyContainerExtension.TAG]:()=>import(TN("lobby-container-extension")),[Sv.MarkBlockQuotesTeaser.TAG]:()=>import(TN("mark-blockquotes-teaser")),[Sv.PaymentMethod.TAG]:()=>import(TN("payment-method")),[Sv.PrivacyPolicy.TAG]:()=>import(TN("privacy-policy")),[Sv.ResetPassword.TAG]:()=>import(TN("reset-password")),[Sv.TermsOfService.TAG]:()=>import(TN("terms-of-service")),[Sv.TestimonialsGrid.TAG]:()=>import(TN("testimonials-grid")),[Sv.Reader.TAG]:()=>import(TN("reader")),[Sv.Marker.TAG]:()=>import(TN("marker")),[Sv.PopupToolbox.TAG]:()=>import(TN("popup-toolbox")),[Sv.Sidebar.TAG]:()=>import(TN("sidebar")),[Sv.PageContentPreview.TAG]:()=>import(TN("page-content-preview")),[Sv.DocumentsList.TAG]:()=>import(TN("documents-list")),[Sv.DeleteEntityList.TAG]:()=>import(TN("delete-entity-list")),[Sv.Dropdown.TAG]:()=>import(TN("dropdown")),[Sv.CancelSubscription.TAG]:()=>import(TN("cancel-subscription")),[Sv.SpreadTheWordPrompt.TAG]:()=>import(TN("spread-the-word-prompt")),[Sv.AddContent.TAG]:()=>import(TN("add-content")),[Sv.CreateBookmark.TAG]:()=>import(TN("create-bookmark")),[Sv.ImageWithFallback.TAG]:()=>import(TN("image-with-fallback")),[Sv.AiSummary.TAG]:()=>import(TN("ai-summary")),[Sv.AiSummaryBtn.TAG]:()=>import(TN("ai-summary-btn")),[Sv.YoutubeLoading.TAG]:()=>import(TN("youtube-loading")),[Sv.AiChat.TAG]:()=>import(TN("ai-chat"))},EN=[..._N,...Object.entries(AN).map(([e,t])=>({tagName:e,defineFn:t}))];function kN(e){const t=e.tagName,i=function(e){var t;return null!==(t=EN.find(t=>t.tagName===e))&&void 0!==t?t:null}(t);var r;i?("object"==typeof(r=i)&&wN[r.tagName]&&Lx(i.tagName,i.customElementConstructor,Object.assign(Object.assign({},i.options),e.options)),function(e){return"object"==typeof e&&!!AN[e.tagName]}(i)&&i.defineFn()):console.error(" Component not found:",t)}const SN=[Sv.Marker.TAG,Sv.Dropdown.TAG,Sv.PopupToolbox.TAG,Sv.Dialog.TAG,kv.NotificationsPdf.TAG,kv.TextNotification.TAG,Sv.Sidebar.TAG,Sv.Toasts.TAG,Sv.PdfHint.TAG,Sv.Reader.TAG,Sv.Icon.TAG];var xN=a(9773),CN=a.n(xN);function IN(){fk().serverConfigService.getConfig().then(e=>{if(!e.isYoutubeControlEnabled)return;if(document.querySelector(kv.YoutubeHighlightButton.TAG))return;kN({tagName:kv.YoutubeHighlightButton.TAG,options:{lazy:!1}});const t=document.createElement(kv.YoutubeHighlightButton.TAG);t.classList.add("ytp-button"),t.setAttribute("title","Highlight video");const i=document.querySelector(".ytp-right-controls");i&&i.insertAdjacentHTML("afterbegin",t.outerHTML)})}function NN(){return function(e,t,i,r){return new(i||(i=Promise))(function(o,n){function a(e){try{l(r.next(e))}catch(e){n(e)}}function s(e){try{l(r.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){const e=yield Rp.getChromeSettings(),t=tf(location.href,e.blacklistedUrls);vd(e.preferredColorMode),nu(e.sidebarOptions),Rk();const i=!t;return Hf(location.href)?(_u(),{isExtensionShown:i,shouldInitMarker:!1}):(Xf(location.href)&&IN(),QI.appType===Sc.reader||QI.appType===Sc.youtubeHighlighter?{isExtensionShown:!0,shouldInitMarker:!1}:(hu({isBlacklisted:t}),i&&(mu(),Rk(),vu()),{isExtensionShown:i,shouldInitMarker:!t}))})}var DN=function(e,t,i,r){return new(i||(i=Promise))(function(o,n){function a(e){try{l(r.next(e))}catch(e){n(e)}}function s(e){try{l(r.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})};let ON=!1;const LN=function(){var e,t;if("undefined"==typeof window)throw new Error("Cannot use 'db' on server...");return(null===(t=null===(e=null===window||void 0===window?void 0:window.location)||void 0===e?void 0:e.origin)||void 0===t?void 0:t.startsWith("http://localhost:"))?new LA(indexedDB):new qc}(),PN={equals:(e,t)=>e===t};let RN=aD;const MN=1,BN=2,UN={owned:null,cleanups:null,context:null,owner:null};var $N=null;let GN=null,FN=null,HN=null,zN=null,jN=0;function VN(e,t){const i={value:e,observers:null,observerSlots:null,comparator:(t=t?Object.assign({},PN,t):PN).equals||void 0};return[eD.bind(i),e=>("function"==typeof e&&(e=e(i.value)),tD(i,e))]}function WN(e,t,i){iD(rD(e,t,!1,MN))}function qN(e,t,i){RN=sD;const r=rD(e,t,!1,MN);r.user=!0,zN?zN.push(r):iD(r)}function YN(e,t,i){i=i?Object.assign({},PN,i):PN;const r=rD(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=i.equals||void 0,iD(r),eD.bind(r)}function KN(e){if(null===FN)return e();const t=FN;FN=null;try{return e()}finally{FN=t}}function XN(e){qN(()=>KN(e))}function JN(e){return null===$N||(null===$N.cleanups?$N.cleanups=[e]:$N.cleanups.push(e)),e}function ZN(e){let t;return $N&&$N.context&&void 0!==(t=$N.context[e.id])?t:e.defaultValue}function QN(e){const t=YN(e),i=YN(()=>hD(t()));return i.toArray=()=>{const e=i();return Array.isArray(e)?e:null!=e?[e]:[]},i}function eD(){if(this.sources&&this.state)if(this.state===MN)iD(this);else{const e=HN;HN=null,nD(()=>lD(this),!1),HN=e}if(FN){const e=this.observers?this.observers.length:0;FN.sources?(FN.sources.push(this),FN.sourceSlots.push(e)):(FN.sources=[this],FN.sourceSlots=[e]),this.observers?(this.observers.push(FN),this.observerSlots.push(FN.sources.length-1)):(this.observers=[FN],this.observerSlots=[FN.sources.length-1])}return this.value}function tD(e,t,i){let r=e.value;return e.comparator&&e.comparator(r,t)||(e.value=t,e.observers&&e.observers.length&&nD(()=>{for(let t=0;t<e.observers.length;t+=1){const i=e.observers[t],r=GN&&GN.running;r&&GN.disposed.has(i),(r?i.tState:i.state)||(i.pure?HN.push(i):zN.push(i),i.observers&&cD(i)),r||(i.state=MN)}if(HN.length>1e6)throw HN=[],new Error},!1)),t}function iD(e){if(!e.fn)return;dD(e);const t=jN;!function(e,t,i){let r;const o=$N,n=FN;FN=$N=e;try{r=e.fn(t)}catch(t){return e.pure&&(e.state=MN,e.owned&&e.owned.forEach(dD),e.owned=null),e.updatedAt=i+1,uD(t)}finally{FN=n,$N=o}(!e.updatedAt||e.updatedAt<=i)&&(null!=e.updatedAt&&"observers"in e?tD(e,r):e.value=r,e.updatedAt=i)}(e,e.value,t)}function rD(e,t,i,r=MN,o){const n={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:$N,context:$N?$N.context:null,pure:i};return null===$N||$N!==UN&&($N.owned?$N.owned.push(n):$N.owned=[n]),n}function oD(e){if(0===e.state)return;if(e.state===BN)return lD(e);if(e.suspense&&KN(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<jN);)e.state&&t.push(e);for(let i=t.length-1;i>=0;i--)if((e=t[i]).state===MN)iD(e);else if(e.state===BN){const i=HN;HN=null,nD(()=>lD(e,t[0]),!1),HN=i}}function nD(e,t){if(HN)return e();let i=!1;t||(HN=[]),zN?i=!0:zN=[],jN++;try{const t=e();return function(e){if(HN&&(aD(HN),HN=null),e)return;const t=zN;zN=null,t.length&&nD(()=>RN(t),!1)}(i),t}catch(e){i||(zN=null),HN=null,uD(e)}}function aD(e){for(let t=0;t<e.length;t++)oD(e[t])}function sD(e){let t,i=0;for(t=0;t<e.length;t++){const r=e[t];r.user?e[i++]=r:oD(r)}for(t=0;t<i;t++)oD(e[t])}function lD(e,t){e.state=0;for(let i=0;i<e.sources.length;i+=1){const r=e.sources[i];if(r.sources){const e=r.state;e===MN?r!==t&&(!r.updatedAt||r.updatedAt<jN)&&oD(r):e===BN&&lD(r,t)}}}function cD(e){for(let t=0;t<e.observers.length;t+=1){const i=e.observers[t];i.state||(i.state=BN,i.pure?HN.push(i):zN.push(i),i.observers&&cD(i))}}function dD(e){let t;if(e.sources)for(;e.sources.length;){const t=e.sources.pop(),i=e.sourceSlots.pop(),r=t.observers;if(r&&r.length){const e=r.pop(),o=t.observerSlots.pop();i<r.length&&(e.sourceSlots[o]=i,r[i]=e,t.observerSlots[i]=o)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)dD(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)dD(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function uD(e,t=$N){const i=function(e){return e instanceof Error?e:new Error("string"==typeof e?e:"Unknown error",{cause:e})}(e);throw i}function hD(e){if("function"==typeof e&&!e.length)return hD(e());if(Array.isArray(e)){const t=[];for(let i=0;i<e.length;i++){const r=hD(e[i]);Array.isArray(r)?t.push.apply(t,r):t.push(r)}return t}return e}function pD(e,t){return function(t){let i;return WN(()=>i=KN(()=>($N.context={...$N.context,[e]:t.value},QN(()=>t.children))),void 0),i}}function gD(e,t){return KN(()=>e(t||{}))}function fD(e){const t=e.keyed,i=YN(()=>e.when,void 0,{equals:(e,i)=>t?e===i:!e==!i});return YN(()=>{const r=i();if(r){const o=e.children;return"function"==typeof o&&o.length>0?KN(()=>o(t?r:()=>{if(!KN(i))throw"Stale read from <Show>.";return e.when})):o}return e.fallback},void 0,void 0)}const mD="_$DX_DELEGATE";function bD(e,t,i){let r;const o=()=>(r||(r=(()=>{const t=document.createElement("template");return t.innerHTML=e,t.content.firstChild})())).cloneNode(!0);return o.cloneNode=o,o}function yD(e,t=window.document){const i=t[mD]||(t[mD]=new Set);for(let r=0,o=e.length;r<o;r++){const o=e[r];i.has(o)||(i.add(o),t.addEventListener(o,AD))}}function vD(e,t,i){null==i?e.removeAttribute(t):e.setAttribute(t,i)}function wD(e,t,i){if(!t)return i?vD(e,"style"):t;const r=e.style;if("string"==typeof t)return r.cssText=t;let o,n;for(n in"string"==typeof i&&(r.cssText=i=void 0),i||(i={}),t||(t={}),i)null==t[n]&&r.removeProperty(n),delete i[n];for(n in t)o=t[n],o!==i[n]&&(r.setProperty(n,o),i[n]=o);return i}function _D(e,t,i){return KN(()=>e(t,i))}function TD(e,t,i,r){if(void 0===i||r||(r=[]),"function"!=typeof t)return ED(e,t,r,i);WN(r=>ED(e,t(),r,i),r)}function AD(e){let t=e.target;const i=`$$${e.type}`,r=e.target,o=e.currentTarget,n=t=>Object.defineProperty(e,"target",{configurable:!0,value:t}),a=()=>{const r=t[i];if(r&&!t.disabled){const o=t[`${i}Data`];if(void 0!==o?r.call(t,o,e):r.call(t,e),e.cancelBubble)return}return t.host&&"string"!=typeof t.host&&!t.host._$host&&t.contains(e.target)&&n(t.host),!0},s=()=>{for(;a()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get:()=>t||document}),e.composedPath){const i=e.composedPath();n(i[0]);for(let e=0;e<i.length-2&&(t=i[e],a());e++){if(t._$host){t=t._$host,s();break}if(t.parentNode===o)break}}else s();n(r)}function ED(e,t,i,r,o){for(;"function"==typeof i;)i=i();if(t===i)return i;const n=typeof t,a=void 0!==r;if(e=a&&i[0]&&i[0].parentNode||e,"string"===n||"number"===n){if("number"===n&&(t=t.toString())===i)return i;if(a){let o=i[0];o&&3===o.nodeType?o.data!==t&&(o.data=t):o=document.createTextNode(t),i=xD(e,i,r,o)}else i=""!==i&&"string"==typeof i?e.firstChild.data=t:e.textContent=t}else if(null==t||"boolean"===n)i=xD(e,i,r);else{if("function"===n)return WN(()=>{let o=t();for(;"function"==typeof o;)o=o();i=ED(e,o,i,r)}),()=>i;if(Array.isArray(t)){const n=[],s=i&&Array.isArray(i);if(kD(n,t,i,o))return WN(()=>i=ED(e,n,i,r,!0)),()=>i;if(0===n.length){if(i=xD(e,i,r),a)return i}else s?0===i.length?SD(e,n,r):function(e,t,i){let r=i.length,o=t.length,n=r,a=0,s=0,l=t[o-1].nextSibling,c=null;for(;a<o||s<n;)if(t[a]!==i[s]){for(;t[o-1]===i[n-1];)o--,n--;if(o===a){const t=n<r?s?i[s-1].nextSibling:i[n-s]:l;for(;s<n;)e.insertBefore(i[s++],t)}else if(n===s)for(;a<o;)c&&c.has(t[a])||t[a].remove(),a++;else if(t[a]===i[n-1]&&i[s]===t[o-1]){const r=t[--o].nextSibling;e.insertBefore(i[s++],t[a++].nextSibling),e.insertBefore(i[--n],r),t[o]=i[n]}else{if(!c){c=new Map;let e=s;for(;e<n;)c.set(i[e],e++)}const r=c.get(t[a]);if(null!=r)if(s<r&&r<n){let l,d=a,u=1;for(;++d<o&&d<n&&null!=(l=c.get(t[d]))&&l===r+u;)u++;if(u>r-s){const o=t[a];for(;s<r;)e.insertBefore(i[s++],o)}else e.replaceChild(i[s++],t[a++])}else a++;else t[a++].remove()}}else a++,s++}(e,i,n):(i&&xD(e),SD(e,n));i=n}else if(t.nodeType){if(Array.isArray(i)){if(a)return i=xD(e,i,r,t);xD(e,i,null,t)}else null!=i&&""!==i&&e.firstChild?e.replaceChild(t,e.firstChild):e.appendChild(t);i=t}}return i}function kD(e,t,i,r){let o=!1;for(let n=0,a=t.length;n<a;n++){let a,s=t[n],l=i&&i[e.length];if(null==s||!0===s||!1===s);else if("object"==(a=typeof s)&&s.nodeType)e.push(s);else if(Array.isArray(s))o=kD(e,s,l)||o;else if("function"===a)if(r){for(;"function"==typeof s;)s=s();o=kD(e,Array.isArray(s)?s:[s],Array.isArray(l)?l:[l])||o}else e.push(s),o=!0;else{const t=String(s);l&&3===l.nodeType&&l.data===t?e.push(l):e.push(document.createTextNode(t))}}return o}function SD(e,t,i=null){for(let r=0,o=t.length;r<o;r++)e.insertBefore(t[r],i)}function xD(e,t,i,r){if(void 0===i)return e.textContent="";const o=r||document.createTextNode("");if(t.length){let r=!1;for(let n=t.length-1;n>=0;n--){const a=t[n];if(o!==a){const t=a.parentNode===e;r||n?t&&a.remove():t?e.replaceChild(o,a):e.insertBefore(o,i)}else r=!0}}else e.insertBefore(o,i);return[o]}const CD=function(){const e=Symbol("context");return{id:e,Provider:pD(e),defaultValue:()=>({translate:e=>"",getAllCharities:()=>[]})}}(),ID=CD,ND=()=>{const e=ZN(CD)();if(!e)throw new Error("Content provider context is undefined");return()=>e.getAllCharities()},DD={top:"50px",left:"calc(100% - 700px)",margin:"0",width:"640px",padding:"2px 5px","background-color":"white",border:"none","border-radius":"24px","box-shadow":"0px 4px 44px rgba(0, 0, 0, 0.25)","font-family":"Arial","line-height":"1","vertical-align":"baseline","box-sizing":"border-box",color:"rgb(34, 34, 34)","@media (max-width: 600px), (max-height: 480px)":{display:"none !important"}},OD={height:"100%","overflow-x":"hidden","overlfow-y":"auto",position:"relative",padding:"0px 15px"},LD={},PD={display:"flex","flex-direction":"column-reverse","align-items":"center","margin-bottom":"10px"},RD={flex:"1","font-size":"24px","font-weight":"700","margin-top":"5px","margin-bottom":"0px"},MD={background:"none",border:"none",padding:"4px 8px",color:"#666464","font-size":"38px",cursor:"pointer","line-height":"1"},BD={color:"#707070","align-self":"flex-end","margin-top":"5px","max-width":"40%"},UD={color:"#707070",cursor:"default","pointer-events":"none","text-decoration":"none"},$D={"font-size":"18px","font-weight":"400","margin-top":"0px","margin-bottom":"0px"},GD={display:"flex",gap:"10px",width:"100%","margin-top":"20px","margin-bottom":"20px","flex-wrap":"wrap","justify-content":"space-between"},FD={width:"30%",position:"relative",display:"flex","flex-direction":"column","align-items":"center",background:"none",border:"1px solid #ccc","border-radius":"5px",padding:"5px",gap:"5px","text-align":"center","font-size":"14px",cursor:"pointer",transition:"background-color 0.2s ease"},HD={color:"white","background-color":"lightgray",cursor:"default","pointer-events":"none"},zD={"max-width":"120px","max-height":"70px","margin-bottom":"5px","object-fit":"contain"},jD={"background-color":"#0052FF",cursor:"pointer","border-radius":"32px",padding:"8px",color:"white","min-width":"100px",border:"0","font-weight":"600",width:"120px"},VD={display:"flex","flex-direction":"column",gap:"10px",width:"100%","color-scheme":"light"},WD={display:"flex","align-items":"center",gap:"5px",border:"1px solid #ddd",padding:"15px","border-radius":"5px","font-weight":"600",cursor:"pointer","margin-bottom":"8px"},qD={"text-align":"right"},YD={background:"none",border:"none",color:"blue","text-decoration":"underline",padding:"0",cursor:"pointer","margin-bottom":"15px"},KD={display:"flex","justify-content":"space-between",margin:"20px 0px 10px 0px","font-size":"14px"},XD={margin:"5px 0px 5px 0px","font-size":"14px","text-align":"center"},JD={color:"#666464","text-decoration":"underline"},ZD={color:"rgb(102, 100, 100)","text-decoration":"underline",margin:"0",cursor:"pointer"},QD={width:"100%","background-color":"#f2f2f2",border:"1px solid black","border-radius":"10px","border-top":"1px solid #bbb7b7","margin-top":"10px","margin-bottom":"20px","box-sizing":"border-box"},eO={padding:"0 5px 0 10px",width:"100%","font-size":"12px","box-sizing":"border-box"},tO={display:"grid","grid-template-columns":"4fr 1fr","padding-right":"15px","padding-bottom":"5px"},iO={color:"#000","margin-bottom":"4px"},rO={"font-size":"14px",color:"#555","text-align":"right"},oO=(e,t)=>{let i=parseFloat(t);return"FLAT"===e&&(i*=.75),((e,t)=>{let i=parseFloat(t);return i<1&&(i=1),i=Math.floor(i),"PERCENTAGE"===e?`${i}%`:`$${i}`})(e,i.toString())};var nO=bD("<span>");function aO(e){return t=nO(),WN(()=>{return t.innerHTML=(i=e.title,r=e.activeDomain,i.replace("{0}",oO(r.Merchant.MaxRate?.Kind,r.Merchant.MaxRate?.Amount??"0")));var i,r}),t;var t}const sO=()=>{const e=ZN(ID)();if(!e)throw new Error("Content provider context is undefined");return t=>e.translate(t)};class lO{static formatMessage(e,...t){return e.replace(/{(\d+)}/g,(e,i)=>{const r=Number(i);return void 0!==t[r]?String(t[r]):`{${r}}`})}}var cO=bD("<div>"),dO=bD("<div><div class=gf-offer-details><p><span></span></p><p><span></span></p><p><span></span></p><p><span></span></p><p><span></span></p><p><a target=_blank rel=noreferrer><span>"),uO=bD("<div class=gf-offer-details-rate-item><div></div><div>");const hO=e=>{const t=sO();return i=dO(),o=(r=i.firstChild).firstChild,n=o.firstChild,a=o.nextSibling,s=a.firstChild,l=a.nextSibling,c=l.firstChild,d=l.nextSibling,u=d.firstChild,h=d.nextSibling,p=h.firstChild,g=h.nextSibling.firstChild,f=g.firstChild,TD(r,gD(fD,{get when(){return!!e.merchantRateDetail?.length},get children(){var t=cO();return TD(t,()=>e.merchantRateDetail?.map(e=>{return t=uO(),i=t.firstChild,r=i.nextSibling,TD(i,()=>e.Name||""),TD(r,()=>((e,t=1,i=1)=>{const r=e.BoostedOffer??null;let o=parseFloat(e?.Amount??"");if(r?.EndDate&&new Date(r.EndDate)<new Date&&(o=parseFloat(r.OriginalMaxRate)),Number.isNaN(o))return"";const n=o*t;return"PERCENTAGE"===e?.Kind?`${n.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:i})}%`:"FLAT"===e?.Kind?n.toLocaleString("en-US",{style:"currency",currency:e.Currency}):""})(e)),WN(e=>{var o=tO,n=iO,a=rO;return e.e=wD(t,o,e.e),e.t=wD(i,n,e.t),e.a=wD(r,a,e.a),e},{e:void 0,t:void 0,a:void 0}),t;var t,i,r})),t}}),d),WN(o=>{var a=QD,l=eO,d=t("offerDetails.intro"),h=t("offerDetails.eligible"),m=e.parsedMaxRate?lO.formatMessage(t("offerDetails.donationRatesWithValue"),e.parsedMaxRate):lO.formatMessage(t("offerDetails.donationRates")),b=t("offerDetails.donationAmounts"),y=t("offerDetails.donationTiming"),v=JD,w=e.termsUrl,_=t("offerDetails.termsAndConditions");return o.e=wD(i,a,o.e),o.t=wD(r,l,o.t),d!==o.a&&(n.innerHTML=o.a=d),h!==o.o&&(s.innerHTML=o.o=h),m!==o.i&&(c.innerHTML=o.i=m),b!==o.n&&(u.innerHTML=o.n=b),y!==o.s&&(p.innerHTML=o.s=y),o.h=wD(g,v,o.h),w!==o.r&&vD(g,"href",o.r=w),_!==o.d&&(f.innerHTML=o.d=_),o},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0}),i;var i,r,o,n,a,s,l,c,d,u,h,p,g,f};"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==a.g?a.g:"undefined"!=typeof self&&self;var pO={exports:{}};"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,function(e){if(!(globalThis.chrome&&globalThis.chrome.runtime&&globalThis.chrome.runtime.id))throw new Error("This script should only be loaded in a browser extension.");if(globalThis.browser&&globalThis.browser.runtime&&globalThis.browser.runtime.id)e.exports=globalThis.browser;else{const t="The message port closed before a response was received.",i=e=>{const i={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(i).length)throw new Error("api-metadata.json has not been included in browser-polyfill");class r extends WeakMap{constructor(e,t=void 0){super(t),this.createItem=e}get(e){return this.has(e)||this.set(e,this.createItem(e)),super.get(e)}}const o=(t,i)=>(...r)=>{e.runtime.lastError?t.reject(new Error(e.runtime.lastError.message)):i.singleCallbackArg||r.length<=1&&!1!==i.singleCallbackArg?t.resolve(r[0]):t.resolve(r)},n=e=>1==e?"argument":"arguments",a=(e,t,i)=>new Proxy(t,{apply:(t,r,o)=>i.call(r,e,...o)});let s=Function.call.bind(Object.prototype.hasOwnProperty);const l=(e,t={},i={})=>{let r=Object.create(null),c={has:(t,i)=>i in e||i in r,get(c,d,u){if(d in r)return r[d];if(!(d in e))return;let h=e[d];if("function"==typeof h)if("function"==typeof t[d])h=a(e,e[d],t[d]);else if(s(i,d)){let t=((e,t)=>function(i,...r){if(r.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${n(t.minArgs)} for ${e}(), got ${r.length}`);if(r.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${n(t.maxArgs)} for ${e}(), got ${r.length}`);return new Promise((n,a)=>{if(t.fallbackToNoCallback)try{i[e](...r,o({resolve:n,reject:a},t))}catch(o){console.warn(`${e} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,o),i[e](...r),t.fallbackToNoCallback=!1,t.noCallback=!0,n()}else t.noCallback?(i[e](...r),n()):i[e](...r,o({resolve:n,reject:a},t))})})(d,i[d]);h=a(e,e[d],t)}else h=h.bind(e);else if("object"==typeof h&&null!==h&&(s(t,d)||s(i,d)))h=l(h,t[d],i[d]);else{if(!s(i,"*"))return Object.defineProperty(r,d,{configurable:!0,enumerable:!0,get:()=>e[d],set(t){e[d]=t}}),h;h=l(h,t[d],i["*"])}return r[d]=h,h},set:(t,i,o,n)=>(i in r?r[i]=o:e[i]=o,!0),defineProperty:(e,t,i)=>Reflect.defineProperty(r,t,i),deleteProperty:(e,t)=>Reflect.deleteProperty(r,t)},d=Object.create(e);return new Proxy(d,c)},c=e=>({addListener(t,i,...r){t.addListener(e.get(i),...r)},hasListener:(t,i)=>t.hasListener(e.get(i)),removeListener(t,i){t.removeListener(e.get(i))}}),d=new r(e=>"function"!=typeof e?e:function(t){const i=l(t,{},{getContent:{minArgs:0,maxArgs:0}});e(i)}),u=new r(e=>"function"!=typeof e?e:function(t,i,r){let o,n,a=!1,s=new Promise(e=>{o=function(t){a=!0,e(t)}});try{n=e(t,i,o)}catch(e){n=Promise.reject(e)}const l=!0!==n&&(c=n)&&"object"==typeof c&&"function"==typeof c.then;var c;return!(!0!==n&&!l&&!a||((l?n:s).then(e=>{r(e)},e=>{let t;t=e&&(e instanceof Error||"string"==typeof e.message)?e.message:"An unexpected error occurred",r({__mozWebExtensionPolyfillReject__:!0,message:t})}).catch(e=>{console.error("Failed to send onMessage rejected reply",e)}),0))}),h=({reject:i,resolve:r},o)=>{e.runtime.lastError?e.runtime.lastError.message===t?r():i(new Error(e.runtime.lastError.message)):o&&o.__mozWebExtensionPolyfillReject__?i(new Error(o.message)):r(o)},p=(e,t,i,...r)=>{if(r.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${n(t.minArgs)} for ${e}(), got ${r.length}`);if(r.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${n(t.maxArgs)} for ${e}(), got ${r.length}`);return new Promise((e,t)=>{const o=h.bind(null,{resolve:e,reject:t});r.push(o),i.sendMessage(...r)})},g={devtools:{network:{onRequestFinished:c(d)}},runtime:{onMessage:c(u),onMessageExternal:c(u),sendMessage:p.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:p.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},f={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return i.privacy={network:{"*":f},services:{"*":f},websites:{"*":f}},l(e,g,i)};e.exports=i(chrome)}}(pO);var gO,fO,mO=function(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}(pO.exports);class bO{constructor(){this.isLocal=!0}log({level:e,message:t,timestamp:i,data:r,title:o}){let n;switch(e){case"debug":default:n="log";break;case"info":n="info";break;case"warn":n="warn";break;case"error":case"critical":case"fatal":n="error"}const a=o?`[${o}]`:"";void 0!==r?console[n](`[${i}] - ${bO.LOGGER_PREFIX} ${a} ${t}`,r):console[n](`[${i}] - ${bO.LOGGER_PREFIX} ${a} ${t}`)}}bO.LOGGER_PREFIX="[GFAdUnit] -",function(e){e.checkoutPopupShown="CHECKOUT-POPUP-SHOWN",e.checkoutPopupNotShown="CHECKOUT-POPUP-NOT-SHOWN",e.checkoutPopupSupressed="CHECKOUT-POPUP-SUPRESSED",e.checkoutPopupDonation="CHECKOUT-POPUP-DONATION",e.checkoutPopupFailedActivation="CHECKOUT-POPUP-FAILED-ACTIVATION",e.checkoutPopupPurchaseConfirmed="CHECKOUT-POPUP-PURCHASE-CONFIRMED",e.checkoutPopupHealthCheck="CHECKOUT-POPUP-HEALTH-CHECK",e.checkouPopupActivationFailed="CHECKOUT-POPUP-ACTIVATION-FAILED",e.checkoutPopupOfferDetailsClicked="CHECKOUT-POPUP-OFFER-DETAILS-CLICKED",e.checkoutPopupWhyAmISeeingThisClicked="CHECKOUT-POPUP-WHY-AM-I-SEEING-THIS-CLICKED",e.checkoutPopupLooserExtension="CHECKOUT-POPUP-LOOSER-EXTENSION",e.checkoutPopupActiveDomain="CHECKOUT-POPUP-ACTIVE-DOMAIN",e.checkoutPopupSiteMatches="CHECKOUT-POPUP-SITE-MATCHES",e.checkoutPopupMerchantInResultsFound="CHECKOUT-MERCHANT-IN-RESULTS-FOUND"}(gO||(gO={})),function(e){e.adUnitLog="ADUNIT-LOG"}(fO||(fO={}));const yO=["debug","info","warn","error","critical","fatal"];class vO{constructor(e){this.config={minLevel:e?.minLevel??"debug",enabled:e?.enabled??!1,transports:e?.transports??[new bO],title:e?.title??""}}static getInstance(e){return vO.instance||(vO.instance=new vO(e)),vO.instance}configure(e){this.config={...this.config,...e}}shouldLog(e){return!!this.config.enabled&&yO.indexOf(e)>=yO.indexOf(this.config.minLevel)}createLogMessage(e,t,i){return{level:e,version:"1.17.0",message:t,timestamp:(new Date).toISOString(),data:i,title:this.config.title}}log(e,t,i,r){if(!this.shouldLog(e))return;const o=this.createLogMessage(e,t,r);this.config.transports.filter(e=>!i||e.isLocal).forEach(e=>e.log(o))}debug(e,t,i=!1){this.log("debug",e,i,t)}info(e,t,i=!1){this.log("info",e,i,t)}warn(e,t,i=!1){this.log("warn",e,i,t)}error(e,t,i=!1){this.log("error",e,i,t)}critical(e,t,i=!1){this.log("critical",e,i,t)}fatal(e,t,i=!1){this.log("fatal",e,i,t)}addTransport(e){this.config.transports.push(e)}clearTransports(){this.config.transports=[]}disable(){this.config.enabled=!1}enable(){this.config.enabled=!0}}const wO=3,_O=e=>1e3*e,TO=mO;async function AO(e,t){return await TO.runtime.sendMessage(e)}async function EO(e,t,i){return async function(e,t={}){const{maxAttempts:i=wO,delayFn:r=_O}=t;let o=null;for(let t=1;t<=i;t+=1)try{return await e()}catch(e){o=e,t<i&&await new Promise(e=>{setTimeout(e,r(t))})}throw o&&t.logger&&t.operationName&&t.logger.error(`Operation ${t.operationName} failed after ${i} attempts.`,o,!0),o||new Error("Operation failed after multiple attempts")}(()=>AO(e),{maxAttempts:wO,delayFn:_O})}const kO="countryCode",SO="gf_ad_event_history",xO={ein:"0",tpi:"0"},CO="GIVE_FREELY_",IO={async get(e){const t=`${CO}${e}`;return(await mO.storage.local.get(t))[t]||null},async set(e,t){const i=`${CO}${e}`;await mO.storage.local.set({[i]:t})},async remove(e){const t=Array.isArray(e)?e.map(e=>`${CO}${e}`):`${CO}${e}`;await mO.storage.local.remove(t)}},NO=()=>String("1.17.0");class DO{constructor(e,t,i,r=60){this.track=async(e,t,i,r=!1,o=!1)=>{const n={partner:`adUnit_${this._partnerApiKey}`,eventType:e,eventData:{userId:r?void 0:this._userService?.user?.id,libVersion:NO(),wfDeviceId:t,...i}};try{const e=JSON.stringify(n,(e,t)=>t instanceof Error?{name:t.name,message:t.message,stack:t.stack}:t),t=await this.getEventsUrl();return t?await this.BroadcastEvent(t,e,n,o):(this._logger.info("Cant broadcast event. eventsUrl cant be retrieved from config",n,!0),!1)}catch(e){return this._logger.error("Something unexpected happened when dispatching a gf event",{error:e,event:n},!0),!1}},this.getEventsHistory=async()=>{const e=await IO.get(SO),t=(e=>{const t=new Date;return t.setTime(t.getTime()+60*e*1e3),t.getTime()})(-this._debounceWindowInMinutes),i=(e||[]).filter(e=>e.createdAt>t);return await IO.set(SO,i),i},this.shouldBroadcastEvent=async(e,t)=>!!t||!(await this.getEventsHistory()).some(t=>t.payload===e),this.pushEventToHistory=async e=>{const t=await this.getEventsHistory();t.push({createdAt:Date.now(),payload:e}),await IO.set(SO,t)},this._partnerApiKey=e,this._userService=t,this._debounceWindowInMinutes=r,this._logger=vO.getInstance({title:"Analytics"}),this._configService=i}async BroadcastEvent(e,t,i,r){if(await this.shouldBroadcastEvent(t,r)){const r=await fetch(e,{headers:{"Content-Type":"application/json"},method:"POST",body:t,cache:"no-store"});return r.ok?(await this.pushEventToHistory(t),!0):(this._logger.error("Something unexpected happened when dispatching an event",{status:r.status,statusText:r.statusText,event:i},!0),!1)}return this._logger.info("This event has already been broadcasted during the past hour",i,!0),!1}async getEventsUrl(){const e=await this._configService.getCachedConfig();return e?.eventsUrl}}function OO(e,t,i){return e?{...t,...i}:t}DO.trackEvent=async(e,t,i=!1,r=!1)=>{await AO({type:"GF_TRACK_EVENT",payload:{eventType:e,eventData:t,anonymous:i,skipThrottling:r}})};var LO=bD("<a href=#!>"),PO=bD("<button class=give-freely-close-button aria-label=Close>"),RO=bD('<div><div><div></div></div><div></div><div><div><div><span></span></div><button aria-label="Don\'t show again"><span></span></button></div></div><div><p><span></span></p><a class=give-freely-footer-link target=_blank rel="noopener noreferrer"><span>'),MO=bD("<div><div><img><span></span></div><button><span>"),BO=bD("<div>"),UO=bD("<div><span>");const $O=e=>({hasBackdrop:!!e.containerStyle?.backdropColor||!!e.containerStyle?.showAsModal,clickAction:e.containerStyle?.clickAction??"hide-opacity"});function GO(e){const[t,i]=VN(!1),[r,o]=VN(null),n=t=>{const{hasBackdrop:i,clickAction:r}=$O(e.checkoutPopupConf);i&&"donate"===r&&t.stopPropagation()},a=()=>{const{hasBackdrop:t,clickAction:i}=$O(e.checkoutPopupConf);t&&"ignore"!==i&&("donate"===i?c(xO,!0):e.setBackdropHidden(!0))};qN(()=>{window.addEventListener("click",a),e.mainContainerRef?.addEventListener("click",n),JN(()=>{setTimeout(()=>{window.removeEventListener("click",a),e.mainContainerRef?.removeEventListener("click",n)},500)})});const s=sO(),l=ND();qN(()=>{t()&&e.mainContainerRef&&e.mainContainerRef.scroll({top:e.mainContainerRef.scrollHeight,behavior:"smooth"})}),qN(()=>{const t=r();t&&e.onCharitySelect(t.charity,t.closeOnDonation?e.checkoutPopupConf.checkoutPopupActivateAndCloseSkipSuccess:void 0)});const c=(e,t)=>o({charity:e,closeOnDonation:t}),d=()=>!!r()?.charity;return[(h=RO(),p=h.firstChild,g=p.firstChild,f=p.nextSibling,m=f.nextSibling,b=m.firstChild,y=b.firstChild,v=y.firstChild,w=y.nextSibling,_=w.firstChild,T=m.nextSibling,A=T.firstChild,E=A.firstChild,k=A.nextSibling,S=k.firstChild,TD(p,gD(fD,{get when(){return e.checkoutPopupConf.checkoutPopupActivateAndClose},get children(){var e=LO();return e.$$click=()=>c(xO,!0),WN(t=>{var i=OO(d(),BD,UD),r=s("main.activateAndClose.v2");return t.e=wD(e,i,t.e),r!==t.t&&(e.innerHTML=t.t=r),t},{e:void 0,t:void 0}),e}}),null),TD(p,gD(fD,{get when(){return e.checkoutPopupConf.checkoutPopupMainCloseButtonVisible&&!e.checkoutPopupConf.checkoutPopupActivateAndClose},get children(){var t=PO();return t.$$click=()=>e.onClose(),WN(e=>wD(t,MD,e)),t}}),null),TD(f,gD(aO,{get title(){return s("main.subTitle.v2")},get activeDomain(){return e.activeDomain}})),TD(m,()=>l().reduce((t,i)=>{var r,o,n,a,l,u,h;return i?.title&&""!==i?.title?t.push((n=(o=MO()).firstChild,a=n.firstChild,l=a.nextSibling,u=n.nextSibling,h=u.firstChild,o.$$click=()=>!d()&&c(i),TD(o,(r=YN(()=>!!(i.decorator&&i.decoratorLeftStyle&&i.decoratorRightStyle)),()=>{return r()&&[(t=BO(),WN(e=>{var r=i.decoratorLeftStyle,o=i.decorator;return e.e=wD(t,r,e.e),o!==e.t&&(t.innerHTML=e.t=o),e},{e:void 0,t:void 0}),t),(e=BO(),WN(t=>{var r=i.decoratorRightStyle,o=i.decorator;return t.e=wD(e,r,t.e),o!==t.t&&(e.innerHTML=t.t=o),t},{e:void 0,t:void 0}),e)];var e,t}),n),n.style.setProperty("height","100px"),n.style.setProperty("text-align","center"),n.style.setProperty("display","flex"),n.style.setProperty("flex-direction","column"),n.style.setProperty("align-items","center"),n.style.setProperty("gap","7px"),WN(t=>{var r=OO(d(),FD,{cursor:"default"}),n=i.logo,c=zD,p=i.title,g=i.title,f=OO(d(),{...jD,"background-color":e.checkoutPopupConf?.checkoutPopupSelectCharityButtonBgColor||"#0052FF"},HD),m=d(),b=`Select charity: ${i.title}`,y=s("main.charitySelect");return t.e=wD(o,r,t.e),n!==t.t&&vD(a,"src",t.t=n),t.a=wD(a,c,t.a),p!==t.o&&vD(a,"alt",t.o=p),g!==t.i&&(l.innerHTML=t.i=g),t.n=wD(u,f,t.n),m!==t.s&&(u.disabled=t.s=m),b!==t.h&&vD(u,"aria-label",t.h=b),y!==t.r&&(h.innerHTML=t.r=y),t},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0}),o)):e.logger.error(`Translation was not found for EIN ${i?.ein}`),t},[]),b),b.$$click=()=>!d()&&e.onSuppress(),y.style.setProperty("height","100px"),y.style.setProperty("text-align","center"),y.style.setProperty("display","flex"),y.style.setProperty("align-items","center"),A.$$click=()=>{e.onOfferDetailsClick(!t()),i(!t())},k.$$click=()=>{DO.trackEvent(gO.checkoutPopupWhyAmISeeingThisClicked,{domain:globalThis.window.location.hostname})},TD(h,(u=YN(()=>!!e.checkoutPopupConf.checkoutPopupDisplayNameInFooter),()=>{return u()&&(e=UO(),t=e.firstChild,WN(i=>{var r=XD,o=s("main.footer");return i.e=wD(e,r,i.e),o!==i.t&&(t.innerHTML=i.t=o),i},{e:void 0,t:void 0}),e);var e,t}),null),WN(t=>{var i=LD,r=PD,o={...RD,"font-weight":800},n=s("main.title.v2"),a=$D,l=GD,c=OO(d(),FD,{cursor:"default"}),u=s("main.sixthBox"),y=OO(d(),{...jD,"background-color":e.checkoutPopupConf.checkoutPopupSelectCharityButtonBgColor||"#0052FF",padding:"8px 30px",width:"auto"},HD),x=d(),C=s("main.settings.v2"),I=KD,N=ZD,D=s("main.offerDetails"),O=JD,L=e.checkoutPopupConf.externalUrls.giveFreelyWhyAmISeeingThis,P=s("main.whyAmISeeingThis");return t.e=wD(h,i,t.e),t.t=wD(p,r,t.t),t.a=wD(g,o,t.a),n!==t.o&&(g.innerHTML=t.o=n),t.i=wD(f,a,t.i),t.n=wD(m,l,t.n),t.s=wD(b,c,t.s),u!==t.h&&(v.innerHTML=t.h=u),t.r=wD(w,y,t.r),x!==t.d&&(w.disabled=t.d=x),C!==t.l&&(_.innerHTML=t.l=C),t.u=wD(T,I,t.u),t.c=wD(A,N,t.c),D!==t.w&&(E.innerHTML=t.w=D),t.m=wD(k,O,t.m),L!==t.f&&vD(k,"href",t.f=L),P!==t.y&&(S.innerHTML=t.y=P),t},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0}),h),gD(fD,{get when(){return t()},get children(){return gD(hO,{get merchantName(){return e.activeDomain.Merchant.Name},get extensionName(){return e.checkoutPopupConf.displayName},get termsUrl(){return e.checkoutPopupConf.externalUrls.giveFreelyTermsAndConditions},get parsedMaxRate(){return YN(()=>!!e.activeDomain.Merchant.MaxRate)()?oO(e.activeDomain.Merchant.MaxRate.Kind,e.activeDomain.Merchant.MaxRate?.Amount):null},get merchantRateDetail(){return e.merchantRates},onClose:()=>i(!1)})}})];var u,h,p,g,f,m,b,y,v,w,_,T,A,E,k,S}yD(["click"]);var FO=bD("<button class=give-freely-close-button aria-label=Close>"),HO=bD("<label class=give-freely-radio-option><input type=radio name=gf-rad-goodbye value=18250><span>"),zO=bD('<div><div><div><span></span></div></div><button class=give-freely-back-button aria-label="Back to charity selection"><span></span></button><hr><div id=give-freely-goodbye-screen-options><label class=give-freely-radio-option><input type=radio name=gf-rad-goodbye value=1><span></span></label><label class=give-freely-radio-option><input type=radio name=gf-rad-goodbye value=7><span></span></label><label class=give-freely-radio-option><input type=radio name=gf-rad-goodbye value=30><span></span></label><label class=give-freely-radio-option><input type=radio name=gf-rad-goodbye value=90><span></span></label></div><button class=give-freely-submit-button><span>');function jO(e){const[t,i]=VN(0),r=sO();return o=zO(),n=o.firstChild,a=n.firstChild,s=a.firstChild,l=n.nextSibling,c=l.firstChild,d=l.nextSibling.nextSibling,h=(u=d.firstChild).firstChild,p=h.nextSibling,f=(g=u.nextSibling).firstChild,m=f.nextSibling,y=(b=g.nextSibling).firstChild,v=y.nextSibling,_=(w=b.nextSibling).firstChild,T=_.nextSibling,A=d.nextSibling,E=A.firstChild,o.style.setProperty("font-size","14px"),TD(n,gD(fD,{get when(){return e.checkoutPopupConf.checkoutPopupSupressCloseButtonVisible},get children(){var t=FO();return t.$$click=()=>e.onGoodbye(0),WN(e=>wD(t,MD,e)),t}}),null),l.$$click=()=>e.onBack(),h.addEventListener("change",()=>i(1)),f.addEventListener("change",()=>i(7)),y.addEventListener("change",()=>i(30)),_.addEventListener("change",()=>i(90)),TD(d,gD(fD,{get when(){return e.checkoutPopupConf.checkoutPopupNeverSuppressionAllowed},get children(){var e=HO(),t=e.firstChild,o=t.nextSibling;return t.addEventListener("change",()=>i(18250)),WN(t=>{var i=WD,n=r("suppress.suppressionPeriodNever");return t.e=wD(e,i,t.e),n!==t.t&&(o.innerHTML=t.t=n),t},{e:void 0,t:void 0}),e}}),null),A.$$click=()=>{const i=t();i&&(e.onGoodbye(i),e.setScreen("main"))},WN(t=>{var i={...PD,"flex-direction":"row"},o={...RD,"margin-top":"20px"},h=r("suppress.title"),f=YD,y=r("suppress.backButton"),_=VD,k=WD,S=r("suppress.suppressionPeriod").replace("{0}","1"),x=WD,C=r("suppress.suppressionPeriodPlural").replace("{0}","7"),I=WD,N=r("suppress.suppressionPeriodPlural").replace("{0}","30"),D=WD,O=r("suppress.suppressionPeriodPlural").replace("{0}","90"),L={...jD,"font-weight":"700","margin-top":"10px","margin-bottom":"0px","background-color":e.checkoutPopupConf.checkoutPopupSelectCharityButtonBgColor||"#0052FF",width:"100px"},P=r("suppress.submitButton");return t.e=wD(n,i,t.e),t.t=wD(a,o,t.t),h!==t.a&&(s.innerHTML=t.a=h),t.o=wD(l,f,t.o),y!==t.i&&(c.innerHTML=t.i=y),t.n=wD(d,_,t.n),t.s=wD(u,k,t.s),S!==t.h&&(p.innerHTML=t.h=S),t.r=wD(g,x,t.r),C!==t.d&&(m.innerHTML=t.d=C),t.l=wD(b,I,t.l),N!==t.u&&(v.innerHTML=t.u=N),t.c=wD(w,D,t.c),O!==t.w&&(T.innerHTML=t.w=O),t.m=wD(A,L,t.m),P!==t.f&&(E.innerHTML=t.f=P),t},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0}),o;var o,n,a,s,l,c,d,u,h,p,g,f,m,b,y,v,w,_,T,A,E}yD(["click"]);var VO=bD("<div><p><span>"),WO=bD("<div><div><div><span></span></div><button class=give-freely-close-button aria-label=Close></button></div><hr><div><span>");function qO(e){const[t,i]=VN(null),r=sO();let o;return JN(()=>clearInterval(o)),XN(()=>{e.failedDonation||(()=>{const t=e.checkoutPopupConf.checkoutPopupDonationSuccessAutoCloseInSeconds??3;i(t),o=setInterval(()=>{i(t=>null===t||t<=1?(clearInterval(o),e.onClose(),0):t-1)},1e3)})()}),n=WO(),a=n.firstChild,s=a.firstChild,l=s.firstChild,c=s.nextSibling,d=a.nextSibling.nextSibling,u=d.firstChild,n.style.setProperty("font-size","14px"),c.$$click=()=>e.onClose(),d.style.setProperty("padding","30px"),d.style.setProperty("height","150px"),d.style.setProperty("font-size","14px"),TD(n,gD(fD,{get when(){return!e.failedDonation},get children(){var e=VO(),i=e.firstChild,o=i.firstChild;return WN(e=>{var n=qD,a=lO.formatMessage(r("donate.autoClosing"),t()??0);return e.e=wD(i,n,e.e),a!==e.t&&(o.innerHTML=e.t=a),e},{e:void 0,t:void 0}),e}}),null),WN(t=>{var i={...PD,"flex-direction":"row"},o={...RD,"margin-top":"20px"},n=e.failedDonation?r("donate.failTitle"):r("donate.title"),d=MD,h=e.failedDonation?r("donate.failContent"):r("donate.content");return t.e=wD(a,i,t.e),t.t=wD(s,o,t.t),n!==t.a&&(l.innerHTML=t.a=n),t.o=wD(c,d,t.o),h!==t.i&&(u.innerHTML=t.i=h),t},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),n;var n,a,s,l,c,d,u}yD(["click"]);var YO=bD("<dialog popover=manual><div>");const KO=(e,t,i)=>"donate"===e?"340px":"main"===e&&void 0!==i&&i<=2?t.checkoutPopupDisplayNameInFooter?"360px":"340px":"main"===e?"485px":"520px";function XO(e){const[t,i]=VN("main"),[r,o]=VN(),[n,a]=VN(!1),[s,l]=VN(!1),c=ND();let d;qN(()=>{d&&(e.checkoutPopupConf.containerStyle?.showAsModal?d.showModal():d.showPopover(),d.focus(),d.blur())});const u=YN(()=>c().filter(e=>e?.title&&""!==e?.title).length),h=()=>{e.logger.debug("Close button clicked"),e.onClose()},p=async(t,r=!1)=>{r&&e.onClose(),e.logger.info("Charity selected",{charity:t,domain:e.activeDomain.Domain}),o(t);const n=await e.onDonate(t,e.activeDomain);r?e.onClose():(a(!n),i("donate"))},g=()=>{e.logger.debug("Suppress button clicked"),i("goodbye")},f=()=>{e.logger.debug("Navigating back to main screen"),i("main")},m=t=>{e.logger.info("User chose to hide popup",{days:t}),e.onClose(t)};let b;return y=YO(),v=y.firstChild,"function"==typeof d?_D(d,y):d=y,"function"==typeof b?_D(b,v):b=v,TD(v,gD(fD,{get when(){return"main"===t()},get children(){return gD(GO,{setBackdropHidden:l,mainContainerRef:b,get checkoutPopupConf(){return e.checkoutPopupConf},get activeDomain(){return e.activeDomain},get merchantRates(){return e.merchantRates},onClose:h,onCharitySelect:p,onSuppress:g,get onOfferDetailsClick(){return e.onOfferDetailsClick},get logger(){return e.logger}})}}),null),TD(v,gD(fD,{get when(){return"goodbye"===t()},get children(){return gD(jO,{get checkoutPopupConf(){return e.checkoutPopupConf},onClose:()=>e.onClose(),onBack:f,onGoodbye:m,setScreen:i})}}),null),TD(v,gD(fD,{get when(){return"donate"===t()},get children(){return gD(qO,{get checkoutPopupConf(){return e.checkoutPopupConf},get selectedCharity(){return r()},onClose:()=>e.onClose(),get failedDonation(){return n()},setScreen:i})}}),null),WN(i=>{var r,o,n=s()?"backdrop-hidden":"",a={...DD,height:KO(t(),e.checkoutPopupConf,u()),...e.checkoutPopupConf.containerStyle?.customStyle??{}},l=e.elementId,c=OD;return n!==i.e&&(r=y,null==(o=i.e=n)?r.removeAttribute("class"):r.className=o),i.t=wD(y,a,i.t),l!==i.a&&vD(y,"id",i.a=l),i.o=wD(v,c,i.o),i},{e:void 0,t:void 0,a:void 0,o:void 0}),y;var y,v}function JO(e){const t=["",".asp",".aspx",".php",".js",".htm",".html"],i=["cart","checkout","shopping-bag","shopping-basket","shopping-cart","basket"].flatMap(e=>t.map(t=>e+t)).filter(e=>"basket"!==e),r=["tote-cart","tote.cart"],o=e,n=i.filter(e=>o.includes(e)),a=o.split("/");return!a.some(e=>r.some(t=>e.includes(t)))&&(a.some(e=>i.some(t=>e.startsWith(t)||e.endsWith(t)))||"basket"===a[a.length-1].toLowerCase()||n.length>1||1===n.length&&o.includes("shopping"))}function ZO(e,t){const i=["book"];return e.split("/").some(e=>i.some(t=>e.startsWith(t)||e.endsWith(t)))&&null!=t.evaluate("//*[self::h1 or self::h2 or self::h3 or self::h4  or self::h5  or self::h6][contains(., 'Your Reservation') or contains(., 'Your reservation')]",t,null,XPathResult.ANY_TYPE,null)?.iterateNext()}async function QO(e){try{const t=await AO({type:"GF_GET_DOMAIN_BY_SHOP_ID",payload:{shopId:e}});return t.payload.found&&t.payload.domain?t.payload.domain:null}catch{return null}}function eL(e){try{const e=Array.from(document.querySelectorAll("script"));for(const t of e){if(t.dataset?.shopId&&(t.dataset?.shopId?.startsWith("gid")||t.src.includes("shopify"))){const e=parseInt(t.dataset.shopId.replace("gid://shopify/Shop/",""));if(!Number.isNaN(e)&&e>0)return e}const e=t.textContent||"";if(e.includes("ShopifyAnalytics")&&e.includes("shopId")){const t=e.match(/shopId['"]*:\s*['"]*(\d+)['"]*[,}]/);if(t&&t[1]){const e=parseInt(t[1]);if(!Number.isNaN(e)&&e>0)return e}}}const t=document.querySelector("[data-shop-id]");if(t instanceof HTMLElement){const{shopId:e}=t.dataset;if(e){const t=parseInt(e);if(!Number.isNaN(t)&&t>0)return t}}const i=window?.ShopifyAnalytics?.lib?.trekkie?.defaultAttributes?.shopId;return i&&parseInt(i)||0}catch(t){return e.error("Error accessing ShopifyAnalytics:",t),0}}function tL(){try{if(!window.location.href.startsWith("https://shop.app"))return 0;const e=document?.head?.querySelector('meta[name="store"][content]');if(!e)return 0;try{const t=JSON.parse(e.content);return t?.id||0}catch{return 0}}catch{return 0}}const iL=vO.getInstance();function rL(e,t,i){try{iL.debug("Checking merchant regex rules",{currentUrl:t});const r=e.merchantPopupRules.filter(e=>i===e.domain||i.endsWith(`.${e.domain}`));if(0===r.length)return iL.debug("No matching merchant rules found for domain",{currentUrl:t}),!1;for(const e of r)for(const i of e.rules)try{if(new RegExp(i.rule).test(t))return iL.debug("Merchant regex rule matched",{merchant:e.name,rule:i.rule,currentUrl:t}),!0}catch(t){iL.error("Invalid regex in merchant rule",{merchant:e.name,rule:i.rule,error:t})}return iL.debug("No matching regex rules found",{currentUrl:t}),!1}catch(e){return iL.error("Error in merchantRegexRule",e),!1}}function oL(e){if(e?.customLanguageDetection&&e.customLanguageDetection.length>0){const t=window.location.href,i=document.body.textContent?.toLowerCase()||"";for(const r of e.customLanguageDetection)try{if(new RegExp(r.urlPattern).test(t))for(const[e,t]of Object.entries(r.keywords))if(i.includes(e.toLowerCase()))return t}catch(e){vO.getInstance().warn(`Invalid regex pattern in customLanguageDetection: ${r.urlPattern}`,e)}}const t=document.documentElement.lang,i=document.querySelector('meta[http-equiv="Content-Language"]')?.content,r=document.querySelector('link[rel="alternate"][hreflang]')?.getAttribute("hreflang"),o=navigator.language,n=t||i||r||o||"en";return"string"==typeof n?n.split("-")[0]:"en"}function nL(e){return!0!==e.checkoutPopupOnlyShowLanguageMatch||"en"===oL(e)}const aL=(e,t=!1)=>e.length<2&&t?null:Array.from(e).filter(e=>!t||e.dataset.extensionId!==mO.runtime.id).map(e=>e.dataset.extensionName).join(","),sL=e=>{const t=YN(()=>({translate:e.translate()||(e=>""),getAllCharities:e.charities()||(()=>[])}));return gD(CD.Provider,{value:t,get children(){return e.children}})},lL=vO.getInstance();var cL=bD("<div class=gf-app>");function dL(e){const[t,i]=VN(void 0),[r,o]=VN(!1),[n,a]=VN([]),[s,l]=VN(),[c,d]=VN({});XN(async()=>{e.logger.info("Mounting GfApp component");try{!function(e){if(!e?.shouldCheckSiteMatches)return;let t;(e?.siteMatchesRegex??[]).some(e=>{var i;return i=window.location.href,!(!new RegExp(e).test(i)||(t=e,0))})&&t&&DO.trackEvent(gO.checkoutPopupSiteMatches,{url:window.location.href,matchedRule:t,uts:Date.now()},!0)}(e.popupConfig);const r=oL(e.popupConfig);g(r);const n=NO();if(e.popupConfig.minVersion&&((e,t)=>{if(e===t)return!1;const i=e.split(".").map(e=>parseInt(e,10)),r=t.split(".").map(e=>parseInt(e,10));for(let e=0;e<i.length;e++){if(i[e]<r[e])return!0;if(i[e]>r[e])return!1}return!1})(n,e.popupConfig.minVersion))return void e.logger.debug(`Current version: ${n}.  Minimum version ${e.popupConfig.minVersion} not met`);const s=await(async()=>await IO.get(kO)||(async()=>{lL.debug("detecting country");const e={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Basic OTEzOTkxOnFlYmpaWF9DOGNRY0lxSHA4WTVjNGxzU1pRSlM2VW9MMExzTF9tbWs="}};try{const t=await fetch("https://geoip.maxmind.com/geoip/v2.1/country/me",e);if(lL.debug("Received geolocation response",{status:t.status}),!t.ok)return void lL.error("Failed to get geolocation data",{status:t.status,statusText:t.statusText});const i=await t.json();if(!i)throw new Error("There was an error fetching geoip look up");return await IO.set(kO,i.country.iso_code),i.country.iso_code}catch(e){return void lL.error("Failed to get geolocation data",{error:e},!0)}})())()??"us",l=e.popupConfig.charities[s.toLowerCase()]??e.popupConfig.charities.us;if(d(l||{}),e.logger.debug("Charities for current country",{currentCountry:s,charities:l}),!1===e.popupConfig.checkoutPopupMasterSwitch)return void e.logger.debug("Checkout popup master switch is disabled");const c=document.getElementsByClassName("give-freely-root");let u=!1;c.length>1&&(e.logger.debug("There is more than one gf extension installed"),c.item(0).dataset.extensionId!==mO.runtime.id&&(e.logger.debug("Giving preference to the first gf extension injected in the DOM"),u=!0),e.logger.debug("Providing this extension preference over the other installed extensions"));const{domain:h,rates:p}=await(async e=>{const{hostname:t}=window.location;e.debug("Checking if domain is active",{hostname:t});const i=await AO({type:"GF_IS_ACTIVE_DOMAIN",payload:{hostname:t}});return i.payload.isActive?(e.debug("Active domain",{domain:i.payload.domain}),e.debug("Merchant rates",{rates:i.payload.rates}),e.info("Domain and rates ({})ed successfully."),{isActive:!0,domain:i.payload.domain,rates:i.payload.rates}):{isActive:!1,domain:void 0,rates:[]}})(e.logger);if(a(p),i(h),h)await function(e,t){const i=eL(t)||tL();return i>0&&function(e,t,i){if(e&&!(e<=0))try{AO({type:"GF_STORE_SHOPIFY_SHOP_ID",payload:{shopId:e,domain:t}}).catch(e=>{i.error("Error sending shop ID to background:",e)})}catch(e){i.error("Error sending Shopify shop ID:",e)}}(i,e,t),i}(h,e.logger);else{if("shop.app"!==window.location.hostname&&!window.location.hostname.endsWith(".shop.app"))return void o(!1);const t=window.location.pathname.split("/")[2];if(!t)return e.logger.error("Shop ID not found"),void o(!1);const r=await QO(parseInt(t));if(!r)return e.logger.error("Shop domain not found"),void o(!1);e.logger.debug("Shop domain found",{shopDomain:r}),i(r)}const f=await(async e=>{const t=await IO.get("popup_hide");if(!t)return e.debug("No expiry found in storage"),!1;const{popupHide:i}=t,r=!!i&&Date.now()<i;return e.debug("Is AdUnit Muted?",{isMuted:r,expiry:i}),r})(e.logger);if(f)return;if(!t())return void o(!1);const m=await(async(e,t)=>{const{Domain:i}=t,r=window.location.href,{payload:o}=await AO({type:"GF_SHOULD_STAND_DOWN",payload:{activeDomain:i,url:r}});return!!o.result&&(e.info("Stand Down detected"),!0)})(e.logger,t());if(m)return void o(!1);const b=e.popupConfig?.anonymousActiveDomainLogging??!1,y=t()??void 0;y&&b&&!function(e){const t=`gfhv-${e}`;return!!sessionStorage.getItem(t)||(sessionStorage.setItem(t,"true"),!1)}(y.Domain)&&DO.trackEvent(gO.checkoutPopupActiveDomain,{url:y.Domain});const v=setInterval(async()=>{e.logger.debug("Checking checkout rules");const t=await(async e=>{const t=vO.getInstance();t.configure({enabled:!0,title:"Content - checkoutRulesTest"});const i=new URL(globalThis.location.href),r=i.href,{hostname:o}=i;t.debug("Checking if popup should be shown",{currentUrl:r});const n=await async function(e){const t=eL(e)||tL();return!("shop.app"!==window.location.hostname&&!window.location.hostname.endsWith(".shop.app")||!(t>0)||!await QO(t))}(t),a=nL(e)&&(JO(i.pathname.toLowerCase())||ZO(r,document)||rL(e,r,o)||n);return t.debug("Popup show decision based on rules",{shouldShow:a,matchesCartRule:JO(i.pathname.toLowerCase()),matchesBookingRule:ZO(r,document),matchesShopPayRule:n,matchesMerchantRegexRule:rL(e,r,o),matchesLanguageRule:nL(e)}),a})(e.popupConfig);if(t&&u)return DO.trackEvent(gO.checkoutPopupLooserExtension,{url:globalThis.window.location.href,winner:c.item(0).dataset.extensionName}),e.logger.debug("Standing down because, another ad-unit extension will pop"),void clearInterval(v);o(t),t&&(e.logger.debug("Should show popup based on checkout rules",{shouldShowResult:t}),DO.trackEvent(gO.checkoutPopupShown,{url:globalThis.window.location.href,pageLanguage:r,merchantId:y?.Merchant?.ID,looserCompetingExtensions:aL(c,!0)}),clearInterval(v))},2e3)}catch(t){o(!1),e.logger.error("An error occurred in GfApp",{error:t})}});const u=async(t,i)=>{e.logger.info("Processing donation",{charity:t,domain:i.Domain});const r=await(async(e,t,i,r)=>{e.debug("Activating offer",{activeDomain:t,selectedCharity:r});const o=await EO({type:"GF_ACTIVATE_OFFER",payload:{activeDomain:t,originalUrl:i,selectedCharity:r}});return e.debug("Activate offer response",{response:o}),o})(e.logger,i,window.location.href,{ein:t.ein,thirdPartyId:t.tpi});return e.logger.debug("Activate offer response",{activationResponse:r}),DO.trackEvent(r.payload.response?gO.checkoutPopupDonation:gO.checkoutPopupFailedActivation,{activeDomain:i.Domain,url:globalThis.window.location.href,merchantId:i?.Merchant?.ID,charity:{ein:t.ein,tpi:t.tpi},rate:i.Merchant.MaxRate}),r.payload.response},h=async t=>{o(await(async(e,t)=>{try{e.info("Hiding ad",{days:t});const i=await EO({type:"GF_HIDE_POPUP",payload:{days:t??0}});return void 0!==t&&DO.trackEvent(gO.checkoutPopupSupressed,{url:globalThis.window.location.href,days:t}),e.info("Hiding ad response",{hideResponse:i}),i.payload.ack?(e.debug("Ad hidden successfully"),!1):(e.warn("Failed to hide ad"),!0)}catch{return!1}})(e.logger,t))},p=async e=>{DO.trackEvent(gO.checkoutPopupOfferDetailsClicked,{action:e?"opened":"closed"})},g=async t=>{e.logger.debug("Getting translation provider",{currentLanguage:t});const{translations:i,charities:r}=await async function(e,t){try{t&&t.debug("Getting language content",{languageCode:e});const i=await AO({type:"GF_GET_LANGUAGE_CONTENT",payload:{lang:e}});return{translations:i.payload.translations,charities:i.payload.charities}}catch(i){return t&&t.error("Error getting language content",{error:i,languageCode:e}),{translations:null,charities:null}}}(t,e.logger),o={translate:e=>i&&i[e]?i[e]:"",getAllCharities:()=>{const e=c();return Object.entries(e).map(([e,t])=>{const{ein:i}=t;try{const o=r?.[i];if(!o)throw new Error(`Failed to find charity metadata for ein ${i}`);return{ein:i,tpi:o.tpi,title:o.title,order:parseInt(e,10),logo:o.logo,decorator:t.decorator,decoratorLeftStyle:t.decoratorLeftStyle,decoratorRightStyle:t.decoratorRightStyle}}catch{return{ein:i,tpi:"",title:"",order:9,logo:""}}})}};e.logger.debug("Setting content provider with translations and charity functions"),l(()=>o)};return gD(sL,{translate:()=>s()?.translate,charities:()=>s()?.getAllCharities,get children(){var i,o=cL();return TD(o,(i=YN(()=>!(!t()||!r())),()=>i()&&gD(XO,{get checkoutPopupConf(){return e.popupConfig},elementId:"give-freely-checkout-popup",get activeDomain(){return t()},get merchantRates(){return n()},onClose:h,onDonate:u,onOfferDetailsClick:p,get logger(){return e.logger}}))),o}})}function uL(){return function(e,t,i,r){return new(i||(i=Promise))(function(o,n){function a(e){try{l(r.next(e))}catch(e){n(e)}}function s(e){try{l(r.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{ou();const e=fk().serverConfigService,t=(yield e.getConfig()).isGfEnabled;if(!QI.featureIsEnabled.givefreely||!t)return;yield async function(){const e=`give-freely-root-${mO.runtime.id}`;if(document.getElementById(e))return;const t=document.createElement("div");t.id=e,t.className="give-freely-root",t.style.display="block",t.dataset.extensionId=mO.runtime.id,t.dataset.extensionName=mO.runtime.getManifest().name||mO.runtime.id,document.body.appendChild(t);const i=t.attachShadow({mode:"open"}),r=document.createElement("div"),o=vO.getInstance(),n=await(async()=>{const e=await AO({type:"GF_GET_POPUP_CONFIG",payload:{}});if(!e.payload.config)throw new Error("No checkout popup config found");return e.payload.config})();if(!n)return void o.error("No ad unit config found");o.configure({enabled:n.checkoutPopupLoggerEnabled??!0,title:"Content - GfAdUnit",minLevel:n.checkoutPopupMinLogLevel??"error"});const a=(s=n.containerStyle?.backdropColor,`\n  :host {\n    all: initial;\n  }\n\n  .gf-scroll-remove::-webkit-scrollbar {\n    border-radius-bottom-right: 15px;\n  }\n\n  button {\n    cursor: pointer;\n    transition: transform 0.1s ease;\n  }\n\n  button:active {\n    transform: scale(0.98);\n  }\n\n  .give-freely-close-button:hover {\n    opacity: 0.7;\n  }\n\n  input[type="radio"] {\n    margin-right: 8px;\n  }\n\n  hr {\n    border: none;\n    border-top: 1px solid #e5e5e5;\n    margin: 1em 0;\n  }\n\n  @media (max-width: 600px), (max-height: 480px) {\n    #give-freely-checkout-popup {\n      display: none !important;\n    }\n  }\n\n  dialog::backdrop  {\n    background-color: ${s||"revert"};\n  }\n\n  dialog.backdrop-hidden::backdrop  {\n    background-color: transparent;\n  }\n`);var s;const l=document.createElement("style");l.textContent=a,i.appendChild(l),i.appendChild(r),n.countAppearances&&async function(e){try{const t=globalThis.window.location.href,i=/^https?:\/\/(?:www\.)?google\.[a-z]{2,}(\.[a-z]{2})?\/search\?(?:.*&)?q=[^&]+(?:&.*)?$/.test(t);if(e.debug("Is a Google search result page?",i),!i)return!1;const r=(()=>{const e=globalThis.window.document.querySelectorAll("#rso > div, #tads > div"),t=[];return e.forEach(e=>{const i=(e=>{const t=null!==e.querySelector('[data-text-ad="1"]'),i=e.querySelector('span:not(.a-no-hover-link):is(:where(*, [role="text"]))'),r=i&&(i.textContent?.includes("Sponsored")||i.textContent?.includes("Ad"));return t||(r??!1)})(e),r=e.querySelector('.yuRUbf a, .MjjYud a, a[jsname="UWckNb"], a[data-pcu]');if(r){let e=r.href;if(e&&e.includes("/url?q="))try{const t=new URLSearchParams(new URL(e).search).get("q");t&&(e=t)}catch{}e&&e.startsWith("http")&&t.push({url:e,isSponsored:i??!1})}}),t})();if(e.info("The following search results were identified",r),!r||0===r.length)return!1;const o=await AO({type:"GF_LOG_MERCHANTS_IN_SEARCH_RESULTS",payload:{currentUrl:t,searchResults:r,source:"google"}});return o?.payload?.result??!1}catch(t){return e.error("Error while identifying search results",t),!1}}(o),function(e,t,i,r={}){let o;!function(e,t){const i=FN,r=$N,o=0===e.length,n=void 0===t?r:t,a=o?UN:{owned:null,cleanups:null,context:n?n.context:null,owner:n},s=o?e:()=>e(()=>KN(()=>dD(a)));$N=a,FN=null;try{return nD(s,!0)}finally{FN=i,$N=r}}(r=>{o=r,t===document?e():TD(t,e(),t.firstChild?null:void 0,i)},r.owner)}(()=>gD(dL,{popupConfig:n,logger:o}),r)}()}catch(e){console.debug("Error initializing GF:",e)}})}var hL=function(e,t,i,r){return new(i||(i=Promise))(function(o,n){function a(e){try{l(r.next(e))}catch(e){n(e)}}function s(e){try{l(r.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})};function pL(e){return hL(this,void 0,void 0,function*(){var t,i;const r=null!==(t=e.chromeStorage.lastSyncDateInMillis)&&void 0!==t?t:0,o=null!==(i=null==e?void 0:e.lastServerUpdateInMillis)&&void 0!==i?i:0,n=Math.abs(o-r);return!!(yield NA.getJwt())&&(0===(yield Rp.getValue("lastServerFetchInMillis"))||(!(0!==r)||o>r&&n>3500))})}function gL(e,t){return hL(this,void 0,void 0,function*(){var i;const[r,o]=yield Promise.all([Rp.getStorage(),CA()]);r.jwt_webmarker||Rp.setValue("lastServerFetchInMillis",0);const{userInfo:n,userPlanChangedForUser:a}=o;(null==n?void 0:n._id)&&(Rp.setValue("isEmailActivated",!!n.isEmailActivated),a&&(yield SA({refreshToken:()=>iN.refreshToken(),setJwt:e=>{NA.setJwt(e)},onLogin:(e,t)=>{NA.setJwt(t),Bk.dispatch("loggedIn",{detail:{token:t}})},onLogout:()=>{NA.setJwt(""),Bk.dispatch("loggedOut",{detail:null})}})),t.shouldDoServerSync&&(n.chromeSettings&&(yield b_(n.chromeSettings,{skipSync:!0})),yield function(e){return hL(this,void 0,void 0,function*(){const{context:t}=e,[i,r]=yield Promise.all([pL(e),l_.deleteDataFromOtherUsers()]);if(i||0!==r.deletedActions)try{t.chromeSyncService.updateChromeSyncState(HE.UPDATING);const e=yield t.chromeSyncService.loadActionsFromServer();yield t.chromeSyncService.addServerActionsIntoLocalDb(e),Bk.dispatch("serverUpdateDone",{detail:e})}catch(e){sA(e)?(yield FE(),yield t.chromeSyncService.updateChromeSyncState(HE.OFFLINE)):yield t.chromeSyncService.updateChromeSyncState(HE.SERVER_ERROR)}})}({chromeStorage:r,lastServerUpdateInMillis:null!==(i=null==n?void 0:n.lastServerUpdateInMillis)&&void 0!==i?i:0,context:e})))})}const fL=$k.create({bookmarkSelected:(e,t)=>{"popup"===t.openAs&&ZT(Object.assign({bookmark:e},t.bookmarkProps),{})},updatedMark:e=>{e&&lC(e)},deletedMark:e=>{yC(e)},openInReader:e=>{if(_m())Hc.sendRuntimeMessage({id:"navigateToReader",detail:e});else{const t=Ng(e);location.href=t}}});var mL=function(e,t,i,r){return new(i||(i=Promise))(function(o,n){function a(e){try{l(r.next(e))}catch(e){n(e)}}function s(e){try{l(r.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})};const bL=e=>mL(void 0,void 0,void 0,function*(){var t,i;const r=rC();if((null===(t=null==r?void 0:r.mark)||void 0===t?void 0:t._id)&&"slideOut"!==r.animation){const e=null===(i=r.shadowRoot)||void 0===i?void 0:i.querySelector(Dv.PopupToolboxMenu.TAG);(null==e?void 0:e.markId)&&(yield m_(Object.assign(Object.assign({},e.currentMark),{_id:e.markId})))}else{const{defaultHighlightColor:t}=yield Rp.getChromeSettings(),i=fC(t,{mediaType:(null==e?void 0:e.mediaType)||Od});i&&(yield kC(i))}});var yL=function(e,t,i,r){return new(i||(i=Promise))(function(o,n){function a(e){try{l(r.next(e))}catch(e){n(e)}}function s(e){try{l(r.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})};const vL=e=>yL(void 0,void 0,void 0,function*(){const t=yield NA.getJwtPayload();if(t){if(wA("highlight-image",t))return e.detail.srcUrl?OC({imageSrc:e.detail.srcUrl}):void BT({content:"Sorry, this image can not be saved.",uniqueId:"image-cannot-be-saved",variant:"error"});jT({})}else Bk.dispatch("loginNeeded",{detail:{}})}),wL=e=>yL(void 0,void 0,void 0,function*(){var t;const i=e.detail;if("string"==typeof i.selectionText&&(null===(t=i.selectionText)||void 0===t?void 0:t.length))return DC({text:i.selectionText,mediaType:"blockquote"})});var _L=function(e,t,i,r){return new(i||(i=Promise))(function(o,n){function a(e){try{l(r.next(e))}catch(e){n(e)}}function s(e){try{l(r.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})};function TL(e){return _L(this,void 0,void 0,function*(){var t;const i=(null==e?void 0:e.url)||location.href,r=yield Ew({url:i,isUrlCrawlEnabled:!1}),o=!!(yield Ww()),n=(null===(t=null==r?void 0:r.existingPageContent)||void 0===t?void 0:t.content)!==(null==r?void 0:r.pageContent.content),a=o&&n;(null==r?void 0:r.pageContent)&&(a&&(yield __(r.pageContent)),o||(yield jw(i?{url:i}:void 0,{forceDownloadPageContent:!0})),Bk.dispatch("openInReader",{detail:[{url:i}]}))})}const AL=()=>{Zx().then().catch()};const EL=(()=>{if(ef(location.href))return!1;const e=Zg(location.origin),t=Qg(location.href),i=!rf()||e&&!ZI.production||t;return(!_m()||!af(location.href))&&i})();EL&&(vx(),Sx(),ZI.production||SN.push(kv.BrowserActionMock.TAG),Rx(Iv(Cv(SN)),kN),Px(kN),vd(),WC.start()),requestIdleCallback(()=>function(e,t,i,r){return new(i||(i=Promise))(function(o,n){function a(e){try{l(r.next(e))}catch(e){n(e)}}function s(e){try{l(r.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})}(void 0,void 0,void 0,function*(){const e=yield Rp.getStorage(),t=yield hk({httpFacade:iN,db:LN,lastSyncDateInMillis:e.lastSyncDateInMillis,appConfig:QI,environment:ZI,highlighter:new(CN())({wrapTag:Kd.WEB_HIGHLIGHT,style:{className:ad.HIGHLIGHT_CLASS}})});if(rf()&&ZI.production||(function(){DN(this,void 0,void 0,function*(){if(af(location.href)){const e=yield NA.getJwt(),t=localStorage.getItem(Jc);e&&!t&&(localStorage.setItem(Jc,e),location.reload())}})}(),Bk.subscribe("integrationAuthSuccess",e=>{lT(e.detail)},{listenAcrossExtensions:!0}),function({context:e}){const t=af(location.href);Bk.subscribe("loggedIn",i=>_L(this,void 0,void 0,function*(){var r,o;const n=null!==(o=null===(r=i.detail)||void 0===r?void 0:r.token)&&void 0!==o?o:"";NA.setJwt(n),n&&(Rp.setValue("lastServerFetchInMillis",0),yield gL(e,{shouldDoServerSync:!0}),wu()),t&&setTimeout(()=>{let e=Og(Sf);e&&(e=decodeURIComponent(e),location.href=e)})}),{listenAcrossExtensions:!0}),Bk.subscribe("loggedOut",()=>{NA.setJwt(""),Rp.setValue("lastServerFetchInMillis",0)},{listenAcrossExtensions:!0})}({context:t})),EL){!function(){var e,t;"undefined"!=typeof chrome&&(null===(t=null===(e=null===chrome||void 0===chrome?void 0:chrome.runtime)||void 0===e?void 0:e.onMessage)||void 0===t||t.addListener(e=>_L(this,void 0,void 0,function*(){var t;Bk.dispatch(e.id,{detail:null!==(t=e.detail)&&void 0!==t?t:null})})))}(),function(){Bk.subscribe("browserActionClicked",()=>_L(this,void 0,void 0,function*(){const e=location.href;if(Sg(location.href))Hc.sendRuntimeMessage({id:"navigateToPdfViewer",detail:e});else{if(QI.appType===Sc.reader&&!sf())return void(yield TL());const t=Xf(e);if(t)return void Bk.dispatch("openYoutubeVideoInReader",{detail:{url:e}});if(QI.appType===Sc.youtubeHighlighter&&!t&&!Hf(e))return void Rf();Bk.dispatch("toggleSidebar",{detail:{}})}})),Bk.subscribe("allServersAreOffline",()=>{var e;null===(e=mk())||void 0===e||e.chromeSyncService.updateAreAllServersOffline({areAllServersOffline:!0}).catch(console.error)}),Bk.subscribe("serversAreBackOnline",()=>{var e;null===(e=mk())||void 0===e||e.chromeSyncService.updateAreAllServersOffline({areAllServersOffline:!1}).catch(console.error)}),Bk.subscribe("serverUpdateDone",()=>_L(this,void 0,void 0,function*(){const e=yield Rp.getChromeSettings();vd(null==e?void 0:e.preferredColorMode),QI.appType===Sc.highlighter&&wu()})),Bk.subscribe("pdfViewerScaleChanged",()=>{AL()}),Bk.subscribe("kindleBookDetected",()=>{AL()}),Bk.subscribe("openYoutubeVideoInReader",e=>{!function(e){_L(this,void 0,void 0,function*(){HT({dialogName:FT["youtube-loading"],options:{closable:!0}}),rf()&&(yield am(500)),yield TL({url:e})})}(e.detail.url)})}(),Bk.subscribe(gp.CONTEXT_MENU_SAVE_IMAGE,vL),Bk.subscribe(gp.CONTEXT_MENU_SAVE_BOOKMARK,vL),Bk.subscribe(gp.CONTEXT_MENU_SAVE_TEXT,wL),function(){Bk.subscribe("keyboardShortcut",e=>_L(this,void 0,void 0,function*(){return"open-in-reader"===e.detail?TL():"toggle-bookmark"===e.detail?qw():"highlight-text"===e.detail?bL():"highlight-last-format"===e.detail?mL(void 0,void 0,void 0,function*(){var e;const t=yield s_.getLastHighlightedMark();let i=null!==(e=null==t?void 0:t.mediaType)&&void 0!==e?e:Od;if(Rd(i)){const{userCan:e}=yield kA("expert-mode");e||(i=Od)}return bL({mediaType:i})}):void 0}))}(),uL();const[{isExtensionShown:e,shouldInitMarker:i}]=yield Promise.all([NN(),gL(t,{shouldDoServerSync:!0})]);i&&(yield wu()),e&&(ou().finally(()=>function(){let e=document.location.href,t=document.title,i=Hy();const r=document.querySelector("body"),o=document.getElementById("viewerContainer"),n=document.querySelector("ytd-watch-metadata"),a=document.querySelector("ytd-app"),s=document.querySelector("head"),l=document.querySelector("title"),c=_g(location.href),d=new MutationObserver(()=>{const r=location.href;uu()||c||ON||(ON=!0,setTimeout(()=>{(function(){return DN(this,void 0,void 0,function*(){try{yield NN();const e=bu();e&&(yield e.init())}catch(e){}})})().then(()=>{ON=!1})},1e3)),ff(r,e)||requestIdleCallback(()=>{var t;e=r;const o=Hy();i&&i===o&&(i=o,null===(t=zy())||void 0===t||t.setAttribute(jy,"true")),Xf(r)&&IN(),Bk.dispatch("locationHrefChanged",{detail:{locationHref:e}})});const o=document.title;t!==o&&(t=o,Bk.dispatch("documentTitleChanged",{detail:{title:o}}))});r&&!c&&d.observe(r,{childList:!0,subtree:!0}),o&&c&&d.observe(o,{childList:!0,subtree:!0}),s&&d.observe(s,{childList:!0,attributes:!0}),l&&d.observe(l,{attributes:!0}),n&&d.observe(n,{attributeFilter:["video-id"]}),a&&d.observe(a,{attributeFilter:["is-watch-page"]})}()),fL.start()),Bk.dispatch("initFinished",{detail:{}})}}))})(),{}})());